#!/usr/bin/env node

// Shim for setImmediate
if (typeof setImmediate === 'undefined') {
  window.setImmediate = function(callback) {
    return setTimeout(callback, 0);
  };
}

"use strict";var officeParser=(()=>{var U3=Object.create;var xp=Object.defineProperty;var j3=Object.getOwnPropertyDescriptor;var $3=Object.getOwnPropertyNames;var z3=Object.getPrototypeOf,W3=Object.prototype.hasOwnProperty;var BT=r=>{throw TypeError(r)};var q3=(r,e,t)=>e in r?xp(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var Su=(r=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(r,{get:(e,t)=>(typeof require<"u"?require:e)[t]}):r)(function(r){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+r+'" is not supported')});var Jt=(r,e)=>()=>(r&&(e=r(r=0)),e);var ot=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),Uo=(r,e)=>{for(var t in e)xp(r,t,{get:e[t],enumerable:!0})},MT=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of $3(e))!W3.call(r,i)&&i!==t&&xp(r,i,{get:()=>e[i],enumerable:!(n=j3(e,i))||n.enumerable});return r};var ol=(r,e,t)=>(t=r!=null?U3(z3(r)):{},MT(e||!r||!r.__esModule?xp(t,"default",{value:r,enumerable:!0}):t,r)),Ir=r=>MT(xp({},"__esModule",{value:!0}),r);var Qe=(r,e,t)=>q3(r,typeof e!="symbol"?e+"":e,t),h_=(r,e,t)=>e.has(r)||BT("Cannot "+t);var l=(r,e,t)=>(h_(r,e,"read from private field"),t?t.call(r):e.get(r)),Y=(r,e,t)=>e.has(r)?BT("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),k=(r,e,t,n)=>(h_(r,e,"write to private field"),n?n.call(r,t):e.set(r,t),t),ee=(r,e,t)=>(h_(r,e,"access private method"),t);var tn=(r,e,t,n)=>({set _(i){k(r,e,i,t)},get _(){return l(r,e,n)}});var Ne=Jt(()=>{});var process={};Uo(process,{_debugEnd:()=>TC,_debugProcess:()=>SC,_events:()=>zC,_eventsCount:()=>WC,_exiting:()=>oC,_fatalExceptions:()=>_C,_getActiveHandles:()=>cC,_getActiveRequests:()=>uC,_kill:()=>hC,_linkedBinding:()=>iC,_maxListeners:()=>$C,_preload_modules:()=>FC,_rawDebug:()=>rC,_startProfilerIdleNotifier:()=>CC,_stopProfilerIdleNotifier:()=>RC,_tickCallback:()=>xC,abort:()=>NC,addListener:()=>qC,allowedNodeEnvironmentFlags:()=>bC,arch:()=>zT,argv:()=>HT,argv0:()=>MC,assert:()=>wC,binding:()=>KT,browser:()=>tC,chdir:()=>QT,config:()=>aC,cpuUsage:()=>b0,cwd:()=>JT,debugPort:()=>BC,default:()=>QC,dlopen:()=>lC,domain:()=>sC,emit:()=>XC,emitWarning:()=>XT,env:()=>qT,execArgv:()=>GT,execPath:()=>PC,exit:()=>mC,features:()=>vC,hasUncaughtExceptionCaptureCallback:()=>AC,hrtime:()=>y0,kill:()=>gC,listeners:()=>JC,memoryUsage:()=>pC,moduleLoadList:()=>nC,nextTick:()=>UT,off:()=>GC,on:()=>$o,once:()=>HC,openStdin:()=>yC,pid:()=>kC,platform:()=>WT,ppid:()=>LC,prependListener:()=>KC,prependOnceListener:()=>ZC,reallyExit:()=>fC,release:()=>eC,removeAllListeners:()=>YC,removeListener:()=>VC,resourceUsage:()=>dC,setSourceMapsEnabled:()=>UC,setUncaughtExceptionCaptureCallback:()=>EC,stderr:()=>IC,stdin:()=>OC,stdout:()=>DC,title:()=>$T,umask:()=>ZT,uptime:()=>jC,version:()=>VT,versions:()=>YT});function g_(r){throw new Error("Node.js process "+r+" is not supported by JSPM core outside of Node.js")}function H3(){!Mf||!Tu||(Mf=!1,Tu.length?jo=Tu.concat(jo):m0=-1,jo.length&&FT())}function FT(){if(!Mf){var r=setTimeout(H3,0);Mf=!0;for(var e=jo.length;e;){for(Tu=jo,jo=[];++m0<e;)Tu&&Tu[m0].run();m0=-1,e=jo.length}Tu=null,Mf=!1,clearTimeout(r)}}function UT(r){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];jo.push(new jT(r,e)),jo.length===1&&!Mf&&setTimeout(FT,0)}function jT(r,e){this.fun=r,this.array=e}function Nn(){}function iC(r){g_("_linkedBinding")}function lC(r){g_("dlopen")}function uC(){return[]}function cC(){return[]}function wC(r,e){if(!r)throw new Error(e||"assertion error")}function AC(){return!1}function jC(){return al.now()/1e3}function y0(r){var e=Math.floor((Date.now()-al.now())*.001),t=al.now()*.001,n=Math.floor(t)+e,i=Math.floor(t%1*1e9);return r&&(n=n-r[0],i=i-r[1],i<0&&(n--,i+=p_)),[n,i]}function $o(){return QC}function JC(r){return[]}var jo,Mf,Tu,m0,$T,zT,WT,qT,HT,GT,VT,YT,XT,KT,ZT,JT,QT,eC,tC,rC,nC,sC,oC,aC,fC,hC,b0,dC,pC,gC,mC,yC,bC,vC,_C,EC,xC,SC,TC,CC,RC,DC,IC,OC,NC,kC,LC,PC,BC,MC,FC,UC,al,d_,p_,$C,zC,WC,qC,HC,GC,VC,YC,XC,KC,ZC,QC,eR=Jt(()=>{Ne();Le();ke();jo=[],Mf=!1,m0=-1;jT.prototype.run=function(){this.fun.apply(null,this.array)};$T="browser",zT="x64",WT="browser",qT={PATH:"/usr/bin",LANG:typeof navigator<"u"?navigator.language+".UTF-8":void 0,PWD:"/",HOME:"/home",TMP:"/tmp"},HT=["/usr/bin/node"],GT=[],VT="v16.8.0",YT={},XT=function(r,e){console.warn((e?e+": ":"")+r)},KT=function(r){g_("binding")},ZT=function(r){return 0},JT=function(){return"/"},QT=function(r){},eC={name:"node",sourceUrl:"",headersUrl:"",libUrl:""};tC=!0,rC=Nn,nC=[];sC={},oC=!1,aC={};fC=Nn,hC=Nn,b0=function(){return{}},dC=b0,pC=b0,gC=Nn,mC=Nn,yC=Nn,bC={};vC={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},_C=Nn,EC=Nn;xC=Nn,SC=Nn,TC=Nn,CC=Nn,RC=Nn,DC=void 0,IC=void 0,OC=void 0,NC=Nn,kC=2,LC=1,PC="/bin/usr/node",BC=9229,MC="node",FC=[],UC=Nn,al={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0};al.now===void 0&&(d_=Date.now(),al.timing&&al.timing.navigationStart&&(d_=al.timing.navigationStart),al.now=()=>Date.now()-d_);p_=1e9;y0.bigint=function(r){var e=y0(r);return typeof BigInt>"u"?e[0]*p_+e[1]:BigInt(e[0]*p_)+BigInt(e[1])};$C=10,zC={},WC=0;qC=$o,HC=$o,GC=$o,VC=$o,YC=$o,XC=Nn,KC=$o,ZC=$o;QC={version:VT,versions:YT,arch:zT,platform:WT,browser:tC,release:eC,_rawDebug:rC,moduleLoadList:nC,binding:KT,_linkedBinding:iC,_events:zC,_eventsCount:WC,_maxListeners:$C,on:$o,addListener:qC,once:HC,off:GC,removeListener:VC,removeAllListeners:YC,emit:XC,prependListener:KC,prependOnceListener:ZC,listeners:JC,domain:sC,_exiting:oC,config:aC,dlopen:lC,uptime:jC,_getActiveRequests:uC,_getActiveHandles:cC,reallyExit:fC,_kill:hC,cpuUsage:b0,resourceUsage:dC,memoryUsage:pC,kill:gC,exit:mC,openStdin:yC,allowedNodeEnvironmentFlags:bC,assert:wC,features:vC,_fatalExceptions:_C,setUncaughtExceptionCaptureCallback:EC,hasUncaughtExceptionCaptureCallback:AC,emitWarning:XT,nextTick:UT,_tickCallback:xC,_debugProcess:SC,_debugEnd:TC,_startProfilerIdleNotifier:CC,_stopProfilerIdleNotifier:RC,stdout:DC,stdin:OC,stderr:IC,abort:NC,umask:ZT,chdir:QT,cwd:JT,env:qT,title:$T,argv:HT,execArgv:GT,pid:kC,ppid:LC,execPath:PC,debugPort:BC,hrtime:y0,argv0:MC,_preload_modules:FC,setSourceMapsEnabled:UC}});var ke=Jt(()=>{eR()});function G3(){if(tR)return Sp;tR=!0,Sp.byteLength=a,Sp.toByteArray=c,Sp.fromByteArray=d;for(var r=[],e=[],t=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,o=n.length;i<o;++i)r[i]=n[i],e[n.charCodeAt(i)]=i;e[45]=62,e[95]=63;function s(g){var b=g.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var v=g.indexOf("=");v===-1&&(v=b);var w=v===b?0:4-v%4;return[v,w]}function a(g){var b=s(g),v=b[0],w=b[1];return(v+w)*3/4-w}function u(g,b,v){return(b+v)*3/4-v}function c(g){var b,v=s(g),w=v[0],y=v[1],_=new t(u(g,w,y)),E=0,S=y>0?w-4:w,A;for(A=0;A<S;A+=4)b=e[g.charCodeAt(A)]<<18|e[g.charCodeAt(A+1)]<<12|e[g.charCodeAt(A+2)]<<6|e[g.charCodeAt(A+3)],_[E++]=b>>16&255,_[E++]=b>>8&255,_[E++]=b&255;return y===2&&(b=e[g.charCodeAt(A)]<<2|e[g.charCodeAt(A+1)]>>4,_[E++]=b&255),y===1&&(b=e[g.charCodeAt(A)]<<10|e[g.charCodeAt(A+1)]<<4|e[g.charCodeAt(A+2)]>>2,_[E++]=b>>8&255,_[E++]=b&255),_}function f(g){return r[g>>18&63]+r[g>>12&63]+r[g>>6&63]+r[g&63]}function h(g,b,v){for(var w,y=[],_=b;_<v;_+=3)w=(g[_]<<16&16711680)+(g[_+1]<<8&65280)+(g[_+2]&255),y.push(f(w));return y.join("")}function d(g){for(var b,v=g.length,w=v%3,y=[],_=16383,E=0,S=v-w;E<S;E+=_)y.push(h(g,E,E+_>S?S:E+_));return w===1?(b=g[v-1],y.push(r[b>>2]+r[b<<4&63]+"==")):w===2&&(b=(g[v-2]<<8)+g[v-1],y.push(r[b>>10]+r[b>>4&63]+r[b<<2&63]+"=")),y.join("")}return Sp}function V3(){if(rR)return w0;rR=!0;return w0.read=function(r,e,t,n,i){var o,s,a=i*8-n-1,u=(1<<a)-1,c=u>>1,f=-7,h=t?i-1:0,d=t?-1:1,g=r[e+h];for(h+=d,o=g&(1<<-f)-1,g>>=-f,f+=a;f>0;o=o*256+r[e+h],h+=d,f-=8);for(s=o&(1<<-f)-1,o>>=-f,f+=n;f>0;s=s*256+r[e+h],h+=d,f-=8);if(o===0)o=1-c;else{if(o===u)return s?NaN:(g?-1:1)*(1/0);s=s+Math.pow(2,n),o=o-c}return(g?-1:1)*s*Math.pow(2,o-n)},w0.write=function(r,e,t,n,i,o){var s,a,u,c=o*8-i-1,f=(1<<c)-1,h=f>>1,d=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=n?0:o-1,b=n?1:-1,v=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=f):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),s+h>=1?e+=d/u:e+=d*Math.pow(2,1-h),e*u>=2&&(s++,u/=2),s+h>=f?(a=0,s=f):s+h>=1?(a=(e*u-1)*Math.pow(2,i),s=s+h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;r[t+g]=a&255,g+=b,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;r[t+g]=s&255,g+=b,s/=256,c-=8);r[t+g-b]|=v*128},w0}function fn(){if(nR)return Cu;nR=!0;let r=G3(),e=V3(),t=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Cu.Buffer=s,Cu.SlowBuffer=y,Cu.INSPECT_MAX_BYTES=50;let n=2147483647;Cu.kMaxLength=n,s.TYPED_ARRAY_SUPPORT=i(),!s.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{let x=new Uint8Array(1),p={foo:function(){return 42}};return Object.setPrototypeOf(p,Uint8Array.prototype),Object.setPrototypeOf(x,p),x.foo()===42}catch{return!1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}});function o(x){if(x>n)throw new RangeError('The value "'+x+'" is invalid for option "size"');let p=new Uint8Array(x);return Object.setPrototypeOf(p,s.prototype),p}function s(x,p,m){if(typeof x=="number"){if(typeof p=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(x)}return a(x,p,m)}s.poolSize=8192;function a(x,p,m){if(typeof x=="string")return h(x,p);if(ArrayBuffer.isView(x))return g(x);if(x==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof x);if(Pe(x,ArrayBuffer)||x&&Pe(x.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Pe(x,SharedArrayBuffer)||x&&Pe(x.buffer,SharedArrayBuffer)))return b(x,p,m);if(typeof x=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let O=x.valueOf&&x.valueOf();if(O!=null&&O!==x)return s.from(O,p,m);let J=v(x);if(J)return J;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof x[Symbol.toPrimitive]=="function")return s.from(x[Symbol.toPrimitive]("string"),p,m);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof x)}s.from=function(x,p,m){return a(x,p,m)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function u(x){if(typeof x!="number")throw new TypeError('"size" argument must be of type number');if(x<0)throw new RangeError('The value "'+x+'" is invalid for option "size"')}function c(x,p,m){return u(x),x<=0?o(x):p!==void 0?typeof m=="string"?o(x).fill(p,m):o(x).fill(p):o(x)}s.alloc=function(x,p,m){return c(x,p,m)};function f(x){return u(x),o(x<0?0:w(x)|0)}s.allocUnsafe=function(x){return f(x)},s.allocUnsafeSlow=function(x){return f(x)};function h(x,p){if((typeof p!="string"||p==="")&&(p="utf8"),!s.isEncoding(p))throw new TypeError("Unknown encoding: "+p);let m=_(x,p)|0,O=o(m),J=O.write(x,p);return J!==m&&(O=O.slice(0,J)),O}function d(x){let p=x.length<0?0:w(x.length)|0,m=o(p);for(let O=0;O<p;O+=1)m[O]=x[O]&255;return m}function g(x){if(Pe(x,Uint8Array)){let p=new Uint8Array(x);return b(p.buffer,p.byteOffset,p.byteLength)}return d(x)}function b(x,p,m){if(p<0||x.byteLength<p)throw new RangeError('"offset" is outside of buffer bounds');if(x.byteLength<p+(m||0))throw new RangeError('"length" is outside of buffer bounds');let O;return p===void 0&&m===void 0?O=new Uint8Array(x):m===void 0?O=new Uint8Array(x,p):O=new Uint8Array(x,p,m),Object.setPrototypeOf(O,s.prototype),O}function v(x){if(s.isBuffer(x)){let p=w(x.length)|0,m=o(p);return m.length===0||x.copy(m,0,0,p),m}if(x.length!==void 0)return typeof x.length!="number"||Ce(x.length)?o(0):d(x);if(x.type==="Buffer"&&Array.isArray(x.data))return d(x.data)}function w(x){if(x>=n)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return x|0}function y(x){return+x!=x&&(x=0),s.alloc(+x)}s.isBuffer=function(p){return p!=null&&p._isBuffer===!0&&p!==s.prototype},s.compare=function(p,m){if(Pe(p,Uint8Array)&&(p=s.from(p,p.offset,p.byteLength)),Pe(m,Uint8Array)&&(m=s.from(m,m.offset,m.byteLength)),!s.isBuffer(p)||!s.isBuffer(m))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(p===m)return 0;let O=p.length,J=m.length;for(let T=0,ae=Math.min(O,J);T<ae;++T)if(p[T]!==m[T]){O=p[T],J=m[T];break}return O<J?-1:J<O?1:0},s.isEncoding=function(p){switch(String(p).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(p,m){if(!Array.isArray(p))throw new TypeError('"list" argument must be an Array of Buffers');if(p.length===0)return s.alloc(0);let O;if(m===void 0)for(m=0,O=0;O<p.length;++O)m+=p[O].length;let J=s.allocUnsafe(m),T=0;for(O=0;O<p.length;++O){let ae=p[O];if(Pe(ae,Uint8Array))T+ae.length>J.length?(s.isBuffer(ae)||(ae=s.from(ae)),ae.copy(J,T)):Uint8Array.prototype.set.call(J,ae,T);else if(s.isBuffer(ae))ae.copy(J,T);else throw new TypeError('"list" argument must be an Array of Buffers');T+=ae.length}return J};function _(x,p){if(s.isBuffer(x))return x.length;if(ArrayBuffer.isView(x)||Pe(x,ArrayBuffer))return x.byteLength;if(typeof x!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof x);let m=x.length,O=arguments.length>2&&arguments[2]===!0;if(!O&&m===0)return 0;let J=!1;for(;;)switch(p){case"ascii":case"latin1":case"binary":return m;case"utf8":case"utf-8":return Ee(x).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return m*2;case"hex":return m>>>1;case"base64":return be(x).length;default:if(J)return O?-1:Ee(x).length;p=(""+p).toLowerCase(),J=!0}}s.byteLength=_;function E(x,p,m){let O=!1;if((p===void 0||p<0)&&(p=0),p>this.length||((m===void 0||m>this.length)&&(m=this.length),m<=0)||(m>>>=0,p>>>=0,m<=p))return"";for(x||(x="utf8");;)switch(x){case"hex":return I(this,p,m);case"utf8":case"utf-8":return H(this,p,m);case"ascii":return Ae(this,p,m);case"latin1":case"binary":return j(this,p,m);case"base64":return U(this,p,m);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return se(this,p,m);default:if(O)throw new TypeError("Unknown encoding: "+x);x=(x+"").toLowerCase(),O=!0}}s.prototype._isBuffer=!0;function S(x,p,m){let O=x[p];x[p]=x[m],x[m]=O}s.prototype.swap16=function(){let p=this.length;if(p%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let m=0;m<p;m+=2)S(this,m,m+1);return this},s.prototype.swap32=function(){let p=this.length;if(p%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let m=0;m<p;m+=4)S(this,m,m+3),S(this,m+1,m+2);return this},s.prototype.swap64=function(){let p=this.length;if(p%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let m=0;m<p;m+=8)S(this,m,m+7),S(this,m+1,m+6),S(this,m+2,m+5),S(this,m+3,m+4);return this},s.prototype.toString=function(){let p=this.length;return p===0?"":arguments.length===0?H(this,0,p):E.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(p){if(!s.isBuffer(p))throw new TypeError("Argument must be a Buffer");return this===p?!0:s.compare(this,p)===0},s.prototype.inspect=function(){let p="",m=Cu.INSPECT_MAX_BYTES;return p=this.toString("hex",0,m).replace(/(.{2})/g,"$1 ").trim(),this.length>m&&(p+=" ... "),"<Buffer "+p+">"},t&&(s.prototype[t]=s.prototype.inspect),s.prototype.compare=function(p,m,O,J,T){if(Pe(p,Uint8Array)&&(p=s.from(p,p.offset,p.byteLength)),!s.isBuffer(p))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof p);if(m===void 0&&(m=0),O===void 0&&(O=p?p.length:0),J===void 0&&(J=0),T===void 0&&(T=this.length),m<0||O>p.length||J<0||T>this.length)throw new RangeError("out of range index");if(J>=T&&m>=O)return 0;if(J>=T)return-1;if(m>=O)return 1;if(m>>>=0,O>>>=0,J>>>=0,T>>>=0,this===p)return 0;let ae=T-J,fe=O-m,Te=Math.min(ae,fe),G=this.slice(J,T),me=p.slice(m,O);for(let B=0;B<Te;++B)if(G[B]!==me[B]){ae=G[B],fe=me[B];break}return ae<fe?-1:fe<ae?1:0};function A(x,p,m,O,J){if(x.length===0)return-1;if(typeof m=="string"?(O=m,m=0):m>2147483647?m=2147483647:m<-2147483648&&(m=-2147483648),m=+m,Ce(m)&&(m=J?0:x.length-1),m<0&&(m=x.length+m),m>=x.length){if(J)return-1;m=x.length-1}else if(m<0)if(J)m=0;else return-1;if(typeof p=="string"&&(p=s.from(p,O)),s.isBuffer(p))return p.length===0?-1:L(x,p,m,O,J);if(typeof p=="number")return p=p&255,typeof Uint8Array.prototype.indexOf=="function"?J?Uint8Array.prototype.indexOf.call(x,p,m):Uint8Array.prototype.lastIndexOf.call(x,p,m):L(x,[p],m,O,J);throw new TypeError("val must be string, number or Buffer")}function L(x,p,m,O,J){let T=1,ae=x.length,fe=p.length;if(O!==void 0&&(O=String(O).toLowerCase(),O==="ucs2"||O==="ucs-2"||O==="utf16le"||O==="utf-16le")){if(x.length<2||p.length<2)return-1;T=2,ae/=2,fe/=2,m/=2}function Te(me,B){return T===1?me[B]:me.readUInt16BE(B*T)}let G;if(J){let me=-1;for(G=m;G<ae;G++)if(Te(x,G)===Te(p,me===-1?0:G-me)){if(me===-1&&(me=G),G-me+1===fe)return me*T}else me!==-1&&(G-=G-me),me=-1}else for(m+fe>ae&&(m=ae-fe),G=m;G>=0;G--){let me=!0;for(let B=0;B<fe;B++)if(Te(x,G+B)!==Te(p,B)){me=!1;break}if(me)return G}return-1}s.prototype.includes=function(p,m,O){return this.indexOf(p,m,O)!==-1},s.prototype.indexOf=function(p,m,O){return A(this,p,m,O,!0)},s.prototype.lastIndexOf=function(p,m,O){return A(this,p,m,O,!1)};function D(x,p,m,O){m=Number(m)||0;let J=x.length-m;O?(O=Number(O),O>J&&(O=J)):O=J;let T=p.length;O>T/2&&(O=T/2);let ae;for(ae=0;ae<O;++ae){let fe=parseInt(p.substr(ae*2,2),16);if(Ce(fe))return ae;x[m+ae]=fe}return ae}function K(x,p,m,O){return Ie(Ee(p,x.length-m),x,m,O)}function re(x,p,m,O){return Ie(pe(p),x,m,O)}function q(x,p,m,O){return Ie(be(p),x,m,O)}function oe(x,p,m,O){return Ie(te(p,x.length-m),x,m,O)}s.prototype.write=function(p,m,O,J){if(m===void 0)J="utf8",O=this.length,m=0;else if(O===void 0&&typeof m=="string")J=m,O=this.length,m=0;else if(isFinite(m))m=m>>>0,isFinite(O)?(O=O>>>0,J===void 0&&(J="utf8")):(J=O,O=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let T=this.length-m;if((O===void 0||O>T)&&(O=T),p.length>0&&(O<0||m<0)||m>this.length)throw new RangeError("Attempt to write outside buffer bounds");J||(J="utf8");let ae=!1;for(;;)switch(J){case"hex":return D(this,p,m,O);case"utf8":case"utf-8":return K(this,p,m,O);case"ascii":case"latin1":case"binary":return re(this,p,m,O);case"base64":return q(this,p,m,O);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return oe(this,p,m,O);default:if(ae)throw new TypeError("Unknown encoding: "+J);J=(""+J).toLowerCase(),ae=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function U(x,p,m){return p===0&&m===x.length?r.fromByteArray(x):r.fromByteArray(x.slice(p,m))}function H(x,p,m){m=Math.min(x.length,m);let O=[],J=p;for(;J<m;){let T=x[J],ae=null,fe=T>239?4:T>223?3:T>191?2:1;if(J+fe<=m){let Te,G,me,B;switch(fe){case 1:T<128&&(ae=T);break;case 2:Te=x[J+1],(Te&192)===128&&(B=(T&31)<<6|Te&63,B>127&&(ae=B));break;case 3:Te=x[J+1],G=x[J+2],(Te&192)===128&&(G&192)===128&&(B=(T&15)<<12|(Te&63)<<6|G&63,B>2047&&(B<55296||B>57343)&&(ae=B));break;case 4:Te=x[J+1],G=x[J+2],me=x[J+3],(Te&192)===128&&(G&192)===128&&(me&192)===128&&(B=(T&15)<<18|(Te&63)<<12|(G&63)<<6|me&63,B>65535&&B<1114112&&(ae=B))}}ae===null?(ae=65533,fe=1):ae>65535&&(ae-=65536,O.push(ae>>>10&1023|55296),ae=56320|ae&1023),O.push(ae),J+=fe}return Se(O)}let ue=4096;function Se(x){let p=x.length;if(p<=ue)return String.fromCharCode.apply(String,x);let m="",O=0;for(;O<p;)m+=String.fromCharCode.apply(String,x.slice(O,O+=ue));return m}function Ae(x,p,m){let O="";m=Math.min(x.length,m);for(let J=p;J<m;++J)O+=String.fromCharCode(x[J]&127);return O}function j(x,p,m){let O="";m=Math.min(x.length,m);for(let J=p;J<m;++J)O+=String.fromCharCode(x[J]);return O}function I(x,p,m){let O=x.length;(!p||p<0)&&(p=0),(!m||m<0||m>O)&&(m=O);let J="";for(let T=p;T<m;++T)J+=qe[x[T]];return J}function se(x,p,m){let O=x.slice(p,m),J="";for(let T=0;T<O.length-1;T+=2)J+=String.fromCharCode(O[T]+O[T+1]*256);return J}s.prototype.slice=function(p,m){let O=this.length;p=~~p,m=m===void 0?O:~~m,p<0?(p+=O,p<0&&(p=0)):p>O&&(p=O),m<0?(m+=O,m<0&&(m=0)):m>O&&(m=O),m<p&&(m=p);let J=this.subarray(p,m);return Object.setPrototypeOf(J,s.prototype),J};function z(x,p,m){if(x%1!==0||x<0)throw new RangeError("offset is not uint");if(x+p>m)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function(p,m,O){p=p>>>0,m=m>>>0,O||z(p,m,this.length);let J=this[p],T=1,ae=0;for(;++ae<m&&(T*=256);)J+=this[p+ae]*T;return J},s.prototype.readUintBE=s.prototype.readUIntBE=function(p,m,O){p=p>>>0,m=m>>>0,O||z(p,m,this.length);let J=this[p+--m],T=1;for(;m>0&&(T*=256);)J+=this[p+--m]*T;return J},s.prototype.readUint8=s.prototype.readUInt8=function(p,m){return p=p>>>0,m||z(p,1,this.length),this[p]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(p,m){return p=p>>>0,m||z(p,2,this.length),this[p]|this[p+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(p,m){return p=p>>>0,m||z(p,2,this.length),this[p]<<8|this[p+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(p,m){return p=p>>>0,m||z(p,4,this.length),(this[p]|this[p+1]<<8|this[p+2]<<16)+this[p+3]*16777216},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(p,m){return p=p>>>0,m||z(p,4,this.length),this[p]*16777216+(this[p+1]<<16|this[p+2]<<8|this[p+3])},s.prototype.readBigUInt64LE=We(function(p){p=p>>>0,P(p,"offset");let m=this[p],O=this[p+7];(m===void 0||O===void 0)&&C(p,this.length-8);let J=m+this[++p]*2**8+this[++p]*2**16+this[++p]*2**24,T=this[++p]+this[++p]*2**8+this[++p]*2**16+O*2**24;return BigInt(J)+(BigInt(T)<<BigInt(32))}),s.prototype.readBigUInt64BE=We(function(p){p=p>>>0,P(p,"offset");let m=this[p],O=this[p+7];(m===void 0||O===void 0)&&C(p,this.length-8);let J=m*2**24+this[++p]*2**16+this[++p]*2**8+this[++p],T=this[++p]*2**24+this[++p]*2**16+this[++p]*2**8+O;return(BigInt(J)<<BigInt(32))+BigInt(T)}),s.prototype.readIntLE=function(p,m,O){p=p>>>0,m=m>>>0,O||z(p,m,this.length);let J=this[p],T=1,ae=0;for(;++ae<m&&(T*=256);)J+=this[p+ae]*T;return T*=128,J>=T&&(J-=Math.pow(2,8*m)),J},s.prototype.readIntBE=function(p,m,O){p=p>>>0,m=m>>>0,O||z(p,m,this.length);let J=m,T=1,ae=this[p+--J];for(;J>0&&(T*=256);)ae+=this[p+--J]*T;return T*=128,ae>=T&&(ae-=Math.pow(2,8*m)),ae},s.prototype.readInt8=function(p,m){return p=p>>>0,m||z(p,1,this.length),this[p]&128?(255-this[p]+1)*-1:this[p]},s.prototype.readInt16LE=function(p,m){p=p>>>0,m||z(p,2,this.length);let O=this[p]|this[p+1]<<8;return O&32768?O|4294901760:O},s.prototype.readInt16BE=function(p,m){p=p>>>0,m||z(p,2,this.length);let O=this[p+1]|this[p]<<8;return O&32768?O|4294901760:O},s.prototype.readInt32LE=function(p,m){return p=p>>>0,m||z(p,4,this.length),this[p]|this[p+1]<<8|this[p+2]<<16|this[p+3]<<24},s.prototype.readInt32BE=function(p,m){return p=p>>>0,m||z(p,4,this.length),this[p]<<24|this[p+1]<<16|this[p+2]<<8|this[p+3]},s.prototype.readBigInt64LE=We(function(p){p=p>>>0,P(p,"offset");let m=this[p],O=this[p+7];(m===void 0||O===void 0)&&C(p,this.length-8);let J=this[p+4]+this[p+5]*2**8+this[p+6]*2**16+(O<<24);return(BigInt(J)<<BigInt(32))+BigInt(m+this[++p]*2**8+this[++p]*2**16+this[++p]*2**24)}),s.prototype.readBigInt64BE=We(function(p){p=p>>>0,P(p,"offset");let m=this[p],O=this[p+7];(m===void 0||O===void 0)&&C(p,this.length-8);let J=(m<<24)+this[++p]*2**16+this[++p]*2**8+this[++p];return(BigInt(J)<<BigInt(32))+BigInt(this[++p]*2**24+this[++p]*2**16+this[++p]*2**8+O)}),s.prototype.readFloatLE=function(p,m){return p=p>>>0,m||z(p,4,this.length),e.read(this,p,!0,23,4)},s.prototype.readFloatBE=function(p,m){return p=p>>>0,m||z(p,4,this.length),e.read(this,p,!1,23,4)},s.prototype.readDoubleLE=function(p,m){return p=p>>>0,m||z(p,8,this.length),e.read(this,p,!0,52,8)},s.prototype.readDoubleBE=function(p,m){return p=p>>>0,m||z(p,8,this.length),e.read(this,p,!1,52,8)};function ie(x,p,m,O,J,T){if(!s.isBuffer(x))throw new TypeError('"buffer" argument must be a Buffer instance');if(p>J||p<T)throw new RangeError('"value" argument is out of bounds');if(m+O>x.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function(p,m,O,J){if(p=+p,m=m>>>0,O=O>>>0,!J){let fe=Math.pow(2,8*O)-1;ie(this,p,m,O,fe,0)}let T=1,ae=0;for(this[m]=p&255;++ae<O&&(T*=256);)this[m+ae]=p/T&255;return m+O},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(p,m,O,J){if(p=+p,m=m>>>0,O=O>>>0,!J){let fe=Math.pow(2,8*O)-1;ie(this,p,m,O,fe,0)}let T=O-1,ae=1;for(this[m+T]=p&255;--T>=0&&(ae*=256);)this[m+T]=p/ae&255;return m+O},s.prototype.writeUint8=s.prototype.writeUInt8=function(p,m,O){return p=+p,m=m>>>0,O||ie(this,p,m,1,255,0),this[m]=p&255,m+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(p,m,O){return p=+p,m=m>>>0,O||ie(this,p,m,2,65535,0),this[m]=p&255,this[m+1]=p>>>8,m+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(p,m,O){return p=+p,m=m>>>0,O||ie(this,p,m,2,65535,0),this[m]=p>>>8,this[m+1]=p&255,m+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(p,m,O){return p=+p,m=m>>>0,O||ie(this,p,m,4,4294967295,0),this[m+3]=p>>>24,this[m+2]=p>>>16,this[m+1]=p>>>8,this[m]=p&255,m+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(p,m,O){return p=+p,m=m>>>0,O||ie(this,p,m,4,4294967295,0),this[m]=p>>>24,this[m+1]=p>>>16,this[m+2]=p>>>8,this[m+3]=p&255,m+4};function V(x,p,m,O,J){ye(p,O,J,x,m,7);let T=Number(p&BigInt(4294967295));x[m++]=T,T=T>>8,x[m++]=T,T=T>>8,x[m++]=T,T=T>>8,x[m++]=T;let ae=Number(p>>BigInt(32)&BigInt(4294967295));return x[m++]=ae,ae=ae>>8,x[m++]=ae,ae=ae>>8,x[m++]=ae,ae=ae>>8,x[m++]=ae,m}function X(x,p,m,O,J){ye(p,O,J,x,m,7);let T=Number(p&BigInt(4294967295));x[m+7]=T,T=T>>8,x[m+6]=T,T=T>>8,x[m+5]=T,T=T>>8,x[m+4]=T;let ae=Number(p>>BigInt(32)&BigInt(4294967295));return x[m+3]=ae,ae=ae>>8,x[m+2]=ae,ae=ae>>8,x[m+1]=ae,ae=ae>>8,x[m]=ae,m+8}s.prototype.writeBigUInt64LE=We(function(p,m=0){return V(this,p,m,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=We(function(p,m=0){return X(this,p,m,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(p,m,O,J){if(p=+p,m=m>>>0,!J){let Te=Math.pow(2,8*O-1);ie(this,p,m,O,Te-1,-Te)}let T=0,ae=1,fe=0;for(this[m]=p&255;++T<O&&(ae*=256);)p<0&&fe===0&&this[m+T-1]!==0&&(fe=1),this[m+T]=(p/ae>>0)-fe&255;return m+O},s.prototype.writeIntBE=function(p,m,O,J){if(p=+p,m=m>>>0,!J){let Te=Math.pow(2,8*O-1);ie(this,p,m,O,Te-1,-Te)}let T=O-1,ae=1,fe=0;for(this[m+T]=p&255;--T>=0&&(ae*=256);)p<0&&fe===0&&this[m+T+1]!==0&&(fe=1),this[m+T]=(p/ae>>0)-fe&255;return m+O},s.prototype.writeInt8=function(p,m,O){return p=+p,m=m>>>0,O||ie(this,p,m,1,127,-128),p<0&&(p=255+p+1),this[m]=p&255,m+1},s.prototype.writeInt16LE=function(p,m,O){return p=+p,m=m>>>0,O||ie(this,p,m,2,32767,-32768),this[m]=p&255,this[m+1]=p>>>8,m+2},s.prototype.writeInt16BE=function(p,m,O){return p=+p,m=m>>>0,O||ie(this,p,m,2,32767,-32768),this[m]=p>>>8,this[m+1]=p&255,m+2},s.prototype.writeInt32LE=function(p,m,O){return p=+p,m=m>>>0,O||ie(this,p,m,4,2147483647,-2147483648),this[m]=p&255,this[m+1]=p>>>8,this[m+2]=p>>>16,this[m+3]=p>>>24,m+4},s.prototype.writeInt32BE=function(p,m,O){return p=+p,m=m>>>0,O||ie(this,p,m,4,2147483647,-2147483648),p<0&&(p=4294967295+p+1),this[m]=p>>>24,this[m+1]=p>>>16,this[m+2]=p>>>8,this[m+3]=p&255,m+4},s.prototype.writeBigInt64LE=We(function(p,m=0){return V(this,p,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=We(function(p,m=0){return X(this,p,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function we(x,p,m,O,J,T){if(m+O>x.length)throw new RangeError("Index out of range");if(m<0)throw new RangeError("Index out of range")}function ve(x,p,m,O,J){return p=+p,m=m>>>0,J||we(x,p,m,4),e.write(x,p,m,O,23,4),m+4}s.prototype.writeFloatLE=function(p,m,O){return ve(this,p,m,!0,O)},s.prototype.writeFloatBE=function(p,m,O){return ve(this,p,m,!1,O)};function de(x,p,m,O,J){return p=+p,m=m>>>0,J||we(x,p,m,8),e.write(x,p,m,O,52,8),m+8}s.prototype.writeDoubleLE=function(p,m,O){return de(this,p,m,!0,O)},s.prototype.writeDoubleBE=function(p,m,O){return de(this,p,m,!1,O)},s.prototype.copy=function(p,m,O,J){if(!s.isBuffer(p))throw new TypeError("argument should be a Buffer");if(O||(O=0),!J&&J!==0&&(J=this.length),m>=p.length&&(m=p.length),m||(m=0),J>0&&J<O&&(J=O),J===O||p.length===0||this.length===0)return 0;if(m<0)throw new RangeError("targetStart out of bounds");if(O<0||O>=this.length)throw new RangeError("Index out of range");if(J<0)throw new RangeError("sourceEnd out of bounds");J>this.length&&(J=this.length),p.length-m<J-O&&(J=p.length-m+O);let T=J-O;return this===p&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(m,O,J):Uint8Array.prototype.set.call(p,this.subarray(O,J),m),T},s.prototype.fill=function(p,m,O,J){if(typeof p=="string"){if(typeof m=="string"?(J=m,m=0,O=this.length):typeof O=="string"&&(J=O,O=this.length),J!==void 0&&typeof J!="string")throw new TypeError("encoding must be a string");if(typeof J=="string"&&!s.isEncoding(J))throw new TypeError("Unknown encoding: "+J);if(p.length===1){let ae=p.charCodeAt(0);(J==="utf8"&&ae<128||J==="latin1")&&(p=ae)}}else typeof p=="number"?p=p&255:typeof p=="boolean"&&(p=Number(p));if(m<0||this.length<m||this.length<O)throw new RangeError("Out of range index");if(O<=m)return this;m=m>>>0,O=O===void 0?this.length:O>>>0,p||(p=0);let T;if(typeof p=="number")for(T=m;T<O;++T)this[T]=p;else{let ae=s.isBuffer(p)?p:s.from(p,J),fe=ae.length;if(fe===0)throw new TypeError('The value "'+p+'" is invalid for argument "value"');for(T=0;T<O-m;++T)this[T+m]=ae[T%fe]}return this};let M={};function N(x,p,m){M[x]=class extends m{constructor(){super(),Object.defineProperty(this,"message",{value:p.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${x}]`,this.stack,delete this.name}get code(){return x}set code(J){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:J,writable:!0})}toString(){return`${this.name} [${x}]: ${this.message}`}}}N("ERR_BUFFER_OUT_OF_BOUNDS",function(x){return x?`${x} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),N("ERR_INVALID_ARG_TYPE",function(x,p){return`The "${x}" argument must be of type number. Received type ${typeof p}`},TypeError),N("ERR_OUT_OF_RANGE",function(x,p,m){let O=`The value of "${x}" is out of range.`,J=m;return Number.isInteger(m)&&Math.abs(m)>2**32?J=$(String(m)):typeof m=="bigint"&&(J=String(m),(m>BigInt(2)**BigInt(32)||m<-(BigInt(2)**BigInt(32)))&&(J=$(J)),J+="n"),O+=` It must be ${p}. Received ${J}`,O},RangeError);function $(x){let p="",m=x.length,O=x[0]==="-"?1:0;for(;m>=O+4;m-=3)p=`_${x.slice(m-3,m)}${p}`;return`${x.slice(0,m)}${p}`}function ne(x,p,m){P(p,"offset"),(x[p]===void 0||x[p+m]===void 0)&&C(p,x.length-(m+1))}function ye(x,p,m,O,J,T){if(x>m||x<p){let ae=typeof p=="bigint"?"n":"",fe;throw p===0||p===BigInt(0)?fe=`>= 0${ae} and < 2${ae} ** ${(T+1)*8}${ae}`:fe=`>= -(2${ae} ** ${(T+1)*8-1}${ae}) and < 2 ** ${(T+1)*8-1}${ae}`,new M.ERR_OUT_OF_RANGE("value",fe,x)}ne(O,J,T)}function P(x,p){if(typeof x!="number")throw new M.ERR_INVALID_ARG_TYPE(p,"number",x)}function C(x,p,m){throw Math.floor(x)!==x?(P(x,m),new M.ERR_OUT_OF_RANGE("offset","an integer",x)):p<0?new M.ERR_BUFFER_OUT_OF_BOUNDS:new M.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${p}`,x)}let F=/[^+/0-9A-Za-z-_]/g;function Q(x){if(x=x.split("=")[0],x=x.trim().replace(F,""),x.length<2)return"";for(;x.length%4!==0;)x=x+"=";return x}function Ee(x,p){p=p||1/0;let m,O=x.length,J=null,T=[];for(let ae=0;ae<O;++ae){if(m=x.charCodeAt(ae),m>55295&&m<57344){if(!J){if(m>56319){(p-=3)>-1&&T.push(239,191,189);continue}else if(ae+1===O){(p-=3)>-1&&T.push(239,191,189);continue}J=m;continue}if(m<56320){(p-=3)>-1&&T.push(239,191,189),J=m;continue}m=(J-55296<<10|m-56320)+65536}else J&&(p-=3)>-1&&T.push(239,191,189);if(J=null,m<128){if((p-=1)<0)break;T.push(m)}else if(m<2048){if((p-=2)<0)break;T.push(m>>6|192,m&63|128)}else if(m<65536){if((p-=3)<0)break;T.push(m>>12|224,m>>6&63|128,m&63|128)}else if(m<1114112){if((p-=4)<0)break;T.push(m>>18|240,m>>12&63|128,m>>6&63|128,m&63|128)}else throw new Error("Invalid code point")}return T}function pe(x){let p=[];for(let m=0;m<x.length;++m)p.push(x.charCodeAt(m)&255);return p}function te(x,p){let m,O,J,T=[];for(let ae=0;ae<x.length&&!((p-=2)<0);++ae)m=x.charCodeAt(ae),O=m>>8,J=m%256,T.push(J),T.push(O);return T}function be(x){return r.toByteArray(Q(x))}function Ie(x,p,m,O){let J;for(J=0;J<O&&!(J+m>=p.length||J>=x.length);++J)p[J+m]=x[J];return J}function Pe(x,p){return x instanceof p||x!=null&&x.constructor!=null&&x.constructor.name!=null&&x.constructor.name===p.name}function Ce(x){return x!==x}let qe=(function(){let x="0123456789abcdef",p=new Array(256);for(let m=0;m<16;++m){let O=m*16;for(let J=0;J<16;++J)p[O+J]=x[m]+x[J]}return p})();function We(x){return typeof BigInt>"u"?Ge:x}function Ge(){throw new Error("BigInt not supported")}return Cu}var Sp,tR,w0,rR,Cu,nR,Ff=Jt(()=>{Ne();Le();ke();Sp={},tR=!1;w0={},rR=!1;Cu={},nR=!1});var Uf={};Uo(Uf,{Buffer:()=>Buffer,INSPECT_MAX_BYTES:()=>Y3,default:()=>ll,kMaxLength:()=>X3});var ll,Buffer,Y3,X3,ul=Jt(()=>{Ne();Le();ke();Ff();ll=fn();ll.Buffer;ll.SlowBuffer;ll.INSPECT_MAX_BYTES;ll.kMaxLength;Buffer=ll.Buffer,Y3=ll.INSPECT_MAX_BYTES,X3=ll.kMaxLength});var Le=Jt(()=>{ul()});function v_(){throw new Error("setTimeout has not been defined")}function __(){throw new Error("clearTimeout has not been defined")}function bR(r){if(Wo===setTimeout)return setTimeout(r,0);if((Wo===v_||!Wo)&&setTimeout)return Wo=setTimeout,setTimeout(r,0);try{return Wo(r,0)}catch{try{return Wo.call(null,r,0)}catch{return Wo.call(this||$f,r,0)}}}function K3(){jf&&Du&&(jf=!1,Du.length?Ho=Du.concat(Ho):S0=-1,Ho.length&&wR())}function wR(){if(!jf){var r=bR(K3);jf=!0;for(var e=Ho.length;e;){for(Du=Ho,Ho=[];++S0<e;)Du&&Du[S0].run();S0=-1,e=Ho.length}Du=null,jf=!1,(function(t){if(qo===clearTimeout)return clearTimeout(t);if((qo===__||!qo)&&clearTimeout)return qo=clearTimeout,clearTimeout(t);try{qo(t)}catch{try{return qo.call(null,t)}catch{return qo.call(this||$f,t)}}})(r)}}function iR(r,e){(this||$f).fun=r,(this||$f).array=e}function zo(){}function Ou(r){return r.call.bind(r)}function Dp(r,e){if(typeof r!="object")return!1;try{return e(r),!0}catch{return!1}}function aR(r){return ri&&Ei?Ai(r)!==void 0:CR(r)||RR(r)||DR(r)||IR(r)||OR(r)||NR(r)||kR(r)||LR(r)||PR(r)||BR(r)||MR(r)}function CR(r){return ri&&Ei?Ai(r)==="Uint8Array":xr(r)==="[object Uint8Array]"||o6(r)&&r.buffer!==void 0}function RR(r){return ri&&Ei?Ai(r)==="Uint8ClampedArray":xr(r)==="[object Uint8ClampedArray]"}function DR(r){return ri&&Ei?Ai(r)==="Uint16Array":xr(r)==="[object Uint16Array]"}function IR(r){return ri&&Ei?Ai(r)==="Uint32Array":xr(r)==="[object Uint32Array]"}function OR(r){return ri&&Ei?Ai(r)==="Int8Array":xr(r)==="[object Int8Array]"}function NR(r){return ri&&Ei?Ai(r)==="Int16Array":xr(r)==="[object Int16Array]"}function kR(r){return ri&&Ei?Ai(r)==="Int32Array":xr(r)==="[object Int32Array]"}function LR(r){return ri&&Ei?Ai(r)==="Float32Array":xr(r)==="[object Float32Array]"}function PR(r){return ri&&Ei?Ai(r)==="Float64Array":xr(r)==="[object Float64Array]"}function BR(r){return ri&&Ei?Ai(r)==="BigInt64Array":xr(r)==="[object BigInt64Array]"}function MR(r){return ri&&Ei?Ai(r)==="BigUint64Array":xr(r)==="[object BigUint64Array]"}function v0(r){return xr(r)==="[object Map]"}function _0(r){return xr(r)==="[object Set]"}function E0(r){return xr(r)==="[object WeakMap]"}function m_(r){return xr(r)==="[object WeakSet]"}function C0(r){return xr(r)==="[object ArrayBuffer]"}function lR(r){return typeof ArrayBuffer<"u"&&(C0.working?C0(r):r instanceof ArrayBuffer)}function R0(r){return xr(r)==="[object DataView]"}function uR(r){return typeof DataView<"u"&&(R0.working?R0(r):r instanceof DataView)}function D0(r){return xr(r)==="[object SharedArrayBuffer]"}function cR(r){return typeof SharedArrayBuffer<"u"&&(D0.working?D0(r):r instanceof SharedArrayBuffer)}function fR(r){return Dp(r,c6)}function hR(r){return Dp(r,f6)}function dR(r){return Dp(r,h6)}function pR(r){return xR&&Dp(r,SR)}function gR(r){return A_&&Dp(r,TR)}function cl(r,e){var t={seen:[],stylize:g6};return arguments.length>=3&&(t.depth=arguments[2]),arguments.length>=4&&(t.colors=arguments[3]),x_(e)?t.showHidden=e:e&&Ve._extend(t,e),Iu(t.showHidden)&&(t.showHidden=!1),Iu(t.depth)&&(t.depth=2),Iu(t.colors)&&(t.colors=!1),Iu(t.customInspect)&&(t.customInspect=!0),t.colors&&(t.stylize=p6),I0(t,r,t.depth)}function p6(r,e){var t=cl.styles[e];return t?"\x1B["+cl.colors[t][0]+"m"+r+"\x1B["+cl.colors[t][1]+"m":r}function g6(r,e){return r}function I0(r,e,t){if(r.customInspect&&e&&T0(e.inspect)&&e.inspect!==Ve.inspect&&(!e.constructor||e.constructor.prototype!==e)){var n=e.inspect(t,r);return O0(n)||(n=I0(r,n,t)),n}var i=(function(d,g){if(Iu(g))return d.stylize("undefined","undefined");if(O0(g)){var b="'"+JSON.stringify(g).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return d.stylize(b,"string")}if(jR(g))return d.stylize(""+g,"number");if(x_(g))return d.stylize(""+g,"boolean");if(L0(g))return d.stylize("null","null")})(r,e);if(i)return i;var o=Object.keys(e),s=(function(d){var g={};return d.forEach((function(b,v){g[b]=!0})),g})(o);if(r.showHidden&&(o=Object.getOwnPropertyNames(e)),Rp(e)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return y_(e);if(o.length===0){if(T0(e)){var a=e.name?": "+e.name:"";return r.stylize("[Function"+a+"]","special")}if(Cp(e))return r.stylize(RegExp.prototype.toString.call(e),"regexp");if(N0(e))return r.stylize(Date.prototype.toString.call(e),"date");if(Rp(e))return y_(e)}var u,c="",f=!1,h=["{","}"];return UR(e)&&(f=!0,h=["[","]"]),T0(e)&&(c=" [Function"+(e.name?": "+e.name:"")+"]"),Cp(e)&&(c=" "+RegExp.prototype.toString.call(e)),N0(e)&&(c=" "+Date.prototype.toUTCString.call(e)),Rp(e)&&(c=" "+y_(e)),o.length!==0||f&&e.length!=0?t<0?Cp(e)?r.stylize(RegExp.prototype.toString.call(e),"regexp"):r.stylize("[Object]","special"):(r.seen.push(e),u=f?(function(d,g,b,v,w){for(var y=[],_=0,E=g.length;_<E;++_)$R(g,String(_))?y.push(b_(d,g,b,v,String(_),!0)):y.push("");return w.forEach((function(S){S.match(/^\d+$/)||y.push(b_(d,g,b,v,S,!0))})),y})(r,e,t,s,o):o.map((function(d){return b_(r,e,t,s,d,f)})),r.seen.pop(),(function(d,g,b){var v=0;return d.reduce((function(w,y){return v++,y.indexOf(`
`)>=0&&v++,w+y.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?b[0]+(g===""?"":g+`
 `)+" "+d.join(`,
  `)+" "+b[1]:b[0]+g+" "+d.join(", ")+" "+b[1]})(u,c,h)):h[0]+c+h[1]}function y_(r){return"["+Error.prototype.toString.call(r)+"]"}function b_(r,e,t,n,i,o){var s,a,u;if((u=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?a=u.set?r.stylize("[Getter/Setter]","special"):r.stylize("[Getter]","special"):u.set&&(a=r.stylize("[Setter]","special")),$R(n,i)||(s="["+i+"]"),a||(r.seen.indexOf(u.value)<0?(a=L0(t)?I0(r,u.value,null):I0(r,u.value,t-1)).indexOf(`
`)>-1&&(a=o?a.split(`
`).map((function(c){return"  "+c})).join(`
`).substr(2):`
`+a.split(`
`).map((function(c){return"   "+c})).join(`
`)):a=r.stylize("[Circular]","special")),Iu(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=r.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=r.stylize(s,"string"))}return s+": "+a}function UR(r){return Array.isArray(r)}function x_(r){return typeof r=="boolean"}function L0(r){return r===null}function jR(r){return typeof r=="number"}function O0(r){return typeof r=="string"}function Iu(r){return r===void 0}function Cp(r){return zf(r)&&S_(r)==="[object RegExp]"}function zf(r){return typeof r=="object"&&r!==null}function N0(r){return zf(r)&&S_(r)==="[object Date]"}function Rp(r){return zf(r)&&(S_(r)==="[object Error]"||r instanceof Error)}function T0(r){return typeof r=="function"}function S_(r){return Object.prototype.toString.call(r)}function w_(r){return r<10?"0"+r.toString(10):r.toString(10)}function y6(){var r=new Date,e=[w_(r.getHours()),w_(r.getMinutes()),w_(r.getSeconds())].join(":");return[r.getDate(),m6[r.getMonth()],e].join(" ")}function $R(r,e){return Object.prototype.hasOwnProperty.call(r,e)}function b6(r,e){if(!r){var t=new Error("Promise was rejected with a falsy value");t.reason=r,r=t}return e(r)}var yR,Wo,qo,$f,$r,Du,Ho,jf,S0,lr,Z3,E_,k0,vR,J3,Q3,e6,t6,r6,_R,ER,sR,n6,i6,s6,AR,kt,o6,a6,l6,xR,A_,Ei,ri,u6,oR,Ai,xr,c6,f6,h6,SR,TR,Tp,Ve,Js,mR,d6,A0,FR,x0,m6,Ru,eY,fl=Jt(()=>{Ne();Le();ke();$f=typeof globalThis<"u"?globalThis:typeof self<"u"?self:window,$r=yR={};(function(){try{Wo=typeof setTimeout=="function"?setTimeout:v_}catch{Wo=v_}try{qo=typeof clearTimeout=="function"?clearTimeout:__}catch{qo=__}})();Ho=[],jf=!1,S0=-1;$r.nextTick=function(r){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];Ho.push(new iR(r,e)),Ho.length!==1||jf||bR(wR)},iR.prototype.run=function(){(this||$f).fun.apply(null,(this||$f).array)},$r.title="browser",$r.browser=!0,$r.env={},$r.argv=[],$r.version="",$r.versions={},$r.on=zo,$r.addListener=zo,$r.once=zo,$r.off=zo,$r.removeListener=zo,$r.removeAllListeners=zo,$r.emit=zo,$r.prependListener=zo,$r.prependOnceListener=zo,$r.listeners=function(r){return[]},$r.binding=function(r){throw new Error("process.binding is not supported")},$r.cwd=function(){return"/"},$r.chdir=function(r){throw new Error("process.chdir is not supported")},$r.umask=function(){return 0};lr=yR;lr.addListener;lr.argv;lr.binding;lr.browser;lr.chdir;lr.cwd;lr.emit;lr.env;lr.listeners;lr.nextTick;lr.off;lr.on;lr.once;lr.prependListener;lr.prependOnceListener;lr.removeAllListeners;lr.removeListener;lr.title;lr.umask;lr.version;lr.versions;Z3=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",E_=Object.prototype.toString,k0=function(r){return!(Z3&&r&&typeof r=="object"&&Symbol.toStringTag in r)&&E_.call(r)==="[object Arguments]"},vR=function(r){return!!k0(r)||r!==null&&typeof r=="object"&&typeof r.length=="number"&&r.length>=0&&E_.call(r)!=="[object Array]"&&E_.call(r.callee)==="[object Function]"},J3=(function(){return k0(arguments)})();k0.isLegacyArguments=vR;Q3=J3?k0:vR,e6=Object.prototype.toString,t6=Function.prototype.toString,r6=/^\s*(?:function)?\*/,_R=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",ER=Object.getPrototypeOf,sR=(function(){if(!_R)return!1;try{return Function("return function*() {}")()}catch{}})(),n6=sR?ER(sR):{},i6=function(r){return typeof r=="function"&&(!!r6.test(t6.call(r))||(_R?ER(r)===n6:e6.call(r)==="[object GeneratorFunction]"))},s6=typeof Object.create=="function"?function(r,e){e&&(r.super_=e,r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:function(r,e){if(e){r.super_=e;var t=function(){};t.prototype=e.prototype,r.prototype=new t,r.prototype.constructor=r}},AR=function(r){return r&&typeof r=="object"&&typeof r.copy=="function"&&typeof r.fill=="function"&&typeof r.readUInt8=="function"},kt={},o6=AR,a6=Q3,l6=i6;xR=typeof BigInt<"u",A_=typeof Symbol<"u",Ei=A_&&Symbol.toStringTag!==void 0,ri=typeof Uint8Array<"u",u6=typeof ArrayBuffer<"u";ri&&Ei&&(oR=Object.getPrototypeOf(Uint8Array.prototype),Ai=Ou(Object.getOwnPropertyDescriptor(oR,Symbol.toStringTag).get));xr=Ou(Object.prototype.toString),c6=Ou(Number.prototype.valueOf),f6=Ou(String.prototype.valueOf),h6=Ou(Boolean.prototype.valueOf);xR&&(SR=Ou(BigInt.prototype.valueOf));A_&&(TR=Ou(Symbol.prototype.valueOf));kt.isArgumentsObject=a6,kt.isGeneratorFunction=l6,kt.isPromise=function(r){return typeof Promise<"u"&&r instanceof Promise||r!==null&&typeof r=="object"&&typeof r.then=="function"&&typeof r.catch=="function"},kt.isArrayBufferView=function(r){return u6&&ArrayBuffer.isView?ArrayBuffer.isView(r):aR(r)||uR(r)},kt.isTypedArray=aR,kt.isUint8Array=CR,kt.isUint8ClampedArray=RR,kt.isUint16Array=DR,kt.isUint32Array=IR,kt.isInt8Array=OR,kt.isInt16Array=NR,kt.isInt32Array=kR,kt.isFloat32Array=LR,kt.isFloat64Array=PR,kt.isBigInt64Array=BR,kt.isBigUint64Array=MR,v0.working=typeof Map<"u"&&v0(new Map),kt.isMap=function(r){return typeof Map<"u"&&(v0.working?v0(r):r instanceof Map)},_0.working=typeof Set<"u"&&_0(new Set),kt.isSet=function(r){return typeof Set<"u"&&(_0.working?_0(r):r instanceof Set)},E0.working=typeof WeakMap<"u"&&E0(new WeakMap),kt.isWeakMap=function(r){return typeof WeakMap<"u"&&(E0.working?E0(r):r instanceof WeakMap)},m_.working=typeof WeakSet<"u"&&m_(new WeakSet),kt.isWeakSet=function(r){return m_(r)},C0.working=typeof ArrayBuffer<"u"&&C0(new ArrayBuffer),kt.isArrayBuffer=lR,R0.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&R0(new DataView(new ArrayBuffer(1),0,1)),kt.isDataView=uR,D0.working=typeof SharedArrayBuffer<"u"&&D0(new SharedArrayBuffer),kt.isSharedArrayBuffer=cR,kt.isAsyncFunction=function(r){return xr(r)==="[object AsyncFunction]"},kt.isMapIterator=function(r){return xr(r)==="[object Map Iterator]"},kt.isSetIterator=function(r){return xr(r)==="[object Set Iterator]"},kt.isGeneratorObject=function(r){return xr(r)==="[object Generator]"},kt.isWebAssemblyCompiledModule=function(r){return xr(r)==="[object WebAssembly.Module]"},kt.isNumberObject=fR,kt.isStringObject=hR,kt.isBooleanObject=dR,kt.isBigIntObject=pR,kt.isSymbolObject=gR,kt.isBoxedPrimitive=function(r){return fR(r)||hR(r)||dR(r)||pR(r)||gR(r)},kt.isAnyArrayBuffer=function(r){return ri&&(lR(r)||cR(r))},["isProxy","isExternal","isModuleNamespaceObject"].forEach((function(r){Object.defineProperty(kt,r,{enumerable:!1,value:function(){throw new Error(r+" is not supported in userland")}})}));Tp=typeof globalThis<"u"?globalThis:typeof self<"u"?self:window,Ve={},Js=lr,mR=Object.getOwnPropertyDescriptors||function(r){for(var e=Object.keys(r),t={},n=0;n<e.length;n++)t[e[n]]=Object.getOwnPropertyDescriptor(r,e[n]);return t},d6=/%[sdj%]/g;Ve.format=function(r){if(!O0(r)){for(var e=[],t=0;t<arguments.length;t++)e.push(cl(arguments[t]));return e.join(" ")}t=1;for(var n=arguments,i=n.length,o=String(r).replace(d6,(function(a){if(a==="%%")return"%";if(t>=i)return a;switch(a){case"%s":return String(n[t++]);case"%d":return Number(n[t++]);case"%j":try{return JSON.stringify(n[t++])}catch{return"[Circular]"}default:return a}})),s=n[t];t<i;s=n[++t])L0(s)||!zf(s)?o+=" "+s:o+=" "+cl(s);return o},Ve.deprecate=function(r,e){if(Js!==void 0&&Js.noDeprecation===!0)return r;if(Js===void 0)return function(){return Ve.deprecate(r,e).apply(this||Tp,arguments)};var t=!1;return function(){if(!t){if(Js.throwDeprecation)throw new Error(e);Js.traceDeprecation?console.trace(e):console.error(e),t=!0}return r.apply(this||Tp,arguments)}};A0={},FR=/^$/;Js.env.NODE_DEBUG&&(x0=Js.env.NODE_DEBUG,x0=x0.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),FR=new RegExp("^"+x0+"$","i"));Ve.debuglog=function(r){if(r=r.toUpperCase(),!A0[r])if(FR.test(r)){var e=Js.pid;A0[r]=function(){var t=Ve.format.apply(Ve,arguments);console.error("%s %d: %s",r,e,t)}}else A0[r]=function(){};return A0[r]},Ve.inspect=cl,cl.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},cl.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},Ve.types=kt,Ve.isArray=UR,Ve.isBoolean=x_,Ve.isNull=L0,Ve.isNullOrUndefined=function(r){return r==null},Ve.isNumber=jR,Ve.isString=O0,Ve.isSymbol=function(r){return typeof r=="symbol"},Ve.isUndefined=Iu,Ve.isRegExp=Cp,Ve.types.isRegExp=Cp,Ve.isObject=zf,Ve.isDate=N0,Ve.types.isDate=N0,Ve.isError=Rp,Ve.types.isNativeError=Rp,Ve.isFunction=T0,Ve.isPrimitive=function(r){return r===null||typeof r=="boolean"||typeof r=="number"||typeof r=="string"||typeof r=="symbol"||r===void 0},Ve.isBuffer=AR;m6=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];Ve.log=function(){console.log("%s - %s",y6(),Ve.format.apply(Ve,arguments))},Ve.inherits=s6,Ve._extend=function(r,e){if(!e||!zf(e))return r;for(var t=Object.keys(e),n=t.length;n--;)r[t[n]]=e[t[n]];return r};Ru=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;Ve.promisify=function(r){if(typeof r!="function")throw new TypeError('The "original" argument must be of type Function');if(Ru&&r[Ru]){var e;if(typeof(e=r[Ru])!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,Ru,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var t,n,i=new Promise((function(a,u){t=a,n=u})),o=[],s=0;s<arguments.length;s++)o.push(arguments[s]);o.push((function(a,u){a?n(a):t(u)}));try{r.apply(this||Tp,o)}catch(a){n(a)}return i}return Object.setPrototypeOf(e,Object.getPrototypeOf(r)),Ru&&Object.defineProperty(e,Ru,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,mR(r))},Ve.promisify.custom=Ru,Ve.callbackify=function(r){if(typeof r!="function")throw new TypeError('The "original" argument must be of type Function');function e(){for(var t=[],n=0;n<arguments.length;n++)t.push(arguments[n]);var i=t.pop();if(typeof i!="function")throw new TypeError("The last argument must be of type Function");var o=this||Tp,s=function(){return i.apply(o,arguments)};r.apply(this||Tp,t).then((function(a){Js.nextTick(s.bind(null,null,a))}),(function(a){Js.nextTick(b6.bind(null,a,s))}))}return Object.setPrototypeOf(e,Object.getPrototypeOf(r)),Object.defineProperties(e,mR(r)),e};Ve._extend;Ve.callbackify;Ve.debuglog;Ve.deprecate;Ve.format;Ve.inherits;Ve.inspect;Ve.isArray;Ve.isBoolean;Ve.isBuffer;Ve.isDate;Ve.isError;Ve.isFunction;Ve.isNull;Ve.isNullOrUndefined;Ve.isNumber;Ve.isObject;Ve.isPrimitive;Ve.isRegExp;Ve.isString;Ve.isSymbol;Ve.isUndefined;Ve.log;Ve.promisify;Ve._extend;Ve.callbackify;Ve.debuglog;Ve.deprecate;Ve.format;Ve.inherits;Ve.inspect;Ve.isArray;Ve.isBoolean;Ve.isBuffer;Ve.isDate;Ve.isError;Ve.isFunction;Ve.isNull;Ve.isNullOrUndefined;Ve.isNumber;Ve.isObject;Ve.isPrimitive;Ve.isRegExp;Ve.isString;Ve.isSymbol;Ve.isUndefined;Ve.log;eY=Ve.promisify;Ve.types});function zR(r,e){if(r==null)throw new TypeError("Cannot convert first argument to object");for(var t=Object(r),n=1;n<arguments.length;n++){var i=arguments[n];if(i!=null)for(var o=Object.keys(Object(i)),s=0,a=o.length;s<a;s++){var u=o[s],c=Object.getOwnPropertyDescriptor(i,u);c!==void 0&&c.enumerable&&(t[u]=i[u])}}return t}function ND(){if(tD)return N_;function r(c){return(r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(c)}function e(c,f){return!f||r(f)!=="object"&&typeof f!="function"?(function(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h})(c):f}function t(c){return(t=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)})(c)}function n(c,f){return(n=Object.setPrototypeOf||function(h,d){return h.__proto__=d,h})(c,f)}tD=!0;var i,o,s={};function a(c,f,h){h||(h=Error);var d=(function(g){function b(v,w,y){var _;return(function(E,S){if(!(E instanceof S))throw new TypeError("Cannot call a class as a function")})(this,b),(_=e(this,t(b).call(this,(function(E,S,A){return typeof f=="string"?f:f(E,S,A)})(v,w,y)))).code=c,_}return(function(v,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(w&&w.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),w&&n(v,w)})(b,g),b})(h);s[c]=d}function u(c,f){if(Array.isArray(c)){var h=c.length;return c=c.map((function(d){return String(d)})),h>2?"one of ".concat(f," ").concat(c.slice(0,h-1).join(", "),", or ")+c[h-1]:h===2?"one of ".concat(f," ").concat(c[0]," or ").concat(c[1]):"of ".concat(f," ").concat(c[0])}return"of ".concat(f," ").concat(String(c))}return a("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),a("ERR_INVALID_ARG_TYPE",(function(c,f,h){var d,g,b;if(i===void 0&&(i=F_()),i(typeof c=="string","'name' must be a string"),typeof f=="string"&&(g="not ",f.substr(0,g.length)===g)?(d="must not be",f=f.replace(/^not /,"")):d="must be",(function(w,y,_){return(_===void 0||_>w.length)&&(_=w.length),w.substring(_-y.length,_)===y})(c," argument"))b="The ".concat(c," ").concat(d," ").concat(u(f,"type"));else{var v=(function(w,y,_){return typeof _!="number"&&(_=0),!(_+y.length>w.length)&&w.indexOf(y,_)!==-1})(c,".")?"property":"argument";b='The "'.concat(c,'" ').concat(v," ").concat(d," ").concat(u(f,"type"))}return b+=". Received type ".concat(r(h))}),TypeError),a("ERR_INVALID_ARG_VALUE",(function(c,f){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";o===void 0&&(o=Ve);var d=o.inspect(f);return d.length>128&&(d="".concat(d.slice(0,128),"...")),"The argument '".concat(c,"' ").concat(h,". Received ").concat(d)}),TypeError),a("ERR_INVALID_RETURN_VALUE",(function(c,f,h){var d;return d=h&&h.constructor&&h.constructor.name?"instance of ".concat(h.constructor.name):"type ".concat(r(h)),"Expected ".concat(c,' to be returned from the "').concat(f,'"')+" function but got ".concat(d,".")}),TypeError),a("ERR_MISSING_ARGS",(function(){for(var c=arguments.length,f=new Array(c),h=0;h<c;h++)f[h]=arguments[h];i===void 0&&(i=F_()),i(f.length>0,"At least one arg needs to be specified");var d="The ",g=f.length;switch(f=f.map((function(b){return'"'.concat(b,'"')})),g){case 1:d+="".concat(f[0]," argument");break;case 2:d+="".concat(f[0]," and ").concat(f[1]," arguments");break;default:d+=f.slice(0,g-1).join(", "),d+=", and ".concat(f[g-1]," arguments")}return"".concat(d," must be specified")}),TypeError),N_.codes=s,N_}function n8(){if(nD)return rD;nD=!0;var r=lr;function e(D,K,re){return K in D?Object.defineProperty(D,K,{value:re,enumerable:!0,configurable:!0,writable:!0}):D[K]=re,D}function t(D,K){for(var re=0;re<K.length;re++){var q=K[re];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(D,q.key,q)}}function n(D,K){return!K||f(K)!=="object"&&typeof K!="function"?i(D):K}function i(D){if(D===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D}function o(D){var K=typeof Map=="function"?new Map:void 0;return(o=function(re){if(re===null||(q=re,Function.toString.call(q).indexOf("[native code]")===-1))return re;var q;if(typeof re!="function")throw new TypeError("Super expression must either be null or a function");if(K!==void 0){if(K.has(re))return K.get(re);K.set(re,oe)}function oe(){return a(re,arguments,c(this).constructor)}return oe.prototype=Object.create(re.prototype,{constructor:{value:oe,enumerable:!1,writable:!0,configurable:!0}}),u(oe,re)})(D)}function s(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch{return!1}}function a(D,K,re){return(a=s()?Reflect.construct:function(q,oe,U){var H=[null];H.push.apply(H,oe);var ue=new(Function.bind.apply(q,H));return U&&u(ue,U.prototype),ue}).apply(null,arguments)}function u(D,K){return(u=Object.setPrototypeOf||function(re,q){return re.__proto__=q,re})(D,K)}function c(D){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(K){return K.__proto__||Object.getPrototypeOf(K)})(D)}function f(D){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(K){return typeof K}:function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K})(D)}var h=Ve.inspect,d=ND().codes.ERR_INVALID_ARG_TYPE;function g(D,K,re){return(re===void 0||re>D.length)&&(re=D.length),D.substring(re-K.length,re)===K}var b="",v="",w="",y="",_={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"};function E(D){var K=Object.keys(D),re=Object.create(Object.getPrototypeOf(D));return K.forEach((function(q){re[q]=D[q]})),Object.defineProperty(re,"message",{value:D.message}),re}function S(D){return h(D,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function A(D,K,re){var q="",oe="",U=0,H="",ue=!1,Se=S(D),Ae=Se.split(`
`),j=S(K).split(`
`),I=0,se="";if(re==="strictEqual"&&f(D)==="object"&&f(K)==="object"&&D!==null&&K!==null&&(re="strictEqualObject"),Ae.length===1&&j.length===1&&Ae[0]!==j[0]){var z=Ae[0].length+j[0].length;if(z<=10){if(!(f(D)==="object"&&D!==null||f(K)==="object"&&K!==null||D===0&&K===0))return"".concat(_[re],`

`)+"".concat(Ae[0]," !== ").concat(j[0],`
`)}else if(re!=="strictEqualObject"&&z<(r.stderr&&r.stderr.isTTY?r.stderr.columns:80)){for(;Ae[0][I]===j[0][I];)I++;I>2&&(se=`
  `.concat((function(P,C){if(C=Math.floor(C),P.length==0||C==0)return"";var F=P.length*C;for(C=Math.floor(Math.log(C)/Math.log(2));C;)P+=P,C--;return P+=P.substring(0,F-P.length)})(" ",I),"^"),I=0)}}for(var ie=Ae[Ae.length-1],V=j[j.length-1];ie===V&&(I++<2?H=`
  `.concat(ie).concat(H):q=ie,Ae.pop(),j.pop(),Ae.length!==0&&j.length!==0);)ie=Ae[Ae.length-1],V=j[j.length-1];var X=Math.max(Ae.length,j.length);if(X===0){var we=Se.split(`
`);if(we.length>30)for(we[26]="".concat(b,"...").concat(y);we.length>27;)we.pop();return"".concat(_.notIdentical,`

`).concat(we.join(`
`),`
`)}I>3&&(H=`
`.concat(b,"...").concat(y).concat(H),ue=!0),q!==""&&(H=`
  `.concat(q).concat(H),q="");var ve=0,de=_[re]+`
`.concat(v,"+ actual").concat(y," ").concat(w,"- expected").concat(y),M=" ".concat(b,"...").concat(y," Lines skipped");for(I=0;I<X;I++){var N=I-U;if(Ae.length<I+1)N>1&&I>2&&(N>4?(oe+=`
`.concat(b,"...").concat(y),ue=!0):N>3&&(oe+=`
  `.concat(j[I-2]),ve++),oe+=`
  `.concat(j[I-1]),ve++),U=I,q+=`
`.concat(w,"-").concat(y," ").concat(j[I]),ve++;else if(j.length<I+1)N>1&&I>2&&(N>4?(oe+=`
`.concat(b,"...").concat(y),ue=!0):N>3&&(oe+=`
  `.concat(Ae[I-2]),ve++),oe+=`
  `.concat(Ae[I-1]),ve++),U=I,oe+=`
`.concat(v,"+").concat(y," ").concat(Ae[I]),ve++;else{var $=j[I],ne=Ae[I],ye=ne!==$&&(!g(ne,",")||ne.slice(0,-1)!==$);ye&&g($,",")&&$.slice(0,-1)===ne&&(ye=!1,ne+=","),ye?(N>1&&I>2&&(N>4?(oe+=`
`.concat(b,"...").concat(y),ue=!0):N>3&&(oe+=`
  `.concat(Ae[I-2]),ve++),oe+=`
  `.concat(Ae[I-1]),ve++),U=I,oe+=`
`.concat(v,"+").concat(y," ").concat(ne),q+=`
`.concat(w,"-").concat(y," ").concat($),ve+=2):(oe+=q,q="",N!==1&&I!==0||(oe+=`
  `.concat(ne),ve++))}if(ve>20&&I<X-2)return"".concat(de).concat(M,`
`).concat(oe,`
`).concat(b,"...").concat(y).concat(q,`
`)+"".concat(b,"...").concat(y)}return"".concat(de).concat(ue?M:"",`
`).concat(oe).concat(q).concat(H).concat(se)}var L=(function(D){function K(oe){var U;if((function(we,ve){if(!(we instanceof ve))throw new TypeError("Cannot call a class as a function")})(this,K),f(oe)!=="object"||oe===null)throw new d("options","Object",oe);var H=oe.message,ue=oe.operator,Se=oe.stackStartFn,Ae=oe.actual,j=oe.expected,I=Error.stackTraceLimit;if(Error.stackTraceLimit=0,H!=null)U=n(this,c(K).call(this,String(H)));else if(r.stderr&&r.stderr.isTTY&&(r.stderr&&r.stderr.getColorDepth&&r.stderr.getColorDepth()!==1?(b="\x1B[34m",v="\x1B[32m",y="\x1B[39m",w="\x1B[31m"):(b="",v="",y="",w="")),f(Ae)==="object"&&Ae!==null&&f(j)==="object"&&j!==null&&"stack"in Ae&&Ae instanceof Error&&"stack"in j&&j instanceof Error&&(Ae=E(Ae),j=E(j)),ue==="deepStrictEqual"||ue==="strictEqual")U=n(this,c(K).call(this,A(Ae,j,ue)));else if(ue==="notDeepStrictEqual"||ue==="notStrictEqual"){var se=_[ue],z=S(Ae).split(`
`);if(ue==="notStrictEqual"&&f(Ae)==="object"&&Ae!==null&&(se=_.notStrictEqualObject),z.length>30)for(z[26]="".concat(b,"...").concat(y);z.length>27;)z.pop();U=z.length===1?n(this,c(K).call(this,"".concat(se," ").concat(z[0]))):n(this,c(K).call(this,"".concat(se,`

`).concat(z.join(`
`),`
`)))}else{var ie=S(Ae),V="",X=_[ue];ue==="notDeepEqual"||ue==="notEqual"?(ie="".concat(_[ue],`

`).concat(ie)).length>1024&&(ie="".concat(ie.slice(0,1021),"...")):(V="".concat(S(j)),ie.length>512&&(ie="".concat(ie.slice(0,509),"...")),V.length>512&&(V="".concat(V.slice(0,509),"...")),ue==="deepEqual"||ue==="equal"?ie="".concat(X,`

`).concat(ie,`

should equal

`):V=" ".concat(ue," ").concat(V)),U=n(this,c(K).call(this,"".concat(ie).concat(V)))}return Error.stackTraceLimit=I,U.generatedMessage=!H,Object.defineProperty(i(U),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),U.code="ERR_ASSERTION",U.actual=Ae,U.expected=j,U.operator=ue,Error.captureStackTrace&&Error.captureStackTrace(i(U),Se),U.stack,U.name="AssertionError",n(U)}var re,q;return(function(oe,U){if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function");oe.prototype=Object.create(U&&U.prototype,{constructor:{value:oe,writable:!0,configurable:!0}}),U&&u(oe,U)})(K,D),re=K,(q=[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:h.custom,value:function(oe,U){return h(this,(function(H){for(var ue=1;ue<arguments.length;ue++){var Se=arguments[ue]!=null?arguments[ue]:{},Ae=Object.keys(Se);typeof Object.getOwnPropertySymbols=="function"&&(Ae=Ae.concat(Object.getOwnPropertySymbols(Se).filter((function(j){return Object.getOwnPropertyDescriptor(Se,j).enumerable})))),Ae.forEach((function(j){e(H,j,Se[j])}))}return H})({},U,{customInspect:!1,depth:0}))}}])&&t(re.prototype,q),K})(o(Error));return rD=L}function iD(r,e){return(function(t){if(Array.isArray(t))return t})(r)||(function(t,n){var i=[],o=!0,s=!1,a=void 0;try{for(var u,c=t[Symbol.iterator]();!(o=(u=c.next()).done)&&(i.push(u.value),!n||i.length!==n);o=!0);}catch(f){s=!0,a=f}finally{try{o||c.return==null||c.return()}finally{if(s)throw a}}return i})(r,e)||(function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")})()}function Ts(r){return(Ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(r)}function $_(r){return r.call.bind(r)}function h8(r){if(r.length===0||r.length>10)return!0;for(var e=0;e<r.length;e++){var t=r.charCodeAt(e);if(t<48||t>57)return!0}return r.length===10&&r>=Math.pow(2,32)}function F0(r){return Object.keys(r).filter(h8).concat(j0(r).filter(Object.prototype.propertyIsEnumerable.bind(r)))}function pD(r,e){if(r===e)return 0;for(var t=r.length,n=e.length,i=0,o=Math.min(t,n);i<o;++i)if(r[i]!==e[i]){t=r[i],n=e[i];break}return t<n?-1:n<t?1:0}function ts(r,e,t,n){if(r===e)return r!==0||!t||oD(r,e);if(t){if(Ts(r)!=="object")return typeof r=="number"&&M_(r)&&M_(e);if(Ts(e)!=="object"||r===null||e===null||Object.getPrototypeOf(r)!==Object.getPrototypeOf(e))return!1}else{if(r===null||Ts(r)!=="object")return(e===null||Ts(e)!=="object")&&r==e;if(e===null||Ts(e)!=="object")return!1}var i,o,s,a,u=aD(r);if(u!==aD(e))return!1;if(Array.isArray(r)){if(r.length!==e.length)return!1;var c=F0(r),f=F0(e);return c.length===f.length&&Np(r,e,t,n,1,c)}if(u==="[object Object]"&&(!B0(r)&&B0(e)||!M0(r)&&M0(e)))return!1;if(lD(r)){if(!lD(e)||Date.prototype.getTime.call(r)!==Date.prototype.getTime.call(e))return!1}else if(uD(r)){if(!uD(e)||(s=r,a=e,!(i8?s.source===a.source&&s.flags===a.flags:RegExp.prototype.toString.call(s)===RegExp.prototype.toString.call(a))))return!1}else if(a8(r)||r instanceof Error){if(r.message!==e.message||r.name!==e.name)return!1}else{if(o8(r)){if(t||!c8(r)&&!f8(r)){if(!(function(g,b){return g.byteLength===b.byteLength&&pD(new Uint8Array(g.buffer,g.byteOffset,g.byteLength),new Uint8Array(b.buffer,b.byteOffset,b.byteLength))===0})(r,e))return!1}else if(!(function(g,b){if(g.byteLength!==b.byteLength)return!1;for(var v=0;v<g.byteLength;v++)if(g[v]!==b[v])return!1;return!0})(r,e))return!1;var h=F0(r),d=F0(e);return h.length===d.length&&Np(r,e,t,n,0,h)}if(M0(r))return!(!M0(e)||r.size!==e.size)&&Np(r,e,t,n,2);if(B0(r))return!(!B0(e)||r.size!==e.size)&&Np(r,e,t,n,3);if(s8(r)){if(o=e,(i=r).byteLength!==o.byteLength||pD(new Uint8Array(i),new Uint8Array(o))!==0)return!1}else if(l8(r)&&!(function(g,b){return cD(g)?cD(b)&&oD(Number.prototype.valueOf.call(g),Number.prototype.valueOf.call(b)):fD(g)?fD(b)&&String.prototype.valueOf.call(g)===String.prototype.valueOf.call(b):hD(g)?hD(b)&&Boolean.prototype.valueOf.call(g)===Boolean.prototype.valueOf.call(b):dD(g)?dD(b)&&BigInt.prototype.valueOf.call(g)===BigInt.prototype.valueOf.call(b):u8(b)&&Symbol.prototype.valueOf.call(g)===Symbol.prototype.valueOf.call(b)})(r,e))return!1}return Np(r,e,t,n,0)}function gD(r,e){return e.filter((function(t){return $0(r,t)}))}function Np(r,e,t,n,i,o){if(arguments.length===5){o=Object.keys(r);var s=Object.keys(e);if(o.length!==s.length)return!1}for(var a=0;a<o.length;a++)if(!kp(e,o[a]))return!1;if(t&&arguments.length===5){var u=j0(r);if(u.length!==0){var c=0;for(a=0;a<u.length;a++){var f=u[a];if($0(r,f)){if(!$0(e,f))return!1;o.push(f),c++}else if($0(e,f))return!1}var h=j0(e);if(u.length!==h.length&&gD(e,h).length!==c)return!1}else{var d=j0(e);if(d.length!==0&&gD(e,d).length!==0)return!1}}if(o.length===0&&(i===0||i===1&&r.length===0||r.size===0))return!0;if(n===void 0)n={val1:new Map,val2:new Map,position:0};else{var g=n.val1.get(r);if(g!==void 0){var b=n.val2.get(e);if(b!==void 0)return g===b}n.position++}n.val1.set(r,n.position),n.val2.set(e,n.position);var v=g8(r,e,t,o,n,i);return n.val1.delete(r),n.val2.delete(e),v}function mD(r,e,t,n){for(var i=z0(r),o=0;o<i.length;o++){var s=i[o];if(ts(e,s,t,n))return r.delete(s),!0}return!1}function kD(r){switch(Ts(r)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":r=+r;case"number":if(M_(r))return!1}return!0}function d8(r,e,t){var n=kD(t);return n??(e.has(n)&&!r.has(n))}function p8(r,e,t,n,i){var o=kD(t);if(o!=null)return o;var s=e.get(o);return!(s===void 0&&!e.has(o)||!ts(n,s,!1,i))&&!r.has(o)&&ts(n,s,!1,i)}function yD(r,e,t,n,i,o){for(var s=z0(r),a=0;a<s.length;a++){var u=s[a];if(ts(t,u,i,o)&&ts(n,e.get(u),i,o))return r.delete(u),!0}return!1}function g8(r,e,t,n,i,o){var s=0;if(o===2){if(!(function(f,h,d,g){for(var b=null,v=z0(f),w=0;w<v.length;w++){var y=v[w];if(Ts(y)==="object"&&y!==null)b===null&&(b=new Set),b.add(y);else if(!h.has(y)){if(d||!d8(f,h,y))return!1;b===null&&(b=new Set),b.add(y)}}if(b!==null){for(var _=z0(h),E=0;E<_.length;E++){var S=_[E];if(Ts(S)==="object"&&S!==null){if(!mD(b,S,d,g))return!1}else if(!d&&!f.has(S)&&!mD(b,S,d,g))return!1}return b.size===0}return!0})(r,e,t,i))return!1}else if(o===3){if(!(function(f,h,d,g){for(var b=null,v=sD(f),w=0;w<v.length;w++){var y=iD(v[w],2),_=y[0],E=y[1];if(Ts(_)==="object"&&_!==null)b===null&&(b=new Set),b.add(_);else{var S=h.get(_);if(S===void 0&&!h.has(_)||!ts(E,S,d,g)){if(d||!p8(f,h,_,E,g))return!1;b===null&&(b=new Set),b.add(_)}}}if(b!==null){for(var A=sD(h),L=0;L<A.length;L++){var D=iD(A[L],2),K=(_=D[0],D[1]);if(Ts(_)==="object"&&_!==null){if(!yD(b,f,_,K,d,g))return!1}else if(!(d||f.has(_)&&ts(f.get(_),K,!1,g)||yD(b,f,_,K,!1,g)))return!1}return b.size===0}return!0})(r,e,t,i))return!1}else if(o===1)for(;s<r.length;s++){if(!kp(r,s)){if(kp(e,s))return!1;for(var a=Object.keys(r);s<a.length;s++){var u=a[s];if(!kp(e,u)||!ts(r[u],e[u],t,i))return!1}return a.length===Object.keys(e).length}if(!kp(e,s)||!ts(r[s],e[s],t,i))return!1}for(s=0;s<n.length;s++){var c=n[s];if(!ts(r[c],e[c],t,i))return!1}return!0}function F_(){if(wD)return k_;wD=!0;var r=lr;function e(j){return(e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I})(j)}var t,n,i=ND().codes,o=i.ERR_AMBIGUOUS_ARGUMENT,s=i.ERR_INVALID_ARG_TYPE,a=i.ERR_INVALID_ARG_VALUE,u=i.ERR_INVALID_RETURN_VALUE,c=i.ERR_MISSING_ARGS,f=n8(),h=Ve.inspect,d=Ve.types,g=d.isPromise,b=d.isRegExp,v=Object.assign?Object.assign:w6.assign,w=Object.is?Object.is:DD;function y(){t=bD.isDeepEqual,n=bD.isDeepStrictEqual}var _=!1,E=k_=D,S={};function A(j){throw j.message instanceof Error?j.message:new f(j)}function L(j,I,se,z){if(!se){var ie=!1;if(I===0)ie=!0,z="No value argument passed to `assert.ok()`";else if(z instanceof Error)throw z;var V=new f({actual:se,expected:!0,message:z,operator:"==",stackStartFn:j});throw V.generatedMessage=ie,V}}function D(){for(var j=arguments.length,I=new Array(j),se=0;se<j;se++)I[se]=arguments[se];L.apply(void 0,[D,I.length].concat(I))}E.fail=function j(I,se,z,ie,V){var X,we=arguments.length;if(we===0)X="Failed";else if(we===1)z=I,I=void 0;else{if(_===!1){_=!0;var ve=r.emitWarning?r.emitWarning:console.warn.bind(console);ve("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}we===2&&(ie="!=")}if(z instanceof Error)throw z;var de={actual:I,expected:se,operator:ie===void 0?"fail":ie,stackStartFn:V||j};z!==void 0&&(de.message=z);var M=new f(de);throw X&&(M.message=X,M.generatedMessage=!0),M},E.AssertionError=f,E.ok=D,E.equal=function j(I,se,z){if(arguments.length<2)throw new c("actual","expected");I!=se&&A({actual:I,expected:se,message:z,operator:"==",stackStartFn:j})},E.notEqual=function j(I,se,z){if(arguments.length<2)throw new c("actual","expected");I==se&&A({actual:I,expected:se,message:z,operator:"!=",stackStartFn:j})},E.deepEqual=function j(I,se,z){if(arguments.length<2)throw new c("actual","expected");t===void 0&&y(),t(I,se)||A({actual:I,expected:se,message:z,operator:"deepEqual",stackStartFn:j})},E.notDeepEqual=function j(I,se,z){if(arguments.length<2)throw new c("actual","expected");t===void 0&&y(),t(I,se)&&A({actual:I,expected:se,message:z,operator:"notDeepEqual",stackStartFn:j})},E.deepStrictEqual=function j(I,se,z){if(arguments.length<2)throw new c("actual","expected");t===void 0&&y(),n(I,se)||A({actual:I,expected:se,message:z,operator:"deepStrictEqual",stackStartFn:j})},E.notDeepStrictEqual=function j(I,se,z){if(arguments.length<2)throw new c("actual","expected");t===void 0&&y(),n(I,se)&&A({actual:I,expected:se,message:z,operator:"notDeepStrictEqual",stackStartFn:j})},E.strictEqual=function j(I,se,z){if(arguments.length<2)throw new c("actual","expected");w(I,se)||A({actual:I,expected:se,message:z,operator:"strictEqual",stackStartFn:j})},E.notStrictEqual=function j(I,se,z){if(arguments.length<2)throw new c("actual","expected");w(I,se)&&A({actual:I,expected:se,message:z,operator:"notStrictEqual",stackStartFn:j})};var K=function j(I,se,z){var ie=this;(function(V,X){if(!(V instanceof X))throw new TypeError("Cannot call a class as a function")})(this,j),se.forEach((function(V){V in I&&(z!==void 0&&typeof z[V]=="string"&&b(I[V])&&I[V].test(z[V])?ie[V]=z[V]:ie[V]=I[V])}))};function re(j,I,se,z,ie,V){if(!(se in j)||!n(j[se],I[se])){if(!z){var X=new K(j,ie),we=new K(I,ie,j),ve=new f({actual:X,expected:we,operator:"deepStrictEqual",stackStartFn:V});throw ve.actual=j,ve.expected=I,ve.operator=V.name,ve}A({actual:j,expected:I,message:z,operator:V.name,stackStartFn:V})}}function q(j,I,se,z){if(typeof I!="function"){if(b(I))return I.test(j);if(arguments.length===2)throw new s("expected",["Function","RegExp"],I);if(e(j)!=="object"||j===null){var ie=new f({actual:j,expected:I,message:se,operator:"deepStrictEqual",stackStartFn:z});throw ie.operator=z.name,ie}var V=Object.keys(I);if(I instanceof Error)V.push("name","message");else if(V.length===0)throw new a("error",I,"may not be an empty object");return t===void 0&&y(),V.forEach((function(X){typeof j[X]=="string"&&b(I[X])&&I[X].test(j[X])||re(j,I,X,se,V,z)})),!0}return I.prototype!==void 0&&j instanceof I||!Error.isPrototypeOf(I)&&I.call({},j)===!0}function oe(j){if(typeof j!="function")throw new s("fn","Function",j);try{j()}catch(I){return I}return S}function U(j){return g(j)||j!==null&&e(j)==="object"&&typeof j.then=="function"&&typeof j.catch=="function"}function H(j){return Promise.resolve().then((function(){var I;if(typeof j=="function"){if(!U(I=j()))throw new u("instance of Promise","promiseFn",I)}else{if(!U(j))throw new s("promiseFn",["Function","Promise"],j);I=j}return Promise.resolve().then((function(){return I})).then((function(){return S})).catch((function(se){return se}))}))}function ue(j,I,se,z){if(typeof se=="string"){if(arguments.length===4)throw new s("error",["Object","Error","Function","RegExp"],se);if(e(I)==="object"&&I!==null){if(I.message===se)throw new o("error/message",'The error message "'.concat(I.message,'" is identical to the message.'))}else if(I===se)throw new o("error/message",'The error "'.concat(I,'" is identical to the message.'));z=se,se=void 0}else if(se!=null&&e(se)!=="object"&&typeof se!="function")throw new s("error",["Object","Error","Function","RegExp"],se);if(I===S){var ie="";se&&se.name&&(ie+=" (".concat(se.name,")")),ie+=z?": ".concat(z):".";var V=j.name==="rejects"?"rejection":"exception";A({actual:void 0,expected:se,operator:j.name,message:"Missing expected ".concat(V).concat(ie),stackStartFn:j})}if(se&&!q(I,se,z,j))throw I}function Se(j,I,se,z){if(I!==S){if(typeof se=="string"&&(z=se,se=void 0),!se||q(I,se)){var ie=z?": ".concat(z):".",V=j.name==="doesNotReject"?"rejection":"exception";A({actual:I,expected:se,operator:j.name,message:"Got unwanted ".concat(V).concat(ie,`
`)+'Actual message: "'.concat(I&&I.message,'"'),stackStartFn:j})}throw I}}function Ae(){for(var j=arguments.length,I=new Array(j),se=0;se<j;se++)I[se]=arguments[se];L.apply(void 0,[Ae,I.length].concat(I))}return E.throws=function j(I){for(var se=arguments.length,z=new Array(se>1?se-1:0),ie=1;ie<se;ie++)z[ie-1]=arguments[ie];ue.apply(void 0,[j,oe(I)].concat(z))},E.rejects=function j(I){for(var se=arguments.length,z=new Array(se>1?se-1:0),ie=1;ie<se;ie++)z[ie-1]=arguments[ie];return H(I).then((function(V){return ue.apply(void 0,[j,V].concat(z))}))},E.doesNotThrow=function j(I){for(var se=arguments.length,z=new Array(se>1?se-1:0),ie=1;ie<se;ie++)z[ie-1]=arguments[ie];Se.apply(void 0,[j,oe(I)].concat(z))},E.doesNotReject=function j(I){for(var se=arguments.length,z=new Array(se>1?se-1:0),ie=1;ie<se;ie++)z[ie-1]=arguments[ie];return H(I).then((function(V){return Se.apply(void 0,[j,V].concat(z))}))},E.ifError=function j(I){if(I!=null){var se="ifError got unwanted exception: ";e(I)==="object"&&typeof I.message=="string"?I.message.length===0&&I.constructor?se+=I.constructor.name:se+=I.message:se+=h(I);var z=new f({actual:I,expected:null,operator:"ifError",message:se,stackStartFn:j}),ie=I.stack;if(typeof ie=="string"){var V=ie.split(`
`);V.shift();for(var X=z.stack.split(`
`),we=0;we<V.length;we++){var ve=X.indexOf(V[we]);if(ve!==-1){X=X.slice(0,ve);break}}z.stack="".concat(X.join(`
`),`
`).concat(V.join(`
`))}throw z}},E.strict=v(Ae,E,{equal:E.strictEqual,deepEqual:E.deepStrictEqual,notEqual:E.notStrictEqual,notDeepEqual:E.notDeepStrictEqual}),E.strict.strict=E.strict,k_}var w6,vD,WR,_D,Ip,T_,qR,C_,HR,GR,Op,P0,VR,YR,v6,_6,E6,XR,U0,KR,A6,x6,S6,T6,C6,L_,ED,R6,AD,W0,D6,ZR,I6,O6,N6,R_,k6,L6,xD,Lp,Lu,D_,P6,Nu,ku,I_,O_,JR,B6,M6,F6,U6,j6,SD,QR,TD,$6,z6,W6,P_,B_,eD,q6,H6,G6,V6,Y6,CD,X6,RD,DD,U_,j_,K6,Z6,J6,Q6,e8,ID,t8,OD,r8,N_,tD,rD,nD,i8,z0,sD,oD,j0,M_,kp,$0,aD,Hn,s8,o8,lD,B0,uD,M0,a8,l8,cD,fD,hD,dD,u8,c8,f8,bD,k_,wD,pt,z_=Jt(()=>{Ne();Le();ke();fl();w6={assign:zR,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:zR})}},WR=Object.prototype.toString,_D=function(r){var e=WR.call(r),t=e==="[object Arguments]";return t||(t=e!=="[object Array]"&&r!==null&&typeof r=="object"&&typeof r.length=="number"&&r.length>=0&&WR.call(r.callee)==="[object Function]"),t};Object.keys||(Ip=Object.prototype.hasOwnProperty,T_=Object.prototype.toString,qR=_D,C_=Object.prototype.propertyIsEnumerable,HR=!C_.call({toString:null},"toString"),GR=C_.call((function(){}),"prototype"),Op=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],P0=function(r){var e=r.constructor;return e&&e.prototype===r},VR={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},YR=(function(){if(typeof window>"u")return!1;for(var r in window)try{if(!VR["$"+r]&&Ip.call(window,r)&&window[r]!==null&&typeof window[r]=="object")try{P0(window[r])}catch{return!0}}catch{return!0}return!1})(),vD=function(r){var e=r!==null&&typeof r=="object",t=T_.call(r)==="[object Function]",n=qR(r),i=e&&T_.call(r)==="[object String]",o=[];if(!e&&!t&&!n)throw new TypeError("Object.keys called on a non-object");var s=GR&&t;if(i&&r.length>0&&!Ip.call(r,0))for(var a=0;a<r.length;++a)o.push(String(a));if(n&&r.length>0)for(var u=0;u<r.length;++u)o.push(String(u));else for(var c in r)s&&c==="prototype"||!Ip.call(r,c)||o.push(String(c));if(HR)for(var f=(function(d){if(typeof window>"u"||!YR)return P0(d);try{return P0(d)}catch{return!1}})(r),h=0;h<Op.length;++h)f&&Op[h]==="constructor"||!Ip.call(r,Op[h])||o.push(Op[h]);return o});v6=vD,_6=Array.prototype.slice,E6=_D,XR=Object.keys,U0=XR?function(r){return XR(r)}:v6,KR=Object.keys;U0.shim=function(){return Object.keys?(function(){var r=Object.keys(arguments);return r&&r.length===arguments.length})(1,2)||(Object.keys=function(r){return E6(r)?KR(_6.call(r)):KR(r)}):Object.keys=U0,Object.keys||U0};A6=U0,x6=A6,S6=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",T6=Object.prototype.toString,C6=Array.prototype.concat,L_=Object.defineProperty,ED=L_&&(function(){var r={};try{for(var e in L_(r,"x",{enumerable:!1,value:r}),r)return!1;return r.x===r}catch{return!1}})(),R6=function(r,e,t,n){var i;(!(e in r)||typeof(i=n)=="function"&&T6.call(i)==="[object Function]"&&n())&&(ED?L_(r,e,{configurable:!0,enumerable:!1,value:t,writable:!0}):r[e]=t)},AD=function(r,e){var t=arguments.length>2?arguments[2]:{},n=x6(e);S6&&(n=C6.call(n,Object.getOwnPropertySymbols(e)));for(var i=0;i<n.length;i+=1)R6(r,n[i],e[n[i]],t[n[i]])};AD.supportsDescriptors=!!ED;W0=AD,D6=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var r={},e=Symbol("test"),t=Object(e);if(typeof e=="string"||Object.prototype.toString.call(e)!=="[object Symbol]"||Object.prototype.toString.call(t)!=="[object Symbol]")return!1;for(e in r[e]=42,r)return!1;if(typeof Object.keys=="function"&&Object.keys(r).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(r).length!==0)return!1;var n=Object.getOwnPropertySymbols(r);if(n.length!==1||n[0]!==e||!Object.prototype.propertyIsEnumerable.call(r,e))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var i=Object.getOwnPropertyDescriptor(r,e);if(i.value!==42||i.enumerable!==!0)return!1}return!0},ZR=(typeof globalThis<"u"?globalThis:typeof self<"u"?self:window).Symbol,I6=D6,O6=function(){return typeof ZR=="function"&&typeof Symbol=="function"&&typeof ZR("foo")=="symbol"&&typeof Symbol("bar")=="symbol"&&I6()},N6="Function.prototype.bind called on incompatible ",R_=Array.prototype.slice,k6=Object.prototype.toString,L6=function(r){var e=this;if(typeof e!="function"||k6.call(e)!=="[object Function]")throw new TypeError(N6+e);for(var t,n=R_.call(arguments,1),i=function(){if(this instanceof t){var c=e.apply(this,n.concat(R_.call(arguments)));return Object(c)===c?c:this}return e.apply(r,n.concat(R_.call(arguments)))},o=Math.max(0,e.length-n.length),s=[],a=0;a<o;a++)s.push("$"+a);if(t=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this,arguments); }")(i),e.prototype){var u=function(){};u.prototype=e.prototype,t.prototype=new u,u.prototype=null}return t},xD=Function.prototype.bind||L6,Lp=TypeError,Lu=Object.getOwnPropertyDescriptor;if(Lu)try{Lu({},"")}catch{Lu=null}D_=function(){throw new Lp},P6=Lu?(function(){try{return arguments.callee,D_}catch{try{return Lu(arguments,"callee").get}catch{return D_}}})():D_,Nu=O6(),ku=Object.getPrototypeOf||function(r){return r.__proto__},I_=typeof Uint8Array>"u"?void 0:ku(Uint8Array),O_={"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?void 0:ArrayBuffer,"%ArrayBufferPrototype%":typeof ArrayBuffer>"u"?void 0:ArrayBuffer.prototype,"%ArrayIteratorPrototype%":Nu?ku([][Symbol.iterator]()):void 0,"%ArrayPrototype%":Array.prototype,"%ArrayProto_entries%":Array.prototype.entries,"%ArrayProto_forEach%":Array.prototype.forEach,"%ArrayProto_keys%":Array.prototype.keys,"%ArrayProto_values%":Array.prototype.values,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":void 0,"%AsyncFunctionPrototype%":void 0,"%AsyncGenerator%":void 0,"%AsyncGeneratorFunction%":void 0,"%AsyncGeneratorPrototype%":void 0,"%AsyncIteratorPrototype%":void 0,"%Atomics%":typeof Atomics>"u"?void 0:Atomics,"%Boolean%":Boolean,"%BooleanPrototype%":Boolean.prototype,"%DataView%":typeof DataView>"u"?void 0:DataView,"%DataViewPrototype%":typeof DataView>"u"?void 0:DataView.prototype,"%Date%":Date,"%DatePrototype%":Date.prototype,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%ErrorPrototype%":Error.prototype,"%eval%":eval,"%EvalError%":EvalError,"%EvalErrorPrototype%":EvalError.prototype,"%Float32Array%":typeof Float32Array>"u"?void 0:Float32Array,"%Float32ArrayPrototype%":typeof Float32Array>"u"?void 0:Float32Array.prototype,"%Float64Array%":typeof Float64Array>"u"?void 0:Float64Array,"%Float64ArrayPrototype%":typeof Float64Array>"u"?void 0:Float64Array.prototype,"%Function%":Function,"%FunctionPrototype%":Function.prototype,"%Generator%":void 0,"%GeneratorFunction%":void 0,"%GeneratorPrototype%":void 0,"%Int8Array%":typeof Int8Array>"u"?void 0:Int8Array,"%Int8ArrayPrototype%":typeof Int8Array>"u"?void 0:Int8Array.prototype,"%Int16Array%":typeof Int16Array>"u"?void 0:Int16Array,"%Int16ArrayPrototype%":typeof Int16Array>"u"?void 0:Int8Array.prototype,"%Int32Array%":typeof Int32Array>"u"?void 0:Int32Array,"%Int32ArrayPrototype%":typeof Int32Array>"u"?void 0:Int32Array.prototype,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Nu?ku(ku([][Symbol.iterator]())):void 0,"%JSON%":typeof JSON=="object"?JSON:void 0,"%JSONParse%":typeof JSON=="object"?JSON.parse:void 0,"%Map%":typeof Map>"u"?void 0:Map,"%MapIteratorPrototype%":typeof Map<"u"&&Nu?ku(new Map()[Symbol.iterator]()):void 0,"%MapPrototype%":typeof Map>"u"?void 0:Map.prototype,"%Math%":Math,"%Number%":Number,"%NumberPrototype%":Number.prototype,"%Object%":Object,"%ObjectPrototype%":Object.prototype,"%ObjProto_toString%":Object.prototype.toString,"%ObjProto_valueOf%":Object.prototype.valueOf,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?void 0:Promise,"%PromisePrototype%":typeof Promise>"u"?void 0:Promise.prototype,"%PromiseProto_then%":typeof Promise>"u"?void 0:Promise.prototype.then,"%Promise_all%":typeof Promise>"u"?void 0:Promise.all,"%Promise_reject%":typeof Promise>"u"?void 0:Promise.reject,"%Promise_resolve%":typeof Promise>"u"?void 0:Promise.resolve,"%Proxy%":typeof Proxy>"u"?void 0:Proxy,"%RangeError%":RangeError,"%RangeErrorPrototype%":RangeError.prototype,"%ReferenceError%":ReferenceError,"%ReferenceErrorPrototype%":ReferenceError.prototype,"%Reflect%":typeof Reflect>"u"?void 0:Reflect,"%RegExp%":RegExp,"%RegExpPrototype%":RegExp.prototype,"%Set%":typeof Set>"u"?void 0:Set,"%SetIteratorPrototype%":typeof Set<"u"&&Nu?ku(new Set()[Symbol.iterator]()):void 0,"%SetPrototype%":typeof Set>"u"?void 0:Set.prototype,"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?void 0:SharedArrayBuffer,"%SharedArrayBufferPrototype%":typeof SharedArrayBuffer>"u"?void 0:SharedArrayBuffer.prototype,"%String%":String,"%StringIteratorPrototype%":Nu?ku(""[Symbol.iterator]()):void 0,"%StringPrototype%":String.prototype,"%Symbol%":Nu?Symbol:void 0,"%SymbolPrototype%":Nu?Symbol.prototype:void 0,"%SyntaxError%":SyntaxError,"%SyntaxErrorPrototype%":SyntaxError.prototype,"%ThrowTypeError%":P6,"%TypedArray%":I_,"%TypedArrayPrototype%":I_?I_.prototype:void 0,"%TypeError%":Lp,"%TypeErrorPrototype%":Lp.prototype,"%Uint8Array%":typeof Uint8Array>"u"?void 0:Uint8Array,"%Uint8ArrayPrototype%":typeof Uint8Array>"u"?void 0:Uint8Array.prototype,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?void 0:Uint8ClampedArray,"%Uint8ClampedArrayPrototype%":typeof Uint8ClampedArray>"u"?void 0:Uint8ClampedArray.prototype,"%Uint16Array%":typeof Uint16Array>"u"?void 0:Uint16Array,"%Uint16ArrayPrototype%":typeof Uint16Array>"u"?void 0:Uint16Array.prototype,"%Uint32Array%":typeof Uint32Array>"u"?void 0:Uint32Array,"%Uint32ArrayPrototype%":typeof Uint32Array>"u"?void 0:Uint32Array.prototype,"%URIError%":URIError,"%URIErrorPrototype%":URIError.prototype,"%WeakMap%":typeof WeakMap>"u"?void 0:WeakMap,"%WeakMapPrototype%":typeof WeakMap>"u"?void 0:WeakMap.prototype,"%WeakSet%":typeof WeakSet>"u"?void 0:WeakSet,"%WeakSetPrototype%":typeof WeakSet>"u"?void 0:WeakSet.prototype},JR=xD.call(Function.call,String.prototype.replace),B6=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,M6=/\\(\\)?/g,F6=function(r){var e=[];return JR(r,B6,(function(t,n,i,o){e[e.length]=i?JR(o,M6,"$1"):n||t})),e},U6=function(r,e){if(!(r in O_))throw new SyntaxError("intrinsic "+r+" does not exist!");if(O_[r]===void 0&&!e)throw new Lp("intrinsic "+r+" exists, but is not available. Please file an issue!");return O_[r]},j6=function(r,e){if(r.length===0)throw new TypeError("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof e!="boolean")throw new TypeError('"allowMissing" argument must be a boolean');for(var t=F6(r),n=U6("%"+(t.length>0?t[0]:"")+"%",e),i=1;i<t.length;i+=1)if(n!=null)if(Lu&&i+1>=t.length){var o=Lu(n,t[i]);if(!(t[i]in n))throw new Lp("base intrinsic for "+r+" exists, but the property is not available.");n=o?o.get||o.value:n[t[i]]}else n=n[t[i]];return n},QR=xD,TD=j6("%Function%"),$6=TD.apply,z6=TD.call;(SD=function(){return QR.apply(z6,arguments)}).apply=function(){return QR.apply($6,arguments)};W6=SD,eD=function(r){return r!=r},q6=(P_=function(r,e){return r===0&&e===0?1/r==1/e:r===e||!(!eD(r)||!eD(e))},P_),H6=(B_=function(){return typeof Object.is=="function"?Object.is:q6},B_),G6=W0,V6=W0,Y6=P_,CD=B_,X6=function(){var r=H6();return G6(Object,{is:r},{is:function(){return Object.is!==r}}),r},RD=W6(CD(),Object);V6(RD,{getPolyfill:CD,implementation:Y6,shim:X6});DD=RD;U_=function(r){return r!=r};K6=U_,Z6=(j_=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:K6},W0),J6=j_,Q6=W0,e8=U_,ID=j_,t8=function(){var r=J6();return Z6(Number,{isNaN:r},{isNaN:function(){return Number.isNaN!==r}}),r},OD=ID();Q6(OD,{getPolyfill:ID,implementation:e8,shim:t8});r8=OD,N_={},tD=!1;rD={},nD=!1;i8=/a/g.flags!==void 0,z0=function(r){var e=[];return r.forEach((function(t){return e.push(t)})),e},sD=function(r){var e=[];return r.forEach((function(t,n){return e.push([n,t])})),e},oD=Object.is?Object.is:DD,j0=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},M_=Number.isNaN?Number.isNaN:r8;kp=$_(Object.prototype.hasOwnProperty),$0=$_(Object.prototype.propertyIsEnumerable),aD=$_(Object.prototype.toString),Hn=Ve.types,s8=Hn.isAnyArrayBuffer,o8=Hn.isArrayBufferView,lD=Hn.isDate,B0=Hn.isMap,uD=Hn.isRegExp,M0=Hn.isSet,a8=Hn.isNativeError,l8=Hn.isBoxedPrimitive,cD=Hn.isNumberObject,fD=Hn.isStringObject,hD=Hn.isBooleanObject,dD=Hn.isBigIntObject,u8=Hn.isSymbolObject,c8=Hn.isFloat32Array,f8=Hn.isFloat64Array;bD={isDeepEqual:function(r,e){return ts(r,e,!1)},isDeepStrictEqual:function(r,e){return ts(r,e,!0)}},k_={},wD=!1;pt=F_();pt.AssertionError;pt.deepEqual;pt.deepStrictEqual;pt.doesNotReject;pt.doesNotThrow;pt.equal;pt.fail;pt.ifError;pt.notDeepEqual;pt.notDeepStrictEqual;pt.notEqual;pt.notStrictEqual;pt.ok;pt.rejects;pt.strict;pt.strictEqual;pt.throws;pt.AssertionError;pt.deepEqual;pt.deepStrictEqual;pt.doesNotReject;pt.doesNotThrow;pt.equal;pt.fail;pt.ifError;pt.notDeepEqual;pt.notDeepStrictEqual;pt.notEqual;pt.notStrictEqual;pt.ok;pt.rejects;pt.strict;pt.strictEqual;pt.throws;pt.AssertionError;pt.deepEqual;pt.deepStrictEqual;pt.doesNotReject;pt.doesNotThrow;pt.equal;pt.fail;pt.ifError;pt.notDeepEqual;pt.notDeepStrictEqual;pt.notEqual;pt.notStrictEqual;pt.ok;pt.rejects;pt.strict;pt.strictEqual;pt.throws});var W_,q0=Jt(()=>{Ne();Le();ke();fl();Ve._extend;Ve.callbackify;Ve.debuglog;Ve.deprecate;Ve.format;Ve.inherits;Ve.inspect;Ve.isArray;Ve.isBoolean;Ve.isBuffer;Ve.isDate;Ve.isError;Ve.isFunction;Ve.isNull;Ve.isNullOrUndefined;Ve.isNumber;Ve.isObject;Ve.isPrimitive;Ve.isRegExp;Ve.isString;Ve.isSymbol;Ve.isUndefined;Ve.log;W_=Ve.promisify;Ve.types;Ve.TextEncoder=globalThis.TextEncoder;Ve.TextDecoder=globalThis.TextDecoder});function m8(){if(LD)return q_;LD=!0;var r=q_={},e,t;function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=n}catch{e=n}try{typeof clearTimeout=="function"?t=clearTimeout:t=i}catch{t=i}})();function o(v){if(e===setTimeout)return setTimeout(v,0);if((e===n||!e)&&setTimeout)return e=setTimeout,setTimeout(v,0);try{return e(v,0)}catch{try{return e.call(null,v,0)}catch{return e.call(this||Wf,v,0)}}}function s(v){if(t===clearTimeout)return clearTimeout(v);if((t===i||!t)&&clearTimeout)return t=clearTimeout,clearTimeout(v);try{return t(v)}catch{try{return t.call(null,v)}catch{return t.call(this||Wf,v)}}}var a=[],u=!1,c,f=-1;function h(){!u||!c||(u=!1,c.length?a=c.concat(a):f=-1,a.length&&d())}function d(){if(!u){var v=o(h);u=!0;for(var w=a.length;w;){for(c=a,a=[];++f<w;)c&&c[f].run();f=-1,w=a.length}c=null,u=!1,s(v)}}r.nextTick=function(v){var w=new Array(arguments.length-1);if(arguments.length>1)for(var y=1;y<arguments.length;y++)w[y-1]=arguments[y];a.push(new g(v,w)),a.length===1&&!u&&o(d)};function g(v,w){(this||Wf).fun=v,(this||Wf).array=w}g.prototype.run=function(){(this||Wf).fun.apply(null,(this||Wf).array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={};function b(){}return r.on=b,r.addListener=b,r.once=b,r.off=b,r.removeListener=b,r.removeAllListeners=b,r.emit=b,r.prependListener=b,r.prependOnceListener=b,r.listeners=function(v){return[]},r.binding=function(v){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(v){throw new Error("process.chdir is not supported")},r.umask=function(){return 0},q_}var q_,LD,Wf,Gt,qf=Jt(()=>{Ne();Le();ke();q_={},LD=!1,Wf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:window;Gt=m8();Gt.platform="browser";Gt.addListener;Gt.argv;Gt.binding;Gt.browser;Gt.chdir;Gt.cwd;Gt.emit;Gt.env;Gt.listeners;Gt.nextTick;Gt.off;Gt.on;Gt.once;Gt.prependListener;Gt.prependOnceListener;Gt.removeAllListeners;Gt.removeListener;Gt.title;Gt.umask;Gt.version;Gt.versions});function y8(){if(PD)return H_;PD=!0;var r=Gt;function e(o){if(typeof o!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(o))}function t(o,s){for(var a="",u=0,c=-1,f=0,h,d=0;d<=o.length;++d){if(d<o.length)h=o.charCodeAt(d);else{if(h===47)break;h=47}if(h===47){if(!(c===d-1||f===1))if(c!==d-1&&f===2){if(a.length<2||u!==2||a.charCodeAt(a.length-1)!==46||a.charCodeAt(a.length-2)!==46){if(a.length>2){var g=a.lastIndexOf("/");if(g!==a.length-1){g===-1?(a="",u=0):(a=a.slice(0,g),u=a.length-1-a.lastIndexOf("/")),c=d,f=0;continue}}else if(a.length===2||a.length===1){a="",u=0,c=d,f=0;continue}}s&&(a.length>0?a+="/..":a="..",u=2)}else a.length>0?a+="/"+o.slice(c+1,d):a=o.slice(c+1,d),u=d-c-1;c=d,f=0}else h===46&&f!==-1?++f:f=-1}return a}function n(o,s){var a=s.dir||s.root,u=s.base||(s.name||"")+(s.ext||"");return a?a===s.root?a+u:a+o+u:u}var i={resolve:function(){for(var s="",a=!1,u,c=arguments.length-1;c>=-1&&!a;c--){var f;c>=0?f=arguments[c]:(u===void 0&&(u=r.cwd()),f=u),e(f),f.length!==0&&(s=f+"/"+s,a=f.charCodeAt(0)===47)}return s=t(s,!a),a?s.length>0?"/"+s:"/":s.length>0?s:"."},normalize:function(s){if(e(s),s.length===0)return".";var a=s.charCodeAt(0)===47,u=s.charCodeAt(s.length-1)===47;return s=t(s,!a),s.length===0&&!a&&(s="."),s.length>0&&u&&(s+="/"),a?"/"+s:s},isAbsolute:function(s){return e(s),s.length>0&&s.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var s,a=0;a<arguments.length;++a){var u=arguments[a];e(u),u.length>0&&(s===void 0?s=u:s+="/"+u)}return s===void 0?".":i.normalize(s)},relative:function(s,a){if(e(s),e(a),s===a||(s=i.resolve(s),a=i.resolve(a),s===a))return"";for(var u=1;u<s.length&&s.charCodeAt(u)===47;++u);for(var c=s.length,f=c-u,h=1;h<a.length&&a.charCodeAt(h)===47;++h);for(var d=a.length,g=d-h,b=f<g?f:g,v=-1,w=0;w<=b;++w){if(w===b){if(g>b){if(a.charCodeAt(h+w)===47)return a.slice(h+w+1);if(w===0)return a.slice(h+w)}else f>b&&(s.charCodeAt(u+w)===47?v=w:w===0&&(v=0));break}var y=s.charCodeAt(u+w),_=a.charCodeAt(h+w);if(y!==_)break;y===47&&(v=w)}var E="";for(w=u+v+1;w<=c;++w)(w===c||s.charCodeAt(w)===47)&&(E.length===0?E+="..":E+="/..");return E.length>0?E+a.slice(h+v):(h+=v,a.charCodeAt(h)===47&&++h,a.slice(h))},_makeLong:function(s){return s},dirname:function(s){if(e(s),s.length===0)return".";for(var a=s.charCodeAt(0),u=a===47,c=-1,f=!0,h=s.length-1;h>=1;--h)if(a=s.charCodeAt(h),a===47){if(!f){c=h;break}}else f=!1;return c===-1?u?"/":".":u&&c===1?"//":s.slice(0,c)},basename:function(s,a){if(a!==void 0&&typeof a!="string")throw new TypeError('"ext" argument must be a string');e(s);var u=0,c=-1,f=!0,h;if(a!==void 0&&a.length>0&&a.length<=s.length){if(a.length===s.length&&a===s)return"";var d=a.length-1,g=-1;for(h=s.length-1;h>=0;--h){var b=s.charCodeAt(h);if(b===47){if(!f){u=h+1;break}}else g===-1&&(f=!1,g=h+1),d>=0&&(b===a.charCodeAt(d)?--d===-1&&(c=h):(d=-1,c=g))}return u===c?c=g:c===-1&&(c=s.length),s.slice(u,c)}else{for(h=s.length-1;h>=0;--h)if(s.charCodeAt(h)===47){if(!f){u=h+1;break}}else c===-1&&(f=!1,c=h+1);return c===-1?"":s.slice(u,c)}},extname:function(s){e(s);for(var a=-1,u=0,c=-1,f=!0,h=0,d=s.length-1;d>=0;--d){var g=s.charCodeAt(d);if(g===47){if(!f){u=d+1;break}continue}c===-1&&(f=!1,c=d+1),g===46?a===-1?a=d:h!==1&&(h=1):a!==-1&&(h=-1)}return a===-1||c===-1||h===0||h===1&&a===c-1&&a===u+1?"":s.slice(a,c)},format:function(s){if(s===null||typeof s!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof s);return n("/",s)},parse:function(s){e(s);var a={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return a;var u=s.charCodeAt(0),c=u===47,f;c?(a.root="/",f=1):f=0;for(var h=-1,d=0,g=-1,b=!0,v=s.length-1,w=0;v>=f;--v){if(u=s.charCodeAt(v),u===47){if(!b){d=v+1;break}continue}g===-1&&(b=!1,g=v+1),u===46?h===-1?h=v:w!==1&&(w=1):h!==-1&&(w=-1)}return h===-1||g===-1||w===0||w===1&&h===g-1&&h===d+1?g!==-1&&(d===0&&c?a.base=a.name=s.slice(1,g):a.base=a.name=s.slice(d,g)):(d===0&&c?(a.name=s.slice(1,h),a.base=s.slice(1,g)):(a.name=s.slice(d,h),a.base=s.slice(d,g)),a.ext=s.slice(h,g)),d>0?a.dir=s.slice(0,d-1):c&&(a.dir="/"),a},sep:"/",delimiter:":",win32:null,posix:null};return i.posix=i,H_=i,H_}function Pu(r){throw new RangeError(_8[r])}function BD(r,e){let t=r.split("@"),n="";t.length>1&&(n=t[0]+"@",r=t[1]);let i=(function(o,s){let a=[],u=o.length;for(;u--;)a[u]=s(o[u]);return a})((r=r.replace(v8,".")).split("."),e).join(".");return n+i}function HD(r){let e=[],t=0,n=r.length;for(;t<n;){let i=r.charCodeAt(t++);if(i>=55296&&i<=56319&&t<n){let o=r.charCodeAt(t++);(64512&o)==56320?e.push(((1023&i)<<10)+(1023&o)+65536):(e.push(i),t--)}else e.push(i)}return e}function A8(r,e){return Object.prototype.hasOwnProperty.call(r,e)}function rs(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function Bp(r,e,t){if(r&&Qs.isObject(r)&&r instanceof rs)return r;var n=new rs;return n.parse(r,e,t),n}function k8(){if(WD)return X_;WD=!0;var r=lr;function e(o){if(typeof o!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(o))}function t(o,s){for(var a="",u=0,c=-1,f=0,h,d=0;d<=o.length;++d){if(d<o.length)h=o.charCodeAt(d);else{if(h===47)break;h=47}if(h===47){if(!(c===d-1||f===1))if(c!==d-1&&f===2){if(a.length<2||u!==2||a.charCodeAt(a.length-1)!==46||a.charCodeAt(a.length-2)!==46){if(a.length>2){var g=a.lastIndexOf("/");if(g!==a.length-1){g===-1?(a="",u=0):(a=a.slice(0,g),u=a.length-1-a.lastIndexOf("/")),c=d,f=0;continue}}else if(a.length===2||a.length===1){a="",u=0,c=d,f=0;continue}}s&&(a.length>0?a+="/..":a="..",u=2)}else a.length>0?a+="/"+o.slice(c+1,d):a=o.slice(c+1,d),u=d-c-1;c=d,f=0}else h===46&&f!==-1?++f:f=-1}return a}function n(o,s){var a=s.dir||s.root,u=s.base||(s.name||"")+(s.ext||"");return a?a===s.root?a+u:a+o+u:u}var i={resolve:function(){for(var s="",a=!1,u,c=arguments.length-1;c>=-1&&!a;c--){var f;c>=0?f=arguments[c]:(u===void 0&&(u=r.cwd()),f=u),e(f),f.length!==0&&(s=f+"/"+s,a=f.charCodeAt(0)===47)}return s=t(s,!a),a?s.length>0?"/"+s:"/":s.length>0?s:"."},normalize:function(s){if(e(s),s.length===0)return".";var a=s.charCodeAt(0)===47,u=s.charCodeAt(s.length-1)===47;return s=t(s,!a),s.length===0&&!a&&(s="."),s.length>0&&u&&(s+="/"),a?"/"+s:s},isAbsolute:function(s){return e(s),s.length>0&&s.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var s,a=0;a<arguments.length;++a){var u=arguments[a];e(u),u.length>0&&(s===void 0?s=u:s+="/"+u)}return s===void 0?".":i.normalize(s)},relative:function(s,a){if(e(s),e(a),s===a||(s=i.resolve(s),a=i.resolve(a),s===a))return"";for(var u=1;u<s.length&&s.charCodeAt(u)===47;++u);for(var c=s.length,f=c-u,h=1;h<a.length&&a.charCodeAt(h)===47;++h);for(var d=a.length,g=d-h,b=f<g?f:g,v=-1,w=0;w<=b;++w){if(w===b){if(g>b){if(a.charCodeAt(h+w)===47)return a.slice(h+w+1);if(w===0)return a.slice(h+w)}else f>b&&(s.charCodeAt(u+w)===47?v=w:w===0&&(v=0));break}var y=s.charCodeAt(u+w),_=a.charCodeAt(h+w);if(y!==_)break;y===47&&(v=w)}var E="";for(w=u+v+1;w<=c;++w)(w===c||s.charCodeAt(w)===47)&&(E.length===0?E+="..":E+="/..");return E.length>0?E+a.slice(h+v):(h+=v,a.charCodeAt(h)===47&&++h,a.slice(h))},_makeLong:function(s){return s},dirname:function(s){if(e(s),s.length===0)return".";for(var a=s.charCodeAt(0),u=a===47,c=-1,f=!0,h=s.length-1;h>=1;--h)if(a=s.charCodeAt(h),a===47){if(!f){c=h;break}}else f=!1;return c===-1?u?"/":".":u&&c===1?"//":s.slice(0,c)},basename:function(s,a){if(a!==void 0&&typeof a!="string")throw new TypeError('"ext" argument must be a string');e(s);var u=0,c=-1,f=!0,h;if(a!==void 0&&a.length>0&&a.length<=s.length){if(a.length===s.length&&a===s)return"";var d=a.length-1,g=-1;for(h=s.length-1;h>=0;--h){var b=s.charCodeAt(h);if(b===47){if(!f){u=h+1;break}}else g===-1&&(f=!1,g=h+1),d>=0&&(b===a.charCodeAt(d)?--d===-1&&(c=h):(d=-1,c=g))}return u===c?c=g:c===-1&&(c=s.length),s.slice(u,c)}else{for(h=s.length-1;h>=0;--h)if(s.charCodeAt(h)===47){if(!f){u=h+1;break}}else c===-1&&(f=!1,c=h+1);return c===-1?"":s.slice(u,c)}},extname:function(s){e(s);for(var a=-1,u=0,c=-1,f=!0,h=0,d=s.length-1;d>=0;--d){var g=s.charCodeAt(d);if(g===47){if(!f){u=d+1;break}continue}c===-1&&(f=!1,c=d+1),g===46?a===-1?a=d:h!==1&&(h=1):a!==-1&&(h=-1)}return a===-1||c===-1||h===0||h===1&&a===c-1&&a===u+1?"":s.slice(a,c)},format:function(s){if(s===null||typeof s!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof s);return n("/",s)},parse:function(s){e(s);var a={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return a;var u=s.charCodeAt(0),c=u===47,f;c?(a.root="/",f=1):f=0;for(var h=-1,d=0,g=-1,b=!0,v=s.length-1,w=0;v>=f;--v){if(u=s.charCodeAt(v),u===47){if(!b){d=v+1;break}continue}g===-1&&(b=!1,g=v+1),u===46?h===-1?h=v:w!==1&&(w=1):h!==-1&&(w=-1)}return h===-1||g===-1||w===0||w===1&&h===g-1&&h===d+1?g!==-1&&(d===0&&c?a.base=a.name=s.slice(1,g):a.base=a.name=s.slice(d,g)):(d===0&&c?(a.name=s.slice(1,h),a.base=s.slice(1,g)):(a.name=s.slice(d,h),a.base=s.slice(d,g)),a.ext=s.slice(h,g)),d>0?a.dir=s.slice(0,d-1):c&&(a.dir="/"),a},sep:"/",delimiter:":",win32:null,posix:null};return i.posix=i,X_=i,X_}function H8(r){if(typeof r=="string")r=new URL(r);else if(!(r instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(r.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return Z_?G8(r):V8(r)}function G8(r){let e=r.hostname,t=r.pathname;for(let n=0;n<t.length;n++)if(t[n]==="%"){let i=t.codePointAt(n+2)||32;if(t[n+1]==="2"&&i===102||t[n+1]==="5"&&i===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(t=t.replace(U8,"\\"),t=decodeURIComponent(t),e!=="")return`\\\\${e}${t}`;{let n=t.codePointAt(1)|32,i=t[2];if(n<M8||n>F8||i!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return t.slice(1)}}function V8(r){if(r.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let e=r.pathname;for(let t=0;t<e.length;t++)if(e[t]==="%"){let n=e.codePointAt(t+2)||32;if(e[t+1]==="2"&&n===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(e)}function Y8(r){let e=qD.resolve(r),t=r.charCodeAt(r.length-1);(t===B8||Z_&&t===P8)&&e[e.length-1]!==qD.sep&&(e+="/");let n=new URL("file://");return e.includes("%")&&(e=e.replace(j8,"%25")),!Z_&&e.includes("\\")&&(e=e.replace($8,"%5C")),e.includes(`
`)&&(e=e.replace(z8,"%0A")),e.includes("\r")&&(e=e.replace(W8,"%0D")),e.includes("	")&&(e=e.replace(q8,"%09")),n.pathname=e,n}function o4(r){if(typeof r=="string")r=new URL(r);else if(!(r instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(r.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return J_?a4(r):l4(r)}function a4(r){let e=r.hostname,t=r.pathname;for(let n=0;n<t.length;n++)if(t[n]==="%"){let i=t.codePointAt(n+2)||32;if(t[n+1]==="2"&&i===102||t[n+1]==="5"&&i===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(t=t.replace(e4,"\\"),t=decodeURIComponent(t),e!=="")return`\\\\${e}${t}`;{let n=t.codePointAt(1)|32,i=t[2];if(n<J8||n>Q8||i!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return t.slice(1)}}function l4(r){if(r.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let e=r.pathname;for(let t=0;t<e.length;t++)if(e[t]==="%"){let n=e.codePointAt(t+2)||32;if(e[t+1]==="2"&&n===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(e)}function u4(r){let e=rn.resolve(r),t=r.charCodeAt(r.length-1);(t===Z8||J_&&t===K8)&&e[e.length-1]!==rn.sep&&(e+="/");let n=new URL("file://");return e.includes("%")&&(e=e.replace(t4,"%25")),!J_&&e.includes("\\")&&(e=e.replace(r4,"%5C")),e.includes(`
`)&&(e=e.replace(n4,"%0A")),e.includes("\r")&&(e=e.replace(i4,"%0D")),e.includes("	")&&(e=e.replace(s4,"%09")),n.pathname=e,n}var H_,PD,rn,Gf,b8,w8,v8,_8,eo,G_,MD,GD,FD,UD,E8,x8,Pp,S8,Go,Qt,T8,Qs,C8,R8,D8,I8,K_,jD,$D,zD,O8,N8,V_,Hf,Y_,X_,WD,qD,L8,P8,B8,M8,F8,Z_,U8,j8,$8,z8,W8,q8,X8,K8,Z8,J8,Q8,J_,e4,t4,r4,n4,i4,s4,VD=Jt(()=>{Ne();Le();ke();fl();qf();H_={},PD=!1;rn=y8(),Gf=2147483647,b8=/^xn--/,w8=/[^\0-\x7E]/,v8=/[\x2E\u3002\uFF0E\uFF61]/g,_8={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},eo=Math.floor,G_=String.fromCharCode;MD=function(r,e){return r+22+75*(r<26)-((e!=0)<<5)},GD=function(r,e,t){let n=0;for(r=t?eo(r/700):r>>1,r+=eo(r/e);r>455;n+=36)r=eo(r/35);return eo(n+36*r/(r+38))},FD=function(r){let e=[],t=r.length,n=0,i=128,o=72,s=r.lastIndexOf("-");s<0&&(s=0);for(let u=0;u<s;++u)r.charCodeAt(u)>=128&&Pu("not-basic"),e.push(r.charCodeAt(u));for(let u=s>0?s+1:0;u<t;){let c=n;for(let h=1,d=36;;d+=36){u>=t&&Pu("invalid-input");let g=(a=r.charCodeAt(u++))-48<10?a-22:a-65<26?a-65:a-97<26?a-97:36;(g>=36||g>eo((Gf-n)/h))&&Pu("overflow"),n+=g*h;let b=d<=o?1:d>=o+26?26:d-o;if(g<b)break;let v=36-b;h>eo(Gf/v)&&Pu("overflow"),h*=v}let f=e.length+1;o=GD(n-c,f,c==0),eo(n/f)>Gf-i&&Pu("overflow"),i+=eo(n/f),n%=f,e.splice(n++,0,i)}var a;return String.fromCodePoint(...e)},UD=function(r){let e=[],t=(r=HD(r)).length,n=128,i=0,o=72;for(let u of r)u<128&&e.push(G_(u));let s=e.length,a=s;for(s&&e.push("-");a<t;){let u=Gf;for(let f of r)f>=n&&f<u&&(u=f);let c=a+1;u-n>eo((Gf-i)/c)&&Pu("overflow"),i+=(u-n)*c,n=u;for(let f of r)if(f<n&&++i>Gf&&Pu("overflow"),f==n){let h=i;for(let d=36;;d+=36){let g=d<=o?1:d>=o+26?26:d-o;if(h<g)break;let b=h-g,v=36-g;e.push(G_(MD(g+b%v,0))),h=eo(b/v)}e.push(G_(MD(h,0))),o=GD(i,c,a==s),i=0,++a}++i,++n}return e.join("")},E8={version:"2.1.0",ucs2:{decode:HD,encode:r=>String.fromCodePoint(...r)},decode:FD,encode:UD,toASCII:function(r){return BD(r,(function(e){return w8.test(e)?"xn--"+UD(e):e}))},toUnicode:function(r){return BD(r,(function(e){return b8.test(e)?FD(e.slice(4).toLowerCase()):e}))}};x8=function(r,e,t,n){e=e||"&",t=t||"=";var i={};if(typeof r!="string"||r.length===0)return i;var o=/\+/g;r=r.split(e);var s=1e3;n&&typeof n.maxKeys=="number"&&(s=n.maxKeys);var a=r.length;s>0&&a>s&&(a=s);for(var u=0;u<a;++u){var c,f,h,d,g=r[u].replace(o,"%20"),b=g.indexOf(t);b>=0?(c=g.substr(0,b),f=g.substr(b+1)):(c=g,f=""),h=decodeURIComponent(c),d=decodeURIComponent(f),A8(i,h)?Array.isArray(i[h])?i[h].push(d):i[h]=[i[h],d]:i[h]=d}return i},Pp=function(r){switch(typeof r){case"string":return r;case"boolean":return r?"true":"false";case"number":return isFinite(r)?r:"";default:return""}},S8=function(r,e,t,n){return e=e||"&",t=t||"=",r===null&&(r=void 0),typeof r=="object"?Object.keys(r).map((function(i){var o=encodeURIComponent(Pp(i))+t;return Array.isArray(r[i])?r[i].map((function(s){return o+encodeURIComponent(Pp(s))})).join(e):o+encodeURIComponent(Pp(r[i]))})).join(e):n?encodeURIComponent(Pp(n))+t+encodeURIComponent(Pp(r)):""},Go={};Go.decode=Go.parse=x8,Go.encode=Go.stringify=S8;Go.decode;Go.encode;Go.parse;Go.stringify;Qt={},T8=E8,Qs={isString:function(r){return typeof r=="string"},isObject:function(r){return typeof r=="object"&&r!==null},isNull:function(r){return r===null},isNullOrUndefined:function(r){return r==null}};Qt.parse=Bp,Qt.resolve=function(r,e){return Bp(r,!1,!0).resolve(e)},Qt.resolveObject=function(r,e){return r?Bp(r,!1,!0).resolveObject(e):e},Qt.format=function(r){return Qs.isString(r)&&(r=Bp(r)),r instanceof rs?r.format():rs.prototype.format.call(r)},Qt.Url=rs;C8=/^([a-z0-9.+-]+:)/i,R8=/:[0-9]*$/,D8=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,I8=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),K_=["'"].concat(I8),jD=["%","/","?",";","#"].concat(K_),$D=["/","?","#"],zD=/^[+a-z0-9A-Z_-]{0,63}$/,O8=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,N8={javascript:!0,"javascript:":!0},V_={javascript:!0,"javascript:":!0},Hf={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Y_=Go;rs.prototype.parse=function(r,e,t){if(!Qs.isString(r))throw new TypeError("Parameter 'url' must be a string, not "+typeof r);var n=r.indexOf("?"),i=n!==-1&&n<r.indexOf("#")?"?":"#",o=r.split(i);o[0]=o[0].replace(/\\/g,"/");var s=r=o.join(i);if(s=s.trim(),!t&&r.split("#").length===1){var a=D8.exec(s);if(a)return this.path=s,this.href=s,this.pathname=a[1],a[2]?(this.search=a[2],this.query=e?Y_.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var u=C8.exec(s);if(u){var c=(u=u[0]).toLowerCase();this.protocol=c,s=s.substr(u.length)}if(t||u||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var f=s.substr(0,2)==="//";!f||u&&V_[u]||(s=s.substr(2),this.slashes=!0)}if(!V_[u]&&(f||u&&!Hf[u])){for(var h,d,g=-1,b=0;b<$D.length;b++)(v=s.indexOf($D[b]))!==-1&&(g===-1||v<g)&&(g=v);for((d=g===-1?s.lastIndexOf("@"):s.lastIndexOf("@",g))!==-1&&(h=s.slice(0,d),s=s.slice(d+1),this.auth=decodeURIComponent(h)),g=-1,b=0;b<jD.length;b++){var v;(v=s.indexOf(jD[b]))!==-1&&(g===-1||v<g)&&(g=v)}g===-1&&(g=s.length),this.host=s.slice(0,g),s=s.slice(g),this.parseHost(),this.hostname=this.hostname||"";var w=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!w)for(var y=this.hostname.split(/\./),_=(b=0,y.length);b<_;b++){var E=y[b];if(E&&!E.match(zD)){for(var S="",A=0,L=E.length;A<L;A++)E.charCodeAt(A)>127?S+="x":S+=E[A];if(!S.match(zD)){var D=y.slice(0,b),K=y.slice(b+1),re=E.match(O8);re&&(D.push(re[1]),K.unshift(re[2])),K.length&&(s="/"+K.join(".")+s),this.hostname=D.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),w||(this.hostname=T8.toASCII(this.hostname));var q=this.port?":"+this.port:"",oe=this.hostname||"";this.host=oe+q,this.href+=this.host,w&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),s[0]!=="/"&&(s="/"+s))}if(!N8[c])for(b=0,_=K_.length;b<_;b++){var U=K_[b];if(s.indexOf(U)!==-1){var H=encodeURIComponent(U);H===U&&(H=escape(U)),s=s.split(U).join(H)}}var ue=s.indexOf("#");ue!==-1&&(this.hash=s.substr(ue),s=s.slice(0,ue));var Se=s.indexOf("?");if(Se!==-1?(this.search=s.substr(Se),this.query=s.substr(Se+1),e&&(this.query=Y_.parse(this.query)),s=s.slice(0,Se)):e&&(this.search="",this.query={}),s&&(this.pathname=s),Hf[c]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){q=this.pathname||"";var Ae=this.search||"";this.path=q+Ae}return this.href=this.format(),this},rs.prototype.format=function(){var r=this.auth||"";r&&(r=(r=encodeURIComponent(r)).replace(/%3A/i,":"),r+="@");var e=this.protocol||"",t=this.pathname||"",n=this.hash||"",i=!1,o="";this.host?i=r+this.host:this.hostname&&(i=r+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&Qs.isObject(this.query)&&Object.keys(this.query).length&&(o=Y_.stringify(this.query));var s=this.search||o&&"?"+o||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||Hf[e])&&i!==!1?(i="//"+(i||""),t&&t.charAt(0)!=="/"&&(t="/"+t)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),s&&s.charAt(0)!=="?"&&(s="?"+s),e+i+(t=t.replace(/[?#]/g,(function(a){return encodeURIComponent(a)})))+(s=s.replace("#","%23"))+n},rs.prototype.resolve=function(r){return this.resolveObject(Bp(r,!1,!0)).format()},rs.prototype.resolveObject=function(r){if(Qs.isString(r)){var e=new rs;e.parse(r,!1,!0),r=e}for(var t=new rs,n=Object.keys(this),i=0;i<n.length;i++){var o=n[i];t[o]=this[o]}if(t.hash=r.hash,r.href==="")return t.href=t.format(),t;if(r.slashes&&!r.protocol){for(var s=Object.keys(r),a=0;a<s.length;a++){var u=s[a];u!=="protocol"&&(t[u]=r[u])}return Hf[t.protocol]&&t.hostname&&!t.pathname&&(t.path=t.pathname="/"),t.href=t.format(),t}if(r.protocol&&r.protocol!==t.protocol){if(!Hf[r.protocol]){for(var c=Object.keys(r),f=0;f<c.length;f++){var h=c[f];t[h]=r[h]}return t.href=t.format(),t}if(t.protocol=r.protocol,r.host||V_[r.protocol])t.pathname=r.pathname;else{for(var d=(r.pathname||"").split("/");d.length&&!(r.host=d.shift()););r.host||(r.host=""),r.hostname||(r.hostname=""),d[0]!==""&&d.unshift(""),d.length<2&&d.unshift(""),t.pathname=d.join("/")}if(t.search=r.search,t.query=r.query,t.host=r.host||"",t.auth=r.auth,t.hostname=r.hostname||r.host,t.port=r.port,t.pathname||t.search){var g=t.pathname||"",b=t.search||"";t.path=g+b}return t.slashes=t.slashes||r.slashes,t.href=t.format(),t}var v=t.pathname&&t.pathname.charAt(0)==="/",w=r.host||r.pathname&&r.pathname.charAt(0)==="/",y=w||v||t.host&&r.pathname,_=y,E=t.pathname&&t.pathname.split("/")||[],S=(d=r.pathname&&r.pathname.split("/")||[],t.protocol&&!Hf[t.protocol]);if(S&&(t.hostname="",t.port=null,t.host&&(E[0]===""?E[0]=t.host:E.unshift(t.host)),t.host="",r.protocol&&(r.hostname=null,r.port=null,r.host&&(d[0]===""?d[0]=r.host:d.unshift(r.host)),r.host=null),y=y&&(d[0]===""||E[0]==="")),w)t.host=r.host||r.host===""?r.host:t.host,t.hostname=r.hostname||r.hostname===""?r.hostname:t.hostname,t.search=r.search,t.query=r.query,E=d;else if(d.length)E||(E=[]),E.pop(),E=E.concat(d),t.search=r.search,t.query=r.query;else if(!Qs.isNullOrUndefined(r.search))return S&&(t.hostname=t.host=E.shift(),(re=!!(t.host&&t.host.indexOf("@")>0)&&t.host.split("@"))&&(t.auth=re.shift(),t.host=t.hostname=re.shift())),t.search=r.search,t.query=r.query,Qs.isNull(t.pathname)&&Qs.isNull(t.search)||(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.href=t.format(),t;if(!E.length)return t.pathname=null,t.search?t.path="/"+t.search:t.path=null,t.href=t.format(),t;for(var A=E.slice(-1)[0],L=(t.host||r.host||E.length>1)&&(A==="."||A==="..")||A==="",D=0,K=E.length;K>=0;K--)(A=E[K])==="."?E.splice(K,1):A===".."?(E.splice(K,1),D++):D&&(E.splice(K,1),D--);if(!y&&!_)for(;D--;D)E.unshift("..");!y||E[0]===""||E[0]&&E[0].charAt(0)==="/"||E.unshift(""),L&&E.join("/").substr(-1)!=="/"&&E.push("");var re,q=E[0]===""||E[0]&&E[0].charAt(0)==="/";return S&&(t.hostname=t.host=q?"":E.length?E.shift():"",(re=!!(t.host&&t.host.indexOf("@")>0)&&t.host.split("@"))&&(t.auth=re.shift(),t.host=t.hostname=re.shift())),(y=y||t.host&&E.length)&&!q&&E.unshift(""),E.length?t.pathname=E.join("/"):(t.pathname=null,t.path=null),Qs.isNull(t.pathname)&&Qs.isNull(t.search)||(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.auth=r.auth||t.auth,t.slashes=t.slashes||r.slashes,t.href=t.format(),t},rs.prototype.parseHost=function(){var r=this.host,e=R8.exec(r);e&&((e=e[0])!==":"&&(this.port=e.substr(1)),r=r.substr(0,r.length-e.length)),r&&(this.hostname=r)};Qt.Url;Qt.format;Qt.resolve;Qt.resolveObject;X_={},WD=!1;qD=k8(),L8=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0;Qt.URL=typeof URL<"u"?URL:null;Qt.pathToFileURL=Y8;Qt.fileURLToPath=H8;Qt.Url;Qt.format;Qt.resolve;Qt.resolveObject;Qt.URL;P8=92,B8=47,M8=97,F8=122,Z_=L8==="win32",U8=/\//g,j8=/%/g,$8=/\\/g,z8=/\n/g,W8=/\r/g,q8=/\t/g;X8=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0;Qt.URL=typeof URL<"u"?URL:null;Qt.pathToFileURL=u4;Qt.fileURLToPath=o4;Qt.Url;Qt.format;Qt.resolve;Qt.resolveObject;Qt.parse;Qt.URL;K8=92,Z8=47,J8=97,Q8=122,J_=X8==="win32",e4=/\//g,t4=/%/g,r4=/\\/g,n4=/\n/g,i4=/\r/g,s4=/\t/g});function rE(r){throw new Error("Node.js process "+r+" is not supported by JSPM core outside of Node.js")}function c4(){!Vf||!Bu||(Vf=!1,Bu.length?Vo=Bu.concat(Vo):H0=-1,Vo.length&&YD())}function YD(){if(!Vf){var r=setTimeout(c4,0);Vf=!0;for(var e=Vo.length;e;){for(Bu=Vo,Vo=[];++H0<e;)Bu&&Bu[H0].run();H0=-1,e=Vo.length}Bu=null,Vf=!1,clearTimeout(r)}}function f4(r){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];Vo.push(new XD(r,e)),Vo.length===1&&!Vf&&setTimeout(YD,0)}function XD(r,e){this.fun=r,this.array=e}function kn(){}function R4(r){rE("_linkedBinding")}function N4(r){rE("dlopen")}function k4(){return[]}function L4(){return[]}function W4(r,e){if(!r)throw new Error(e||"assertion error")}function V4(){return!1}function c5(){return hl.now()/1e3}function tE(r){var e=Math.floor((Date.now()-hl.now())*.001),t=hl.now()*.001,n=Math.floor(t)+e,i=Math.floor(t%1*1e9);return r&&(n=n-r[0],i=i-r[1],i<0&&(n--,i+=eE)),[n,i]}function dl(){return zr}function E5(r){return[]}var Vo,Vf,Bu,H0,h4,d4,p4,g4,m4,y4,b4,w4,v4,_4,E4,A4,x4,S4,T4,C4,D4,I4,O4,P4,B4,nE,M4,F4,U4,j4,$4,z4,q4,H4,G4,Y4,X4,K4,Z4,J4,Q4,e5,t5,r5,n5,i5,s5,o5,a5,l5,u5,hl,Q_,eE,f5,h5,d5,p5,g5,m5,y5,b5,w5,v5,_5,zr,Mu=Jt(()=>{Ne();Le();ke();Vo=[],Vf=!1,H0=-1;XD.prototype.run=function(){this.fun.apply(null,this.array)};h4="browser",d4="x64",p4="browser",g4={PATH:"/usr/bin",LANG:navigator.language+".UTF-8",PWD:"/",HOME:"/home",TMP:"/tmp"},m4=["/usr/bin/node"],y4=[],b4="v16.8.0",w4={},v4=function(r,e){console.warn((e?e+": ":"")+r)},_4=function(r){rE("binding")},E4=function(r){return 0},A4=function(){return"/"},x4=function(r){},S4={name:"node",sourceUrl:"",headersUrl:"",libUrl:""};T4=kn,C4=[];D4={},I4=!1,O4={};P4=kn,B4=kn,nE=function(){return{}},M4=nE,F4=nE,U4=kn,j4=kn,$4=kn,z4={};q4={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},H4=kn,G4=kn;Y4=kn,X4=kn,K4=kn,Z4=kn,J4=kn,Q4=void 0,e5=void 0,t5=void 0,r5=kn,n5=2,i5=1,s5="/bin/usr/node",o5=9229,a5="node",l5=[],u5=kn,hl={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0};hl.now===void 0&&(Q_=Date.now(),hl.timing&&hl.timing.navigationStart&&(Q_=hl.timing.navigationStart),hl.now=()=>Date.now()-Q_);eE=1e9;tE.bigint=function(r){var e=tE(r);return typeof BigInt>"u"?e[0]*eE+e[1]:BigInt(e[0]*eE)+BigInt(e[1])};f5=10,h5={},d5=0;p5=dl,g5=dl,m5=dl,y5=dl,b5=dl,w5=kn,v5=dl,_5=dl;zr={version:b4,versions:w4,arch:d4,platform:p4,release:S4,_rawDebug:T4,moduleLoadList:C4,binding:_4,_linkedBinding:R4,_events:h5,_eventsCount:d5,_maxListeners:f5,on:dl,addListener:p5,once:g5,off:m5,removeListener:y5,removeAllListeners:b5,emit:w5,prependListener:v5,prependOnceListener:_5,listeners:E5,domain:D4,_exiting:I4,config:O4,dlopen:N4,uptime:c5,_getActiveRequests:k4,_getActiveHandles:L4,reallyExit:P4,_kill:B4,cpuUsage:nE,resourceUsage:M4,memoryUsage:F4,kill:U4,exit:j4,openStdin:$4,allowedNodeEnvironmentFlags:z4,assert:W4,features:q4,_fatalExceptions:H4,setUncaughtExceptionCaptureCallback:G4,hasUncaughtExceptionCaptureCallback:V4,emitWarning:v4,nextTick:f4,_tickCallback:Y4,_debugProcess:X4,_debugEnd:K4,_startProfilerIdleNotifier:Z4,_stopProfilerIdleNotifier:J4,stdout:Q4,stdin:t5,stderr:e5,abort:r5,umask:E4,chdir:x4,cwd:A4,env:g4,title:h4,argv:m4,execArgv:y4,pid:n5,ppid:i5,execPath:s5,debugPort:o5,hrtime:tE,argv0:a5,_preload_modules:l5,setSourceMapsEnabled:u5}});function er(){er.init.call(this)}function G0(r){if(typeof r!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof r)}function sI(r){return r._maxListeners===void 0?er.defaultMaxListeners:r._maxListeners}function QD(r,e,t,n){var i,o,s,a;if(G0(t),(o=r._events)===void 0?(o=r._events=Object.create(null),r._eventsCount=0):(o.newListener!==void 0&&(r.emit("newListener",e,t.listener?t.listener:t),o=r._events),s=o[e]),s===void 0)s=o[e]=t,++r._eventsCount;else if(typeof s=="function"?s=o[e]=n?[t,s]:[s,t]:n?s.unshift(t):s.push(t),(i=sI(r))>0&&s.length>i&&!s.warned){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=r,u.type=e,u.count=s.length,a=u,console&&console.warn&&console.warn(a)}return r}function A5(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function eI(r,e,t){var n={fired:!1,wrapFn:void 0,target:r,type:e,listener:t},i=A5.bind(n);return i.listener=t,n.wrapFn=i,i}function tI(r,e,t){var n=r._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?t?[i.listener||i]:[i]:t?(function(o){for(var s=new Array(o.length),a=0;a<s.length;++a)s[a]=o[a].listener||o[a];return s})(i):oI(i,i.length)}function rI(r){var e=this._events;if(e!==void 0){var t=e[r];if(typeof t=="function")return 1;if(t!==void 0)return t.length}return 0}function oI(r,e){for(var t=new Array(e),n=0;n<e;++n)t[n]=r[n];return t}var nI,iI,Yf,KD,ZD,JD,nn,Xf=Jt(()=>{Ne();Le();ke();Yf=typeof Reflect=="object"?Reflect:null,KD=Yf&&typeof Yf.apply=="function"?Yf.apply:function(r,e,t){return Function.prototype.apply.call(r,e,t)};iI=Yf&&typeof Yf.ownKeys=="function"?Yf.ownKeys:Object.getOwnPropertySymbols?function(r){return Object.getOwnPropertyNames(r).concat(Object.getOwnPropertySymbols(r))}:function(r){return Object.getOwnPropertyNames(r)};ZD=Number.isNaN||function(r){return r!=r};nI=er,er.EventEmitter=er,er.prototype._events=void 0,er.prototype._eventsCount=0,er.prototype._maxListeners=void 0;JD=10;Object.defineProperty(er,"defaultMaxListeners",{enumerable:!0,get:function(){return JD},set:function(r){if(typeof r!="number"||r<0||ZD(r))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+r+".");JD=r}}),er.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},er.prototype.setMaxListeners=function(r){if(typeof r!="number"||r<0||ZD(r))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+r+".");return this._maxListeners=r,this},er.prototype.getMaxListeners=function(){return sI(this)},er.prototype.emit=function(r){for(var e=[],t=1;t<arguments.length;t++)e.push(arguments[t]);var n=r==="error",i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var a=i[r];if(a===void 0)return!1;if(typeof a=="function")KD(a,this,e);else{var u=a.length,c=oI(a,u);for(t=0;t<u;++t)KD(c[t],this,e)}return!0},er.prototype.addListener=function(r,e){return QD(this,r,e,!1)},er.prototype.on=er.prototype.addListener,er.prototype.prependListener=function(r,e){return QD(this,r,e,!0)},er.prototype.once=function(r,e){return G0(e),this.on(r,eI(this,r,e)),this},er.prototype.prependOnceListener=function(r,e){return G0(e),this.prependListener(r,eI(this,r,e)),this},er.prototype.removeListener=function(r,e){var t,n,i,o,s;if(G0(e),(n=this._events)===void 0)return this;if((t=n[r])===void 0)return this;if(t===e||t.listener===e)--this._eventsCount==0?this._events=Object.create(null):(delete n[r],n.removeListener&&this.emit("removeListener",r,t.listener||e));else if(typeof t!="function"){for(i=-1,o=t.length-1;o>=0;o--)if(t[o]===e||t[o].listener===e){s=t[o].listener,i=o;break}if(i<0)return this;i===0?t.shift():(function(a,u){for(;u+1<a.length;u++)a[u]=a[u+1];a.pop()})(t,i),t.length===1&&(n[r]=t[0]),n.removeListener!==void 0&&this.emit("removeListener",r,s||e)}return this},er.prototype.off=er.prototype.removeListener,er.prototype.removeAllListeners=function(r){var e,t,n;if((t=this._events)===void 0)return this;if(t.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):t[r]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete t[r]),this;if(arguments.length===0){var i,o=Object.keys(t);for(n=0;n<o.length;++n)(i=o[n])!=="removeListener"&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(e=t[r])=="function")this.removeListener(r,e);else if(e!==void 0)for(n=e.length-1;n>=0;n--)this.removeListener(r,e[n]);return this},er.prototype.listeners=function(r){return tI(this,r,!0)},er.prototype.rawListeners=function(r){return tI(this,r,!1)},er.listenerCount=function(r,e){return typeof r.listenerCount=="function"?r.listenerCount(e):rI.call(r,e)},er.prototype.listenerCount=rI,er.prototype.eventNames=function(){return this._eventsCount>0?iI(this._events):[]};nn=nI;nn.EventEmitter;nn.defaultMaxListeners;nn.init;nn.listenerCount;nn.EventEmitter;nn.defaultMaxListeners;nn.init;nn.listenerCount});var V0=Jt(()=>{Ne();Le();ke();Xf();nn.once=function(r,e){return new Promise((t,n)=>{function i(...s){o!==void 0&&r.removeListener("error",o),t(s)}let o;e!=="error"&&(o=s=>{r.removeListener(name,i),n(s)},r.once("error",o)),r.once(e,i)})};nn.on=function(r,e){let t=[],n=[],i=null,o=!1,s={async next(){let c=t.shift();if(c)return createIterResult(c,!1);if(i){let f=Promise.reject(i);return i=null,f}return o?createIterResult(void 0,!0):new Promise((f,h)=>n.push({resolve:f,reject:h}))},async return(){r.removeListener(e,a),r.removeListener("error",u),o=!0;for(let c of n)c.resolve(createIterResult(void 0,!0));return createIterResult(void 0,!0)},throw(c){i=c,r.removeListener(e,a),r.removeListener("error",u)},[Symbol.asyncIterator](){return this}};return r.on(e,a),r.on("error",u),s;function a(...c){let f=n.shift();f?f.resolve(createIterResult(c,!1)):t.push(c)}function u(c){o=!0;let f=n.shift();f?f.reject(c):i=c,s.return()}}});function uI(r){var e=r.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=r.indexOf("=");return t===-1&&(t=e),[t,t===e?0:4-t%4]}function x5(r,e,t){for(var n,i,o=[],s=e;s<t;s+=3)n=(r[s]<<16&16711680)+(r[s+1]<<8&65280)+(255&r[s+2]),o.push(Cs[(i=n)>>18&63]+Cs[i>>12&63]+Cs[i>>6&63]+Cs[63&i]);return o.join("")}function Yo(r){if(r>2147483647)throw new RangeError('The value "'+r+'" is invalid for option "size"');var e=new Uint8Array(r);return Object.setPrototypeOf(e,Ke.prototype),e}function Ke(r,e,t){if(typeof r=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return AE(r)}return FI(r,e,t)}function FI(r,e,t){if(typeof r=="string")return(function(o,s){if(typeof s=="string"&&s!==""||(s="utf8"),!Ke.isEncoding(s))throw new TypeError("Unknown encoding: "+s);var a=0|jI(o,s),u=Yo(a),c=u.write(o,s);return c!==a&&(u=u.slice(0,c)),u})(r,e);if(ArrayBuffer.isView(r))return iE(r);if(r==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);if(Xo(r,ArrayBuffer)||r&&Xo(r.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Xo(r,SharedArrayBuffer)||r&&Xo(r.buffer,SharedArrayBuffer)))return fI(r,e,t);if(typeof r=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var n=r.valueOf&&r.valueOf();if(n!=null&&n!==r)return Ke.from(n,e,t);var i=(function(o){if(Ke.isBuffer(o)){var s=0|CE(o.length),a=Yo(s);return a.length===0||o.copy(a,0,0,s),a}if(o.length!==void 0)return typeof o.length!="number"||RE(o.length)?Yo(0):iE(o);if(o.type==="Buffer"&&Array.isArray(o.data))return iE(o.data)})(r);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof r[Symbol.toPrimitive]=="function")return Ke.from(r[Symbol.toPrimitive]("string"),e,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r)}function UI(r){if(typeof r!="number")throw new TypeError('"size" argument must be of type number');if(r<0)throw new RangeError('The value "'+r+'" is invalid for option "size"')}function AE(r){return UI(r),Yo(r<0?0:0|CE(r))}function iE(r){for(var e=r.length<0?0:0|CE(r.length),t=Yo(e),n=0;n<e;n+=1)t[n]=255&r[n];return t}function fI(r,e,t){if(e<0||r.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(r.byteLength<e+(t||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=e===void 0&&t===void 0?new Uint8Array(r):t===void 0?new Uint8Array(r,e):new Uint8Array(r,e,t),Object.setPrototypeOf(n,Ke.prototype),n}function CE(r){if(r>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|r}function jI(r,e){if(Ke.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||Xo(r,ArrayBuffer))return r.byteLength;if(typeof r!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof r);var t=r.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&t===0)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return xE(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*t;case"hex":return t>>>1;case"base64":return qI(r).length;default:if(i)return n?-1:xE(r).length;e=(""+e).toLowerCase(),i=!0}}function T5(r,e,t){var n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0)<=(e>>>=0))return"";for(r||(r="utf8");;)switch(r){case"hex":return P5(this,e,t);case"utf8":case"utf-8":return zI(this,e,t);case"ascii":return k5(this,e,t);case"latin1":case"binary":return L5(this,e,t);case"base64":return N5(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B5(this,e,t);default:if(n)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),n=!0}}function Uu(r,e,t){var n=r[e];r[e]=r[t],r[t]=n}function hI(r,e,t,n,i){if(r.length===0)return-1;if(typeof t=="string"?(n=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),RE(t=+t)&&(t=i?0:r.length-1),t<0&&(t=r.length+t),t>=r.length){if(i)return-1;t=r.length-1}else if(t<0){if(!i)return-1;t=0}if(typeof e=="string"&&(e=Ke.from(e,n)),Ke.isBuffer(e))return e.length===0?-1:dI(r,e,t,n,i);if(typeof e=="number")return e&=255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(r,e,t):Uint8Array.prototype.lastIndexOf.call(r,e,t):dI(r,[e],t,n,i);throw new TypeError("val must be string, number or Buffer")}function dI(r,e,t,n,i){var o,s=1,a=r.length,u=e.length;if(n!==void 0&&((n=String(n).toLowerCase())==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(r.length<2||e.length<2)return-1;s=2,a/=2,u/=2,t/=2}function c(g,b){return s===1?g[b]:g.readUInt16BE(b*s)}if(i){var f=-1;for(o=t;o<a;o++)if(c(r,o)===c(e,f===-1?0:o-f)){if(f===-1&&(f=o),o-f+1===u)return f*s}else f!==-1&&(o-=o-f),f=-1}else for(t+u>a&&(t=a-u),o=t;o>=0;o--){for(var h=!0,d=0;d<u;d++)if(c(r,o+d)!==c(e,d)){h=!1;break}if(h)return o}return-1}function C5(r,e,t,n){t=Number(t)||0;var i=r.length-t;n?(n=Number(n))>i&&(n=i):n=i;var o=e.length;n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(e.substr(2*s,2),16);if(RE(a))return s;r[t+s]=a}return s}function R5(r,e,t,n){return Q0(xE(e,r.length-t),r,t,n)}function $I(r,e,t,n){return Q0((function(i){for(var o=[],s=0;s<i.length;++s)o.push(255&i.charCodeAt(s));return o})(e),r,t,n)}function D5(r,e,t,n){return $I(r,e,t,n)}function I5(r,e,t,n){return Q0(qI(e),r,t,n)}function O5(r,e,t,n){return Q0((function(i,o){for(var s,a,u,c=[],f=0;f<i.length&&!((o-=2)<0);++f)s=i.charCodeAt(f),a=s>>8,u=s%256,c.push(u),c.push(a);return c})(e,r.length-t),r,t,n)}function N5(r,e,t){return e===0&&t===r.length?EE.fromByteArray(r):EE.fromByteArray(r.slice(e,t))}function zI(r,e,t){t=Math.min(r.length,t);for(var n=[],i=e;i<t;){var o,s,a,u,c=r[i],f=null,h=c>239?4:c>223?3:c>191?2:1;if(i+h<=t)switch(h){case 1:c<128&&(f=c);break;case 2:(192&(o=r[i+1]))==128&&(u=(31&c)<<6|63&o)>127&&(f=u);break;case 3:o=r[i+1],s=r[i+2],(192&o)==128&&(192&s)==128&&(u=(15&c)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(f=u);break;case 4:o=r[i+1],s=r[i+2],a=r[i+3],(192&o)==128&&(192&s)==128&&(192&a)==128&&(u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(f=u)}f===null?(f=65533,h=1):f>65535&&(f-=65536,n.push(f>>>10&1023|55296),f=56320|1023&f),n.push(f),i+=h}return(function(d){var g=d.length;if(g<=4096)return String.fromCharCode.apply(String,d);for(var b="",v=0;v<g;)b+=String.fromCharCode.apply(String,d.slice(v,v+=4096));return b})(n)}function k5(r,e,t){var n="";t=Math.min(r.length,t);for(var i=e;i<t;++i)n+=String.fromCharCode(127&r[i]);return n}function L5(r,e,t){var n="";t=Math.min(r.length,t);for(var i=e;i<t;++i)n+=String.fromCharCode(r[i]);return n}function P5(r,e,t){var n=r.length;(!e||e<0)&&(e=0),(!t||t<0||t>n)&&(t=n);for(var i="",o=e;o<t;++o)i+=F5[r[o]];return i}function B5(r,e,t){for(var n=r.slice(e,t),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function hn(r,e,t){if(r%1!=0||r<0)throw new RangeError("offset is not uint");if(r+e>t)throw new RangeError("Trying to access beyond buffer length")}function ni(r,e,t,n,i,o){if(!Ke.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(t+n>r.length)throw new RangeError("Index out of range")}function WI(r,e,t,n,i,o){if(t+n>r.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function pI(r,e,t,n,i){return e=+e,t>>>=0,i||WI(r,0,t,4),Kf.write(r,e,t,n,23,4),t+4}function gI(r,e,t,n,i){return e=+e,t>>>=0,i||WI(r,0,t,8),Kf.write(r,e,t,n,52,8),t+8}function xE(r,e){var t;e=e||1/0;for(var n=r.length,i=null,o=[],s=0;s<n;++s){if((t=r.charCodeAt(s))>55295&&t<57344){if(!i){if(t>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=t;continue}if(t<56320){(e-=3)>-1&&o.push(239,191,189),i=t;continue}t=65536+(i-55296<<10|t-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,t<128){if((e-=1)<0)break;o.push(t)}else if(t<2048){if((e-=2)<0)break;o.push(t>>6|192,63&t|128)}else if(t<65536){if((e-=3)<0)break;o.push(t>>12|224,t>>6&63|128,63&t|128)}else{if(!(t<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(t>>18|240,t>>12&63|128,t>>6&63|128,63&t|128)}}return o}function qI(r){return EE.toByteArray((function(e){if((e=(e=e.split("=")[0]).trim().replace(M5,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e})(r))}function Q0(r,e,t,n){for(var i=0;i<n&&!(i+t>=e.length||i>=r.length);++i)e[i+t]=r[i];return i}function Xo(r,e){return r instanceof e||r!=null&&r.constructor!=null&&r.constructor.name!=null&&r.constructor.name===e.name}function RE(r){return r!=r}function mI(r,e){for(var t in r)e[t]=r[t]}function ju(r,e,t){return to(r,e,t)}function Mp(r){var e;switch(this.encoding=(function(t){var n=(function(i){if(!i)return"utf8";for(var o;;)switch(i){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return i;default:if(o)return;i=(""+i).toLowerCase(),o=!0}})(t);if(typeof n!="string"&&(TE.isEncoding===yI||!yI(t)))throw new Error("Unknown encoding: "+t);return n||t})(r),this.encoding){case"utf16le":this.text=$5,this.end=z5,e=4;break;case"utf8":this.fillLast=j5,e=4;break;case"base64":this.text=W5,this.end=q5,e=3;break;default:return this.write=H5,this.end=G5,void 0}this.lastNeed=0,this.lastTotal=0,this.lastChar=TE.allocUnsafe(e)}function sE(r){return r<=127?0:r>>5==6?2:r>>4==14?3:r>>3==30?4:r>>6==2?-1:-2}function j5(r){var e=this.lastTotal-this.lastNeed,t=(function(n,i,o){if((192&i[0])!=128)return n.lastNeed=0,"\uFFFD";if(n.lastNeed>1&&i.length>1){if((192&i[1])!=128)return n.lastNeed=1,"\uFFFD";if(n.lastNeed>2&&i.length>2&&(192&i[2])!=128)return n.lastNeed=2,"\uFFFD"}})(this,r);return t!==void 0?t:this.lastNeed<=r.length?(r.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(r.copy(this.lastChar,e,0,r.length),this.lastNeed-=r.length,void 0)}function $5(r,e){if((r.length-e)%2==0){var t=r.toString("utf16le",e);if(t){var n=t.charCodeAt(t.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=r[r.length-2],this.lastChar[1]=r[r.length-1],t.slice(0,-1)}return t}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=r[r.length-1],r.toString("utf16le",e,r.length-1)}function z5(r){var e=r&&r.length?this.write(r):"";if(this.lastNeed){var t=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,t)}return e}function W5(r,e){var t=(r.length-e)%3;return t===0?r.toString("base64",e):(this.lastNeed=3-t,this.lastTotal=3,t===1?this.lastChar[0]=r[r.length-1]:(this.lastChar[0]=r[r.length-2],this.lastChar[1]=r[r.length-1]),r.toString("base64",e,r.length-t))}function q5(r){var e=r&&r.length?this.write(r):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function H5(r){return r.toString(this.encoding)}function G5(r){return r&&r.length?this.write(r):""}function V5(){if(bI)return Fp;bI=!0,Fp.byteLength=a,Fp.toByteArray=c,Fp.fromByteArray=d;for(var r=[],e=[],t=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,o=n.length;i<o;++i)r[i]=n[i],e[n.charCodeAt(i)]=i;e[45]=62,e[95]=63;function s(g){var b=g.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var v=g.indexOf("=");v===-1&&(v=b);var w=v===b?0:4-v%4;return[v,w]}function a(g){var b=s(g),v=b[0],w=b[1];return(v+w)*3/4-w}function u(g,b,v){return(b+v)*3/4-v}function c(g){var b,v=s(g),w=v[0],y=v[1],_=new t(u(g,w,y)),E=0,S=y>0?w-4:w,A;for(A=0;A<S;A+=4)b=e[g.charCodeAt(A)]<<18|e[g.charCodeAt(A+1)]<<12|e[g.charCodeAt(A+2)]<<6|e[g.charCodeAt(A+3)],_[E++]=b>>16&255,_[E++]=b>>8&255,_[E++]=b&255;return y===2&&(b=e[g.charCodeAt(A)]<<2|e[g.charCodeAt(A+1)]>>4,_[E++]=b&255),y===1&&(b=e[g.charCodeAt(A)]<<10|e[g.charCodeAt(A+1)]<<4|e[g.charCodeAt(A+2)]>>2,_[E++]=b>>8&255,_[E++]=b&255),_}function f(g){return r[g>>18&63]+r[g>>12&63]+r[g>>6&63]+r[g&63]}function h(g,b,v){for(var w,y=[],_=b;_<v;_+=3)w=(g[_]<<16&16711680)+(g[_+1]<<8&65280)+(g[_+2]&255),y.push(f(w));return y.join("")}function d(g){for(var b,v=g.length,w=v%3,y=[],_=16383,E=0,S=v-w;E<S;E+=_)y.push(h(g,E,E+_>S?S:E+_));return w===1?(b=g[v-1],y.push(r[b>>2]+r[b<<4&63]+"==")):w===2&&(b=(g[v-2]<<8)+g[v-1],y.push(r[b>>10]+r[b>>4&63]+r[b<<2&63]+"=")),y.join("")}return Fp}function Y5(){if(wI)return X0;wI=!0;return X0.read=function(r,e,t,n,i){var o,s,a=i*8-n-1,u=(1<<a)-1,c=u>>1,f=-7,h=t?i-1:0,d=t?-1:1,g=r[e+h];for(h+=d,o=g&(1<<-f)-1,g>>=-f,f+=a;f>0;o=o*256+r[e+h],h+=d,f-=8);for(s=o&(1<<-f)-1,o>>=-f,f+=n;f>0;s=s*256+r[e+h],h+=d,f-=8);if(o===0)o=1-c;else{if(o===u)return s?NaN:(g?-1:1)*(1/0);s=s+Math.pow(2,n),o=o-c}return(g?-1:1)*s*Math.pow(2,o-n)},X0.write=function(r,e,t,n,i,o){var s,a,u,c=o*8-i-1,f=(1<<c)-1,h=f>>1,d=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=n?0:o-1,b=n?1:-1,v=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=f):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),s+h>=1?e+=d/u:e+=d*Math.pow(2,1-h),e*u>=2&&(s++,u/=2),s+h>=f?(a=0,s=f):s+h>=1?(a=(e*u-1)*Math.pow(2,i),s=s+h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;r[t+g]=a&255,g+=b,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;r[t+g]=s&255,g+=b,s/=256,c-=8);r[t+g-b]|=v*128},X0}function X5(){if(vI)return $u;vI=!0;let r=V5(),e=Y5(),t=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;$u.Buffer=s,$u.SlowBuffer=y,$u.INSPECT_MAX_BYTES=50;let n=2147483647;$u.kMaxLength=n,s.TYPED_ARRAY_SUPPORT=i(),!s.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{let x=new Uint8Array(1),p={foo:function(){return 42}};return Object.setPrototypeOf(p,Uint8Array.prototype),Object.setPrototypeOf(x,p),x.foo()===42}catch{return!1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}});function o(x){if(x>n)throw new RangeError('The value "'+x+'" is invalid for option "size"');let p=new Uint8Array(x);return Object.setPrototypeOf(p,s.prototype),p}function s(x,p,m){if(typeof x=="number"){if(typeof p=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(x)}return a(x,p,m)}s.poolSize=8192;function a(x,p,m){if(typeof x=="string")return h(x,p);if(ArrayBuffer.isView(x))return g(x);if(x==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof x);if(Pe(x,ArrayBuffer)||x&&Pe(x.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Pe(x,SharedArrayBuffer)||x&&Pe(x.buffer,SharedArrayBuffer)))return b(x,p,m);if(typeof x=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let O=x.valueOf&&x.valueOf();if(O!=null&&O!==x)return s.from(O,p,m);let J=v(x);if(J)return J;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof x[Symbol.toPrimitive]=="function")return s.from(x[Symbol.toPrimitive]("string"),p,m);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof x)}s.from=function(x,p,m){return a(x,p,m)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function u(x){if(typeof x!="number")throw new TypeError('"size" argument must be of type number');if(x<0)throw new RangeError('The value "'+x+'" is invalid for option "size"')}function c(x,p,m){return u(x),x<=0?o(x):p!==void 0?typeof m=="string"?o(x).fill(p,m):o(x).fill(p):o(x)}s.alloc=function(x,p,m){return c(x,p,m)};function f(x){return u(x),o(x<0?0:w(x)|0)}s.allocUnsafe=function(x){return f(x)},s.allocUnsafeSlow=function(x){return f(x)};function h(x,p){if((typeof p!="string"||p==="")&&(p="utf8"),!s.isEncoding(p))throw new TypeError("Unknown encoding: "+p);let m=_(x,p)|0,O=o(m),J=O.write(x,p);return J!==m&&(O=O.slice(0,J)),O}function d(x){let p=x.length<0?0:w(x.length)|0,m=o(p);for(let O=0;O<p;O+=1)m[O]=x[O]&255;return m}function g(x){if(Pe(x,Uint8Array)){let p=new Uint8Array(x);return b(p.buffer,p.byteOffset,p.byteLength)}return d(x)}function b(x,p,m){if(p<0||x.byteLength<p)throw new RangeError('"offset" is outside of buffer bounds');if(x.byteLength<p+(m||0))throw new RangeError('"length" is outside of buffer bounds');let O;return p===void 0&&m===void 0?O=new Uint8Array(x):m===void 0?O=new Uint8Array(x,p):O=new Uint8Array(x,p,m),Object.setPrototypeOf(O,s.prototype),O}function v(x){if(s.isBuffer(x)){let p=w(x.length)|0,m=o(p);return m.length===0||x.copy(m,0,0,p),m}if(x.length!==void 0)return typeof x.length!="number"||Ce(x.length)?o(0):d(x);if(x.type==="Buffer"&&Array.isArray(x.data))return d(x.data)}function w(x){if(x>=n)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return x|0}function y(x){return+x!=x&&(x=0),s.alloc(+x)}s.isBuffer=function(p){return p!=null&&p._isBuffer===!0&&p!==s.prototype},s.compare=function(p,m){if(Pe(p,Uint8Array)&&(p=s.from(p,p.offset,p.byteLength)),Pe(m,Uint8Array)&&(m=s.from(m,m.offset,m.byteLength)),!s.isBuffer(p)||!s.isBuffer(m))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(p===m)return 0;let O=p.length,J=m.length;for(let T=0,ae=Math.min(O,J);T<ae;++T)if(p[T]!==m[T]){O=p[T],J=m[T];break}return O<J?-1:J<O?1:0},s.isEncoding=function(p){switch(String(p).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(p,m){if(!Array.isArray(p))throw new TypeError('"list" argument must be an Array of Buffers');if(p.length===0)return s.alloc(0);let O;if(m===void 0)for(m=0,O=0;O<p.length;++O)m+=p[O].length;let J=s.allocUnsafe(m),T=0;for(O=0;O<p.length;++O){let ae=p[O];if(Pe(ae,Uint8Array))T+ae.length>J.length?(s.isBuffer(ae)||(ae=s.from(ae)),ae.copy(J,T)):Uint8Array.prototype.set.call(J,ae,T);else if(s.isBuffer(ae))ae.copy(J,T);else throw new TypeError('"list" argument must be an Array of Buffers');T+=ae.length}return J};function _(x,p){if(s.isBuffer(x))return x.length;if(ArrayBuffer.isView(x)||Pe(x,ArrayBuffer))return x.byteLength;if(typeof x!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof x);let m=x.length,O=arguments.length>2&&arguments[2]===!0;if(!O&&m===0)return 0;let J=!1;for(;;)switch(p){case"ascii":case"latin1":case"binary":return m;case"utf8":case"utf-8":return Ee(x).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return m*2;case"hex":return m>>>1;case"base64":return be(x).length;default:if(J)return O?-1:Ee(x).length;p=(""+p).toLowerCase(),J=!0}}s.byteLength=_;function E(x,p,m){let O=!1;if((p===void 0||p<0)&&(p=0),p>this.length||((m===void 0||m>this.length)&&(m=this.length),m<=0)||(m>>>=0,p>>>=0,m<=p))return"";for(x||(x="utf8");;)switch(x){case"hex":return I(this,p,m);case"utf8":case"utf-8":return H(this,p,m);case"ascii":return Ae(this,p,m);case"latin1":case"binary":return j(this,p,m);case"base64":return U(this,p,m);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return se(this,p,m);default:if(O)throw new TypeError("Unknown encoding: "+x);x=(x+"").toLowerCase(),O=!0}}s.prototype._isBuffer=!0;function S(x,p,m){let O=x[p];x[p]=x[m],x[m]=O}s.prototype.swap16=function(){let p=this.length;if(p%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let m=0;m<p;m+=2)S(this,m,m+1);return this},s.prototype.swap32=function(){let p=this.length;if(p%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let m=0;m<p;m+=4)S(this,m,m+3),S(this,m+1,m+2);return this},s.prototype.swap64=function(){let p=this.length;if(p%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let m=0;m<p;m+=8)S(this,m,m+7),S(this,m+1,m+6),S(this,m+2,m+5),S(this,m+3,m+4);return this},s.prototype.toString=function(){let p=this.length;return p===0?"":arguments.length===0?H(this,0,p):E.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(p){if(!s.isBuffer(p))throw new TypeError("Argument must be a Buffer");return this===p?!0:s.compare(this,p)===0},s.prototype.inspect=function(){let p="",m=$u.INSPECT_MAX_BYTES;return p=this.toString("hex",0,m).replace(/(.{2})/g,"$1 ").trim(),this.length>m&&(p+=" ... "),"<Buffer "+p+">"},t&&(s.prototype[t]=s.prototype.inspect),s.prototype.compare=function(p,m,O,J,T){if(Pe(p,Uint8Array)&&(p=s.from(p,p.offset,p.byteLength)),!s.isBuffer(p))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof p);if(m===void 0&&(m=0),O===void 0&&(O=p?p.length:0),J===void 0&&(J=0),T===void 0&&(T=this.length),m<0||O>p.length||J<0||T>this.length)throw new RangeError("out of range index");if(J>=T&&m>=O)return 0;if(J>=T)return-1;if(m>=O)return 1;if(m>>>=0,O>>>=0,J>>>=0,T>>>=0,this===p)return 0;let ae=T-J,fe=O-m,Te=Math.min(ae,fe),G=this.slice(J,T),me=p.slice(m,O);for(let B=0;B<Te;++B)if(G[B]!==me[B]){ae=G[B],fe=me[B];break}return ae<fe?-1:fe<ae?1:0};function A(x,p,m,O,J){if(x.length===0)return-1;if(typeof m=="string"?(O=m,m=0):m>2147483647?m=2147483647:m<-2147483648&&(m=-2147483648),m=+m,Ce(m)&&(m=J?0:x.length-1),m<0&&(m=x.length+m),m>=x.length){if(J)return-1;m=x.length-1}else if(m<0)if(J)m=0;else return-1;if(typeof p=="string"&&(p=s.from(p,O)),s.isBuffer(p))return p.length===0?-1:L(x,p,m,O,J);if(typeof p=="number")return p=p&255,typeof Uint8Array.prototype.indexOf=="function"?J?Uint8Array.prototype.indexOf.call(x,p,m):Uint8Array.prototype.lastIndexOf.call(x,p,m):L(x,[p],m,O,J);throw new TypeError("val must be string, number or Buffer")}function L(x,p,m,O,J){let T=1,ae=x.length,fe=p.length;if(O!==void 0&&(O=String(O).toLowerCase(),O==="ucs2"||O==="ucs-2"||O==="utf16le"||O==="utf-16le")){if(x.length<2||p.length<2)return-1;T=2,ae/=2,fe/=2,m/=2}function Te(me,B){return T===1?me[B]:me.readUInt16BE(B*T)}let G;if(J){let me=-1;for(G=m;G<ae;G++)if(Te(x,G)===Te(p,me===-1?0:G-me)){if(me===-1&&(me=G),G-me+1===fe)return me*T}else me!==-1&&(G-=G-me),me=-1}else for(m+fe>ae&&(m=ae-fe),G=m;G>=0;G--){let me=!0;for(let B=0;B<fe;B++)if(Te(x,G+B)!==Te(p,B)){me=!1;break}if(me)return G}return-1}s.prototype.includes=function(p,m,O){return this.indexOf(p,m,O)!==-1},s.prototype.indexOf=function(p,m,O){return A(this,p,m,O,!0)},s.prototype.lastIndexOf=function(p,m,O){return A(this,p,m,O,!1)};function D(x,p,m,O){m=Number(m)||0;let J=x.length-m;O?(O=Number(O),O>J&&(O=J)):O=J;let T=p.length;O>T/2&&(O=T/2);let ae;for(ae=0;ae<O;++ae){let fe=parseInt(p.substr(ae*2,2),16);if(Ce(fe))return ae;x[m+ae]=fe}return ae}function K(x,p,m,O){return Ie(Ee(p,x.length-m),x,m,O)}function re(x,p,m,O){return Ie(pe(p),x,m,O)}function q(x,p,m,O){return Ie(be(p),x,m,O)}function oe(x,p,m,O){return Ie(te(p,x.length-m),x,m,O)}s.prototype.write=function(p,m,O,J){if(m===void 0)J="utf8",O=this.length,m=0;else if(O===void 0&&typeof m=="string")J=m,O=this.length,m=0;else if(isFinite(m))m=m>>>0,isFinite(O)?(O=O>>>0,J===void 0&&(J="utf8")):(J=O,O=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let T=this.length-m;if((O===void 0||O>T)&&(O=T),p.length>0&&(O<0||m<0)||m>this.length)throw new RangeError("Attempt to write outside buffer bounds");J||(J="utf8");let ae=!1;for(;;)switch(J){case"hex":return D(this,p,m,O);case"utf8":case"utf-8":return K(this,p,m,O);case"ascii":case"latin1":case"binary":return re(this,p,m,O);case"base64":return q(this,p,m,O);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return oe(this,p,m,O);default:if(ae)throw new TypeError("Unknown encoding: "+J);J=(""+J).toLowerCase(),ae=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function U(x,p,m){return p===0&&m===x.length?r.fromByteArray(x):r.fromByteArray(x.slice(p,m))}function H(x,p,m){m=Math.min(x.length,m);let O=[],J=p;for(;J<m;){let T=x[J],ae=null,fe=T>239?4:T>223?3:T>191?2:1;if(J+fe<=m){let Te,G,me,B;switch(fe){case 1:T<128&&(ae=T);break;case 2:Te=x[J+1],(Te&192)===128&&(B=(T&31)<<6|Te&63,B>127&&(ae=B));break;case 3:Te=x[J+1],G=x[J+2],(Te&192)===128&&(G&192)===128&&(B=(T&15)<<12|(Te&63)<<6|G&63,B>2047&&(B<55296||B>57343)&&(ae=B));break;case 4:Te=x[J+1],G=x[J+2],me=x[J+3],(Te&192)===128&&(G&192)===128&&(me&192)===128&&(B=(T&15)<<18|(Te&63)<<12|(G&63)<<6|me&63,B>65535&&B<1114112&&(ae=B))}}ae===null?(ae=65533,fe=1):ae>65535&&(ae-=65536,O.push(ae>>>10&1023|55296),ae=56320|ae&1023),O.push(ae),J+=fe}return Se(O)}let ue=4096;function Se(x){let p=x.length;if(p<=ue)return String.fromCharCode.apply(String,x);let m="",O=0;for(;O<p;)m+=String.fromCharCode.apply(String,x.slice(O,O+=ue));return m}function Ae(x,p,m){let O="";m=Math.min(x.length,m);for(let J=p;J<m;++J)O+=String.fromCharCode(x[J]&127);return O}function j(x,p,m){let O="";m=Math.min(x.length,m);for(let J=p;J<m;++J)O+=String.fromCharCode(x[J]);return O}function I(x,p,m){let O=x.length;(!p||p<0)&&(p=0),(!m||m<0||m>O)&&(m=O);let J="";for(let T=p;T<m;++T)J+=qe[x[T]];return J}function se(x,p,m){let O=x.slice(p,m),J="";for(let T=0;T<O.length-1;T+=2)J+=String.fromCharCode(O[T]+O[T+1]*256);return J}s.prototype.slice=function(p,m){let O=this.length;p=~~p,m=m===void 0?O:~~m,p<0?(p+=O,p<0&&(p=0)):p>O&&(p=O),m<0?(m+=O,m<0&&(m=0)):m>O&&(m=O),m<p&&(m=p);let J=this.subarray(p,m);return Object.setPrototypeOf(J,s.prototype),J};function z(x,p,m){if(x%1!==0||x<0)throw new RangeError("offset is not uint");if(x+p>m)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function(p,m,O){p=p>>>0,m=m>>>0,O||z(p,m,this.length);let J=this[p],T=1,ae=0;for(;++ae<m&&(T*=256);)J+=this[p+ae]*T;return J},s.prototype.readUintBE=s.prototype.readUIntBE=function(p,m,O){p=p>>>0,m=m>>>0,O||z(p,m,this.length);let J=this[p+--m],T=1;for(;m>0&&(T*=256);)J+=this[p+--m]*T;return J},s.prototype.readUint8=s.prototype.readUInt8=function(p,m){return p=p>>>0,m||z(p,1,this.length),this[p]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(p,m){return p=p>>>0,m||z(p,2,this.length),this[p]|this[p+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(p,m){return p=p>>>0,m||z(p,2,this.length),this[p]<<8|this[p+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(p,m){return p=p>>>0,m||z(p,4,this.length),(this[p]|this[p+1]<<8|this[p+2]<<16)+this[p+3]*16777216},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(p,m){return p=p>>>0,m||z(p,4,this.length),this[p]*16777216+(this[p+1]<<16|this[p+2]<<8|this[p+3])},s.prototype.readBigUInt64LE=We(function(p){p=p>>>0,P(p,"offset");let m=this[p],O=this[p+7];(m===void 0||O===void 0)&&C(p,this.length-8);let J=m+this[++p]*2**8+this[++p]*2**16+this[++p]*2**24,T=this[++p]+this[++p]*2**8+this[++p]*2**16+O*2**24;return BigInt(J)+(BigInt(T)<<BigInt(32))}),s.prototype.readBigUInt64BE=We(function(p){p=p>>>0,P(p,"offset");let m=this[p],O=this[p+7];(m===void 0||O===void 0)&&C(p,this.length-8);let J=m*2**24+this[++p]*2**16+this[++p]*2**8+this[++p],T=this[++p]*2**24+this[++p]*2**16+this[++p]*2**8+O;return(BigInt(J)<<BigInt(32))+BigInt(T)}),s.prototype.readIntLE=function(p,m,O){p=p>>>0,m=m>>>0,O||z(p,m,this.length);let J=this[p],T=1,ae=0;for(;++ae<m&&(T*=256);)J+=this[p+ae]*T;return T*=128,J>=T&&(J-=Math.pow(2,8*m)),J},s.prototype.readIntBE=function(p,m,O){p=p>>>0,m=m>>>0,O||z(p,m,this.length);let J=m,T=1,ae=this[p+--J];for(;J>0&&(T*=256);)ae+=this[p+--J]*T;return T*=128,ae>=T&&(ae-=Math.pow(2,8*m)),ae},s.prototype.readInt8=function(p,m){return p=p>>>0,m||z(p,1,this.length),this[p]&128?(255-this[p]+1)*-1:this[p]},s.prototype.readInt16LE=function(p,m){p=p>>>0,m||z(p,2,this.length);let O=this[p]|this[p+1]<<8;return O&32768?O|4294901760:O},s.prototype.readInt16BE=function(p,m){p=p>>>0,m||z(p,2,this.length);let O=this[p+1]|this[p]<<8;return O&32768?O|4294901760:O},s.prototype.readInt32LE=function(p,m){return p=p>>>0,m||z(p,4,this.length),this[p]|this[p+1]<<8|this[p+2]<<16|this[p+3]<<24},s.prototype.readInt32BE=function(p,m){return p=p>>>0,m||z(p,4,this.length),this[p]<<24|this[p+1]<<16|this[p+2]<<8|this[p+3]},s.prototype.readBigInt64LE=We(function(p){p=p>>>0,P(p,"offset");let m=this[p],O=this[p+7];(m===void 0||O===void 0)&&C(p,this.length-8);let J=this[p+4]+this[p+5]*2**8+this[p+6]*2**16+(O<<24);return(BigInt(J)<<BigInt(32))+BigInt(m+this[++p]*2**8+this[++p]*2**16+this[++p]*2**24)}),s.prototype.readBigInt64BE=We(function(p){p=p>>>0,P(p,"offset");let m=this[p],O=this[p+7];(m===void 0||O===void 0)&&C(p,this.length-8);let J=(m<<24)+this[++p]*2**16+this[++p]*2**8+this[++p];return(BigInt(J)<<BigInt(32))+BigInt(this[++p]*2**24+this[++p]*2**16+this[++p]*2**8+O)}),s.prototype.readFloatLE=function(p,m){return p=p>>>0,m||z(p,4,this.length),e.read(this,p,!0,23,4)},s.prototype.readFloatBE=function(p,m){return p=p>>>0,m||z(p,4,this.length),e.read(this,p,!1,23,4)},s.prototype.readDoubleLE=function(p,m){return p=p>>>0,m||z(p,8,this.length),e.read(this,p,!0,52,8)},s.prototype.readDoubleBE=function(p,m){return p=p>>>0,m||z(p,8,this.length),e.read(this,p,!1,52,8)};function ie(x,p,m,O,J,T){if(!s.isBuffer(x))throw new TypeError('"buffer" argument must be a Buffer instance');if(p>J||p<T)throw new RangeError('"value" argument is out of bounds');if(m+O>x.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function(p,m,O,J){if(p=+p,m=m>>>0,O=O>>>0,!J){let fe=Math.pow(2,8*O)-1;ie(this,p,m,O,fe,0)}let T=1,ae=0;for(this[m]=p&255;++ae<O&&(T*=256);)this[m+ae]=p/T&255;return m+O},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(p,m,O,J){if(p=+p,m=m>>>0,O=O>>>0,!J){let fe=Math.pow(2,8*O)-1;ie(this,p,m,O,fe,0)}let T=O-1,ae=1;for(this[m+T]=p&255;--T>=0&&(ae*=256);)this[m+T]=p/ae&255;return m+O},s.prototype.writeUint8=s.prototype.writeUInt8=function(p,m,O){return p=+p,m=m>>>0,O||ie(this,p,m,1,255,0),this[m]=p&255,m+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(p,m,O){return p=+p,m=m>>>0,O||ie(this,p,m,2,65535,0),this[m]=p&255,this[m+1]=p>>>8,m+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(p,m,O){return p=+p,m=m>>>0,O||ie(this,p,m,2,65535,0),this[m]=p>>>8,this[m+1]=p&255,m+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(p,m,O){return p=+p,m=m>>>0,O||ie(this,p,m,4,4294967295,0),this[m+3]=p>>>24,this[m+2]=p>>>16,this[m+1]=p>>>8,this[m]=p&255,m+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(p,m,O){return p=+p,m=m>>>0,O||ie(this,p,m,4,4294967295,0),this[m]=p>>>24,this[m+1]=p>>>16,this[m+2]=p>>>8,this[m+3]=p&255,m+4};function V(x,p,m,O,J){ye(p,O,J,x,m,7);let T=Number(p&BigInt(4294967295));x[m++]=T,T=T>>8,x[m++]=T,T=T>>8,x[m++]=T,T=T>>8,x[m++]=T;let ae=Number(p>>BigInt(32)&BigInt(4294967295));return x[m++]=ae,ae=ae>>8,x[m++]=ae,ae=ae>>8,x[m++]=ae,ae=ae>>8,x[m++]=ae,m}function X(x,p,m,O,J){ye(p,O,J,x,m,7);let T=Number(p&BigInt(4294967295));x[m+7]=T,T=T>>8,x[m+6]=T,T=T>>8,x[m+5]=T,T=T>>8,x[m+4]=T;let ae=Number(p>>BigInt(32)&BigInt(4294967295));return x[m+3]=ae,ae=ae>>8,x[m+2]=ae,ae=ae>>8,x[m+1]=ae,ae=ae>>8,x[m]=ae,m+8}s.prototype.writeBigUInt64LE=We(function(p,m=0){return V(this,p,m,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=We(function(p,m=0){return X(this,p,m,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(p,m,O,J){if(p=+p,m=m>>>0,!J){let Te=Math.pow(2,8*O-1);ie(this,p,m,O,Te-1,-Te)}let T=0,ae=1,fe=0;for(this[m]=p&255;++T<O&&(ae*=256);)p<0&&fe===0&&this[m+T-1]!==0&&(fe=1),this[m+T]=(p/ae>>0)-fe&255;return m+O},s.prototype.writeIntBE=function(p,m,O,J){if(p=+p,m=m>>>0,!J){let Te=Math.pow(2,8*O-1);ie(this,p,m,O,Te-1,-Te)}let T=O-1,ae=1,fe=0;for(this[m+T]=p&255;--T>=0&&(ae*=256);)p<0&&fe===0&&this[m+T+1]!==0&&(fe=1),this[m+T]=(p/ae>>0)-fe&255;return m+O},s.prototype.writeInt8=function(p,m,O){return p=+p,m=m>>>0,O||ie(this,p,m,1,127,-128),p<0&&(p=255+p+1),this[m]=p&255,m+1},s.prototype.writeInt16LE=function(p,m,O){return p=+p,m=m>>>0,O||ie(this,p,m,2,32767,-32768),this[m]=p&255,this[m+1]=p>>>8,m+2},s.prototype.writeInt16BE=function(p,m,O){return p=+p,m=m>>>0,O||ie(this,p,m,2,32767,-32768),this[m]=p>>>8,this[m+1]=p&255,m+2},s.prototype.writeInt32LE=function(p,m,O){return p=+p,m=m>>>0,O||ie(this,p,m,4,2147483647,-2147483648),this[m]=p&255,this[m+1]=p>>>8,this[m+2]=p>>>16,this[m+3]=p>>>24,m+4},s.prototype.writeInt32BE=function(p,m,O){return p=+p,m=m>>>0,O||ie(this,p,m,4,2147483647,-2147483648),p<0&&(p=4294967295+p+1),this[m]=p>>>24,this[m+1]=p>>>16,this[m+2]=p>>>8,this[m+3]=p&255,m+4},s.prototype.writeBigInt64LE=We(function(p,m=0){return V(this,p,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=We(function(p,m=0){return X(this,p,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function we(x,p,m,O,J,T){if(m+O>x.length)throw new RangeError("Index out of range");if(m<0)throw new RangeError("Index out of range")}function ve(x,p,m,O,J){return p=+p,m=m>>>0,J||we(x,p,m,4),e.write(x,p,m,O,23,4),m+4}s.prototype.writeFloatLE=function(p,m,O){return ve(this,p,m,!0,O)},s.prototype.writeFloatBE=function(p,m,O){return ve(this,p,m,!1,O)};function de(x,p,m,O,J){return p=+p,m=m>>>0,J||we(x,p,m,8),e.write(x,p,m,O,52,8),m+8}s.prototype.writeDoubleLE=function(p,m,O){return de(this,p,m,!0,O)},s.prototype.writeDoubleBE=function(p,m,O){return de(this,p,m,!1,O)},s.prototype.copy=function(p,m,O,J){if(!s.isBuffer(p))throw new TypeError("argument should be a Buffer");if(O||(O=0),!J&&J!==0&&(J=this.length),m>=p.length&&(m=p.length),m||(m=0),J>0&&J<O&&(J=O),J===O||p.length===0||this.length===0)return 0;if(m<0)throw new RangeError("targetStart out of bounds");if(O<0||O>=this.length)throw new RangeError("Index out of range");if(J<0)throw new RangeError("sourceEnd out of bounds");J>this.length&&(J=this.length),p.length-m<J-O&&(J=p.length-m+O);let T=J-O;return this===p&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(m,O,J):Uint8Array.prototype.set.call(p,this.subarray(O,J),m),T},s.prototype.fill=function(p,m,O,J){if(typeof p=="string"){if(typeof m=="string"?(J=m,m=0,O=this.length):typeof O=="string"&&(J=O,O=this.length),J!==void 0&&typeof J!="string")throw new TypeError("encoding must be a string");if(typeof J=="string"&&!s.isEncoding(J))throw new TypeError("Unknown encoding: "+J);if(p.length===1){let ae=p.charCodeAt(0);(J==="utf8"&&ae<128||J==="latin1")&&(p=ae)}}else typeof p=="number"?p=p&255:typeof p=="boolean"&&(p=Number(p));if(m<0||this.length<m||this.length<O)throw new RangeError("Out of range index");if(O<=m)return this;m=m>>>0,O=O===void 0?this.length:O>>>0,p||(p=0);let T;if(typeof p=="number")for(T=m;T<O;++T)this[T]=p;else{let ae=s.isBuffer(p)?p:s.from(p,J),fe=ae.length;if(fe===0)throw new TypeError('The value "'+p+'" is invalid for argument "value"');for(T=0;T<O-m;++T)this[T+m]=ae[T%fe]}return this};let M={};function N(x,p,m){M[x]=class extends m{constructor(){super(),Object.defineProperty(this,"message",{value:p.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${x}]`,this.stack,delete this.name}get code(){return x}set code(J){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:J,writable:!0})}toString(){return`${this.name} [${x}]: ${this.message}`}}}N("ERR_BUFFER_OUT_OF_BOUNDS",function(x){return x?`${x} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),N("ERR_INVALID_ARG_TYPE",function(x,p){return`The "${x}" argument must be of type number. Received type ${typeof p}`},TypeError),N("ERR_OUT_OF_RANGE",function(x,p,m){let O=`The value of "${x}" is out of range.`,J=m;return Number.isInteger(m)&&Math.abs(m)>2**32?J=$(String(m)):typeof m=="bigint"&&(J=String(m),(m>BigInt(2)**BigInt(32)||m<-(BigInt(2)**BigInt(32)))&&(J=$(J)),J+="n"),O+=` It must be ${p}. Received ${J}`,O},RangeError);function $(x){let p="",m=x.length,O=x[0]==="-"?1:0;for(;m>=O+4;m-=3)p=`_${x.slice(m-3,m)}${p}`;return`${x.slice(0,m)}${p}`}function ne(x,p,m){P(p,"offset"),(x[p]===void 0||x[p+m]===void 0)&&C(p,x.length-(m+1))}function ye(x,p,m,O,J,T){if(x>m||x<p){let ae=typeof p=="bigint"?"n":"",fe;throw p===0||p===BigInt(0)?fe=`>= 0${ae} and < 2${ae} ** ${(T+1)*8}${ae}`:fe=`>= -(2${ae} ** ${(T+1)*8-1}${ae}) and < 2 ** ${(T+1)*8-1}${ae}`,new M.ERR_OUT_OF_RANGE("value",fe,x)}ne(O,J,T)}function P(x,p){if(typeof x!="number")throw new M.ERR_INVALID_ARG_TYPE(p,"number",x)}function C(x,p,m){throw Math.floor(x)!==x?(P(x,m),new M.ERR_OUT_OF_RANGE("offset","an integer",x)):p<0?new M.ERR_BUFFER_OUT_OF_BOUNDS:new M.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${p}`,x)}let F=/[^+/0-9A-Za-z-_]/g;function Q(x){if(x=x.split("=")[0],x=x.trim().replace(F,""),x.length<2)return"";for(;x.length%4!==0;)x=x+"=";return x}function Ee(x,p){p=p||1/0;let m,O=x.length,J=null,T=[];for(let ae=0;ae<O;++ae){if(m=x.charCodeAt(ae),m>55295&&m<57344){if(!J){if(m>56319){(p-=3)>-1&&T.push(239,191,189);continue}else if(ae+1===O){(p-=3)>-1&&T.push(239,191,189);continue}J=m;continue}if(m<56320){(p-=3)>-1&&T.push(239,191,189),J=m;continue}m=(J-55296<<10|m-56320)+65536}else J&&(p-=3)>-1&&T.push(239,191,189);if(J=null,m<128){if((p-=1)<0)break;T.push(m)}else if(m<2048){if((p-=2)<0)break;T.push(m>>6|192,m&63|128)}else if(m<65536){if((p-=3)<0)break;T.push(m>>12|224,m>>6&63|128,m&63|128)}else if(m<1114112){if((p-=4)<0)break;T.push(m>>18|240,m>>12&63|128,m>>6&63|128,m&63|128)}else throw new Error("Invalid code point")}return T}function pe(x){let p=[];for(let m=0;m<x.length;++m)p.push(x.charCodeAt(m)&255);return p}function te(x,p){let m,O,J,T=[];for(let ae=0;ae<x.length&&!((p-=2)<0);++ae)m=x.charCodeAt(ae),O=m>>8,J=m%256,T.push(J),T.push(O);return T}function be(x){return r.toByteArray(Q(x))}function Ie(x,p,m,O){let J;for(J=0;J<O&&!(J+m>=p.length||J>=x.length);++J)p[J+m]=x[J];return J}function Pe(x,p){return x instanceof p||x!=null&&x.constructor!=null&&x.constructor.name!=null&&x.constructor.name===p.name}function Ce(x){return x!==x}let qe=(function(){let x="0123456789abcdef",p=new Array(256);for(let m=0;m<16;++m){let O=m*16;for(let J=0;J<16;++J)p[O+J]=x[m]+x[J]}return p})();function We(x){return typeof BigInt>"u"?Ge:x}function Ge(){throw new Error("BigInt not supported")}return $u}function Wu(){return _I||(_I=!0,typeof Object.create=="function"?K0=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:K0=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}),K0}function HI(){return EI||(EI=!0,oE=nn.EventEmitter),oE}function K5(){if(AI)return aE;AI=!0;function r(d,g){var b=Object.keys(d);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(d);g&&(v=v.filter(function(w){return Object.getOwnPropertyDescriptor(d,w).enumerable})),b.push.apply(b,v)}return b}function e(d){for(var g=1;g<arguments.length;g++){var b=arguments[g]!=null?arguments[g]:{};g%2?r(Object(b),!0).forEach(function(v){t(d,v,b[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(b)):r(Object(b)).forEach(function(v){Object.defineProperty(d,v,Object.getOwnPropertyDescriptor(b,v))})}return d}function t(d,g,b){return g in d?Object.defineProperty(d,g,{value:b,enumerable:!0,configurable:!0,writable:!0}):d[g]=b,d}function n(d,g){if(!(d instanceof g))throw new TypeError("Cannot call a class as a function")}function i(d,g){for(var b=0;b<g.length;b++){var v=g[b];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(d,v.key,v)}}function o(d,g,b){return g&&i(d.prototype,g),d}var s=Zf,a=s.Buffer,u=Ve,c=u.inspect,f=c&&c.custom||"inspect";function h(d,g,b){a.prototype.copy.call(d,g,b)}return aE=(function(){function d(){n(this,d),this.head=null,this.tail=null,this.length=0}return o(d,[{key:"push",value:function(b){var v={data:b,next:null};this.length>0?this.tail.next=v:this.head=v,this.tail=v,++this.length}},{key:"unshift",value:function(b){var v={data:b,next:this.head};this.length===0&&(this.tail=v),this.head=v,++this.length}},{key:"shift",value:function(){if(this.length!==0){var b=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,b}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(b){if(this.length===0)return"";for(var v=this.head,w=""+v.data;v=v.next;)w+=b+v.data;return w}},{key:"concat",value:function(b){if(this.length===0)return a.alloc(0);for(var v=a.allocUnsafe(b>>>0),w=this.head,y=0;w;)h(w.data,v,y),y+=w.data.length,w=w.next;return v}},{key:"consume",value:function(b,v){var w;return b<this.head.data.length?(w=this.head.data.slice(0,b),this.head.data=this.head.data.slice(b)):b===this.head.data.length?w=this.shift():w=v?this._getString(b):this._getBuffer(b),w}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(b){var v=this.head,w=1,y=v.data;for(b-=y.length;v=v.next;){var _=v.data,E=b>_.length?_.length:b;if(E===_.length?y+=_:y+=_.slice(0,b),b-=E,b===0){E===_.length?(++w,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=_.slice(E));break}++w}return this.length-=w,y}},{key:"_getBuffer",value:function(b){var v=a.allocUnsafe(b),w=this.head,y=1;for(w.data.copy(v),b-=w.data.length;w=w.next;){var _=w.data,E=b>_.length?_.length:b;if(_.copy(v,v.length-b,0,E),b-=E,b===0){E===_.length?(++y,w.next?this.head=w.next:this.head=this.tail=null):(this.head=w,w.data=_.slice(E));break}++y}return this.length-=y,v}},{key:f,value:function(b,v){return c(this,e({},v,{depth:0,customInspect:!1}))}}]),d})(),aE}function GI(){if(xI)return lE;xI=!0;var r=Gt;function e(a,u){var c=this,f=this._readableState&&this._readableState.destroyed,h=this._writableState&&this._writableState.destroyed;return f||h?(u?u(a):a&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,r.nextTick(o,this,a)):r.nextTick(o,this,a)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,function(d){!u&&d?c._writableState?c._writableState.errorEmitted?r.nextTick(n,c):(c._writableState.errorEmitted=!0,r.nextTick(t,c,d)):r.nextTick(t,c,d):u?(r.nextTick(n,c),u(d)):r.nextTick(n,c)}),this)}function t(a,u){o(a,u),n(a)}function n(a){a._writableState&&!a._writableState.emitClose||a._readableState&&!a._readableState.emitClose||a.emit("close")}function i(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function o(a,u){a.emit("error",u)}function s(a,u){var c=a._readableState,f=a._writableState;c&&c.autoDestroy||f&&f.autoDestroy?a.destroy(u):a.emit("error",u)}return lE={destroy:e,undestroy:i,errorOrDestroy:s},lE}function Jf(){if(SI)return uE;SI=!0;let r={};function e(s,a,u){u||(u=Error);function c(h,d,g){return typeof a=="string"?a:a(h,d,g)}class f extends u{constructor(d,g,b){super(c(d,g,b))}}f.prototype.name=u.name,f.prototype.code=s,r[s]=f}function t(s,a){if(Array.isArray(s)){let u=s.length;return s=s.map(c=>String(c)),u>2?`one of ${a} ${s.slice(0,u-1).join(", ")}, or `+s[u-1]:u===2?`one of ${a} ${s[0]} or ${s[1]}`:`of ${a} ${s[0]}`}else return`of ${a} ${String(s)}`}function n(s,a,u){return s.substr(0,a.length)===a}function i(s,a,u){return(u===void 0||u>s.length)&&(u=s.length),s.substring(u-a.length,u)===a}function o(s,a,u){return typeof u!="number"&&(u=0),u+a.length>s.length?!1:s.indexOf(a,u)!==-1}return e("ERR_INVALID_OPT_VALUE",function(s,a){return'The value "'+a+'" is invalid for option "'+s+'"'},TypeError),e("ERR_INVALID_ARG_TYPE",function(s,a,u){let c;typeof a=="string"&&n(a,"not ")?(c="must not be",a=a.replace(/^not /,"")):c="must be";let f;if(i(s," argument"))f=`The ${s} ${c} ${t(a,"type")}`;else{let h=o(s,".")?"property":"argument";f=`The "${s}" ${h} ${c} ${t(a,"type")}`}return f+=`. Received type ${typeof u}`,f},TypeError),e("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),e("ERR_METHOD_NOT_IMPLEMENTED",function(s){return"The "+s+" method is not implemented"}),e("ERR_STREAM_PREMATURE_CLOSE","Premature close"),e("ERR_STREAM_DESTROYED",function(s){return"Cannot call "+s+" after a stream was destroyed"}),e("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),e("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),e("ERR_STREAM_WRITE_AFTER_END","write after end"),e("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),e("ERR_UNKNOWN_ENCODING",function(s){return"Unknown encoding: "+s},TypeError),e("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),uE.codes=r,uE}function VI(){if(TI)return cE;TI=!0;var r=Jf().codes.ERR_INVALID_OPT_VALUE;function e(n,i,o){return n.highWaterMark!=null?n.highWaterMark:i?n[o]:null}function t(n,i,o,s){var a=e(i,s,o);if(a!=null){if(!(isFinite(a)&&Math.floor(a)===a)||a<0){var u=s?o:"highWaterMark";throw new r(u,a)}return Math.floor(a)}return n.objectMode?16:16*1024}return cE={getHighWaterMark:t},cE}function Z5(){if(CI)return fE;CI=!0,fE=r;function r(t,n){if(e("noDeprecation"))return t;var i=!1;function o(){if(!i){if(e("throwDeprecation"))throw new Error(n);e("traceDeprecation")?console.trace(n):console.warn(n),i=!0}return t.apply(this||hE,arguments)}return o}function e(t){try{if(!hE.localStorage)return!1}catch{return!1}var n=hE.localStorage[t];return n==null?!1:String(n).toLowerCase()==="true"}return fE}function DE(){if(RI)return dE;RI=!0;var r=Gt;dE=re;function e(M){var N=this;this.next=null,this.entry=null,this.finish=function(){de(N,M)}}var t;re.WritableState=D;var n={deprecate:Z5()},i=HI(),o=Zf.Buffer,s=J5.Uint8Array||function(){};function a(M){return o.from(M)}function u(M){return o.isBuffer(M)||M instanceof s}var c=GI(),f=VI(),h=f.getHighWaterMark,d=Jf().codes,g=d.ERR_INVALID_ARG_TYPE,b=d.ERR_METHOD_NOT_IMPLEMENTED,v=d.ERR_MULTIPLE_CALLBACK,w=d.ERR_STREAM_CANNOT_PIPE,y=d.ERR_STREAM_DESTROYED,_=d.ERR_STREAM_NULL_VALUES,E=d.ERR_STREAM_WRITE_AFTER_END,S=d.ERR_UNKNOWN_ENCODING,A=c.errorOrDestroy;Wu()(re,i);function L(){}function D(M,N,$){t=t||zu(),M=M||{},typeof $!="boolean"&&($=N instanceof t),this.objectMode=!!M.objectMode,$&&(this.objectMode=this.objectMode||!!M.writableObjectMode),this.highWaterMark=h(this,M,"writableHighWaterMark",$),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ne=M.decodeStrings===!1;this.decodeStrings=!ne,this.defaultEncoding=M.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ye){j(N,ye)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=M.emitClose!==!1,this.autoDestroy=!!M.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}D.prototype.getBuffer=function(){for(var N=this.bufferedRequest,$=[];N;)$.push(N),N=N.next;return $},(function(){try{Object.defineProperty(D.prototype,"buffer",{get:n.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var K;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(K=Function.prototype[Symbol.hasInstance],Object.defineProperty(re,Symbol.hasInstance,{value:function(N){return K.call(this,N)?!0:this!==re?!1:N&&N._writableState instanceof D}})):K=function(N){return N instanceof this};function re(M){t=t||zu();var N=this instanceof t;if(!N&&!K.call(re,this))return new re(M);this._writableState=new D(M,this,N),this.writable=!0,M&&(typeof M.write=="function"&&(this._write=M.write),typeof M.writev=="function"&&(this._writev=M.writev),typeof M.destroy=="function"&&(this._destroy=M.destroy),typeof M.final=="function"&&(this._final=M.final)),i.call(this)}re.prototype.pipe=function(){A(this,new w)};function q(M,N){var $=new E;A(M,$),r.nextTick(N,$)}function oe(M,N,$,ne){var ye;return $===null?ye=new _:typeof $!="string"&&!N.objectMode&&(ye=new g("chunk",["string","Buffer"],$)),ye?(A(M,ye),r.nextTick(ne,ye),!1):!0}re.prototype.write=function(M,N,$){var ne=this._writableState,ye=!1,P=!ne.objectMode&&u(M);return P&&!o.isBuffer(M)&&(M=a(M)),typeof N=="function"&&($=N,N=null),P?N="buffer":N||(N=ne.defaultEncoding),typeof $!="function"&&($=L),ne.ending?q(this,$):(P||oe(this,ne,M,$))&&(ne.pendingcb++,ye=H(this,ne,P,M,N,$)),ye},re.prototype.cork=function(){this._writableState.corked++},re.prototype.uncork=function(){var M=this._writableState;M.corked&&(M.corked--,!M.writing&&!M.corked&&!M.bufferProcessing&&M.bufferedRequest&&z(this,M))},re.prototype.setDefaultEncoding=function(N){if(typeof N=="string"&&(N=N.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((N+"").toLowerCase())>-1))throw new S(N);return this._writableState.defaultEncoding=N,this},Object.defineProperty(re.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function U(M,N,$){return!M.objectMode&&M.decodeStrings!==!1&&typeof N=="string"&&(N=o.from(N,$)),N}Object.defineProperty(re.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function H(M,N,$,ne,ye,P){if(!$){var C=U(N,ne,ye);ne!==C&&($=!0,ye="buffer",ne=C)}var F=N.objectMode?1:ne.length;N.length+=F;var Q=N.length<N.highWaterMark;if(Q||(N.needDrain=!0),N.writing||N.corked){var Ee=N.lastBufferedRequest;N.lastBufferedRequest={chunk:ne,encoding:ye,isBuf:$,callback:P,next:null},Ee?Ee.next=N.lastBufferedRequest:N.bufferedRequest=N.lastBufferedRequest,N.bufferedRequestCount+=1}else ue(M,N,!1,F,ne,ye,P);return Q}function ue(M,N,$,ne,ye,P,C){N.writelen=ne,N.writecb=C,N.writing=!0,N.sync=!0,N.destroyed?N.onwrite(new y("write")):$?M._writev(ye,N.onwrite):M._write(ye,P,N.onwrite),N.sync=!1}function Se(M,N,$,ne,ye){--N.pendingcb,$?(r.nextTick(ye,ne),r.nextTick(we,M,N),M._writableState.errorEmitted=!0,A(M,ne)):(ye(ne),M._writableState.errorEmitted=!0,A(M,ne),we(M,N))}function Ae(M){M.writing=!1,M.writecb=null,M.length-=M.writelen,M.writelen=0}function j(M,N){var $=M._writableState,ne=$.sync,ye=$.writecb;if(typeof ye!="function")throw new v;if(Ae($),N)Se(M,$,ne,N,ye);else{var P=ie($)||M.destroyed;!P&&!$.corked&&!$.bufferProcessing&&$.bufferedRequest&&z(M,$),ne?r.nextTick(I,M,$,P,ye):I(M,$,P,ye)}}function I(M,N,$,ne){$||se(M,N),N.pendingcb--,ne(),we(M,N)}function se(M,N){N.length===0&&N.needDrain&&(N.needDrain=!1,M.emit("drain"))}function z(M,N){N.bufferProcessing=!0;var $=N.bufferedRequest;if(M._writev&&$&&$.next){var ne=N.bufferedRequestCount,ye=new Array(ne),P=N.corkedRequestsFree;P.entry=$;for(var C=0,F=!0;$;)ye[C]=$,$.isBuf||(F=!1),$=$.next,C+=1;ye.allBuffers=F,ue(M,N,!0,N.length,ye,"",P.finish),N.pendingcb++,N.lastBufferedRequest=null,P.next?(N.corkedRequestsFree=P.next,P.next=null):N.corkedRequestsFree=new e(N),N.bufferedRequestCount=0}else{for(;$;){var Q=$.chunk,Ee=$.encoding,pe=$.callback,te=N.objectMode?1:Q.length;if(ue(M,N,!1,te,Q,Ee,pe),$=$.next,N.bufferedRequestCount--,N.writing)break}$===null&&(N.lastBufferedRequest=null)}N.bufferedRequest=$,N.bufferProcessing=!1}re.prototype._write=function(M,N,$){$(new b("_write()"))},re.prototype._writev=null,re.prototype.end=function(M,N,$){var ne=this._writableState;return typeof M=="function"?($=M,M=null,N=null):typeof N=="function"&&($=N,N=null),M!=null&&this.write(M,N),ne.corked&&(ne.corked=1,this.uncork()),ne.ending||ve(this,ne,$),this},Object.defineProperty(re.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function ie(M){return M.ending&&M.length===0&&M.bufferedRequest===null&&!M.finished&&!M.writing}function V(M,N){M._final(function($){N.pendingcb--,$&&A(M,$),N.prefinished=!0,M.emit("prefinish"),we(M,N)})}function X(M,N){!N.prefinished&&!N.finalCalled&&(typeof M._final=="function"&&!N.destroyed?(N.pendingcb++,N.finalCalled=!0,r.nextTick(V,M,N)):(N.prefinished=!0,M.emit("prefinish")))}function we(M,N){var $=ie(N);if($&&(X(M,N),N.pendingcb===0&&(N.finished=!0,M.emit("finish"),N.autoDestroy))){var ne=M._readableState;(!ne||ne.autoDestroy&&ne.endEmitted)&&M.destroy()}return $}function ve(M,N,$){N.ending=!0,we(M,N),$&&(N.finished?r.nextTick($):M.once("finish",$)),N.ended=!0,M.writable=!1}function de(M,N,$){var ne=M.entry;for(M.entry=null;ne;){var ye=ne.callback;N.pendingcb--,ye($),ne=ne.next}N.corkedRequestsFree.next=M}return Object.defineProperty(re.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(N){this._writableState&&(this._writableState.destroyed=N)}}),re.prototype.destroy=c.destroy,re.prototype._undestroy=c.undestroy,re.prototype._destroy=function(M,N){N(M)},dE}function zu(){if(DI)return pE;DI=!0;var r=Gt,e=Object.keys||function(f){var h=[];for(var d in f)h.push(d);return h};pE=a;var t=IE(),n=DE();Wu()(a,t);for(var i=e(n.prototype),o=0;o<i.length;o++){var s=i[o];a.prototype[s]||(a.prototype[s]=n.prototype[s])}function a(f){if(!(this instanceof a))return new a(f);t.call(this,f),n.call(this,f),this.allowHalfOpen=!0,f&&(f.readable===!1&&(this.readable=!1),f.writable===!1&&(this.writable=!1),f.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",u)))}Object.defineProperty(a.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(a.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(a.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function u(){this._writableState.ended||r.nextTick(c,this)}function c(f){f.end()}return Object.defineProperty(a.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(h){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=h,this._writableState.destroyed=h)}}),pE}function eb(){if(II)return gE;II=!0;var r=Jf().codes.ERR_STREAM_PREMATURE_CLOSE;function e(o){var s=!1;return function(){if(!s){s=!0;for(var a=arguments.length,u=new Array(a),c=0;c<a;c++)u[c]=arguments[c];o.apply(this,u)}}}function t(){}function n(o){return o.setHeader&&typeof o.abort=="function"}function i(o,s,a){if(typeof s=="function")return i(o,null,s);s||(s={}),a=e(a||t);var u=s.readable||s.readable!==!1&&o.readable,c=s.writable||s.writable!==!1&&o.writable,f=function(){o.writable||d()},h=o._writableState&&o._writableState.finished,d=function(){c=!1,h=!0,u||a.call(o)},g=o._readableState&&o._readableState.endEmitted,b=function(){u=!1,g=!0,c||a.call(o)},v=function(E){a.call(o,E)},w=function(){var E;if(u&&!g)return(!o._readableState||!o._readableState.ended)&&(E=new r),a.call(o,E);if(c&&!h)return(!o._writableState||!o._writableState.ended)&&(E=new r),a.call(o,E)},y=function(){o.req.on("finish",d)};return n(o)?(o.on("complete",d),o.on("abort",w),o.req?y():o.on("request",y)):c&&!o._writableState&&(o.on("end",f),o.on("close",f)),o.on("end",b),o.on("finish",d),s.error!==!1&&o.on("error",v),o.on("close",w),function(){o.removeListener("complete",d),o.removeListener("abort",w),o.removeListener("request",y),o.req&&o.req.removeListener("finish",d),o.removeListener("end",f),o.removeListener("close",f),o.removeListener("finish",d),o.removeListener("end",b),o.removeListener("error",v),o.removeListener("close",w)}}return gE=i,gE}function Q5(){if(OI)return mE;OI=!0;var r=Gt,e;function t(_,E,S){return E in _?Object.defineProperty(_,E,{value:S,enumerable:!0,configurable:!0,writable:!0}):_[E]=S,_}var n=eb(),i=Symbol("lastResolve"),o=Symbol("lastReject"),s=Symbol("error"),a=Symbol("ended"),u=Symbol("lastPromise"),c=Symbol("handlePromise"),f=Symbol("stream");function h(_,E){return{value:_,done:E}}function d(_){var E=_[i];if(E!==null){var S=_[f].read();S!==null&&(_[u]=null,_[i]=null,_[o]=null,E(h(S,!1)))}}function g(_){r.nextTick(d,_)}function b(_,E){return function(S,A){_.then(function(){if(E[a]){S(h(void 0,!0));return}E[c](S,A)},A)}}var v=Object.getPrototypeOf(function(){}),w=Object.setPrototypeOf((e={get stream(){return this[f]},next:function(){var E=this,S=this[s];if(S!==null)return Promise.reject(S);if(this[a])return Promise.resolve(h(void 0,!0));if(this[f].destroyed)return new Promise(function(K,re){r.nextTick(function(){E[s]?re(E[s]):K(h(void 0,!0))})});var A=this[u],L;if(A)L=new Promise(b(A,this));else{var D=this[f].read();if(D!==null)return Promise.resolve(h(D,!1));L=new Promise(this[c])}return this[u]=L,L}},t(e,Symbol.asyncIterator,function(){return this}),t(e,"return",function(){var E=this;return new Promise(function(S,A){E[f].destroy(null,function(L){if(L){A(L);return}S(h(void 0,!0))})})}),e),v),y=function(E){var S,A=Object.create(w,(S={},t(S,f,{value:E,writable:!0}),t(S,i,{value:null,writable:!0}),t(S,o,{value:null,writable:!0}),t(S,s,{value:null,writable:!0}),t(S,a,{value:E._readableState.endEmitted,writable:!0}),t(S,c,{value:function(D,K){var re=A[f].read();re?(A[u]=null,A[i]=null,A[o]=null,D(h(re,!1))):(A[i]=D,A[o]=K)},writable:!0}),S));return A[u]=null,n(E,function(L){if(L&&L.code!=="ERR_STREAM_PREMATURE_CLOSE"){var D=A[o];D!==null&&(A[u]=null,A[i]=null,A[o]=null,D(L)),A[s]=L;return}var K=A[i];K!==null&&(A[u]=null,A[i]=null,A[o]=null,K(h(void 0,!0))),A[a]=!0}),E.on("readable",g.bind(null,A)),A};return mE=y,mE}function eU(){return NI||(NI=!0,yE=function(){throw new Error("Readable.from is not available in the browser")}),yE}function IE(){if(kI)return bE;kI=!0;var r=Gt;bE=q;var e;q.ReadableState=re,nn.EventEmitter;var t=function(C,F){return C.listeners(F).length},n=HI(),i=Zf.Buffer,o=tU.Uint8Array||function(){};function s(P){return i.from(P)}function a(P){return i.isBuffer(P)||P instanceof o}var u=Ve,c;u&&u.debuglog?c=u.debuglog("stream"):c=function(){};var f=K5(),h=GI(),d=VI(),g=d.getHighWaterMark,b=Jf().codes,v=b.ERR_INVALID_ARG_TYPE,w=b.ERR_STREAM_PUSH_AFTER_EOF,y=b.ERR_METHOD_NOT_IMPLEMENTED,_=b.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,E,S,A;Wu()(q,n);var L=h.errorOrDestroy,D=["error","close","destroy","pause","resume"];function K(P,C,F){if(typeof P.prependListener=="function")return P.prependListener(C,F);!P._events||!P._events[C]?P.on(C,F):Array.isArray(P._events[C])?P._events[C].unshift(F):P._events[C]=[F,P._events[C]]}function re(P,C,F){e=e||zu(),P=P||{},typeof F!="boolean"&&(F=C instanceof e),this.objectMode=!!P.objectMode,F&&(this.objectMode=this.objectMode||!!P.readableObjectMode),this.highWaterMark=g(this,P,"readableHighWaterMark",F),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=P.emitClose!==!1,this.autoDestroy=!!P.autoDestroy,this.destroyed=!1,this.defaultEncoding=P.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,P.encoding&&(E||(E=SE.StringDecoder),this.decoder=new E(P.encoding),this.encoding=P.encoding)}function q(P){if(e=e||zu(),!(this instanceof q))return new q(P);var C=this instanceof e;this._readableState=new re(P,this,C),this.readable=!0,P&&(typeof P.read=="function"&&(this._read=P.read),typeof P.destroy=="function"&&(this._destroy=P.destroy)),n.call(this)}Object.defineProperty(q.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(C){this._readableState&&(this._readableState.destroyed=C)}}),q.prototype.destroy=h.destroy,q.prototype._undestroy=h.undestroy,q.prototype._destroy=function(P,C){C(P)},q.prototype.push=function(P,C){var F=this._readableState,Q;return F.objectMode?Q=!0:typeof P=="string"&&(C=C||F.defaultEncoding,C!==F.encoding&&(P=i.from(P,C),C=""),Q=!0),oe(this,P,C,!1,Q)},q.prototype.unshift=function(P){return oe(this,P,null,!0,!1)};function oe(P,C,F,Q,Ee){c("readableAddChunk",C);var pe=P._readableState;if(C===null)pe.reading=!1,j(P,pe);else{var te;if(Ee||(te=H(pe,C)),te)L(P,te);else if(pe.objectMode||C&&C.length>0)if(typeof C!="string"&&!pe.objectMode&&Object.getPrototypeOf(C)!==i.prototype&&(C=s(C)),Q)pe.endEmitted?L(P,new _):U(P,pe,C,!0);else if(pe.ended)L(P,new w);else{if(pe.destroyed)return!1;pe.reading=!1,pe.decoder&&!F?(C=pe.decoder.write(C),pe.objectMode||C.length!==0?U(P,pe,C,!1):z(P,pe)):U(P,pe,C,!1)}else Q||(pe.reading=!1,z(P,pe))}return!pe.ended&&(pe.length<pe.highWaterMark||pe.length===0)}function U(P,C,F,Q){C.flowing&&C.length===0&&!C.sync?(C.awaitDrain=0,P.emit("data",F)):(C.length+=C.objectMode?1:F.length,Q?C.buffer.unshift(F):C.buffer.push(F),C.needReadable&&I(P)),z(P,C)}function H(P,C){var F;return!a(C)&&typeof C!="string"&&C!==void 0&&!P.objectMode&&(F=new v("chunk",["string","Buffer","Uint8Array"],C)),F}q.prototype.isPaused=function(){return this._readableState.flowing===!1},q.prototype.setEncoding=function(P){E||(E=SE.StringDecoder);var C=new E(P);this._readableState.decoder=C,this._readableState.encoding=this._readableState.decoder.encoding;for(var F=this._readableState.buffer.head,Q="";F!==null;)Q+=C.write(F.data),F=F.next;return this._readableState.buffer.clear(),Q!==""&&this._readableState.buffer.push(Q),this._readableState.length=Q.length,this};var ue=1073741824;function Se(P){return P>=ue?P=ue:(P--,P|=P>>>1,P|=P>>>2,P|=P>>>4,P|=P>>>8,P|=P>>>16,P++),P}function Ae(P,C){return P<=0||C.length===0&&C.ended?0:C.objectMode?1:P!==P?C.flowing&&C.length?C.buffer.head.data.length:C.length:(P>C.highWaterMark&&(C.highWaterMark=Se(P)),P<=C.length?P:C.ended?C.length:(C.needReadable=!0,0))}q.prototype.read=function(P){c("read",P),P=parseInt(P,10);var C=this._readableState,F=P;if(P!==0&&(C.emittedReadable=!1),P===0&&C.needReadable&&((C.highWaterMark!==0?C.length>=C.highWaterMark:C.length>0)||C.ended))return c("read: emitReadable",C.length,C.ended),C.length===0&&C.ended?$(this):I(this),null;if(P=Ae(P,C),P===0&&C.ended)return C.length===0&&$(this),null;var Q=C.needReadable;c("need readable",Q),(C.length===0||C.length-P<C.highWaterMark)&&(Q=!0,c("length less than watermark",Q)),C.ended||C.reading?(Q=!1,c("reading or ended",Q)):Q&&(c("do read"),C.reading=!0,C.sync=!0,C.length===0&&(C.needReadable=!0),this._read(C.highWaterMark),C.sync=!1,C.reading||(P=Ae(F,C)));var Ee;return P>0?Ee=N(P,C):Ee=null,Ee===null?(C.needReadable=C.length<=C.highWaterMark,P=0):(C.length-=P,C.awaitDrain=0),C.length===0&&(C.ended||(C.needReadable=!0),F!==P&&C.ended&&$(this)),Ee!==null&&this.emit("data",Ee),Ee};function j(P,C){if(c("onEofChunk"),!C.ended){if(C.decoder){var F=C.decoder.end();F&&F.length&&(C.buffer.push(F),C.length+=C.objectMode?1:F.length)}C.ended=!0,C.sync?I(P):(C.needReadable=!1,C.emittedReadable||(C.emittedReadable=!0,se(P)))}}function I(P){var C=P._readableState;c("emitReadable",C.needReadable,C.emittedReadable),C.needReadable=!1,C.emittedReadable||(c("emitReadable",C.flowing),C.emittedReadable=!0,r.nextTick(se,P))}function se(P){var C=P._readableState;c("emitReadable_",C.destroyed,C.length,C.ended),!C.destroyed&&(C.length||C.ended)&&(P.emit("readable"),C.emittedReadable=!1),C.needReadable=!C.flowing&&!C.ended&&C.length<=C.highWaterMark,M(P)}function z(P,C){C.readingMore||(C.readingMore=!0,r.nextTick(ie,P,C))}function ie(P,C){for(;!C.reading&&!C.ended&&(C.length<C.highWaterMark||C.flowing&&C.length===0);){var F=C.length;if(c("maybeReadMore read 0"),P.read(0),F===C.length)break}C.readingMore=!1}q.prototype._read=function(P){L(this,new y("_read()"))},q.prototype.pipe=function(P,C){var F=this,Q=this._readableState;switch(Q.pipesCount){case 0:Q.pipes=P;break;case 1:Q.pipes=[Q.pipes,P];break;default:Q.pipes.push(P);break}Q.pipesCount+=1,c("pipe count=%d opts=%j",Q.pipesCount,C);var Ee=(!C||C.end!==!1)&&P!==r.stdout&&P!==r.stderr,pe=Ee?be:p;Q.endEmitted?r.nextTick(pe):F.once("end",pe),P.on("unpipe",te);function te(m,O){c("onunpipe"),m===F&&O&&O.hasUnpiped===!1&&(O.hasUnpiped=!0,Ce())}function be(){c("onend"),P.end()}var Ie=V(F);P.on("drain",Ie);var Pe=!1;function Ce(){c("cleanup"),P.removeListener("close",Ge),P.removeListener("finish",x),P.removeListener("drain",Ie),P.removeListener("error",We),P.removeListener("unpipe",te),F.removeListener("end",be),F.removeListener("end",p),F.removeListener("data",qe),Pe=!0,Q.awaitDrain&&(!P._writableState||P._writableState.needDrain)&&Ie()}F.on("data",qe);function qe(m){c("ondata");var O=P.write(m);c("dest.write",O),O===!1&&((Q.pipesCount===1&&Q.pipes===P||Q.pipesCount>1&&ye(Q.pipes,P)!==-1)&&!Pe&&(c("false write response, pause",Q.awaitDrain),Q.awaitDrain++),F.pause())}function We(m){c("onerror",m),p(),P.removeListener("error",We),t(P,"error")===0&&L(P,m)}K(P,"error",We);function Ge(){P.removeListener("finish",x),p()}P.once("close",Ge);function x(){c("onfinish"),P.removeListener("close",Ge),p()}P.once("finish",x);function p(){c("unpipe"),F.unpipe(P)}return P.emit("pipe",F),Q.flowing||(c("pipe resume"),F.resume()),P};function V(P){return function(){var F=P._readableState;c("pipeOnDrain",F.awaitDrain),F.awaitDrain&&F.awaitDrain--,F.awaitDrain===0&&t(P,"data")&&(F.flowing=!0,M(P))}}q.prototype.unpipe=function(P){var C=this._readableState,F={hasUnpiped:!1};if(C.pipesCount===0)return this;if(C.pipesCount===1)return P&&P!==C.pipes?this:(P||(P=C.pipes),C.pipes=null,C.pipesCount=0,C.flowing=!1,P&&P.emit("unpipe",this,F),this);if(!P){var Q=C.pipes,Ee=C.pipesCount;C.pipes=null,C.pipesCount=0,C.flowing=!1;for(var pe=0;pe<Ee;pe++)Q[pe].emit("unpipe",this,{hasUnpiped:!1});return this}var te=ye(C.pipes,P);return te===-1?this:(C.pipes.splice(te,1),C.pipesCount-=1,C.pipesCount===1&&(C.pipes=C.pipes[0]),P.emit("unpipe",this,F),this)},q.prototype.on=function(P,C){var F=n.prototype.on.call(this,P,C),Q=this._readableState;return P==="data"?(Q.readableListening=this.listenerCount("readable")>0,Q.flowing!==!1&&this.resume()):P==="readable"&&!Q.endEmitted&&!Q.readableListening&&(Q.readableListening=Q.needReadable=!0,Q.flowing=!1,Q.emittedReadable=!1,c("on readable",Q.length,Q.reading),Q.length?I(this):Q.reading||r.nextTick(we,this)),F},q.prototype.addListener=q.prototype.on,q.prototype.removeListener=function(P,C){var F=n.prototype.removeListener.call(this,P,C);return P==="readable"&&r.nextTick(X,this),F},q.prototype.removeAllListeners=function(P){var C=n.prototype.removeAllListeners.apply(this,arguments);return(P==="readable"||P===void 0)&&r.nextTick(X,this),C};function X(P){var C=P._readableState;C.readableListening=P.listenerCount("readable")>0,C.resumeScheduled&&!C.paused?C.flowing=!0:P.listenerCount("data")>0&&P.resume()}function we(P){c("readable nexttick read 0"),P.read(0)}q.prototype.resume=function(){var P=this._readableState;return P.flowing||(c("resume"),P.flowing=!P.readableListening,ve(this,P)),P.paused=!1,this};function ve(P,C){C.resumeScheduled||(C.resumeScheduled=!0,r.nextTick(de,P,C))}function de(P,C){c("resume",C.reading),C.reading||P.read(0),C.resumeScheduled=!1,P.emit("resume"),M(P),C.flowing&&!C.reading&&P.read(0)}q.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function M(P){var C=P._readableState;for(c("flow",C.flowing);C.flowing&&P.read()!==null;);}q.prototype.wrap=function(P){var C=this,F=this._readableState,Q=!1;P.on("end",function(){if(c("wrapped end"),F.decoder&&!F.ended){var te=F.decoder.end();te&&te.length&&C.push(te)}C.push(null)}),P.on("data",function(te){if(c("wrapped data"),F.decoder&&(te=F.decoder.write(te)),!(F.objectMode&&te==null)&&!(!F.objectMode&&(!te||!te.length))){var be=C.push(te);be||(Q=!0,P.pause())}});for(var Ee in P)this[Ee]===void 0&&typeof P[Ee]=="function"&&(this[Ee]=(function(be){return function(){return P[be].apply(P,arguments)}})(Ee));for(var pe=0;pe<D.length;pe++)P.on(D[pe],this.emit.bind(this,D[pe]));return this._read=function(te){c("wrapped _read",te),Q&&(Q=!1,P.resume())},this},typeof Symbol=="function"&&(q.prototype[Symbol.asyncIterator]=function(){return S===void 0&&(S=Q5()),S(this)}),Object.defineProperty(q.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(q.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(q.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(C){this._readableState&&(this._readableState.flowing=C)}}),q._fromList=N,Object.defineProperty(q.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function N(P,C){if(C.length===0)return null;var F;return C.objectMode?F=C.buffer.shift():!P||P>=C.length?(C.decoder?F=C.buffer.join(""):C.buffer.length===1?F=C.buffer.first():F=C.buffer.concat(C.length),C.buffer.clear()):F=C.buffer.consume(P,C.decoder),F}function $(P){var C=P._readableState;c("endReadable",C.endEmitted),C.endEmitted||(C.ended=!0,r.nextTick(ne,C,P))}function ne(P,C){if(c("endReadableNT",P.endEmitted,P.length),!P.endEmitted&&P.length===0&&(P.endEmitted=!0,C.readable=!1,C.emit("end"),P.autoDestroy)){var F=C._writableState;(!F||F.autoDestroy&&F.finished)&&C.destroy()}}typeof Symbol=="function"&&(q.from=function(P,C){return A===void 0&&(A=eU()),A(q,P,C)});function ye(P,C){for(var F=0,Q=P.length;F<Q;F++)if(P[F]===C)return F;return-1}return bE}function OE(){if(LI)return wE;LI=!0,wE=a;var r=Jf().codes,e=r.ERR_METHOD_NOT_IMPLEMENTED,t=r.ERR_MULTIPLE_CALLBACK,n=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=r.ERR_TRANSFORM_WITH_LENGTH_0,o=zu();Wu()(a,o);function s(f,h){var d=this._transformState;d.transforming=!1;var g=d.writecb;if(g===null)return this.emit("error",new t);d.writechunk=null,d.writecb=null,h!=null&&this.push(h),g(f);var b=this._readableState;b.reading=!1,(b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}function a(f){if(!(this instanceof a))return new a(f);o.call(this,f),this._transformState={afterTransform:s.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",u)}function u(){var f=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(h,d){c(f,h,d)}):c(this,null,null)}a.prototype.push=function(f,h){return this._transformState.needTransform=!1,o.prototype.push.call(this,f,h)},a.prototype._transform=function(f,h,d){d(new e("_transform()"))},a.prototype._write=function(f,h,d){var g=this._transformState;if(g.writecb=d,g.writechunk=f,g.writeencoding=h,!g.transforming){var b=this._readableState;(g.needTransform||b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}},a.prototype._read=function(f){var h=this._transformState;h.writechunk!==null&&!h.transforming?(h.transforming=!0,this._transform(h.writechunk,h.writeencoding,h.afterTransform)):h.needTransform=!0},a.prototype._destroy=function(f,h){o.prototype._destroy.call(this,f,function(d){h(d)})};function c(f,h,d){if(h)return f.emit("error",h);if(d!=null&&f.push(d),f._writableState.length)throw new i;if(f._transformState.transforming)throw new n;return f.push(null)}return wE}function YI(){if(PI)return vE;PI=!0,vE=e;var r=OE();Wu()(e,r);function e(t){if(!(this instanceof e))return new e(t);r.call(this,t)}return e.prototype._transform=function(t,n,i){i(null,t)},vE}function XI(){if(BI)return _E;BI=!0;var r;function e(d){var g=!1;return function(){g||(g=!0,d.apply(void 0,arguments))}}var t=Jf().codes,n=t.ERR_MISSING_ARGS,i=t.ERR_STREAM_DESTROYED;function o(d){if(d)throw d}function s(d){return d.setHeader&&typeof d.abort=="function"}function a(d,g,b,v){v=e(v);var w=!1;d.on("close",function(){w=!0}),r===void 0&&(r=eb()),r(d,{readable:g,writable:b},function(_){if(_)return v(_);w=!0,v()});var y=!1;return function(_){if(!w&&!y){if(y=!0,s(d))return d.abort();if(typeof d.destroy=="function")return d.destroy();v(_||new i("pipe"))}}}function u(d){d()}function c(d,g){return d.pipe(g)}function f(d){return!d.length||typeof d[d.length-1]!="function"?o:d.pop()}function h(){for(var d=arguments.length,g=new Array(d),b=0;b<d;b++)g[b]=arguments[b];var v=f(g);if(Array.isArray(g[0])&&(g=g[0]),g.length<2)throw new n("streams");var w,y=g.map(function(_,E){var S=E<g.length-1,A=E>0;return a(_,S,A,function(L){w||(w=L),L&&y.forEach(u),!S&&(y.forEach(u),v(w))})});return g.reduce(c)}return _E=h,_E}var MI,Cs,xi,aI,Y0,Fu,lI,S5,Ko,EE,Kf,cI,M5,F5,Z0,J0,to,U5,SE,TE,yI,Fp,bI,X0,wI,$u,vI,Zf,K0,_I,oE,EI,aE,AI,lE,xI,uE,SI,cE,TI,fE,CI,hE,dE,RI,J5,pE,DI,gE,II,mE,OI,yE,NI,bE,kI,tU,wE,LI,vE,PI,_E,BI,tb=Jt(()=>{Ne();Le();ke();Xf();fl();qf();for(MI={byteLength:function(r){var e=uI(r),t=e[0],n=e[1];return 3*(t+n)/4-n},toByteArray:function(r){var e,t,n=uI(r),i=n[0],o=n[1],s=new aI((function(c,f,h){return 3*(f+h)/4-h})(0,i,o)),a=0,u=o>0?i-4:i;for(t=0;t<u;t+=4)e=xi[r.charCodeAt(t)]<<18|xi[r.charCodeAt(t+1)]<<12|xi[r.charCodeAt(t+2)]<<6|xi[r.charCodeAt(t+3)],s[a++]=e>>16&255,s[a++]=e>>8&255,s[a++]=255&e;return o===2&&(e=xi[r.charCodeAt(t)]<<2|xi[r.charCodeAt(t+1)]>>4,s[a++]=255&e),o===1&&(e=xi[r.charCodeAt(t)]<<10|xi[r.charCodeAt(t+1)]<<4|xi[r.charCodeAt(t+2)]>>2,s[a++]=e>>8&255,s[a++]=255&e),s},fromByteArray:function(r){for(var e,t=r.length,n=t%3,i=[],o=0,s=t-n;o<s;o+=16383)i.push(x5(r,o,o+16383>s?s:o+16383));return n===1?(e=r[t-1],i.push(Cs[e>>2]+Cs[e<<4&63]+"==")):n===2&&(e=(r[t-2]<<8)+r[t-1],i.push(Cs[e>>10]+Cs[e>>4&63]+Cs[e<<2&63]+"=")),i.join("")}},Cs=[],xi=[],aI=typeof Uint8Array<"u"?Uint8Array:Array,Y0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Fu=0,lI=Y0.length;Fu<lI;++Fu)Cs[Fu]=Y0[Fu],xi[Y0.charCodeAt(Fu)]=Fu;xi[45]=62,xi[95]=63;S5={read:function(r,e,t,n,i){var o,s,a=8*i-n-1,u=(1<<a)-1,c=u>>1,f=-7,h=t?i-1:0,d=t?-1:1,g=r[e+h];for(h+=d,o=g&(1<<-f)-1,g>>=-f,f+=a;f>0;o=256*o+r[e+h],h+=d,f-=8);for(s=o&(1<<-f)-1,o>>=-f,f+=n;f>0;s=256*s+r[e+h],h+=d,f-=8);if(o===0)o=1-c;else{if(o===u)return s?NaN:1/0*(g?-1:1);s+=Math.pow(2,n),o-=c}return(g?-1:1)*s*Math.pow(2,o-n)},write:function(r,e,t,n,i,o){var s,a,u,c=8*o-i-1,f=(1<<c)-1,h=f>>1,d=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=n?0:o-1,b=n?1:-1,v=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=f):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),(e+=s+h>=1?d/u:d*Math.pow(2,1-h))*u>=2&&(s++,u/=2),s+h>=f?(a=0,s=f):s+h>=1?(a=(e*u-1)*Math.pow(2,i),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;r[t+g]=255&a,g+=b,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;r[t+g]=255&s,g+=b,s/=256,c-=8);r[t+g-b]|=128*v}},Ko={},EE=MI,Kf=S5,cI=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Ko.Buffer=Ke,Ko.SlowBuffer=function(r){return+r!=r&&(r=0),Ke.alloc(+r)},Ko.INSPECT_MAX_BYTES=50;Ko.kMaxLength=2147483647,Ke.TYPED_ARRAY_SUPPORT=(function(){try{var r=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(r,e),r.foo()===42}catch{return!1}})(),Ke.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(Ke.prototype,"parent",{enumerable:!0,get:function(){if(Ke.isBuffer(this))return this.buffer}}),Object.defineProperty(Ke.prototype,"offset",{enumerable:!0,get:function(){if(Ke.isBuffer(this))return this.byteOffset}}),Ke.poolSize=8192,Ke.from=function(r,e,t){return FI(r,e,t)},Object.setPrototypeOf(Ke.prototype,Uint8Array.prototype),Object.setPrototypeOf(Ke,Uint8Array),Ke.alloc=function(r,e,t){return(function(n,i,o){return UI(n),n<=0?Yo(n):i!==void 0?typeof o=="string"?Yo(n).fill(i,o):Yo(n).fill(i):Yo(n)})(r,e,t)},Ke.allocUnsafe=function(r){return AE(r)},Ke.allocUnsafeSlow=function(r){return AE(r)},Ke.isBuffer=function(r){return r!=null&&r._isBuffer===!0&&r!==Ke.prototype},Ke.compare=function(r,e){if(Xo(r,Uint8Array)&&(r=Ke.from(r,r.offset,r.byteLength)),Xo(e,Uint8Array)&&(e=Ke.from(e,e.offset,e.byteLength)),!Ke.isBuffer(r)||!Ke.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(r===e)return 0;for(var t=r.length,n=e.length,i=0,o=Math.min(t,n);i<o;++i)if(r[i]!==e[i]){t=r[i],n=e[i];break}return t<n?-1:n<t?1:0},Ke.isEncoding=function(r){switch(String(r).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Ke.concat=function(r,e){if(!Array.isArray(r))throw new TypeError('"list" argument must be an Array of Buffers');if(r.length===0)return Ke.alloc(0);var t;if(e===void 0)for(e=0,t=0;t<r.length;++t)e+=r[t].length;var n=Ke.allocUnsafe(e),i=0;for(t=0;t<r.length;++t){var o=r[t];if(Xo(o,Uint8Array)&&(o=Ke.from(o)),!Ke.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},Ke.byteLength=jI,Ke.prototype._isBuffer=!0,Ke.prototype.swap16=function(){var r=this.length;if(r%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<r;e+=2)Uu(this,e,e+1);return this},Ke.prototype.swap32=function(){var r=this.length;if(r%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<r;e+=4)Uu(this,e,e+3),Uu(this,e+1,e+2);return this},Ke.prototype.swap64=function(){var r=this.length;if(r%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<r;e+=8)Uu(this,e,e+7),Uu(this,e+1,e+6),Uu(this,e+2,e+5),Uu(this,e+3,e+4);return this},Ke.prototype.toString=function(){var r=this.length;return r===0?"":arguments.length===0?zI(this,0,r):T5.apply(this,arguments)},Ke.prototype.toLocaleString=Ke.prototype.toString,Ke.prototype.equals=function(r){if(!Ke.isBuffer(r))throw new TypeError("Argument must be a Buffer");return this===r||Ke.compare(this,r)===0},Ke.prototype.inspect=function(){var r="",e=Ko.INSPECT_MAX_BYTES;return r=this.toString("hex",0,e).replace(/(.{2})/g,"$1 ").trim(),this.length>e&&(r+=" ... "),"<Buffer "+r+">"},cI&&(Ke.prototype[cI]=Ke.prototype.inspect),Ke.prototype.compare=function(r,e,t,n,i){if(Xo(r,Uint8Array)&&(r=Ke.from(r,r.offset,r.byteLength)),!Ke.isBuffer(r))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof r);if(e===void 0&&(e=0),t===void 0&&(t=r?r.length:0),n===void 0&&(n=0),i===void 0&&(i=this.length),e<0||t>r.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=t)return 0;if(n>=i)return-1;if(e>=t)return 1;if(this===r)return 0;for(var o=(i>>>=0)-(n>>>=0),s=(t>>>=0)-(e>>>=0),a=Math.min(o,s),u=this.slice(n,i),c=r.slice(e,t),f=0;f<a;++f)if(u[f]!==c[f]){o=u[f],s=c[f];break}return o<s?-1:s<o?1:0},Ke.prototype.includes=function(r,e,t){return this.indexOf(r,e,t)!==-1},Ke.prototype.indexOf=function(r,e,t){return hI(this,r,e,t,!0)},Ke.prototype.lastIndexOf=function(r,e,t){return hI(this,r,e,t,!1)},Ke.prototype.write=function(r,e,t,n){if(e===void 0)n="utf8",t=this.length,e=0;else if(t===void 0&&typeof e=="string")n=e,t=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(t)?(t>>>=0,n===void 0&&(n="utf8")):(n=t,t=void 0)}var i=this.length-e;if((t===void 0||t>i)&&(t=i),r.length>0&&(t<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return C5(this,r,e,t);case"utf8":case"utf-8":return R5(this,r,e,t);case"ascii":return $I(this,r,e,t);case"latin1":case"binary":return D5(this,r,e,t);case"base64":return I5(this,r,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O5(this,r,e,t);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},Ke.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};Ke.prototype.slice=function(r,e){var t=this.length;(r=~~r)<0?(r+=t)<0&&(r=0):r>t&&(r=t),(e=e===void 0?t:~~e)<0?(e+=t)<0&&(e=0):e>t&&(e=t),e<r&&(e=r);var n=this.subarray(r,e);return Object.setPrototypeOf(n,Ke.prototype),n},Ke.prototype.readUIntLE=function(r,e,t){r>>>=0,e>>>=0,t||hn(r,e,this.length);for(var n=this[r],i=1,o=0;++o<e&&(i*=256);)n+=this[r+o]*i;return n},Ke.prototype.readUIntBE=function(r,e,t){r>>>=0,e>>>=0,t||hn(r,e,this.length);for(var n=this[r+--e],i=1;e>0&&(i*=256);)n+=this[r+--e]*i;return n},Ke.prototype.readUInt8=function(r,e){return r>>>=0,e||hn(r,1,this.length),this[r]},Ke.prototype.readUInt16LE=function(r,e){return r>>>=0,e||hn(r,2,this.length),this[r]|this[r+1]<<8},Ke.prototype.readUInt16BE=function(r,e){return r>>>=0,e||hn(r,2,this.length),this[r]<<8|this[r+1]},Ke.prototype.readUInt32LE=function(r,e){return r>>>=0,e||hn(r,4,this.length),(this[r]|this[r+1]<<8|this[r+2]<<16)+16777216*this[r+3]},Ke.prototype.readUInt32BE=function(r,e){return r>>>=0,e||hn(r,4,this.length),16777216*this[r]+(this[r+1]<<16|this[r+2]<<8|this[r+3])},Ke.prototype.readIntLE=function(r,e,t){r>>>=0,e>>>=0,t||hn(r,e,this.length);for(var n=this[r],i=1,o=0;++o<e&&(i*=256);)n+=this[r+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*e)),n},Ke.prototype.readIntBE=function(r,e,t){r>>>=0,e>>>=0,t||hn(r,e,this.length);for(var n=e,i=1,o=this[r+--n];n>0&&(i*=256);)o+=this[r+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},Ke.prototype.readInt8=function(r,e){return r>>>=0,e||hn(r,1,this.length),128&this[r]?-1*(255-this[r]+1):this[r]},Ke.prototype.readInt16LE=function(r,e){r>>>=0,e||hn(r,2,this.length);var t=this[r]|this[r+1]<<8;return 32768&t?4294901760|t:t},Ke.prototype.readInt16BE=function(r,e){r>>>=0,e||hn(r,2,this.length);var t=this[r+1]|this[r]<<8;return 32768&t?4294901760|t:t},Ke.prototype.readInt32LE=function(r,e){return r>>>=0,e||hn(r,4,this.length),this[r]|this[r+1]<<8|this[r+2]<<16|this[r+3]<<24},Ke.prototype.readInt32BE=function(r,e){return r>>>=0,e||hn(r,4,this.length),this[r]<<24|this[r+1]<<16|this[r+2]<<8|this[r+3]},Ke.prototype.readFloatLE=function(r,e){return r>>>=0,e||hn(r,4,this.length),Kf.read(this,r,!0,23,4)},Ke.prototype.readFloatBE=function(r,e){return r>>>=0,e||hn(r,4,this.length),Kf.read(this,r,!1,23,4)},Ke.prototype.readDoubleLE=function(r,e){return r>>>=0,e||hn(r,8,this.length),Kf.read(this,r,!0,52,8)},Ke.prototype.readDoubleBE=function(r,e){return r>>>=0,e||hn(r,8,this.length),Kf.read(this,r,!1,52,8)},Ke.prototype.writeUIntLE=function(r,e,t,n){r=+r,e>>>=0,t>>>=0,n||ni(this,r,e,t,Math.pow(2,8*t)-1,0);var i=1,o=0;for(this[e]=255&r;++o<t&&(i*=256);)this[e+o]=r/i&255;return e+t},Ke.prototype.writeUIntBE=function(r,e,t,n){r=+r,e>>>=0,t>>>=0,n||ni(this,r,e,t,Math.pow(2,8*t)-1,0);var i=t-1,o=1;for(this[e+i]=255&r;--i>=0&&(o*=256);)this[e+i]=r/o&255;return e+t},Ke.prototype.writeUInt8=function(r,e,t){return r=+r,e>>>=0,t||ni(this,r,e,1,255,0),this[e]=255&r,e+1},Ke.prototype.writeUInt16LE=function(r,e,t){return r=+r,e>>>=0,t||ni(this,r,e,2,65535,0),this[e]=255&r,this[e+1]=r>>>8,e+2},Ke.prototype.writeUInt16BE=function(r,e,t){return r=+r,e>>>=0,t||ni(this,r,e,2,65535,0),this[e]=r>>>8,this[e+1]=255&r,e+2},Ke.prototype.writeUInt32LE=function(r,e,t){return r=+r,e>>>=0,t||ni(this,r,e,4,4294967295,0),this[e+3]=r>>>24,this[e+2]=r>>>16,this[e+1]=r>>>8,this[e]=255&r,e+4},Ke.prototype.writeUInt32BE=function(r,e,t){return r=+r,e>>>=0,t||ni(this,r,e,4,4294967295,0),this[e]=r>>>24,this[e+1]=r>>>16,this[e+2]=r>>>8,this[e+3]=255&r,e+4},Ke.prototype.writeIntLE=function(r,e,t,n){if(r=+r,e>>>=0,!n){var i=Math.pow(2,8*t-1);ni(this,r,e,t,i-1,-i)}var o=0,s=1,a=0;for(this[e]=255&r;++o<t&&(s*=256);)r<0&&a===0&&this[e+o-1]!==0&&(a=1),this[e+o]=(r/s>>0)-a&255;return e+t},Ke.prototype.writeIntBE=function(r,e,t,n){if(r=+r,e>>>=0,!n){var i=Math.pow(2,8*t-1);ni(this,r,e,t,i-1,-i)}var o=t-1,s=1,a=0;for(this[e+o]=255&r;--o>=0&&(s*=256);)r<0&&a===0&&this[e+o+1]!==0&&(a=1),this[e+o]=(r/s>>0)-a&255;return e+t},Ke.prototype.writeInt8=function(r,e,t){return r=+r,e>>>=0,t||ni(this,r,e,1,127,-128),r<0&&(r=255+r+1),this[e]=255&r,e+1},Ke.prototype.writeInt16LE=function(r,e,t){return r=+r,e>>>=0,t||ni(this,r,e,2,32767,-32768),this[e]=255&r,this[e+1]=r>>>8,e+2},Ke.prototype.writeInt16BE=function(r,e,t){return r=+r,e>>>=0,t||ni(this,r,e,2,32767,-32768),this[e]=r>>>8,this[e+1]=255&r,e+2},Ke.prototype.writeInt32LE=function(r,e,t){return r=+r,e>>>=0,t||ni(this,r,e,4,2147483647,-2147483648),this[e]=255&r,this[e+1]=r>>>8,this[e+2]=r>>>16,this[e+3]=r>>>24,e+4},Ke.prototype.writeInt32BE=function(r,e,t){return r=+r,e>>>=0,t||ni(this,r,e,4,2147483647,-2147483648),r<0&&(r=4294967295+r+1),this[e]=r>>>24,this[e+1]=r>>>16,this[e+2]=r>>>8,this[e+3]=255&r,e+4},Ke.prototype.writeFloatLE=function(r,e,t){return pI(this,r,e,!0,t)},Ke.prototype.writeFloatBE=function(r,e,t){return pI(this,r,e,!1,t)},Ke.prototype.writeDoubleLE=function(r,e,t){return gI(this,r,e,!0,t)},Ke.prototype.writeDoubleBE=function(r,e,t){return gI(this,r,e,!1,t)},Ke.prototype.copy=function(r,e,t,n){if(!Ke.isBuffer(r))throw new TypeError("argument should be a Buffer");if(t||(t=0),n||n===0||(n=this.length),e>=r.length&&(e=r.length),e||(e=0),n>0&&n<t&&(n=t),n===t||r.length===0||this.length===0)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(t<0||t>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),r.length-e<n-t&&(n=r.length-e+t);var i=n-t;if(this===r&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(e,t,n);else if(this===r&&t<e&&e<n)for(var o=i-1;o>=0;--o)r[o+e]=this[o+t];else Uint8Array.prototype.set.call(r,this.subarray(t,n),e);return i},Ke.prototype.fill=function(r,e,t,n){if(typeof r=="string"){if(typeof e=="string"?(n=e,e=0,t=this.length):typeof t=="string"&&(n=t,t=this.length),n!==void 0&&typeof n!="string")throw new TypeError("encoding must be a string");if(typeof n=="string"&&!Ke.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(r.length===1){var i=r.charCodeAt(0);(n==="utf8"&&i<128||n==="latin1")&&(r=i)}}else typeof r=="number"?r&=255:typeof r=="boolean"&&(r=Number(r));if(e<0||this.length<e||this.length<t)throw new RangeError("Out of range index");if(t<=e)return this;var o;if(e>>>=0,t=t===void 0?this.length:t>>>0,r||(r=0),typeof r=="number")for(o=e;o<t;++o)this[o]=r;else{var s=Ke.isBuffer(r)?r:Ke.from(r,n),a=s.length;if(a===0)throw new TypeError('The value "'+r+'" is invalid for argument "value"');for(o=0;o<t-e;++o)this[o+e]=s[o%a]}return this};M5=/[^+/0-9A-Za-z-_]/g;F5=(function(){for(var r=new Array(256),e=0;e<16;++e)for(var t=16*e,n=0;n<16;++n)r[t+n]="0123456789abcdef"[e]+"0123456789abcdef"[n];return r})();Ko.Buffer;Ko.INSPECT_MAX_BYTES;Ko.kMaxLength;Z0={},J0=Ko,to=J0.Buffer;to.from&&to.alloc&&to.allocUnsafe&&to.allocUnsafeSlow?Z0=J0:(mI(J0,Z0),Z0.Buffer=ju),ju.prototype=Object.create(to.prototype),mI(to,ju),ju.from=function(r,e,t){if(typeof r=="number")throw new TypeError("Argument must not be a number");return to(r,e,t)},ju.alloc=function(r,e,t){if(typeof r!="number")throw new TypeError("Argument must be a number");var n=to(r);return e!==void 0?typeof t=="string"?n.fill(e,t):n.fill(e):n.fill(0),n},ju.allocUnsafe=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return to(r)},ju.allocUnsafeSlow=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return J0.SlowBuffer(r)};U5=Z0,SE={},TE=U5.Buffer,yI=TE.isEncoding||function(r){switch((r=""+r)&&r.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};SE.StringDecoder=Mp,Mp.prototype.write=function(r){if(r.length===0)return"";var e,t;if(this.lastNeed){if((e=this.fillLast(r))===void 0)return"";t=this.lastNeed,this.lastNeed=0}else t=0;return t<r.length?e?e+this.text(r,t):this.text(r,t):e||""},Mp.prototype.end=function(r){var e=r&&r.length?this.write(r):"";return this.lastNeed?e+"\uFFFD":e},Mp.prototype.text=function(r,e){var t=(function(i,o,s){var a=o.length-1;if(a<s)return 0;var u=sE(o[a]);return u>=0?(u>0&&(i.lastNeed=u-1),u):--a<s||u===-2?0:(u=sE(o[a]))>=0?(u>0&&(i.lastNeed=u-2),u):--a<s||u===-2?0:(u=sE(o[a]))>=0?(u>0&&(u===2?u=0:i.lastNeed=u-3),u):0})(this,r,e);if(!this.lastNeed)return r.toString("utf8",e);this.lastTotal=t;var n=r.length-(t-this.lastNeed);return r.copy(this.lastChar,0,n),r.toString("utf8",e,n)},Mp.prototype.fillLast=function(r){if(this.lastNeed<=r.length)return r.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);r.copy(this.lastChar,this.lastTotal-this.lastNeed,0,r.length),this.lastNeed-=r.length};Fp={},bI=!1;X0={},wI=!1;$u={},vI=!1;Zf=X5();Zf.Buffer;Zf.INSPECT_MAX_BYTES;Zf.kMaxLength;K0={},_I=!1;oE={},EI=!1;aE={},AI=!1;lE={},xI=!1;uE={},SI=!1;cE={},TI=!1;fE={},CI=!1,hE=typeof globalThis<"u"?globalThis:typeof self<"u"?self:window;dE={},RI=!1,J5=typeof globalThis<"u"?globalThis:typeof self<"u"?self:window;pE={},DI=!1;gE={},II=!1;mE={},OI=!1;yE={},NI=!1;bE={},kI=!1,tU=typeof globalThis<"u"?globalThis:typeof self<"u"?self:window;wE={},LI=!1;vE={},PI=!1;_E={},BI=!1});function rU(){if(KI)return NE;KI=!0,NE=t;var r=nn.EventEmitter,e=Wu();e(t,r),t.Readable=IE(),t.Writable=DE(),t.Duplex=zu(),t.Transform=OE(),t.PassThrough=YI(),t.finished=eb(),t.pipeline=XI(),t.Stream=t;function t(){r.call(this||kE)}return t.prototype.pipe=function(n,i){var o=this||kE;function s(g){n.writable&&n.write(g)===!1&&o.pause&&o.pause()}o.on("data",s);function a(){o.readable&&o.resume&&o.resume()}n.on("drain",a),!n._isStdio&&(!i||i.end!==!1)&&(o.on("end",c),o.on("close",f));var u=!1;function c(){u||(u=!0,n.end())}function f(){u||(u=!0,typeof n.destroy=="function"&&n.destroy())}function h(g){if(d(),r.listenerCount(this||kE,"error")===0)throw g}o.on("error",h),n.on("error",h);function d(){o.removeListener("data",s),n.removeListener("drain",a),o.removeListener("end",c),o.removeListener("close",f),o.removeListener("error",h),n.removeListener("error",h),o.removeListener("end",d),o.removeListener("close",d),n.removeListener("close",d)}return o.on("end",d),o.on("close",d),n.on("close",d),n.emit("pipe",o),n},NE}var NE,KI,kE,ii,ZI,LE=Jt(()=>{Ne();Le();ke();V0();tb();Xf();q0();fl();qf();NE={},KI=!1,kE=typeof globalThis<"u"?globalThis:typeof self<"u"?self:window;ii=rU(),ZI=ii.Readable;ZI.wrap=function(r,e){return e=Object.assign({objectMode:r.readableObjectMode!=null||r.objectMode!=null||!0},e),e.destroy=function(t,n){r.destroy(t),n(t)},new ZI(e).wrap(r)};ii.Writable;ii.Duplex;ii.Transform;ii.PassThrough;ii.finished;ii.pipeline;ii.Stream;W_(ii.finished),W_(ii.pipeline)});function nU(){if(JI)return PE;JI=!0;let r=2147483647,e=36,t=1,n=26,i=38,o=700,s=72,a=128,u="-",c=/^xn--/,f=/[^\0-\x7F]/,h=/[\x2E\u3002\uFF0E\uFF61]/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},g=e-t,b=Math.floor,v=String.fromCharCode;function w(H){throw new RangeError(d[H])}function y(H,ue){let Se=[],Ae=H.length;for(;Ae--;)Se[Ae]=ue(H[Ae]);return Se}function _(H,ue){let Se=H.split("@"),Ae="";Se.length>1&&(Ae=Se[0]+"@",H=Se[1]),H=H.replace(h,".");let j=H.split("."),I=y(j,ue).join(".");return Ae+I}function E(H){let ue=[],Se=0,Ae=H.length;for(;Se<Ae;){let j=H.charCodeAt(Se++);if(j>=55296&&j<=56319&&Se<Ae){let I=H.charCodeAt(Se++);(I&64512)==56320?ue.push(((j&1023)<<10)+(I&1023)+65536):(ue.push(j),Se--)}else ue.push(j)}return ue}let S=H=>String.fromCodePoint(...H),A=function(H){return H>=48&&H<58?26+(H-48):H>=65&&H<91?H-65:H>=97&&H<123?H-97:e},L=function(H,ue){return H+22+75*(H<26)-((ue!=0)<<5)},D=function(H,ue,Se){let Ae=0;for(H=Se?b(H/o):H>>1,H+=b(H/ue);H>g*n>>1;Ae+=e)H=b(H/g);return b(Ae+(g+1)*H/(H+i))},K=function(H){let ue=[],Se=H.length,Ae=0,j=a,I=s,se=H.lastIndexOf(u);se<0&&(se=0);for(let z=0;z<se;++z)H.charCodeAt(z)>=128&&w("not-basic"),ue.push(H.charCodeAt(z));for(let z=se>0?se+1:0;z<Se;){let ie=Ae;for(let X=1,we=e;;we+=e){z>=Se&&w("invalid-input");let ve=A(H.charCodeAt(z++));ve>=e&&w("invalid-input"),ve>b((r-Ae)/X)&&w("overflow"),Ae+=ve*X;let de=we<=I?t:we>=I+n?n:we-I;if(ve<de)break;let M=e-de;X>b(r/M)&&w("overflow"),X*=M}let V=ue.length+1;I=D(Ae-ie,V,ie==0),b(Ae/V)>r-j&&w("overflow"),j+=b(Ae/V),Ae%=V,ue.splice(Ae++,0,j)}return String.fromCodePoint(...ue)},re=function(H){let ue=[];H=E(H);let Se=H.length,Ae=a,j=0,I=s;for(let ie of H)ie<128&&ue.push(v(ie));let se=ue.length,z=se;for(se&&ue.push(u);z<Se;){let ie=r;for(let X of H)X>=Ae&&X<ie&&(ie=X);let V=z+1;ie-Ae>b((r-j)/V)&&w("overflow"),j+=(ie-Ae)*V,Ae=ie;for(let X of H)if(X<Ae&&++j>r&&w("overflow"),X===Ae){let we=j;for(let ve=e;;ve+=e){let de=ve<=I?t:ve>=I+n?n:ve-I;if(we<de)break;let M=we-de,N=e-de;ue.push(v(L(de+M%N,0))),we=b(M/N)}ue.push(v(L(we,0))),I=D(j,V,z===se),j=0,++z}++j,++Ae}return ue.join("")};return PE={version:"2.3.1",ucs2:{decode:E,encode:S},decode:K,encode:re,toASCII:function(H){return _(H,function(ue){return f.test(ue)?"xn--"+re(ue):ue})},toUnicode:function(H){return _(H,function(ue){return c.test(ue)?K(ue.slice(4).toLowerCase()):ue})}},PE}var PE,JI,pl,tX,rX,nX,iX,sX,oX,BE=Jt(()=>{Ne();Le();ke();PE={},JI=!1;pl=nU(),tX=pl.decode,rX=pl.encode,nX=pl.toASCII,iX=pl.toUnicode,sX=pl.ucs2,oX=pl.version});function n2(){return QI||(QI=!0,ME=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),n=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[t]=i;for(t in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(e,t);if(s.value!==i||s.enumerable!==!0)return!1}return!0}),ME}function iU(){return eO||(eO=!0,FE=Error),FE}function sU(){return tO||(tO=!0,UE=EvalError),UE}function oU(){return rO||(rO=!0,jE=RangeError),jE}function aU(){return nO||(nO=!0,$E=ReferenceError),$E}function vO(){return iO||(iO=!0,zE=SyntaxError),zE}function Qf(){return sO||(sO=!0,WE=TypeError),WE}function lU(){return oO||(oO=!0,qE=URIError),qE}function uU(){if(aO)return HE;aO=!0;var r=typeof Symbol<"u"&&Symbol,e=n2();return HE=function(){return typeof r!="function"||typeof Symbol!="function"||typeof r("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},HE}function cU(){if(lO)return GE;lO=!0;var r={__proto__:null,foo:{}},e=Object;return GE=function(){return{__proto__:r}.foo===r.foo&&!(r instanceof e)},GE}function fU(){if(uO)return VE;uO=!0;var r="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,t=Math.max,n="[object Function]",i=function(u,c){for(var f=[],h=0;h<u.length;h+=1)f[h]=u[h];for(var d=0;d<c.length;d+=1)f[d+u.length]=c[d];return f},o=function(u,c){for(var f=[],h=c,d=0;h<u.length;h+=1,d+=1)f[d]=u[h];return f},s=function(a,u){for(var c="",f=0;f<a.length;f+=1)c+=a[f],f+1<a.length&&(c+=u);return c};return VE=function(u){var c=this;if(typeof c!="function"||e.apply(c)!==n)throw new TypeError(r+c);for(var f=o(arguments,1),h,d=function(){if(this instanceof h){var y=c.apply(this,i(f,arguments));return Object(y)===y?y:this}return c.apply(u,i(f,arguments))},g=t(0,c.length-f.length),b=[],v=0;v<g;v++)b[v]="$"+v;if(h=Function("binder","return function ("+s(b,",")+"){ return binder.apply(this,arguments); }")(d),c.prototype){var w=function(){};w.prototype=c.prototype,h.prototype=new w,w.prototype=null}return h},VE}function i2(){if(cO)return YE;cO=!0;var r=fU();return YE=Function.prototype.bind||r,YE}function hU(){if(fO)return XE;fO=!0;var r=Function.prototype.call,e=Object.prototype.hasOwnProperty,t=i2();return XE=t.call(r,e),XE}function qu(){if(hO)return KE;hO=!0;var r,e=iU(),t=sU(),n=oU(),i=aU(),o=vO(),s=Qf(),a=lU(),u=Function,c=function(j){try{return u('"use strict"; return ('+j+").constructor;")()}catch{}},f=Object.getOwnPropertyDescriptor;if(f)try{f({},"")}catch{f=null}var h=function(){throw new s},d=f?(function(){try{return arguments.callee,h}catch{try{return f(arguments,"callee").get}catch{return h}}})():h,g=uU()(),b=cU()(),v=Object.getPrototypeOf||(b?function(j){return j.__proto__}:null),w={},y=typeof Uint8Array>"u"||!v?r:v(Uint8Array),_={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?r:ArrayBuffer,"%ArrayIteratorPrototype%":g&&v?v([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":w,"%AsyncGenerator%":w,"%AsyncGeneratorFunction%":w,"%AsyncIteratorPrototype%":w,"%Atomics%":typeof Atomics>"u"?r:Atomics,"%BigInt%":typeof BigInt>"u"?r:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?r:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":e,"%eval%":eval,"%EvalError%":t,"%Float32Array%":typeof Float32Array>"u"?r:Float32Array,"%Float64Array%":typeof Float64Array>"u"?r:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?r:FinalizationRegistry,"%Function%":u,"%GeneratorFunction%":w,"%Int8Array%":typeof Int8Array>"u"?r:Int8Array,"%Int16Array%":typeof Int16Array>"u"?r:Int16Array,"%Int32Array%":typeof Int32Array>"u"?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":g&&v?v(v([][Symbol.iterator]())):r,"%JSON%":typeof JSON=="object"?JSON:r,"%Map%":typeof Map>"u"?r:Map,"%MapIteratorPrototype%":typeof Map>"u"||!g||!v?r:v(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?r:Promise,"%Proxy%":typeof Proxy>"u"?r:Proxy,"%RangeError%":n,"%ReferenceError%":i,"%Reflect%":typeof Reflect>"u"?r:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?r:Set,"%SetIteratorPrototype%":typeof Set>"u"||!g||!v?r:v(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":g&&v?v(""[Symbol.iterator]()):r,"%Symbol%":g?Symbol:r,"%SyntaxError%":o,"%ThrowTypeError%":d,"%TypedArray%":y,"%TypeError%":s,"%Uint8Array%":typeof Uint8Array>"u"?r:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?r:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?r:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?r:Uint32Array,"%URIError%":a,"%WeakMap%":typeof WeakMap>"u"?r:WeakMap,"%WeakRef%":typeof WeakRef>"u"?r:WeakRef,"%WeakSet%":typeof WeakSet>"u"?r:WeakSet};if(v)try{null.error}catch(j){var E=v(v(j));_["%Error.prototype%"]=E}var S=function j(I){var se;if(I==="%AsyncFunction%")se=c("async function () {}");else if(I==="%GeneratorFunction%")se=c("function* () {}");else if(I==="%AsyncGeneratorFunction%")se=c("async function* () {}");else if(I==="%AsyncGenerator%"){var z=j("%AsyncGeneratorFunction%");z&&(se=z.prototype)}else if(I==="%AsyncIteratorPrototype%"){var ie=j("%AsyncGenerator%");ie&&v&&(se=v(ie.prototype))}return _[I]=se,se},A={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},L=i2(),D=hU(),K=L.call(Function.call,Array.prototype.concat),re=L.call(Function.apply,Array.prototype.splice),q=L.call(Function.call,String.prototype.replace),oe=L.call(Function.call,String.prototype.slice),U=L.call(Function.call,RegExp.prototype.exec),H=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ue=/\\(\\)?/g,Se=function(I){var se=oe(I,0,1),z=oe(I,-1);if(se==="%"&&z!=="%")throw new o("invalid intrinsic syntax, expected closing `%`");if(z==="%"&&se!=="%")throw new o("invalid intrinsic syntax, expected opening `%`");var ie=[];return q(I,H,function(V,X,we,ve){ie[ie.length]=we?q(ve,ue,"$1"):X||V}),ie},Ae=function(I,se){var z=I,ie;if(D(A,z)&&(ie=A[z],z="%"+ie[0]+"%"),D(_,z)){var V=_[z];if(V===w&&(V=S(z)),typeof V>"u"&&!se)throw new s("intrinsic "+I+" exists, but is not available. Please file an issue!");return{alias:ie,name:z,value:V}}throw new o("intrinsic "+I+" does not exist!")};return KE=function(I,se){if(typeof I!="string"||I.length===0)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof se!="boolean")throw new s('"allowMissing" argument must be a boolean');if(U(/^%?[^%]*%?$/,I)===null)throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var z=Se(I),ie=z.length>0?z[0]:"",V=Ae("%"+ie+"%",se),X=V.name,we=V.value,ve=!1,de=V.alias;de&&(ie=de[0],re(z,K([0,1],de)));for(var M=1,N=!0;M<z.length;M+=1){var $=z[M],ne=oe($,0,1),ye=oe($,-1);if((ne==='"'||ne==="'"||ne==="`"||ye==='"'||ye==="'"||ye==="`")&&ne!==ye)throw new o("property names with quotes must have matching quotes");if(($==="constructor"||!N)&&(ve=!0),ie+="."+$,X="%"+ie+"%",D(_,X))we=_[X];else if(we!=null){if(!($ in we)){if(!se)throw new s("base intrinsic for "+I+" exists, but the property is not available.");return}if(f&&M+1>=z.length){var P=f(we,$);N=!!P,N&&"get"in P&&!("originalValue"in P.get)?we=P.get:we=we[$]}else N=D(we,$),we=we[$];N&&!ve&&(_[X]=we)}}return we},KE}function s2(){if(dO)return ZE;dO=!0;var r=qu(),e=r("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return ZE=e,ZE}function rb(){if(pO)return JE;pO=!0;var r=qu(),e=r("%Object.getOwnPropertyDescriptor%",!0);if(e)try{e([],"length")}catch{e=null}return JE=e,JE}function dU(){if(gO)return QE;gO=!0;var r=s2(),e=vO(),t=Qf(),n=rb();return QE=function(o,s,a){if(!o||typeof o!="object"&&typeof o!="function")throw new t("`obj` must be an object or a function`");if(typeof s!="string"&&typeof s!="symbol")throw new t("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new t("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new t("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new t("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new t("`loose`, if provided, must be a boolean");var u=arguments.length>3?arguments[3]:null,c=arguments.length>4?arguments[4]:null,f=arguments.length>5?arguments[5]:null,h=arguments.length>6?arguments[6]:!1,d=!!n&&n(o,s);if(r)r(o,s,{configurable:f===null&&d?d.configurable:!f,enumerable:u===null&&d?d.enumerable:!u,value:a,writable:c===null&&d?d.writable:!c});else if(h||!u&&!c&&!f)o[s]=a;else throw new e("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},QE}function pU(){if(mO)return e2;mO=!0;var r=s2(),e=function(){return!!r};return e.hasArrayLengthDefineBug=function(){if(!r)return null;try{return r([],"length",{value:1}).length!==1}catch{return!0}},e2=e,e2}function gU(){if(yO)return t2;yO=!0;var r=qu(),e=dU(),t=pU()(),n=rb(),i=Qf(),o=r("%Math.floor%");return t2=function(a,u){if(typeof a!="function")throw new i("`fn` is not a function");if(typeof u!="number"||u<0||u>4294967295||o(u)!==u)throw new i("`length` must be a positive 32-bit integer");var c=arguments.length>2&&!!arguments[2],f=!0,h=!0;if("length"in a&&n){var d=n(a,"length");d&&!d.configurable&&(f=!1),d&&!d.writable&&(h=!1)}return(f||h||!c)&&(t?e(a,"length",u,!0,!0):e(a,"length",u)),a},t2}function o2(){if(bO)return Up;bO=!0;var r=i2(),e=qu(),t=gU(),n=Qf(),i=e("%Function.prototype.apply%"),o=e("%Function.prototype.call%"),s=e("%Reflect.apply%",!0)||r.call(o,i),a=s2(),u=e("%Math.max%");Up=function(h){if(typeof h!="function")throw new n("a function is required");var d=s(r,o,arguments);return t(d,1+u(0,h.length-(arguments.length-1)),!0)};var c=function(){return s(r,i,arguments)};return a?a(Up,"apply",{value:c}):Up.apply=c,Up}function jp(){if(wO)return r2;wO=!0;var r=qu(),e=o2(),t=e(r("String.prototype.indexOf"));return r2=function(i,o){var s=r(i,!!o);return typeof s=="function"&&t(i,".prototype.")>-1?e(s):s},r2}var ME,QI,FE,eO,UE,tO,jE,rO,$E,nO,zE,iO,WE,sO,qE,oO,HE,aO,GE,lO,VE,uO,YE,cO,XE,fO,KE,hO,ZE,dO,JE,pO,QE,gO,e2,mO,t2,yO,Up,bO,r2,wO,$p=Jt(()=>{Ne();Le();ke();ME={},QI=!1;FE={},eO=!1;UE={},tO=!1;jE={},rO=!1;$E={},nO=!1;zE={},iO=!1;WE={},sO=!1;qE={},oO=!1;HE={},aO=!1;GE={},lO=!1;VE={},uO=!1;YE={},cO=!1;XE={},fO=!1;KE={},hO=!1;ZE={},dO=!1;JE={},pO=!1;QE={},gO=!1;e2={},mO=!1;t2={},yO=!1;Up={},bO=!1;r2={},wO=!1});function mU(){if(_O)return a2;_O=!0;var r=zr;function e(o){if(typeof o!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(o))}function t(o,s){for(var a="",u=0,c=-1,f=0,h,d=0;d<=o.length;++d){if(d<o.length)h=o.charCodeAt(d);else{if(h===47)break;h=47}if(h===47){if(!(c===d-1||f===1))if(c!==d-1&&f===2){if(a.length<2||u!==2||a.charCodeAt(a.length-1)!==46||a.charCodeAt(a.length-2)!==46){if(a.length>2){var g=a.lastIndexOf("/");if(g!==a.length-1){g===-1?(a="",u=0):(a=a.slice(0,g),u=a.length-1-a.lastIndexOf("/")),c=d,f=0;continue}}else if(a.length===2||a.length===1){a="",u=0,c=d,f=0;continue}}s&&(a.length>0?a+="/..":a="..",u=2)}else a.length>0?a+="/"+o.slice(c+1,d):a=o.slice(c+1,d),u=d-c-1;c=d,f=0}else h===46&&f!==-1?++f:f=-1}return a}function n(o,s){var a=s.dir||s.root,u=s.base||(s.name||"")+(s.ext||"");return a?a===s.root?a+u:a+o+u:u}var i={resolve:function(){for(var s="",a=!1,u,c=arguments.length-1;c>=-1&&!a;c--){var f;c>=0?f=arguments[c]:(u===void 0&&(u=r.cwd()),f=u),e(f),f.length!==0&&(s=f+"/"+s,a=f.charCodeAt(0)===47)}return s=t(s,!a),a?s.length>0?"/"+s:"/":s.length>0?s:"."},normalize:function(s){if(e(s),s.length===0)return".";var a=s.charCodeAt(0)===47,u=s.charCodeAt(s.length-1)===47;return s=t(s,!a),s.length===0&&!a&&(s="."),s.length>0&&u&&(s+="/"),a?"/"+s:s},isAbsolute:function(s){return e(s),s.length>0&&s.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var s,a=0;a<arguments.length;++a){var u=arguments[a];e(u),u.length>0&&(s===void 0?s=u:s+="/"+u)}return s===void 0?".":i.normalize(s)},relative:function(s,a){if(e(s),e(a),s===a||(s=i.resolve(s),a=i.resolve(a),s===a))return"";for(var u=1;u<s.length&&s.charCodeAt(u)===47;++u);for(var c=s.length,f=c-u,h=1;h<a.length&&a.charCodeAt(h)===47;++h);for(var d=a.length,g=d-h,b=f<g?f:g,v=-1,w=0;w<=b;++w){if(w===b){if(g>b){if(a.charCodeAt(h+w)===47)return a.slice(h+w+1);if(w===0)return a.slice(h+w)}else f>b&&(s.charCodeAt(u+w)===47?v=w:w===0&&(v=0));break}var y=s.charCodeAt(u+w),_=a.charCodeAt(h+w);if(y!==_)break;y===47&&(v=w)}var E="";for(w=u+v+1;w<=c;++w)(w===c||s.charCodeAt(w)===47)&&(E.length===0?E+="..":E+="/..");return E.length>0?E+a.slice(h+v):(h+=v,a.charCodeAt(h)===47&&++h,a.slice(h))},_makeLong:function(s){return s},dirname:function(s){if(e(s),s.length===0)return".";for(var a=s.charCodeAt(0),u=a===47,c=-1,f=!0,h=s.length-1;h>=1;--h)if(a=s.charCodeAt(h),a===47){if(!f){c=h;break}}else f=!1;return c===-1?u?"/":".":u&&c===1?"//":s.slice(0,c)},basename:function(s,a){if(a!==void 0&&typeof a!="string")throw new TypeError('"ext" argument must be a string');e(s);var u=0,c=-1,f=!0,h;if(a!==void 0&&a.length>0&&a.length<=s.length){if(a.length===s.length&&a===s)return"";var d=a.length-1,g=-1;for(h=s.length-1;h>=0;--h){var b=s.charCodeAt(h);if(b===47){if(!f){u=h+1;break}}else g===-1&&(f=!1,g=h+1),d>=0&&(b===a.charCodeAt(d)?--d===-1&&(c=h):(d=-1,c=g))}return u===c?c=g:c===-1&&(c=s.length),s.slice(u,c)}else{for(h=s.length-1;h>=0;--h)if(s.charCodeAt(h)===47){if(!f){u=h+1;break}}else c===-1&&(f=!1,c=h+1);return c===-1?"":s.slice(u,c)}},extname:function(s){e(s);for(var a=-1,u=0,c=-1,f=!0,h=0,d=s.length-1;d>=0;--d){var g=s.charCodeAt(d);if(g===47){if(!f){u=d+1;break}continue}c===-1&&(f=!1,c=d+1),g===46?a===-1?a=d:h!==1&&(h=1):a!==-1&&(h=-1)}return a===-1||c===-1||h===0||h===1&&a===c-1&&a===u+1?"":s.slice(a,c)},format:function(s){if(s===null||typeof s!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof s);return n("/",s)},parse:function(s){e(s);var a={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return a;var u=s.charCodeAt(0),c=u===47,f;c?(a.root="/",f=1):f=0;for(var h=-1,d=0,g=-1,b=!0,v=s.length-1,w=0;v>=f;--v){if(u=s.charCodeAt(v),u===47){if(!b){d=v+1;break}continue}g===-1&&(b=!1,g=v+1),u===46?h===-1?h=v:w!==1&&(w=1):h!==-1&&(w=-1)}return h===-1||g===-1||w===0||w===1&&h===g-1&&h===d+1?g!==-1&&(d===0&&c?a.base=a.name=s.slice(1,g):a.base=a.name=s.slice(d,g)):(d===0&&c?(a.name=s.slice(1,h),a.base=s.slice(1,g)):(a.name=s.slice(d,h),a.base=s.slice(d,g)),a.ext=s.slice(h,g)),d>0?a.dir=s.slice(0,d-1):c&&(a.dir="/"),a},sep:"/",delimiter:":",win32:null,posix:null};return i.posix=i,a2=i,a2}var a2,_O,l2,u2=Jt(()=>{Ne();Le();ke();Mu();a2={},_O=!1;l2=mU()});function bU(){if(EO)return c2;EO=!0;var r=typeof Map=="function"&&Map.prototype,e=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,t=r&&e&&typeof e.get=="function"?e.get:null,n=r&&Map.prototype.forEach,i=typeof Set=="function"&&Set.prototype,o=Object.getOwnPropertyDescriptor&&i?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,s=i&&o&&typeof o.get=="function"?o.get:null,a=i&&Set.prototype.forEach,u=typeof WeakMap=="function"&&WeakMap.prototype,c=u?WeakMap.prototype.has:null,f=typeof WeakSet=="function"&&WeakSet.prototype,h=f?WeakSet.prototype.has:null,d=typeof WeakRef=="function"&&WeakRef.prototype,g=d?WeakRef.prototype.deref:null,b=Boolean.prototype.valueOf,v=Object.prototype.toString,w=Function.prototype.toString,y=String.prototype.match,_=String.prototype.slice,E=String.prototype.replace,S=String.prototype.toUpperCase,A=String.prototype.toLowerCase,L=RegExp.prototype.test,D=Array.prototype.concat,K=Array.prototype.join,re=Array.prototype.slice,q=Math.floor,oe=typeof BigInt=="function"?BigInt.prototype.valueOf:null,U=Object.getOwnPropertySymbols,H=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,ue=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Se=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===ue||!0)?Symbol.toStringTag:null,Ae=Object.prototype.propertyIsEnumerable,j=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(fe){return fe.__proto__}:null);function I(fe,Te){if(fe===1/0||fe===-1/0||fe!==fe||fe&&fe>-1e3&&fe<1e3||L.call(/e/,Te))return Te;var G=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof fe=="number"){var me=fe<0?-q(-fe):q(fe);if(me!==fe){var B=String(me),Re=_.call(Te,B.length+1);return E.call(B,G,"$&_")+"."+E.call(E.call(Re,/([0-9]{3})/g,"$&_"),/_$/,"")}}return E.call(Te,G,"$&_")}var se=yU,z=se.custom,ie=ye(z)?z:null;c2=function fe(Te,G,me,B){var Re=G||{};if(F(Re,"quoteStyle")&&Re.quoteStyle!=="single"&&Re.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(F(Re,"maxStringLength")&&(typeof Re.maxStringLength=="number"?Re.maxStringLength<0&&Re.maxStringLength!==1/0:Re.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var je=F(Re,"customInspect")?Re.customInspect:!0;if(typeof je!="boolean"&&je!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(F(Re,"indent")&&Re.indent!==null&&Re.indent!=="	"&&!(parseInt(Re.indent,10)===Re.indent&&Re.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(F(Re,"numericSeparator")&&typeof Re.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var R=Re.numericSeparator;if(typeof Te>"u")return"undefined";if(Te===null)return"null";if(typeof Te=="boolean")return Te?"true":"false";if(typeof Te=="string")return We(Te,Re);if(typeof Te=="number"){if(Te===0)return 1/0/Te>0?"0":"-0";var Fe=String(Te);return R?I(Te,Fe):Fe}if(typeof Te=="bigint"){var Ue=String(Te)+"n";return R?I(Te,Ue):Ue}var he=typeof Re.depth>"u"?5:Re.depth;if(typeof me>"u"&&(me=0),me>=he&&he>0&&typeof Te=="object")return we(Te)?"[Array]":"[Object]";var Oe=J(Re,me);if(typeof B>"u")B=[];else if(pe(B,Te)>=0)return"[Circular]";function Me(Yt,Zr,Jr){if(Zr&&(B=re.call(B),B.push(Zr)),Jr){var Qr={depth:Re.depth};return F(Re,"quoteStyle")&&(Qr.quoteStyle=Re.quoteStyle),fe(Yt,Qr,me+1,B)}return fe(Yt,Re,me+1,B)}if(typeof Te=="function"&&!de(Te)){var tt=Ee(Te),ce=ae(Te,Me);return"[Function"+(tt?": "+tt:" (anonymous)")+"]"+(ce.length>0?" { "+K.call(ce,", ")+" }":"")}if(ye(Te)){var _e=ue?E.call(String(Te),/^(Symbol\(.*\))_[^)]*$/,"$1"):H.call(Te);return typeof Te=="object"&&!ue?x(_e):_e}if(qe(Te)){for(var He="<"+A.call(String(Te.nodeName)),ze=Te.attributes||[],et=0;et<ze.length;et++)He+=" "+ze[et].name+"="+V(X(ze[et].value),"double",Re);return He+=">",Te.childNodes&&Te.childNodes.length&&(He+="..."),He+="</"+A.call(String(Te.nodeName))+">",He}if(we(Te)){if(Te.length===0)return"[]";var dt=ae(Te,Me);return Oe&&!O(dt)?"["+T(dt,Oe)+"]":"[ "+K.call(dt,", ")+" ]"}if(M(Te)){var Rt=ae(Te,Me);return!("cause"in Error.prototype)&&"cause"in Te&&!Ae.call(Te,"cause")?"{ ["+String(Te)+"] "+K.call(D.call("[cause]: "+Me(Te.cause),Rt),", ")+" }":Rt.length===0?"["+String(Te)+"]":"{ ["+String(Te)+"] "+K.call(Rt,", ")+" }"}if(typeof Te=="object"&&je){if(ie&&typeof Te[ie]=="function"&&se)return se(Te,{depth:he-me});if(je!=="symbol"&&typeof Te.inspect=="function")return Te.inspect()}if(te(Te)){var Et=[];return n&&n.call(Te,function(Yt,Zr){Et.push(Me(Zr,Te,!0)+" => "+Me(Yt,Te))}),m("Map",t.call(Te),Et,Oe)}if(Pe(Te)){var ar=[];return a&&a.call(Te,function(Yt){ar.push(Me(Yt,Te))}),m("Set",s.call(Te),ar,Oe)}if(be(Te))return p("WeakMap");if(Ce(Te))return p("WeakSet");if(Ie(Te))return p("WeakRef");if($(Te))return x(Me(Number(Te)));if(P(Te))return x(Me(oe.call(Te)));if(ne(Te))return x(b.call(Te));if(N(Te))return x(Me(String(Te)));if(typeof window<"u"&&Te===window)return"{ [object Window] }";if(typeof globalThis<"u"&&Te===globalThis||typeof f2<"u"&&Te===f2)return"{ [object globalThis] }";if(!ve(Te)&&!de(Te)){var _i=ae(Te,Me),qn=j?j(Te)===Object.prototype:Te instanceof Object||Te.constructor===Object,Ht=Te instanceof Object?"":"null prototype",Dr=!qn&&Se&&Object(Te)===Te&&Se in Te?_.call(Q(Te),8,-1):Ht?"Object":"",yr=qn||typeof Te.constructor!="function"?"":Te.constructor.name?Te.constructor.name+" ":"",Wt=yr+(Dr||Ht?"["+K.call(D.call([],Dr||[],Ht||[]),": ")+"] ":"");return _i.length===0?Wt+"{}":Oe?Wt+"{"+T(_i,Oe)+"}":Wt+"{ "+K.call(_i,", ")+" }"}return String(Te)};function V(fe,Te,G){var me=(G.quoteStyle||Te)==="double"?'"':"'";return me+fe+me}function X(fe){return E.call(String(fe),/"/g,"&quot;")}function we(fe){return Q(fe)==="[object Array]"&&(!Se||!(typeof fe=="object"&&Se in fe))}function ve(fe){return Q(fe)==="[object Date]"&&(!Se||!(typeof fe=="object"&&Se in fe))}function de(fe){return Q(fe)==="[object RegExp]"&&(!Se||!(typeof fe=="object"&&Se in fe))}function M(fe){return Q(fe)==="[object Error]"&&(!Se||!(typeof fe=="object"&&Se in fe))}function N(fe){return Q(fe)==="[object String]"&&(!Se||!(typeof fe=="object"&&Se in fe))}function $(fe){return Q(fe)==="[object Number]"&&(!Se||!(typeof fe=="object"&&Se in fe))}function ne(fe){return Q(fe)==="[object Boolean]"&&(!Se||!(typeof fe=="object"&&Se in fe))}function ye(fe){if(ue)return fe&&typeof fe=="object"&&fe instanceof Symbol;if(typeof fe=="symbol")return!0;if(!fe||typeof fe!="object"||!H)return!1;try{return H.call(fe),!0}catch{}return!1}function P(fe){if(!fe||typeof fe!="object"||!oe)return!1;try{return oe.call(fe),!0}catch{}return!1}var C=Object.prototype.hasOwnProperty||function(fe){return fe in(this||f2)};function F(fe,Te){return C.call(fe,Te)}function Q(fe){return v.call(fe)}function Ee(fe){if(fe.name)return fe.name;var Te=y.call(w.call(fe),/^function\s*([\w$]+)/);return Te?Te[1]:null}function pe(fe,Te){if(fe.indexOf)return fe.indexOf(Te);for(var G=0,me=fe.length;G<me;G++)if(fe[G]===Te)return G;return-1}function te(fe){if(!t||!fe||typeof fe!="object")return!1;try{t.call(fe);try{s.call(fe)}catch{return!0}return fe instanceof Map}catch{}return!1}function be(fe){if(!c||!fe||typeof fe!="object")return!1;try{c.call(fe,c);try{h.call(fe,h)}catch{return!0}return fe instanceof WeakMap}catch{}return!1}function Ie(fe){if(!g||!fe||typeof fe!="object")return!1;try{return g.call(fe),!0}catch{}return!1}function Pe(fe){if(!s||!fe||typeof fe!="object")return!1;try{s.call(fe);try{t.call(fe)}catch{return!0}return fe instanceof Set}catch{}return!1}function Ce(fe){if(!h||!fe||typeof fe!="object")return!1;try{h.call(fe,h);try{c.call(fe,c)}catch{return!0}return fe instanceof WeakSet}catch{}return!1}function qe(fe){return!fe||typeof fe!="object"?!1:typeof HTMLElement<"u"&&fe instanceof HTMLElement?!0:typeof fe.nodeName=="string"&&typeof fe.getAttribute=="function"}function We(fe,Te){if(fe.length>Te.maxStringLength){var G=fe.length-Te.maxStringLength,me="... "+G+" more character"+(G>1?"s":"");return We(_.call(fe,0,Te.maxStringLength),Te)+me}var B=E.call(E.call(fe,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Ge);return V(B,"single",Te)}function Ge(fe){var Te=fe.charCodeAt(0),G={8:"b",9:"t",10:"n",12:"f",13:"r"}[Te];return G?"\\"+G:"\\x"+(Te<16?"0":"")+S.call(Te.toString(16))}function x(fe){return"Object("+fe+")"}function p(fe){return fe+" { ? }"}function m(fe,Te,G,me){var B=me?T(G,me):K.call(G,", ");return fe+" ("+Te+") {"+B+"}"}function O(fe){for(var Te=0;Te<fe.length;Te++)if(pe(fe[Te],`
`)>=0)return!1;return!0}function J(fe,Te){var G;if(fe.indent==="	")G="	";else if(typeof fe.indent=="number"&&fe.indent>0)G=K.call(Array(fe.indent+1)," ");else return null;return{base:G,prev:K.call(Array(Te+1),G)}}function T(fe,Te){if(fe.length===0)return"";var G=`
`+Te.prev+Te.base;return G+K.call(fe,","+G)+`
`+Te.prev}function ae(fe,Te){var G=we(fe),me=[];if(G){me.length=fe.length;for(var B=0;B<fe.length;B++)me[B]=F(fe,B)?Te(fe[B],fe):""}var Re=typeof U=="function"?U(fe):[],je;if(ue){je={};for(var R=0;R<Re.length;R++)je["$"+Re[R]]=Re[R]}for(var Fe in fe)F(fe,Fe)&&(G&&String(Number(Fe))===Fe&&Fe<fe.length||ue&&je["$"+Fe]instanceof Symbol||(L.call(/[^\w$]/,Fe)?me.push(Te(Fe,fe)+": "+Te(fe[Fe],fe)):me.push(Fe+": "+Te(fe[Fe],fe))));if(typeof U=="function")for(var Ue=0;Ue<Re.length;Ue++)Ae.call(fe,Re[Ue])&&me.push("["+Te(Re[Ue])+"]: "+Te(fe[Re[Ue]],fe));return me}return c2}function wU(){if(AO)return h2;AO=!0;var r=qu(),e=jp(),t=bU(),n=Qf(),i=r("%WeakMap%",!0),o=r("%Map%",!0),s=e("WeakMap.prototype.get",!0),a=e("WeakMap.prototype.set",!0),u=e("WeakMap.prototype.has",!0),c=e("Map.prototype.get",!0),f=e("Map.prototype.set",!0),h=e("Map.prototype.has",!0),d=function(w,y){for(var _=w,E;(E=_.next)!==null;_=E)if(E.key===y)return _.next=E.next,E.next=w.next,w.next=E,E},g=function(w,y){var _=d(w,y);return _&&_.value},b=function(w,y,_){var E=d(w,y);E?E.value=_:w.next={key:y,next:w.next,value:_}},v=function(w,y){return!!d(w,y)};return h2=function(){var y,_,E,S={assert:function(A){if(!S.has(A))throw new n("Side channel does not contain "+t(A))},get:function(A){if(i&&A&&(typeof A=="object"||typeof A=="function")){if(y)return s(y,A)}else if(o){if(_)return c(_,A)}else if(E)return g(E,A)},has:function(A){if(i&&A&&(typeof A=="object"||typeof A=="function")){if(y)return u(y,A)}else if(o){if(_)return h(_,A)}else if(E)return v(E,A);return!1},set:function(A,L){i&&A&&(typeof A=="object"||typeof A=="function")?(y||(y=new i),a(y,A,L)):o?(_||(_=new o),f(_,A,L)):(E||(E={key:{},next:null}),b(E,A,L))}};return S},h2}function w2(){if(xO)return d2;xO=!0;var r=String.prototype.replace,e=/%20/g,t={RFC1738:"RFC1738",RFC3986:"RFC3986"};return d2={default:t.RFC3986,formatters:{RFC1738:function(n){return r.call(n,e,"+")},RFC3986:function(n){return String(n)}},RFC1738:t.RFC1738,RFC3986:t.RFC3986},d2}function IO(){if(SO)return p2;SO=!0;var r=w2(),e=Object.prototype.hasOwnProperty,t=Array.isArray,n=(function(){for(var w=[],y=0;y<256;++y)w.push("%"+((y<16?"0":"")+y.toString(16)).toUpperCase());return w})(),i=function(y){for(;y.length>1;){var _=y.pop(),E=_.obj[_.prop];if(t(E)){for(var S=[],A=0;A<E.length;++A)typeof E[A]<"u"&&S.push(E[A]);_.obj[_.prop]=S}}},o=function(y,_){for(var E=_&&_.plainObjects?Object.create(null):{},S=0;S<y.length;++S)typeof y[S]<"u"&&(E[S]=y[S]);return E},s=function w(y,_,E){if(!_)return y;if(typeof _!="object"){if(t(y))y.push(_);else if(y&&typeof y=="object")(E&&(E.plainObjects||E.allowPrototypes)||!e.call(Object.prototype,_))&&(y[_]=!0);else return[y,_];return y}if(!y||typeof y!="object")return[y].concat(_);var S=y;return t(y)&&!t(_)&&(S=o(y,E)),t(y)&&t(_)?(_.forEach(function(A,L){if(e.call(y,L)){var D=y[L];D&&typeof D=="object"&&A&&typeof A=="object"?y[L]=w(D,A,E):y.push(A)}else y[L]=A}),y):Object.keys(_).reduce(function(A,L){var D=_[L];return e.call(A,L)?A[L]=w(A[L],D,E):A[L]=D,A},S)},a=function(y,_){return Object.keys(_).reduce(function(E,S){return E[S]=_[S],E},y)},u=function(w,y,_){var E=w.replace(/\+/g," ");if(_==="iso-8859-1")return E.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(E)}catch{return E}},c=1024,f=function(y,_,E,S,A){if(y.length===0)return y;var L=y;if(typeof y=="symbol"?L=Symbol.prototype.toString.call(y):typeof y!="string"&&(L=String(y)),E==="iso-8859-1")return escape(L).replace(/%u[0-9a-f]{4}/gi,function(H){return"%26%23"+parseInt(H.slice(2),16)+"%3B"});for(var D="",K=0;K<L.length;K+=c){for(var re=L.length>=c?L.slice(K,K+c):L,q=[],oe=0;oe<re.length;++oe){var U=re.charCodeAt(oe);if(U===45||U===46||U===95||U===126||U>=48&&U<=57||U>=65&&U<=90||U>=97&&U<=122||A===r.RFC1738&&(U===40||U===41)){q[q.length]=re.charAt(oe);continue}if(U<128){q[q.length]=n[U];continue}if(U<2048){q[q.length]=n[192|U>>6]+n[128|U&63];continue}if(U<55296||U>=57344){q[q.length]=n[224|U>>12]+n[128|U>>6&63]+n[128|U&63];continue}oe+=1,U=65536+((U&1023)<<10|re.charCodeAt(oe)&1023),q[q.length]=n[240|U>>18]+n[128|U>>12&63]+n[128|U>>6&63]+n[128|U&63]}D+=q.join("")}return D},h=function(y){for(var _=[{obj:{o:y},prop:"o"}],E=[],S=0;S<_.length;++S)for(var A=_[S],L=A.obj[A.prop],D=Object.keys(L),K=0;K<D.length;++K){var re=D[K],q=L[re];typeof q=="object"&&q!==null&&E.indexOf(q)===-1&&(_.push({obj:L,prop:re}),E.push(q))}return i(_),y},d=function(y){return Object.prototype.toString.call(y)==="[object RegExp]"},g=function(y){return!y||typeof y!="object"?!1:!!(y.constructor&&y.constructor.isBuffer&&y.constructor.isBuffer(y))},b=function(y,_){return[].concat(y,_)},v=function(y,_){if(t(y)){for(var E=[],S=0;S<y.length;S+=1)E.push(_(y[S]));return E}return _(y)};return p2={arrayToObject:o,assign:a,combine:b,compact:h,decode:u,encode:f,isBuffer:g,isRegExp:d,maybeMap:v,merge:s},p2}function vU(){if(TO)return g2;TO=!0;var r=wU(),e=IO(),t=w2(),n=Object.prototype.hasOwnProperty,i={brackets:function(w){return w+"[]"},comma:"comma",indices:function(w,y){return w+"["+y+"]"},repeat:function(w){return w}},o=Array.isArray,s=Array.prototype.push,a=function(v,w){s.apply(v,o(w)?w:[w])},u=Date.prototype.toISOString,c=t.default,f={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:e.encode,encodeValuesOnly:!1,format:c,formatter:t.formatters[c],indices:!1,serializeDate:function(w){return u.call(w)},skipNulls:!1,strictNullHandling:!1},h=function(w){return typeof w=="string"||typeof w=="number"||typeof w=="boolean"||typeof w=="symbol"||typeof w=="bigint"},d={},g=function v(w,y,_,E,S,A,L,D,K,re,q,oe,U,H,ue,Se,Ae,j){for(var I=w,se=j,z=0,ie=!1;(se=se.get(d))!==void 0&&!ie;){var V=se.get(w);if(z+=1,typeof V<"u"){if(V===z)throw new RangeError("Cyclic object value");ie=!0}typeof se.get(d)>"u"&&(z=0)}if(typeof re=="function"?I=re(y,I):I instanceof Date?I=U(I):_==="comma"&&o(I)&&(I=e.maybeMap(I,function(Q){return Q instanceof Date?U(Q):Q})),I===null){if(A)return K&&!Se?K(y,f.encoder,Ae,"key",H):y;I=""}if(h(I)||e.isBuffer(I)){if(K){var X=Se?y:K(y,f.encoder,Ae,"key",H);return[ue(X)+"="+ue(K(I,f.encoder,Ae,"value",H))]}return[ue(y)+"="+ue(String(I))]}var we=[];if(typeof I>"u")return we;var ve;if(_==="comma"&&o(I))Se&&K&&(I=e.maybeMap(I,K)),ve=[{value:I.length>0?I.join(",")||null:void 0}];else if(o(re))ve=re;else{var de=Object.keys(I);ve=q?de.sort(q):de}var M=D?y.replace(/\./g,"%2E"):y,N=E&&o(I)&&I.length===1?M+"[]":M;if(S&&o(I)&&I.length===0)return N+"[]";for(var $=0;$<ve.length;++$){var ne=ve[$],ye=typeof ne=="object"&&typeof ne.value<"u"?ne.value:I[ne];if(!(L&&ye===null)){var P=oe&&D?ne.replace(/\./g,"%2E"):ne,C=o(I)?typeof _=="function"?_(N,P):N:N+(oe?"."+P:"["+P+"]");j.set(w,z);var F=r();F.set(d,j),a(we,v(ye,C,_,E,S,A,L,D,_==="comma"&&Se&&o(I)?null:K,re,q,oe,U,H,ue,Se,Ae,F))}}return we},b=function(w){if(!w)return f;if(typeof w.allowEmptyArrays<"u"&&typeof w.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof w.encodeDotInKeys<"u"&&typeof w.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(w.encoder!==null&&typeof w.encoder<"u"&&typeof w.encoder!="function")throw new TypeError("Encoder has to be a function.");var y=w.charset||f.charset;if(typeof w.charset<"u"&&w.charset!=="utf-8"&&w.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var _=t.default;if(typeof w.format<"u"){if(!n.call(t.formatters,w.format))throw new TypeError("Unknown format option provided.");_=w.format}var E=t.formatters[_],S=f.filter;(typeof w.filter=="function"||o(w.filter))&&(S=w.filter);var A;if(w.arrayFormat in i?A=w.arrayFormat:"indices"in w?A=w.indices?"indices":"repeat":A=f.arrayFormat,"commaRoundTrip"in w&&typeof w.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var L=typeof w.allowDots>"u"?w.encodeDotInKeys===!0?!0:f.allowDots:!!w.allowDots;return{addQueryPrefix:typeof w.addQueryPrefix=="boolean"?w.addQueryPrefix:f.addQueryPrefix,allowDots:L,allowEmptyArrays:typeof w.allowEmptyArrays=="boolean"?!!w.allowEmptyArrays:f.allowEmptyArrays,arrayFormat:A,charset:y,charsetSentinel:typeof w.charsetSentinel=="boolean"?w.charsetSentinel:f.charsetSentinel,commaRoundTrip:w.commaRoundTrip,delimiter:typeof w.delimiter>"u"?f.delimiter:w.delimiter,encode:typeof w.encode=="boolean"?w.encode:f.encode,encodeDotInKeys:typeof w.encodeDotInKeys=="boolean"?w.encodeDotInKeys:f.encodeDotInKeys,encoder:typeof w.encoder=="function"?w.encoder:f.encoder,encodeValuesOnly:typeof w.encodeValuesOnly=="boolean"?w.encodeValuesOnly:f.encodeValuesOnly,filter:S,format:_,formatter:E,serializeDate:typeof w.serializeDate=="function"?w.serializeDate:f.serializeDate,skipNulls:typeof w.skipNulls=="boolean"?w.skipNulls:f.skipNulls,sort:typeof w.sort=="function"?w.sort:null,strictNullHandling:typeof w.strictNullHandling=="boolean"?w.strictNullHandling:f.strictNullHandling}};return g2=function(v,w){var y=v,_=b(w),E,S;typeof _.filter=="function"?(S=_.filter,y=S("",y)):o(_.filter)&&(S=_.filter,E=S);var A=[];if(typeof y!="object"||y===null)return"";var L=i[_.arrayFormat],D=L==="comma"&&_.commaRoundTrip;E||(E=Object.keys(y)),_.sort&&E.sort(_.sort);for(var K=r(),re=0;re<E.length;++re){var q=E[re];_.skipNulls&&y[q]===null||a(A,g(y[q],q,L,D,_.allowEmptyArrays,_.strictNullHandling,_.skipNulls,_.encodeDotInKeys,_.encode?_.encoder:null,_.filter,_.sort,_.allowDots,_.serializeDate,_.format,_.formatter,_.encodeValuesOnly,_.charset,K))}var oe=A.join(_.delimiter),U=_.addQueryPrefix===!0?"?":"";return _.charsetSentinel&&(_.charset==="iso-8859-1"?U+="utf8=%26%2310003%3B&":U+="utf8=%E2%9C%93&"),oe.length>0?U+oe:""},g2}function _U(){if(CO)return m2;CO=!0;var r=IO(),e=Object.prototype.hasOwnProperty,t=Array.isArray,n={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:r.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},i=function(d){return d.replace(/&#(\d+);/g,function(g,b){return String.fromCharCode(parseInt(b,10))})},o=function(d,g){return d&&typeof d=="string"&&g.comma&&d.indexOf(",")>-1?d.split(","):d},s="utf8=%26%2310003%3B",a="utf8=%E2%9C%93",u=function(g,b){var v={__proto__:null},w=b.ignoreQueryPrefix?g.replace(/^\?/,""):g;w=w.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var y=b.parameterLimit===1/0?void 0:b.parameterLimit,_=w.split(b.delimiter,y),E=-1,S,A=b.charset;if(b.charsetSentinel)for(S=0;S<_.length;++S)_[S].indexOf("utf8=")===0&&(_[S]===a?A="utf-8":_[S]===s&&(A="iso-8859-1"),E=S,S=_.length);for(S=0;S<_.length;++S)if(S!==E){var L=_[S],D=L.indexOf("]="),K=D===-1?L.indexOf("="):D+1,re,q;K===-1?(re=b.decoder(L,n.decoder,A,"key"),q=b.strictNullHandling?null:""):(re=b.decoder(L.slice(0,K),n.decoder,A,"key"),q=r.maybeMap(o(L.slice(K+1),b),function(U){return b.decoder(U,n.decoder,A,"value")})),q&&b.interpretNumericEntities&&A==="iso-8859-1"&&(q=i(q)),L.indexOf("[]=")>-1&&(q=t(q)?[q]:q);var oe=e.call(v,re);oe&&b.duplicates==="combine"?v[re]=r.combine(v[re],q):(!oe||b.duplicates==="last")&&(v[re]=q)}return v},c=function(d,g,b,v){for(var w=v?g:o(g,b),y=d.length-1;y>=0;--y){var _,E=d[y];if(E==="[]"&&b.parseArrays)_=b.allowEmptyArrays&&(w===""||b.strictNullHandling&&w===null)?[]:[].concat(w);else{_=b.plainObjects?Object.create(null):{};var S=E.charAt(0)==="["&&E.charAt(E.length-1)==="]"?E.slice(1,-1):E,A=b.decodeDotInKeys?S.replace(/%2E/g,"."):S,L=parseInt(A,10);!b.parseArrays&&A===""?_={0:w}:!isNaN(L)&&E!==A&&String(L)===A&&L>=0&&b.parseArrays&&L<=b.arrayLimit?(_=[],_[L]=w):A!=="__proto__"&&(_[A]=w)}w=_}return w},f=function(g,b,v,w){if(g){var y=v.allowDots?g.replace(/\.([^.[]+)/g,"[$1]"):g,_=/(\[[^[\]]*])/,E=/(\[[^[\]]*])/g,S=v.depth>0&&_.exec(y),A=S?y.slice(0,S.index):y,L=[];if(A){if(!v.plainObjects&&e.call(Object.prototype,A)&&!v.allowPrototypes)return;L.push(A)}for(var D=0;v.depth>0&&(S=E.exec(y))!==null&&D<v.depth;){if(D+=1,!v.plainObjects&&e.call(Object.prototype,S[1].slice(1,-1))&&!v.allowPrototypes)return;L.push(S[1])}if(S){if(v.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+v.depth+" and strictDepth is true");L.push("["+y.slice(S.index)+"]")}return c(L,b,v,w)}},h=function(g){if(!g)return n;if(typeof g.allowEmptyArrays<"u"&&typeof g.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof g.decodeDotInKeys<"u"&&typeof g.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(g.decoder!==null&&typeof g.decoder<"u"&&typeof g.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof g.charset<"u"&&g.charset!=="utf-8"&&g.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var b=typeof g.charset>"u"?n.charset:g.charset,v=typeof g.duplicates>"u"?n.duplicates:g.duplicates;if(v!=="combine"&&v!=="first"&&v!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var w=typeof g.allowDots>"u"?g.decodeDotInKeys===!0?!0:n.allowDots:!!g.allowDots;return{allowDots:w,allowEmptyArrays:typeof g.allowEmptyArrays=="boolean"?!!g.allowEmptyArrays:n.allowEmptyArrays,allowPrototypes:typeof g.allowPrototypes=="boolean"?g.allowPrototypes:n.allowPrototypes,allowSparse:typeof g.allowSparse=="boolean"?g.allowSparse:n.allowSparse,arrayLimit:typeof g.arrayLimit=="number"?g.arrayLimit:n.arrayLimit,charset:b,charsetSentinel:typeof g.charsetSentinel=="boolean"?g.charsetSentinel:n.charsetSentinel,comma:typeof g.comma=="boolean"?g.comma:n.comma,decodeDotInKeys:typeof g.decodeDotInKeys=="boolean"?g.decodeDotInKeys:n.decodeDotInKeys,decoder:typeof g.decoder=="function"?g.decoder:n.decoder,delimiter:typeof g.delimiter=="string"||r.isRegExp(g.delimiter)?g.delimiter:n.delimiter,depth:typeof g.depth=="number"||g.depth===!1?+g.depth:n.depth,duplicates:v,ignoreQueryPrefix:g.ignoreQueryPrefix===!0,interpretNumericEntities:typeof g.interpretNumericEntities=="boolean"?g.interpretNumericEntities:n.interpretNumericEntities,parameterLimit:typeof g.parameterLimit=="number"?g.parameterLimit:n.parameterLimit,parseArrays:g.parseArrays!==!1,plainObjects:typeof g.plainObjects=="boolean"?g.plainObjects:n.plainObjects,strictDepth:typeof g.strictDepth=="boolean"?!!g.strictDepth:n.strictDepth,strictNullHandling:typeof g.strictNullHandling=="boolean"?g.strictNullHandling:n.strictNullHandling}};return m2=function(d,g){var b=h(g);if(d===""||d===null||typeof d>"u")return b.plainObjects?Object.create(null):{};for(var v=typeof d=="string"?u(d,b):d,w=b.plainObjects?Object.create(null):{},y=Object.keys(v),_=0;_<y.length;++_){var E=y[_],S=f(E,v[E],b,typeof d=="string");w=r.merge(w,S,b)}return b.allowSparse===!0?w:r.compact(w)},m2}function EU(){if(RO)return y2;RO=!0;var r=vU(),e=_U(),t=w2();return y2={formats:t,parse:e,stringify:r},y2}function AU(){if(DO)return Hu;DO=!0;var r=pl;function e(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var t=/^([a-z0-9.+-]+:)/i,n=/:[0-9]*$/,i=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,o=["<",">",'"',"`"," ","\r",`
`,"	"],s=["{","}","|","\\","^","`"].concat(o),a=["'"].concat(s),u=["%","/","?",";","#"].concat(a),c=["/","?","#"],f=255,h=/^[+a-z0-9A-Z_-]{0,63}$/,d=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},b={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},w=EU();function y(A,L,D){if(A&&typeof A=="object"&&A instanceof e)return A;var K=new e;return K.parse(A,L,D),K}e.prototype.parse=function(A,L,D){if(typeof A!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof A);var K=A.indexOf("?"),re=K!==-1&&K<A.indexOf("#")?"?":"#",q=A.split(re),oe=/\\/g;q[0]=q[0].replace(oe,"/"),A=q.join(re);var U=A;if(U=U.trim(),!D&&A.split("#").length===1){var H=i.exec(U);if(H)return this.path=U,this.href=U,this.pathname=H[1],H[2]?(this.search=H[2],L?this.query=w.parse(this.search.substr(1)):this.query=this.search.substr(1)):L&&(this.search="",this.query={}),this}var ue=t.exec(U);if(ue){ue=ue[0];var Se=ue.toLowerCase();this.protocol=Se,U=U.substr(ue.length)}if(D||ue||U.match(/^\/\/[^@/]+@[^@/]+/)){var Ae=U.substr(0,2)==="//";Ae&&!(ue&&b[ue])&&(U=U.substr(2),this.slashes=!0)}if(!b[ue]&&(Ae||ue&&!v[ue])){for(var j=-1,I=0;I<c.length;I++){var se=U.indexOf(c[I]);se!==-1&&(j===-1||se<j)&&(j=se)}var z,ie;j===-1?ie=U.lastIndexOf("@"):ie=U.lastIndexOf("@",j),ie!==-1&&(z=U.slice(0,ie),U=U.slice(ie+1),this.auth=decodeURIComponent(z)),j=-1;for(var I=0;I<u.length;I++){var se=U.indexOf(u[I]);se!==-1&&(j===-1||se<j)&&(j=se)}j===-1&&(j=U.length),this.host=U.slice(0,j),U=U.slice(j),this.parseHost(),this.hostname=this.hostname||"";var V=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!V)for(var X=this.hostname.split(/\./),I=0,we=X.length;I<we;I++){var ve=X[I];if(ve&&!ve.match(h)){for(var de="",M=0,N=ve.length;M<N;M++)ve.charCodeAt(M)>127?de+="x":de+=ve[M];if(!de.match(h)){var $=X.slice(0,I),ne=X.slice(I+1),ye=ve.match(d);ye&&($.push(ye[1]),ne.unshift(ye[2])),ne.length&&(U="/"+ne.join(".")+U),this.hostname=$.join(".");break}}}this.hostname.length>f?this.hostname="":this.hostname=this.hostname.toLowerCase(),V||(this.hostname=r.toASCII(this.hostname));var P=this.port?":"+this.port:"",C=this.hostname||"";this.host=C+P,this.href+=this.host,V&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),U[0]!=="/"&&(U="/"+U))}if(!g[Se])for(var I=0,we=a.length;I<we;I++){var F=a[I];if(U.indexOf(F)!==-1){var Q=encodeURIComponent(F);Q===F&&(Q=escape(F)),U=U.split(F).join(Q)}}var Ee=U.indexOf("#");Ee!==-1&&(this.hash=U.substr(Ee),U=U.slice(0,Ee));var pe=U.indexOf("?");if(pe!==-1?(this.search=U.substr(pe),this.query=U.substr(pe+1),L&&(this.query=w.parse(this.query)),U=U.slice(0,pe)):L&&(this.search="",this.query={}),U&&(this.pathname=U),v[Se]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var P=this.pathname||"",te=this.search||"";this.path=P+te}return this.href=this.format(),this};function _(A){return typeof A=="string"&&(A=y(A)),A instanceof e?A.format():e.prototype.format.call(A)}e.prototype.format=function(){var A=this.auth||"";A&&(A=encodeURIComponent(A),A=A.replace(/%3A/i,":"),A+="@");var L=this.protocol||"",D=this.pathname||"",K=this.hash||"",re=!1,q="";this.host?re=A+this.host:this.hostname&&(re=A+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(re+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(q=w.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var oe=this.search||q&&"?"+q||"";return L&&L.substr(-1)!==":"&&(L+=":"),this.slashes||(!L||v[L])&&re!==!1?(re="//"+(re||""),D&&D.charAt(0)!=="/"&&(D="/"+D)):re||(re=""),K&&K.charAt(0)!=="#"&&(K="#"+K),oe&&oe.charAt(0)!=="?"&&(oe="?"+oe),D=D.replace(/[?#]/g,function(U){return encodeURIComponent(U)}),oe=oe.replace("#","%23"),L+re+D+oe+K};function E(A,L){return y(A,!1,!0).resolve(L)}e.prototype.resolve=function(A){return this.resolveObject(y(A,!1,!0)).format()};function S(A,L){return A?y(A,!1,!0).resolveObject(L):L}return e.prototype.resolveObject=function(A){if(typeof A=="string"){var L=new e;L.parse(A,!1,!0),A=L}for(var D=new e,K=Object.keys(this),re=0;re<K.length;re++){var q=K[re];D[q]=this[q]}if(D.hash=A.hash,A.href==="")return D.href=D.format(),D;if(A.slashes&&!A.protocol){for(var oe=Object.keys(A),U=0;U<oe.length;U++){var H=oe[U];H!=="protocol"&&(D[H]=A[H])}return v[D.protocol]&&D.hostname&&!D.pathname&&(D.pathname="/",D.path=D.pathname),D.href=D.format(),D}if(A.protocol&&A.protocol!==D.protocol){if(!v[A.protocol]){for(var ue=Object.keys(A),Se=0;Se<ue.length;Se++){var Ae=ue[Se];D[Ae]=A[Ae]}return D.href=D.format(),D}if(D.protocol=A.protocol,!A.host&&!b[A.protocol]){for(var we=(A.pathname||"").split("/");we.length&&!(A.host=we.shift()););A.host||(A.host=""),A.hostname||(A.hostname=""),we[0]!==""&&we.unshift(""),we.length<2&&we.unshift(""),D.pathname=we.join("/")}else D.pathname=A.pathname;if(D.search=A.search,D.query=A.query,D.host=A.host||"",D.auth=A.auth,D.hostname=A.hostname||A.host,D.port=A.port,D.pathname||D.search){var j=D.pathname||"",I=D.search||"";D.path=j+I}return D.slashes=D.slashes||A.slashes,D.href=D.format(),D}var se=D.pathname&&D.pathname.charAt(0)==="/",z=A.host||A.pathname&&A.pathname.charAt(0)==="/",ie=z||se||D.host&&A.pathname,V=ie,X=D.pathname&&D.pathname.split("/")||[],we=A.pathname&&A.pathname.split("/")||[],ve=D.protocol&&!v[D.protocol];if(ve&&(D.hostname="",D.port=null,D.host&&(X[0]===""?X[0]=D.host:X.unshift(D.host)),D.host="",A.protocol&&(A.hostname=null,A.port=null,A.host&&(we[0]===""?we[0]=A.host:we.unshift(A.host)),A.host=null),ie=ie&&(we[0]===""||X[0]==="")),z)D.host=A.host||A.host===""?A.host:D.host,D.hostname=A.hostname||A.hostname===""?A.hostname:D.hostname,D.search=A.search,D.query=A.query,X=we;else if(we.length)X||(X=[]),X.pop(),X=X.concat(we),D.search=A.search,D.query=A.query;else if(A.search!=null){if(ve){D.host=X.shift(),D.hostname=D.host;var de=D.host&&D.host.indexOf("@")>0?D.host.split("@"):!1;de&&(D.auth=de.shift(),D.hostname=de.shift(),D.host=D.hostname)}return D.search=A.search,D.query=A.query,(D.pathname!==null||D.search!==null)&&(D.path=(D.pathname?D.pathname:"")+(D.search?D.search:"")),D.href=D.format(),D}if(!X.length)return D.pathname=null,D.search?D.path="/"+D.search:D.path=null,D.href=D.format(),D;for(var M=X.slice(-1)[0],N=(D.host||A.host||X.length>1)&&(M==="."||M==="..")||M==="",$=0,ne=X.length;ne>=0;ne--)M=X[ne],M==="."?X.splice(ne,1):M===".."?(X.splice(ne,1),$++):$&&(X.splice(ne,1),$--);if(!ie&&!V)for(;$--;$)X.unshift("..");ie&&X[0]!==""&&(!X[0]||X[0].charAt(0)!=="/")&&X.unshift(""),N&&X.join("/").substr(-1)!=="/"&&X.push("");var ye=X[0]===""||X[0]&&X[0].charAt(0)==="/";if(ve){D.hostname=ye?"":X.length?X.shift():"",D.host=D.hostname;var de=D.host&&D.host.indexOf("@")>0?D.host.split("@"):!1;de&&(D.auth=de.shift(),D.hostname=de.shift(),D.host=D.hostname)}return ie=ie||D.host&&X.length,ie&&!ye&&X.unshift(""),X.length>0?D.pathname=X.join("/"):(D.pathname=null,D.path=null),(D.pathname!==null||D.search!==null)&&(D.path=(D.pathname?D.pathname:"")+(D.search?D.search:"")),D.auth=A.auth||D.auth,D.slashes=D.slashes||A.slashes,D.href=D.format(),D},e.prototype.parseHost=function(){var A=this.host,L=n.exec(A);L&&(L=L[0],L!==":"&&(this.port=L.substr(1)),A=A.substr(0,A.length-L.length)),A&&(this.hostname=A)},Hu.parse=y,Hu.resolve=E,Hu.resolveObject=S,Hu.format=_,Hu.Url=e,Hu}function v2(r){if(typeof r=="string")r=new URL(r);else if(!(r instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(r.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return b2?PU(r):BU(r)}function PU(r){let e=r.hostname,t=r.pathname;for(let n=0;n<t.length;n++)if(t[n]==="%"){let i=t.codePointAt(n+2)||32;if(t[n+1]==="2"&&i===102||t[n+1]==="5"&&i===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(t=t.replace(DU,"\\"),t=decodeURIComponent(t),e!=="")return`\\\\${e}${t}`;{let n=t.codePointAt(1)|32,i=t[2];if(n<CU||n>RU||i!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return t.slice(1)}}function BU(r){if(r.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let e=r.pathname;for(let t=0;t<e.length;t++)if(e[t]==="%"){let n=e.codePointAt(t+2)||32;if(e[t+1]==="2"&&n===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(e)}function MU(r){let e=l2.resolve(r),t=r.charCodeAt(r.length-1);(t===TU||b2&&t===SU)&&e[e.length-1]!==l2.sep&&(e+="/");let n=new URL("file://");return e.includes("%")&&(e=e.replace(IU,"%25")),!b2&&e.includes("\\")&&(e=e.replace(OU,"%5C")),e.includes(`
`)&&(e=e.replace(NU,"%0A")),e.includes("\r")&&(e=e.replace(kU,"%0D")),e.includes("	")&&(e=e.replace(LU,"%09")),n.pathname=e,n}var yU,c2,EO,f2,h2,AO,d2,xO,p2,SO,g2,TO,m2,CO,y2,RO,Hu,DO,si,xU,xX,SX,TX,CX,RX,DX,SU,TU,CU,RU,b2,DU,IU,OU,NU,kU,LU,OO=Jt(()=>{Ne();Le();ke();BE();$p();u2();Mu();yU=Object.freeze(Object.create(null)),c2={},EO=!1,f2=typeof globalThis<"u"?globalThis:typeof self<"u"?self:window;h2={},AO=!1;d2={},xO=!1;p2={},SO=!1;g2={},TO=!1;m2={},CO=!1;y2={},RO=!1;Hu={},DO=!1;si=AU();si.parse;si.resolve;si.resolveObject;si.format;si.Url;xU=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0;si.URL=typeof URL<"u"?URL:null;si.pathToFileURL=MU;si.fileURLToPath=v2;xX=si.Url,SX=si.format,TX=si.resolve,CX=si.resolveObject,RX=si.parse,DX=si.URL,SU=92,TU=47,CU=97,RU=122,b2=xU==="win32",DU=/\//g,IU=/%/g,OU=/\\/g,NU=/\n/g,kU=/\r/g,LU=/\t/g});var Hp={};Uo(Hp,{Dir:()=>S$,Dirent:()=>T$,F_OK:()=>k$,FileReadStream:()=>I$,FileWriteStream:()=>O$,R_OK:()=>L$,ReadStream:()=>R$,Stats:()=>C$,W_OK:()=>P$,WriteStream:()=>D$,X_OK:()=>B$,_toUnixTimestamp:()=>N$,access:()=>ej,accessSync:()=>tj,appendFile:()=>JU,appendFileSync:()=>QU,chmod:()=>ij,chmodSync:()=>sj,chown:()=>rj,chownSync:()=>nj,close:()=>oj,closeSync:()=>aj,constants:()=>M$,copyFile:()=>lj,copyFileSync:()=>uj,cp:()=>cj,cpSync:()=>fj,createReadStream:()=>hj,createWriteStream:()=>dj,default:()=>br,exists:()=>pj,existsSync:()=>ob,fchmod:()=>yj,fchmodSync:()=>bj,fchown:()=>gj,fchownSync:()=>mj,fdatasync:()=>wj,fdatasyncSync:()=>vj,fstat:()=>_j,fstatSync:()=>Ej,fsync:()=>Aj,fsyncSync:()=>xj,ftruncate:()=>Sj,ftruncateSync:()=>Tj,futimes:()=>Cj,futimesSync:()=>Rj,lchmod:()=>Oj,lchmodSync:()=>Nj,lchown:()=>Dj,lchownSync:()=>Ij,link:()=>kj,linkSync:()=>Lj,lstat:()=>Pj,lstatSync:()=>x2,mkdir:()=>Bj,mkdirSync:()=>Mj,mkdtemp:()=>Fj,mkdtempSync:()=>Uj,open:()=>jj,openSync:()=>$j,opendir:()=>zj,opendirSync:()=>Wj,promises:()=>F$,read:()=>Gj,readFile:()=>Kj,readFileSync:()=>S2,readSync:()=>Vj,readdir:()=>qj,readdirSync:()=>Hj,readlink:()=>Zj,readlinkSync:()=>Jj,readv:()=>Yj,readvSync:()=>Xj,realpath:()=>Qj,realpathSync:()=>e$,rename:()=>t$,renameSync:()=>r$,rm:()=>n$,rmSync:()=>i$,rmdir:()=>s$,rmdirSync:()=>o$,stat:()=>a$,statSync:()=>l$,symlink:()=>u$,symlinkSync:()=>c$,truncate:()=>f$,truncateSync:()=>h$,unlink:()=>p$,unlinkSync:()=>g$,unwatchFile:()=>d$,utimes:()=>m$,utimesSync:()=>y$,watch:()=>b$,watchFile:()=>w$,write:()=>_$,writeFile:()=>v$,writeFileSync:()=>rN,writeSync:()=>E$,writev:()=>A$,writevSync:()=>x$});function qp(){return NO||(NO=!0,Object.defineProperty(zp,"__esModule",{value:!0}),zp.constants=void 0,zp.constants={O_RDONLY:0,O_WRONLY:1,O_RDWR:2,S_IFMT:61440,S_IFREG:32768,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960,S_IFSOCK:49152,O_CREAT:64,O_EXCL:128,O_NOCTTY:256,O_TRUNC:512,O_APPEND:1024,O_DIRECTORY:65536,O_NOATIME:262144,O_NOFOLLOW:131072,O_SYNC:1052672,O_DIRECT:16384,O_NONBLOCK:2048,S_IRWXU:448,S_IRUSR:256,S_IWUSR:128,S_IXUSR:64,S_IRWXG:56,S_IRGRP:32,S_IWGRP:16,S_IXGRP:8,S_IRWXO:7,S_IROTH:4,S_IWOTH:2,S_IXOTH:1,F_OK:0,R_OK:4,W_OK:2,X_OK:1,UV_FS_SYMLINK_DIR:1,UV_FS_SYMLINK_JUNCTION:2,UV_FS_COPYFILE_EXCL:1,UV_FS_COPYFILE_FICLONE:2,UV_FS_COPYFILE_FICLONE_FORCE:4,COPYFILE_EXCL:1,COPYFILE_FICLONE:2,COPYFILE_FICLONE_FORCE:4}),zp}function FU(){return kO||(kO=!0,typeof BigInt=="function"?nb.default=BigInt:nb.default=function(){throw new Error("BigInt is not supported in this environment.")}),nb}function _2(){if(LO)return eh;LO=!0,Object.defineProperty(eh,"__esModule",{value:!0}),eh.Stats=void 0;var r=qp(),e=FU(),t=r.constants.S_IFMT,n=r.constants.S_IFDIR,i=r.constants.S_IFREG,o=r.constants.S_IFBLK,s=r.constants.S_IFCHR,a=r.constants.S_IFLNK,u=r.constants.S_IFIFO,c=r.constants.S_IFSOCK,f=(function(){function h(){}return h.build=function(d,g){g===void 0&&(g=!1);var b=new h,v=d.uid,w=d.gid,y=d.atime,_=d.mtime,E=d.ctime,S=g?e.default:function(L){return L};b.uid=S(v),b.gid=S(w),b.rdev=S(0),b.blksize=S(4096),b.ino=S(d.ino),b.size=S(d.getSize()),b.blocks=S(1),b.atime=y,b.mtime=_,b.ctime=E,b.birthtime=E,b.atimeMs=S(y.getTime()),b.mtimeMs=S(_.getTime());var A=S(E.getTime());return b.ctimeMs=A,b.birthtimeMs=A,b.dev=S(0),b.mode=S(d.mode),b.nlink=S(d.nlink),b},h.prototype._checkModeProperty=function(d){return(Number(this.mode)&t)===d},h.prototype.isDirectory=function(){return this._checkModeProperty(n)},h.prototype.isFile=function(){return this._checkModeProperty(i)},h.prototype.isBlockDevice=function(){return this._checkModeProperty(o)},h.prototype.isCharacterDevice=function(){return this._checkModeProperty(s)},h.prototype.isSymbolicLink=function(){return this._checkModeProperty(a)},h.prototype.isFIFO=function(){return this._checkModeProperty(u)},h.prototype.isSocket=function(){return this._checkModeProperty(c)},h})();return eh.Stats=f,eh.default=f,eh}function E2(){if(PO)return Rs;PO=!0;var r=Rs&&Rs.__spreadArray||function(o,s,a){if(a||arguments.length===2)for(var u=0,c=s.length,f;u<c;u++)(f||!(u in s))&&(f||(f=Array.prototype.slice.call(s,0,u)),f[u]=s[u]);return o.concat(f||Array.prototype.slice.call(s))};Object.defineProperty(Rs,"__esModule",{value:!0}),Rs.bufferFrom=Rs.bufferAllocUnsafe=Rs.Buffer=void 0;var e=fn();Object.defineProperty(Rs,"Buffer",{enumerable:!0,get:function(){return e.Buffer}});function t(o){for(var s=[],a=1;a<arguments.length;a++)s[a-1]=arguments[a];return new(e.Buffer.bind.apply(e.Buffer,r([void 0,o],s,!1)))}var n=e.Buffer.allocUnsafe||t;Rs.bufferAllocUnsafe=n;var i=e.Buffer.from||t;return Rs.bufferFrom=i,Rs}function XO(){if(BO)return sn;BO=!0;var r=sn&&sn.__extends||(function(){var b=function(v,w){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,_){y.__proto__=_}||function(y,_){for(var E in _)Object.prototype.hasOwnProperty.call(_,E)&&(y[E]=_[E])},b(v,w)};return function(v,w){if(typeof w!="function"&&w!==null)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");b(v,w);function y(){this.constructor=v}v.prototype=w===null?Object.create(w):(y.prototype=w.prototype,new y)}})();Object.defineProperty(sn,"__esModule",{value:!0}),sn.E=sn.AssertionError=sn.message=sn.RangeError=sn.TypeError=sn.Error=void 0;var e=pt,t=Ve,n=typeof Symbol>"u"?"_kCode":Symbol("code"),i={};function o(b){return(function(v){r(w,v);function w(y){for(var _=[],E=1;E<arguments.length;E++)_[E-1]=arguments[E];var S=v.call(this,u(y,_))||this;return S.code=y,S[n]=y,S.name="".concat(v.prototype.name," [").concat(S[n],"]"),S}return w})(b)}var s=typeof globalThis<"u"?globalThis:UU,a=(function(b){r(v,b);function v(w){var y=this;if(typeof w!="object"||w===null)throw new sn.TypeError("ERR_INVALID_ARG_TYPE","options","object");return w.message?y=b.call(this,w.message)||this:y=b.call(this,"".concat(t.inspect(w.actual).slice(0,128)," ")+"".concat(w.operator," ").concat(t.inspect(w.expected).slice(0,128)))||this,y.generatedMessage=!w.message,y.name="AssertionError [ERR_ASSERTION]",y.code="ERR_ASSERTION",y.actual=w.actual,y.expected=w.expected,y.operator=w.operator,sn.Error.captureStackTrace(y,w.stackStartFunction),y}return v})(s.Error);sn.AssertionError=a;function u(b,v){e.strictEqual(typeof b,"string");var w=i[b];e(w,"An invalid error message key was used: ".concat(b,"."));var y;if(typeof w=="function")y=w;else{if(y=t.format,v===void 0||v.length===0)return w;v.unshift(w)}return String(y.apply(null,v))}sn.message=u;function c(b,v){i[b]=typeof v=="function"?v:String(v)}sn.E=c,sn.Error=o(s.Error),sn.TypeError=o(s.TypeError),sn.RangeError=o(s.RangeError),c("ERR_ARG_NOT_ITERABLE","%s must be iterable"),c("ERR_ASSERTION","%s"),c("ERR_BUFFER_OUT_OF_BOUNDS",g),c("ERR_CHILD_CLOSED_BEFORE_REPLY","Child closed before reply received"),c("ERR_CONSOLE_WRITABLE_STREAM","Console expects a writable stream instance for %s"),c("ERR_CPU_USAGE","Unable to obtain cpu usage %s"),c("ERR_DNS_SET_SERVERS_FAILED",function(b,v){return'c-ares failed to set servers: "'.concat(b,'" [').concat(v,"]")}),c("ERR_FALSY_VALUE_REJECTION","Promise was rejected with falsy value"),c("ERR_ENCODING_NOT_SUPPORTED",function(b){return'The "'.concat(b,'" encoding is not supported')}),c("ERR_ENCODING_INVALID_ENCODED_DATA",function(b){return"The encoded data was not valid for encoding ".concat(b)}),c("ERR_HTTP_HEADERS_SENT","Cannot render headers after they are sent to the client"),c("ERR_HTTP_INVALID_STATUS_CODE","Invalid status code: %s"),c("ERR_HTTP_TRAILER_INVALID","Trailers are invalid with this transfer encoding"),c("ERR_INDEX_OUT_OF_RANGE","Index out of range"),c("ERR_INVALID_ARG_TYPE",f),c("ERR_INVALID_ARRAY_LENGTH",function(b,v,w){return e.strictEqual(typeof w,"number"),'The array "'.concat(b,'" (length ').concat(w,") must be of length ").concat(v,".")}),c("ERR_INVALID_BUFFER_SIZE","Buffer size must be a multiple of %s"),c("ERR_INVALID_CALLBACK","Callback must be a function"),c("ERR_INVALID_CHAR","Invalid character in %s"),c("ERR_INVALID_CURSOR_POS","Cannot set cursor row without setting its column"),c("ERR_INVALID_FD",'"fd" must be a positive integer: %s'),c("ERR_INVALID_FILE_URL_HOST",'File URL host must be "localhost" or empty on %s'),c("ERR_INVALID_FILE_URL_PATH","File URL path %s"),c("ERR_INVALID_HANDLE_TYPE","This handle type cannot be sent"),c("ERR_INVALID_IP_ADDRESS","Invalid IP address: %s"),c("ERR_INVALID_OPT_VALUE",function(b,v){return'The value "'.concat(String(v),'" is invalid for option "').concat(b,'"')}),c("ERR_INVALID_OPT_VALUE_ENCODING",function(b){return'The value "'.concat(String(b),'" is invalid for option "encoding"')}),c("ERR_INVALID_REPL_EVAL_CONFIG",'Cannot specify both "breakEvalOnSigint" and "eval" for REPL'),c("ERR_INVALID_SYNC_FORK_INPUT","Asynchronous forks do not support Buffer, Uint8Array or string input: %s"),c("ERR_INVALID_THIS",'Value of "this" must be of type %s'),c("ERR_INVALID_TUPLE","%s must be an iterable %s tuple"),c("ERR_INVALID_URL","Invalid URL: %s"),c("ERR_INVALID_URL_SCHEME",function(b){return"The URL must be ".concat(d(b,"scheme"))}),c("ERR_IPC_CHANNEL_CLOSED","Channel closed"),c("ERR_IPC_DISCONNECTED","IPC channel is already disconnected"),c("ERR_IPC_ONE_PIPE","Child process can have only one IPC pipe"),c("ERR_IPC_SYNC_FORK","IPC cannot be used with synchronous forks"),c("ERR_MISSING_ARGS",h),c("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),c("ERR_NAPI_CONS_FUNCTION","Constructor must be a function"),c("ERR_NAPI_CONS_PROTOTYPE_OBJECT","Constructor.prototype must be an object"),c("ERR_NO_CRYPTO","Node.js is not compiled with OpenSSL crypto support"),c("ERR_NO_LONGER_SUPPORTED","%s is no longer supported"),c("ERR_PARSE_HISTORY_DATA","Could not parse history data in %s"),c("ERR_SOCKET_ALREADY_BOUND","Socket is already bound"),c("ERR_SOCKET_BAD_PORT","Port should be > 0 and < 65536"),c("ERR_SOCKET_BAD_TYPE","Bad socket type specified. Valid types are: udp4, udp6"),c("ERR_SOCKET_CANNOT_SEND","Unable to send data"),c("ERR_SOCKET_CLOSED","Socket is closed"),c("ERR_SOCKET_DGRAM_NOT_RUNNING","Not running"),c("ERR_STDERR_CLOSE","process.stderr cannot be closed"),c("ERR_STDOUT_CLOSE","process.stdout cannot be closed"),c("ERR_STREAM_WRAP","Stream has StringDecoder set or is in objectMode"),c("ERR_TLS_CERT_ALTNAME_INVALID","Hostname/IP does not match certificate's altnames: %s"),c("ERR_TLS_DH_PARAM_SIZE",function(b){return"DH parameter size ".concat(b," is less than 2048")}),c("ERR_TLS_HANDSHAKE_TIMEOUT","TLS handshake timeout"),c("ERR_TLS_RENEGOTIATION_FAILED","Failed to renegotiate"),c("ERR_TLS_REQUIRED_SERVER_NAME",'"servername" is required parameter for Server.addContext'),c("ERR_TLS_SESSION_ATTACK","TSL session renegotiation attack detected"),c("ERR_TRANSFORM_ALREADY_TRANSFORMING","Calling transform done when still transforming"),c("ERR_TRANSFORM_WITH_LENGTH_0","Calling transform done when writableState.length != 0"),c("ERR_UNKNOWN_ENCODING","Unknown encoding: %s"),c("ERR_UNKNOWN_SIGNAL","Unknown signal: %s"),c("ERR_UNKNOWN_STDIN_TYPE","Unknown stdin file type"),c("ERR_UNKNOWN_STREAM_TYPE","Unknown stream file type"),c("ERR_V8BREAKITERATOR","Full ICU data not installed. See https://github.com/nodejs/node/wiki/Intl");function f(b,v,w){e(b,"name is required");var y;v.includes("not ")?(y="must not be",v=v.split("not ")[1]):y="must be";var _;if(Array.isArray(b)){var E=b.map(function(A){return'"'.concat(A,'"')}).join(", ");_="The ".concat(E," arguments ").concat(y," ").concat(d(v,"type"))}else if(b.includes(" argument"))_="The ".concat(b," ").concat(y," ").concat(d(v,"type"));else{var S=b.includes(".")?"property":"argument";_='The "'.concat(b,'" ').concat(S," ").concat(y," ").concat(d(v,"type"))}return arguments.length>=3&&(_+=". Received type ".concat(w!==null?typeof w:"null")),_}function h(){for(var b=[],v=0;v<arguments.length;v++)b[v]=arguments[v];e(b.length>0,"At least one arg needs to be specified");var w="The ",y=b.length;switch(b=b.map(function(_){return'"'.concat(_,'"')}),y){case 1:w+="".concat(b[0]," argument");break;case 2:w+="".concat(b[0]," and ").concat(b[1]," arguments");break;default:w+=b.slice(0,y-1).join(", "),w+=", and ".concat(b[y-1]," arguments");break}return"".concat(w," must be specified")}function d(b,v){if(e(b,"expected is required"),e(typeof v=="string","thing is required"),Array.isArray(b)){var w=b.length;return e(w>0,"At least one expected value needs to be specified"),b=b.map(function(y){return String(y)}),w>2?"one of ".concat(v," ").concat(b.slice(0,w-1).join(", "),", or ")+b[w-1]:w===2?"one of ".concat(v," ").concat(b[0]," or ").concat(b[1]):"of ".concat(v," ").concat(b[0])}else return"of ".concat(v," ").concat(String(b))}function g(b,v){return v?"Attempt to write outside buffer bounds":'"'.concat(b,'" is outside of buffer bounds')}return sn}function KO(){if(MO)return ro;MO=!0,Object.defineProperty(ro,"__esModule",{value:!0}),ro.strToEncoding=ro.assertEncoding=ro.ENCODING_UTF8=void 0;var r=E2(),e=XO();ro.ENCODING_UTF8="utf8";function t(i){if(i&&!r.Buffer.isEncoding(i))throw new e.TypeError("ERR_INVALID_OPT_VALUE_ENCODING",i)}ro.assertEncoding=t;function n(i,o){return!o||o===ro.ENCODING_UTF8?i:o==="buffer"?new r.Buffer(i):new r.Buffer(i).toString(o)}return ro.strToEncoding=n,ro}function ZO(){if(FO)return th;FO=!0,Object.defineProperty(th,"__esModule",{value:!0}),th.Dirent=void 0;var r=qp(),e=KO(),t=r.constants.S_IFMT,n=r.constants.S_IFDIR,i=r.constants.S_IFREG,o=r.constants.S_IFBLK,s=r.constants.S_IFCHR,a=r.constants.S_IFLNK,u=r.constants.S_IFIFO,c=r.constants.S_IFSOCK,f=(function(){function h(){this.name="",this.mode=0}return h.build=function(d,g){var b=new h,v=d.getNode().mode;return b.name=(0,e.strToEncoding)(d.getName(),g),b.mode=v,b},h.prototype._checkModeProperty=function(d){return(this.mode&t)===d},h.prototype.isDirectory=function(){return this._checkModeProperty(n)},h.prototype.isFile=function(){return this._checkModeProperty(i)},h.prototype.isBlockDevice=function(){return this._checkModeProperty(o)},h.prototype.isCharacterDevice=function(){return this._checkModeProperty(s)},h.prototype.isSymbolicLink=function(){return this._checkModeProperty(a)},h.prototype.isFIFO=function(){return this._checkModeProperty(u)},h.prototype.isSocket=function(){return this._checkModeProperty(c)},h})();return th.Dirent=f,th.default=f,th}function JO(){if(UO)return ib;UO=!0;var r=zr;Object.defineProperty(ib,"__esModule",{value:!0});var e;return typeof r.nextTick=="function"?e=r.nextTick.bind(typeof globalThis<"u"?globalThis:jO):e=setTimeout.bind(typeof globalThis<"u"?globalThis:jO),ib.default=e,ib}function QO(){if($O)return rh;$O=!0;var r=zr;Object.defineProperty(rh,"__esModule",{value:!0}),rh.createProcess=void 0;var e=function(){if(typeof r<"u")return r;try{return zr}catch{return}};function t(){var n=e()||{};return n.cwd||(n.cwd=function(){return"/"}),n.nextTick||(n.nextTick=JO().default),n.emitWarning||(n.emitWarning=function(i,o){console.warn("".concat(o).concat(o?": ":"").concat(i))}),n.env||(n.env={}),n}return rh.createProcess=t,rh.default=t(),rh}function jU(){if(zO)return oi;zO=!0;var r=oi&&oi.__extends||(function(){var w=function(y,_){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,S){E.__proto__=S}||function(E,S){for(var A in S)Object.prototype.hasOwnProperty.call(S,A)&&(E[A]=S[A])},w(y,_)};return function(y,_){if(typeof _!="function"&&_!==null)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");w(y,_);function E(){this.constructor=y}y.prototype=_===null?Object.create(_):(E.prototype=_.prototype,new E)}})();Object.defineProperty(oi,"__esModule",{value:!0}),oi.File=oi.Link=oi.Node=oi.SEP=void 0;var e=QO(),t=E2(),n=qp(),i=nn,o=_2(),s=n.constants.S_IFMT,a=n.constants.S_IFDIR,u=n.constants.S_IFREG,c=n.constants.S_IFLNK,f=n.constants.O_APPEND,h=function(){var w,y;return(y=(w=e.default.getuid)===null||w===void 0?void 0:w.call(e.default))!==null&&y!==void 0?y:0},d=function(){var w,y;return(y=(w=e.default.getgid)===null||w===void 0?void 0:w.call(e.default))!==null&&y!==void 0?y:0};oi.SEP="/";var g=(function(w){r(y,w);function y(_,E){E===void 0&&(E=438);var S=w.call(this)||this;return S._uid=h(),S._gid=d(),S._atime=new Date,S._mtime=new Date,S._ctime=new Date,S._perm=438,S.mode=u,S._nlink=1,S._perm=E,S.mode|=E,S.ino=_,S}return Object.defineProperty(y.prototype,"ctime",{get:function(){return this._ctime},set:function(_){this._ctime=_},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"uid",{get:function(){return this._uid},set:function(_){this._uid=_,this.ctime=new Date},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"gid",{get:function(){return this._gid},set:function(_){this._gid=_,this.ctime=new Date},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"atime",{get:function(){return this._atime},set:function(_){this._atime=_,this.ctime=new Date},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"mtime",{get:function(){return this._mtime},set:function(_){this._mtime=_,this.ctime=new Date},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"perm",{get:function(){return this._perm},set:function(_){this._perm=_,this.ctime=new Date},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"nlink",{get:function(){return this._nlink},set:function(_){this._nlink=_,this.ctime=new Date},enumerable:!1,configurable:!0}),y.prototype.getString=function(_){return _===void 0&&(_="utf8"),this.atime=new Date,this.getBuffer().toString(_)},y.prototype.setString=function(_){this.buf=(0,t.bufferFrom)(_,"utf8"),this.touch()},y.prototype.getBuffer=function(){return this.atime=new Date,this.buf||this.setBuffer((0,t.bufferAllocUnsafe)(0)),(0,t.bufferFrom)(this.buf)},y.prototype.setBuffer=function(_){this.buf=(0,t.bufferFrom)(_),this.touch()},y.prototype.getSize=function(){return this.buf?this.buf.length:0},y.prototype.setModeProperty=function(_){this.mode=this.mode&~s|_},y.prototype.setIsFile=function(){this.setModeProperty(u)},y.prototype.setIsDirectory=function(){this.setModeProperty(a)},y.prototype.setIsSymlink=function(){this.setModeProperty(c)},y.prototype.isFile=function(){return(this.mode&s)===u},y.prototype.isDirectory=function(){return(this.mode&s)===a},y.prototype.isSymlink=function(){return(this.mode&s)===c},y.prototype.makeSymlink=function(_){this.symlink=_,this.setIsSymlink()},y.prototype.write=function(_,E,S,A){if(E===void 0&&(E=0),S===void 0&&(S=_.length),A===void 0&&(A=0),this.buf||(this.buf=(0,t.bufferAllocUnsafe)(0)),A+S>this.buf.length){var L=(0,t.bufferAllocUnsafe)(A+S);this.buf.copy(L,0,0,this.buf.length),this.buf=L}return _.copy(this.buf,A,E,E+S),this.touch(),S},y.prototype.read=function(_,E,S,A){E===void 0&&(E=0),S===void 0&&(S=_.byteLength),A===void 0&&(A=0),this.atime=new Date,this.buf||(this.buf=(0,t.bufferAllocUnsafe)(0));var L=S;return L>_.byteLength&&(L=_.byteLength),L+A>this.buf.length&&(L=this.buf.length-A),this.buf.copy(_,E,A,A+L),L},y.prototype.truncate=function(_){if(_===void 0&&(_=0),!_)this.buf=(0,t.bufferAllocUnsafe)(0);else if(this.buf||(this.buf=(0,t.bufferAllocUnsafe)(0)),_<=this.buf.length)this.buf=this.buf.slice(0,_);else{var E=(0,t.bufferAllocUnsafe)(_);this.buf.copy(E),E.fill(0,this.buf.length),this.buf=E}this.touch()},y.prototype.chmod=function(_){this.perm=_,this.mode=this.mode&-512|_,this.touch()},y.prototype.chown=function(_,E){this.uid=_,this.gid=E,this.touch()},y.prototype.touch=function(){this.mtime=new Date,this.emit("change",this)},y.prototype.canRead=function(_,E){return _===void 0&&(_=h()),E===void 0&&(E=d()),!!(this.perm&4||E===this.gid&&this.perm&32||_===this.uid&&this.perm&256)},y.prototype.canWrite=function(_,E){return _===void 0&&(_=h()),E===void 0&&(E=d()),!!(this.perm&2||E===this.gid&&this.perm&16||_===this.uid&&this.perm&128)},y.prototype.del=function(){this.emit("delete",this)},y.prototype.toJSON=function(){return{ino:this.ino,uid:this.uid,gid:this.gid,atime:this.atime.getTime(),mtime:this.mtime.getTime(),ctime:this.ctime.getTime(),perm:this.perm,mode:this.mode,nlink:this.nlink,symlink:this.symlink,data:this.getString()}},y})(i.EventEmitter);oi.Node=g;var b=(function(w){r(y,w);function y(_,E,S){var A=w.call(this)||this;return A.children={},A._steps=[],A.ino=0,A.length=0,A.vol=_,A.parent=E,A.name=S,A.syncSteps(),A}return Object.defineProperty(y.prototype,"steps",{get:function(){return this._steps},set:function(_){this._steps=_;for(var E=0,S=Object.entries(this.children);E<S.length;E++){var A=S[E],L=A[0],D=A[1];L==="."||L===".."||D?.syncSteps()}},enumerable:!1,configurable:!0}),y.prototype.setNode=function(_){this.node=_,this.ino=_.ino},y.prototype.getNode=function(){return this.node},y.prototype.createChild=function(_,E){E===void 0&&(E=this.vol.createNode());var S=new y(this.vol,this,_);return S.setNode(E),E.isDirectory()&&(S.children["."]=S,S.getNode().nlink++),this.setChild(_,S),S},y.prototype.setChild=function(_,E){E===void 0&&(E=new y(this.vol,this,_)),this.children[_]=E,E.parent=this,this.length++;var S=E.getNode();return S.isDirectory()&&(E.children[".."]=this,this.getNode().nlink++),this.getNode().mtime=new Date,this.emit("child:add",E,this),E},y.prototype.deleteChild=function(_){var E=_.getNode();E.isDirectory()&&(delete _.children[".."],this.getNode().nlink--),delete this.children[_.getName()],this.length--,this.getNode().mtime=new Date,this.emit("child:delete",_,this)},y.prototype.getChild=function(_){if(this.getNode().mtime=new Date,Object.hasOwnProperty.call(this.children,_))return this.children[_]},y.prototype.getPath=function(){return this.steps.join(oi.SEP)},y.prototype.getName=function(){return this.steps[this.steps.length-1]},y.prototype.walk=function(_,E,S){if(E===void 0&&(E=_.length),S===void 0&&(S=0),S>=_.length)return this;if(S>=E)return this;var A=_[S],L=this.getChild(A);return L?L.walk(_,E,S+1):null},y.prototype.toJSON=function(){return{steps:this.steps,ino:this.ino,children:Object.keys(this.children)}},y.prototype.syncSteps=function(){this.steps=this.parent?this.parent.steps.concat([this.name]):[this.name]},y})(i.EventEmitter);oi.Link=b;var v=(function(){function w(y,_,E,S){this.position=0,this.link=y,this.node=_,this.flags=E,this.fd=S}return w.prototype.getString=function(y){return this.node.getString()},w.prototype.setString=function(y){this.node.setString(y)},w.prototype.getBuffer=function(){return this.node.getBuffer()},w.prototype.setBuffer=function(y){this.node.setBuffer(y)},w.prototype.getSize=function(){return this.node.getSize()},w.prototype.truncate=function(y){this.node.truncate(y)},w.prototype.seekTo=function(y){this.position=y},w.prototype.stats=function(){return o.default.build(this.node)},w.prototype.write=function(y,_,E,S){_===void 0&&(_=0),E===void 0&&(E=y.length),typeof S!="number"&&(S=this.position),this.flags&f&&(S=this.getSize());var A=this.node.write(y,_,E,S);return this.position=S+A,A},w.prototype.read=function(y,_,E,S){_===void 0&&(_=0),E===void 0&&(E=y.byteLength),typeof S!="number"&&(S=this.position);var A=this.node.read(y,_,E,S);return this.position=S+A,A},w.prototype.chmod=function(y){this.node.chmod(y)},w.prototype.chown=function(y,_){this.node.chown(y,_)},w})();return oi.File=v,oi}function zU(){if(WO)return sb;WO=!0,Object.defineProperty(sb,"__esModule",{value:!0});function r(e,t,n){var i=setTimeout.apply(typeof globalThis<"u"?globalThis:$U,arguments);return i&&typeof i=="object"&&typeof i.unref=="function"&&i.unref(),i}return sb.default=r,sb}function WU(){if(qO)return gl;qO=!0;var r=gl&&gl.__spreadArray||function(i,o,s){if(s||arguments.length===2)for(var a=0,u=o.length,c;a<u;a++)(c||!(a in o))&&(c||(c=Array.prototype.slice.call(o,0,a)),c[a]=o[a]);return i.concat(c||Array.prototype.slice.call(o))};Object.defineProperty(gl,"__esModule",{value:!0}),gl.FileHandle=void 0;function e(i,o,s){return s===void 0&&(s=function(a){return a}),function(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];return new Promise(function(c,f){i[o].bind(i).apply(void 0,r(r([],a,!1),[function(h,d){return h?f(h):c(s(d))}],!1))})}}var t=(function(){function i(o,s){this.vol=o,this.fd=s}return i.prototype.appendFile=function(o,s){return e(this.vol,"appendFile")(this.fd,o,s)},i.prototype.chmod=function(o){return e(this.vol,"fchmod")(this.fd,o)},i.prototype.chown=function(o,s){return e(this.vol,"fchown")(this.fd,o,s)},i.prototype.close=function(){return e(this.vol,"close")(this.fd)},i.prototype.datasync=function(){return e(this.vol,"fdatasync")(this.fd)},i.prototype.read=function(o,s,a,u){return e(this.vol,"read",function(c){return{bytesRead:c,buffer:o}})(this.fd,o,s,a,u)},i.prototype.readFile=function(o){return e(this.vol,"readFile")(this.fd,o)},i.prototype.stat=function(o){return e(this.vol,"fstat")(this.fd,o)},i.prototype.sync=function(){return e(this.vol,"fsync")(this.fd)},i.prototype.truncate=function(o){return e(this.vol,"ftruncate")(this.fd,o)},i.prototype.utimes=function(o,s){return e(this.vol,"futimes")(this.fd,o,s)},i.prototype.write=function(o,s,a,u){return e(this.vol,"write",function(c){return{bytesWritten:c,buffer:o}})(this.fd,o,s,a,u)},i.prototype.writeFile=function(o,s){return e(this.vol,"writeFile")(this.fd,o,s)},i})();gl.FileHandle=t;function n(i){return typeof Promise>"u"?null:{FileHandle:t,access:function(o,s){return e(i,"access")(o,s)},appendFile:function(o,s,a){return e(i,"appendFile")(o instanceof t?o.fd:o,s,a)},chmod:function(o,s){return e(i,"chmod")(o,s)},chown:function(o,s,a){return e(i,"chown")(o,s,a)},copyFile:function(o,s,a){return e(i,"copyFile")(o,s,a)},lchmod:function(o,s){return e(i,"lchmod")(o,s)},lchown:function(o,s,a){return e(i,"lchown")(o,s,a)},link:function(o,s){return e(i,"link")(o,s)},lstat:function(o,s){return e(i,"lstat")(o,s)},mkdir:function(o,s){return e(i,"mkdir")(o,s)},mkdtemp:function(o,s){return e(i,"mkdtemp")(o,s)},open:function(o,s,a){return e(i,"open",function(u){return new t(i,u)})(o,s,a)},readdir:function(o,s){return e(i,"readdir")(o,s)},readFile:function(o,s){return e(i,"readFile")(o instanceof t?o.fd:o,s)},readlink:function(o,s){return e(i,"readlink")(o,s)},realpath:function(o,s){return e(i,"realpath")(o,s)},rename:function(o,s){return e(i,"rename")(o,s)},rmdir:function(o){return e(i,"rmdir")(o)},rm:function(o,s){return e(i,"rm")(o,s)},stat:function(o,s){return e(i,"stat")(o,s)},symlink:function(o,s,a){return e(i,"symlink")(o,s,a)},truncate:function(o,s){return e(i,"truncate")(o,s)},unlink:function(o){return e(i,"unlink")(o)},utimes:function(o,s,a){return e(i,"utimes")(o,s,a)},writeFile:function(o,s,a){return e(i,"writeFile")(o instanceof t?o.fd:o,s,a)}}}return gl.default=n,gl}function qU(){if(HO)return Wp;HO=!0;var r=zr;Object.defineProperty(Wp,"__esModule",{value:!0}),Wp.correctPath=s,Wp.unixify=o;var e=r.platform==="win32";function t(a){var u=a.length-1;if(u<2)return a;for(;n(a,u);)u--;return a.substr(0,u+1)}function n(a,u){var c=a[u];return u>0&&(c==="/"||e&&c==="\\")}function i(a,u){if(typeof a!="string")throw new TypeError("expected a string");return a=a.replace(/[\\\/]+/g,"/"),u!==!1&&(a=t(a)),a}function o(a){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e?(a=i(a,u),a.replace(/^([a-zA-Z]+:|\.\/)/,"")):a}function s(a){return o(a.replace(/^\\\\\?\\.:\\/,"\\"))}return Wp}function eN(){if(GO)return Ft;GO=!0;var r=Ft&&Ft.__extends||(function(){var ge=function(W,Z){return ge=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(le,xe){le.__proto__=xe}||function(le,xe){for(var Be in xe)Object.prototype.hasOwnProperty.call(xe,Be)&&(le[Be]=xe[Be])},ge(W,Z)};return function(W,Z){if(typeof Z!="function"&&Z!==null)throw new TypeError("Class extends value "+String(Z)+" is not a constructor or null");ge(W,Z);function le(){this.constructor=W}W.prototype=Z===null?Object.create(Z):(le.prototype=Z.prototype,new le)}})(),e=Ft&&Ft.__spreadArray||function(ge,W,Z){if(Z||arguments.length===2)for(var le=0,xe=W.length,Be;le<xe;le++)(Be||!(le in W))&&(Be||(Be=Array.prototype.slice.call(W,0,le)),Be[le]=W[le]);return ge.concat(Be||Array.prototype.slice.call(W))};Object.defineProperty(Ft,"__esModule",{value:!0}),Ft.FSWatcher=Ft.StatWatcher=Ft.Volume=Ft.toUnixTimestamp=Ft.bufferToEncoding=Ft.dataToBuffer=Ft.dataToStr=Ft.pathToSteps=Ft.filenameToSteps=Ft.pathToFilename=Ft.flagsToNumber=Ft.FLAGS=void 0;var t=rn,n=jU(),i=_2(),o=ZO(),s=E2(),a=JO(),u=QO(),c=zU(),f=ii,h=qp(),d=nn,g=KO(),b=XO(),v=Ve,w=WU(),y=t.resolve,_=h.constants.O_RDONLY,E=h.constants.O_WRONLY,S=h.constants.O_RDWR,A=h.constants.O_CREAT,L=h.constants.O_EXCL,D=h.constants.O_TRUNC,K=h.constants.O_APPEND,re=h.constants.O_SYNC,q=h.constants.O_DIRECTORY,oe=h.constants.F_OK,U=h.constants.COPYFILE_EXCL,H=h.constants.COPYFILE_FICLONE_FORCE,ue=t.posix?t.posix:t,Se=ue.sep,Ae=ue.relative,j=ue.join,I=ue.dirname,se=u.default.platform==="win32",z=128,ie={PATH_STR:"path must be a string or Buffer",FD:"fd must be a file descriptor",MODE_INT:"mode must be an int",CB:"callback must be a function",UID:"uid must be an unsigned int",GID:"gid must be an unsigned int",LEN:"len must be an integer",ATIME:"atime must be an integer",MTIME:"mtime must be an integer",PREFIX:"filename prefix is required",BUFFER:"buffer must be an instance of Buffer or StaticBuffer",OFFSET:"offset must be an integer",LENGTH:"length must be an integer",POSITION:"position must be an integer"},V=function(ge){return"Expected options to be either an object or a string, but got ".concat(ge," instead")},X="ENOENT",we="EBADF",ve="EINVAL",de="EPERM",M="EPROTO",N="EEXIST",$="ENOTDIR",ne="EMFILE",ye="EACCES",P="EISDIR",C="ENOTEMPTY",F="ENOSYS",Q="ERR_FS_EISDIR";function Ee(ge,W,Z,le){W===void 0&&(W=""),Z===void 0&&(Z=""),le===void 0&&(le="");var xe="";switch(Z&&(xe=" '".concat(Z,"'")),le&&(xe+=" -> '".concat(le,"'")),ge){case X:return"ENOENT: no such file or directory, ".concat(W).concat(xe);case we:return"EBADF: bad file descriptor, ".concat(W).concat(xe);case ve:return"EINVAL: invalid argument, ".concat(W).concat(xe);case de:return"EPERM: operation not permitted, ".concat(W).concat(xe);case M:return"EPROTO: protocol error, ".concat(W).concat(xe);case N:return"EEXIST: file already exists, ".concat(W).concat(xe);case $:return"ENOTDIR: not a directory, ".concat(W).concat(xe);case P:return"EISDIR: illegal operation on a directory, ".concat(W).concat(xe);case ye:return"EACCES: permission denied, ".concat(W).concat(xe);case C:return"ENOTEMPTY: directory not empty, ".concat(W).concat(xe);case ne:return"EMFILE: too many open files, ".concat(W).concat(xe);case F:return"ENOSYS: function not implemented, ".concat(W).concat(xe);case Q:return"[ERR_FS_EISDIR]: Path is a directory: ".concat(W," returned EISDIR (is a directory) ").concat(Z);default:return"".concat(ge,": error occurred, ").concat(W).concat(xe)}}function pe(ge,W,Z,le,xe){W===void 0&&(W=""),Z===void 0&&(Z=""),le===void 0&&(le=""),xe===void 0&&(xe=Error);var Be=new xe(Ee(ge,W,Z,le));return Be.code=ge,Z&&(Be.path=Z),Be}var te;(function(ge){ge[ge.r=_]="r",ge[ge["r+"]=S]="r+",ge[ge.rs=_|re]="rs",ge[ge.sr=ge.rs]="sr",ge[ge["rs+"]=S|re]="rs+",ge[ge["sr+"]=ge["rs+"]]="sr+",ge[ge.w=E|A|D]="w",ge[ge.wx=E|A|D|L]="wx",ge[ge.xw=ge.wx]="xw",ge[ge["w+"]=S|A|D]="w+",ge[ge["wx+"]=S|A|D|L]="wx+",ge[ge["xw+"]=ge["wx+"]]="xw+",ge[ge.a=E|K|A]="a",ge[ge.ax=E|K|A|L]="ax",ge[ge.xa=ge.ax]="xa",ge[ge["a+"]=S|K|A]="a+",ge[ge["ax+"]=S|K|A|L]="ax+",ge[ge["xa+"]=ge["ax+"]]="xa+"})(te=Ft.FLAGS||(Ft.FLAGS={}));function be(ge){if(typeof ge=="number")return ge;if(typeof ge=="string"){var W=te[ge];if(typeof W<"u")return W}throw new b.TypeError("ERR_INVALID_OPT_VALUE","flags",ge)}Ft.flagsToNumber=be;function Ie(ge,W){var Z;if(W){var le=typeof W;switch(le){case"string":Z=Object.assign({},ge,{encoding:W});break;case"object":Z=Object.assign({},ge,W);break;default:throw TypeError(V(le))}}else return ge;return Z.encoding!=="buffer"&&(0,g.assertEncoding)(Z.encoding),Z}function Pe(ge){return function(W){return Ie(ge,W)}}function Ce(ge){if(typeof ge!="function")throw TypeError(ie.CB);return ge}function qe(ge){return function(W,Z){return typeof W=="function"?[ge(),W]:[ge(W),Ce(Z)]}}var We={encoding:"utf8"},Ge=Pe(We),x=qe(Ge),p={flag:"r"},m=Pe(p),O={encoding:"utf8",mode:438,flag:te[te.w]},J=Pe(O),T={encoding:"utf8",mode:438,flag:te[te.a]},ae=Pe(T),fe=qe(ae),Te=We,G=Pe(Te),me=qe(G),B={mode:511,recursive:!1},Re=function(ge){return typeof ge=="number"?Object.assign({},B,{mode:ge}):Object.assign({},B,ge)},je={recursive:!1},R=function(ge){return Object.assign({},je,ge)},Fe=Pe(We),Ue=qe(Fe),he={encoding:"utf8",withFileTypes:!1},Oe=Pe(he),Me=qe(Oe),tt={bigint:!1},ce=function(ge){return ge===void 0&&(ge={}),Object.assign({},tt,ge)},_e=function(ge,W){return typeof ge=="function"?[ce(),ge]:[ce(ge),Ce(W)]};function He(ge){if(ge.hostname!=="")throw new b.TypeError("ERR_INVALID_FILE_URL_HOST",u.default.platform);for(var W=ge.pathname,Z=0;Z<W.length;Z++)if(W[Z]==="%"){var le=W.codePointAt(Z+2)|32;if(W[Z+1]==="2"&&le===102)throw new b.TypeError("ERR_INVALID_FILE_URL_PATH","must not include encoded / characters")}return decodeURIComponent(W)}function ze(ge){if(typeof ge!="string"&&!s.Buffer.isBuffer(ge)){try{if(!(ge instanceof Qt.URL))throw new TypeError(ie.PATH_STR)}catch{throw new TypeError(ie.PATH_STR)}ge=He(ge)}var W=String(ge);return Dr(W),W}Ft.pathToFilename=ze;var et=function(ge,W){return W===void 0&&(W=u.default.cwd()),y(W,ge)};if(se){var dt=et,Rt=qU().unixify;et=function(ge,W){return Rt(dt(ge,W))}}function Et(ge,W){var Z=et(ge,W),le=Z.substring(1);return le?le.split(Se):[]}Ft.filenameToSteps=Et;function ar(ge){return Et(ze(ge))}Ft.pathToSteps=ar;function _i(ge,W){return W===void 0&&(W=g.ENCODING_UTF8),s.Buffer.isBuffer(ge)?ge.toString(W):ge instanceof Uint8Array?(0,s.bufferFrom)(ge).toString(W):String(ge)}Ft.dataToStr=_i;function qn(ge,W){return W===void 0&&(W=g.ENCODING_UTF8),s.Buffer.isBuffer(ge)?ge:ge instanceof Uint8Array?(0,s.bufferFrom)(ge):(0,s.bufferFrom)(String(ge),W)}Ft.dataToBuffer=qn;function Ht(ge,W){return!W||W==="buffer"?ge:ge.toString(W)}Ft.bufferToEncoding=Ht;function Dr(ge,W){if((""+ge).indexOf("\0")!==-1){var Z=new Error("Path must be a string without null bytes");throw Z.code=X,Z}return!0}function yr(ge,W){if(typeof ge=="number")return ge;if(typeof ge=="string")return parseInt(ge,8);if(W)return Wt(W)}function Wt(ge,W){var Z=yr(ge,W);if(typeof Z!="number"||isNaN(Z))throw new TypeError(ie.MODE_INT);return Z}function Yt(ge){return ge>>>0===ge}function Zr(ge){if(!Yt(ge))throw TypeError(ie.FD)}function Jr(ge){if(typeof ge=="string"&&+ge==ge)return+ge;if(ge instanceof Date)return ge.getTime()/1e3;if(isFinite(ge))return ge<0?Date.now()/1e3:ge;throw new Error("Cannot parse time: "+ge)}Ft.toUnixTimestamp=Jr;function Qr(ge){if(typeof ge!="number")throw TypeError(ie.UID)}function Bf(ge){if(typeof ge!="number")throw TypeError(ie.GID)}function P3(ge){var W={};function Z(le,xe){for(var Be in xe){var $e=xe[Be],Xe=j(le,Be);typeof $e=="string"?W[Xe]=$e:typeof $e=="object"&&$e!==null&&Object.keys($e).length>0?Z(Xe,$e):W[Xe]=null}}return Z("",ge),W}var B3=(function(){function ge(W){W===void 0&&(W={}),this.ino=0,this.inodes={},this.releasedInos=[],this.fds={},this.releasedFds=[],this.maxFiles=1e4,this.openFiles=0,this.promisesApi=(0,w.default)(this),this.statWatchers={},this.props=Object.assign({Node:n.Node,Link:n.Link,File:n.File},W);var Z=this.createLink();Z.setNode(this.createNode(!0));var le=this;this.StatWatcher=(function($e){r(Xe,$e);function Xe(){return $e.call(this,le)||this}return Xe})(NT);var xe=Ks;this.ReadStream=(function($e){r(Xe,$e);function Xe(){for(var nt=[],at=0;at<arguments.length;at++)nt[at]=arguments[at];return $e.apply(this,e([le],nt,!1))||this}return Xe})(xe);var Be=Qi;this.WriteStream=(function($e){r(Xe,$e);function Xe(){for(var nt=[],at=0;at<arguments.length;at++)nt[at]=arguments[at];return $e.apply(this,e([le],nt,!1))||this}return Xe})(Be),this.FSWatcher=(function($e){r(Xe,$e);function Xe(){return $e.call(this,le)||this}return Xe})(LT),Z.setChild(".",Z),Z.getNode().nlink++,Z.setChild("..",Z),Z.getNode().nlink++,this.root=Z}return ge.fromJSON=function(W,Z){var le=new ge;return le.fromJSON(W,Z),le},ge.fromNestedJSON=function(W,Z){var le=new ge;return le.fromNestedJSON(W,Z),le},Object.defineProperty(ge.prototype,"promises",{get:function(){if(this.promisesApi===null)throw new Error("Promise is not supported in this environment.");return this.promisesApi},enumerable:!1,configurable:!0}),ge.prototype.createLink=function(W,Z,le,xe){if(le===void 0&&(le=!1),!W)return new this.props.Link(this,null,"");if(!Z)throw new Error("createLink: name cannot be empty");return W.createChild(Z,this.createNode(le,xe))},ge.prototype.deleteLink=function(W){var Z=W.parent;return Z?(Z.deleteChild(W),!0):!1},ge.prototype.newInoNumber=function(){var W=this.releasedInos.pop();return W||(this.ino=(this.ino+1)%4294967295,this.ino)},ge.prototype.newFdNumber=function(){var W=this.releasedFds.pop();return typeof W=="number"?W:ge.fd--},ge.prototype.createNode=function(W,Z){W===void 0&&(W=!1);var le=new this.props.Node(this.newInoNumber(),Z);return W&&le.setIsDirectory(),this.inodes[le.ino]=le,le},ge.prototype.getNode=function(W){return this.inodes[W]},ge.prototype.deleteNode=function(W){W.del(),delete this.inodes[W.ino],this.releasedInos.push(W.ino)},ge.prototype.genRndStr=function(){var W=(Math.random()+1).toString(36).substring(2,8);return W.length===6?W:this.genRndStr()},ge.prototype.getLink=function(W){return this.root.walk(W)},ge.prototype.getLinkOrThrow=function(W,Z){var le=Et(W),xe=this.getLink(le);if(!xe)throw pe(X,Z,W);return xe},ge.prototype.getResolvedLink=function(W){for(var Z=typeof W=="string"?Et(W):W,le=this.root,xe=0;xe<Z.length;){var Be=Z[xe];if(le=le.getChild(Be),!le)return null;var $e=le.getNode();if($e.isSymlink()){Z=$e.symlink.concat(Z.slice(xe+1)),le=this.root,xe=0;continue}xe++}return le},ge.prototype.getResolvedLinkOrThrow=function(W,Z){var le=this.getResolvedLink(W);if(!le)throw pe(X,Z,W);return le},ge.prototype.resolveSymlinks=function(W){return this.getResolvedLink(W.steps.slice(1))},ge.prototype.getLinkAsDirOrThrow=function(W,Z){var le=this.getLinkOrThrow(W,Z);if(!le.getNode().isDirectory())throw pe($,Z,W);return le},ge.prototype.getLinkParent=function(W){return this.root.walk(W,W.length-1)},ge.prototype.getLinkParentAsDirOrThrow=function(W,Z){var le=W instanceof Array?W:Et(W),xe=this.getLinkParent(le);if(!xe)throw pe(X,Z,Se+le.join(Se));if(!xe.getNode().isDirectory())throw pe($,Z,Se+le.join(Se));return xe},ge.prototype.getFileByFd=function(W){return this.fds[String(W)]},ge.prototype.getFileByFdOrThrow=function(W,Z){if(!Yt(W))throw TypeError(ie.FD);var le=this.getFileByFd(W);if(!le)throw pe(we,Z);return le},ge.prototype.wrapAsync=function(W,Z,le){var xe=this;Ce(le),(0,a.default)(function(){var Be;try{Be=W.apply(xe,Z)}catch($e){le($e);return}le(null,Be)})},ge.prototype._toJSON=function(W,Z,le){var xe;W===void 0&&(W=this.root),Z===void 0&&(Z={});var Be=!0,$e=W.children;W.getNode().isFile()&&($e=(xe={},xe[W.getName()]=W.parent.getChild(W.getName()),xe),W=W.parent);for(var Xe in $e)if(!(Xe==="."||Xe==="..")){Be=!1;var nt=W.getChild(Xe);if(!nt)throw new Error("_toJSON: unexpected undefined");var at=nt.getNode();if(at.isFile()){var yt=nt.getPath();le&&(yt=Ae(le,yt)),Z[yt]=at.getString()}else at.isDirectory()&&this._toJSON(nt,Z,le)}var Lt=W.getPath();return le&&(Lt=Ae(le,Lt)),Lt&&Be&&(Z[Lt]=null),Z},ge.prototype.toJSON=function(W,Z,le){Z===void 0&&(Z={}),le===void 0&&(le=!1);var xe=[];if(W){W instanceof Array||(W=[W]);for(var Be=0,$e=W;Be<$e.length;Be++){var Xe=$e[Be],nt=ze(Xe),at=this.getResolvedLink(nt);at&&xe.push(at)}}else xe.push(this.root);if(!xe.length)return Z;for(var yt=0,Lt=xe;yt<Lt.length;yt++){var at=Lt[yt];this._toJSON(at,Z,le?at.getPath():"")}return Z},ge.prototype.fromJSON=function(W,Z){Z===void 0&&(Z=u.default.cwd());for(var le in W){var xe=W[le];if(le=et(le,Z),typeof xe=="string"){var Be=I(le);this.mkdirpBase(Be,511),this.writeFileSync(le,xe)}else this.mkdirpBase(le,511)}},ge.prototype.fromNestedJSON=function(W,Z){this.fromJSON(P3(W),Z)},ge.prototype.reset=function(){this.ino=0,this.inodes={},this.releasedInos=[],this.fds={},this.releasedFds=[],this.openFiles=0,this.root=this.createLink(),this.root.setNode(this.createNode(!0))},ge.prototype.mountSync=function(W,Z){this.fromJSON(Z,W)},ge.prototype.openLink=function(W,Z,le){if(le===void 0&&(le=!0),this.openFiles>=this.maxFiles)throw pe(ne,"open",W.getPath());var xe=W;if(le&&(xe=this.resolveSymlinks(W)),!xe)throw pe(X,"open",W.getPath());var Be=xe.getNode();if(Be.isDirectory()){if((Z&(_|S|E))!==_)throw pe(P,"open",W.getPath())}else if(Z&q)throw pe($,"open",W.getPath());if(!(Z&E)&&!Be.canRead())throw pe(ye,"open",W.getPath());var $e=new this.props.File(W,Be,Z,this.newFdNumber());return this.fds[$e.fd]=$e,this.openFiles++,Z&D&&$e.truncate(),$e},ge.prototype.openFile=function(W,Z,le,xe){xe===void 0&&(xe=!0);var Be=Et(W),$e=xe?this.getResolvedLink(Be):this.getLink(Be);if($e&&Z&L)throw pe(N,"open",W);if(!$e&&Z&A){var Xe=this.getResolvedLink(Be.slice(0,Be.length-1));if(!Xe)throw pe(X,"open",Se+Be.join(Se));Z&A&&typeof le=="number"&&($e=this.createLink(Xe,Be[Be.length-1],!1,le))}if($e)return this.openLink($e,Z,xe);throw pe(X,"open",W)},ge.prototype.openBase=function(W,Z,le,xe){xe===void 0&&(xe=!0);var Be=this.openFile(W,Z,le,xe);if(!Be)throw pe(X,"open",W);return Be.fd},ge.prototype.openSync=function(W,Z,le){le===void 0&&(le=438);var xe=Wt(le),Be=ze(W),$e=be(Z);return this.openBase(Be,$e,xe)},ge.prototype.open=function(W,Z,le,xe){var Be=le,$e=xe;typeof le=="function"&&(Be=438,$e=le),Be=Be||438;var Xe=Wt(Be),nt=ze(W),at=be(Z);this.wrapAsync(this.openBase,[nt,at,Xe],$e)},ge.prototype.closeFile=function(W){this.fds[W.fd]&&(this.openFiles--,delete this.fds[W.fd],this.releasedFds.push(W.fd))},ge.prototype.closeSync=function(W){Zr(W);var Z=this.getFileByFdOrThrow(W,"close");this.closeFile(Z)},ge.prototype.close=function(W,Z){Zr(W),this.wrapAsync(this.closeSync,[W],Z)},ge.prototype.openFileOrGetById=function(W,Z,le){if(typeof W=="number"){var xe=this.fds[W];if(!xe)throw pe(X);return xe}else return this.openFile(ze(W),Z,le)},ge.prototype.readBase=function(W,Z,le,xe,Be){var $e=this.getFileByFdOrThrow(W);return $e.read(Z,Number(le),Number(xe),Be)},ge.prototype.readSync=function(W,Z,le,xe,Be){return Zr(W),this.readBase(W,Z,le,xe,Be)},ge.prototype.read=function(W,Z,le,xe,Be,$e){var Xe=this;if(Ce($e),xe===0)return u.default.nextTick(function(){$e&&$e(null,0,Z)});(0,a.default)(function(){try{var nt=Xe.readBase(W,Z,le,xe,Be);$e(null,nt,Z)}catch(at){$e(at)}})},ge.prototype.readFileBase=function(W,Z,le){var xe,Be=typeof W=="number",$e=Be&&Yt(W),Xe;if($e)Xe=W;else{var nt=ze(W),at=Et(nt),yt=this.getResolvedLink(at);if(yt){var Lt=yt.getNode();if(Lt.isDirectory())throw pe(P,"open",yt.getPath())}Xe=this.openSync(W,Z)}try{xe=Ht(this.getFileByFdOrThrow(Xe).getBuffer(),le)}finally{$e||this.closeSync(Xe)}return xe},ge.prototype.readFileSync=function(W,Z){var le=m(Z),xe=be(le.flag);return this.readFileBase(W,xe,le.encoding)},ge.prototype.readFile=function(W,Z,le){var xe=qe(m)(Z,le),Be=xe[0],$e=xe[1],Xe=be(Be.flag);this.wrapAsync(this.readFileBase,[W,Xe,Be.encoding],$e)},ge.prototype.writeBase=function(W,Z,le,xe,Be){var $e=this.getFileByFdOrThrow(W,"write");return $e.write(Z,le,xe,Be)},ge.prototype.writeSync=function(W,Z,le,xe,Be){Zr(W);var $e,Xe,nt,at,yt=typeof Z!="string";yt?(Xe=(le||0)|0,nt=xe,at=Be):(at=le,$e=xe);var Lt=qn(Z,$e);return yt?typeof nt>"u"&&(nt=Lt.length):(Xe=0,nt=Lt.length),this.writeBase(W,Lt,Xe,nt,at)},ge.prototype.write=function(W,Z,le,xe,Be,$e){var Xe=this;Zr(W);var nt,at,yt,Lt,en,Au=typeof Z,Zs=typeof le,sl=typeof xe,xu=typeof Be;Au!=="string"?Zs==="function"?en=le:sl==="function"?(nt=le|0,en=xe):xu==="function"?(nt=le|0,at=xe,en=Be):(nt=le|0,at=xe,yt=Be,en=$e):Zs==="function"?en=le:sl==="function"?(yt=le,en=xe):xu==="function"&&(yt=le,Lt=xe,en=Be);var jr=qn(Z,Lt);Au!=="string"?typeof at>"u"&&(at=jr.length):(nt=0,at=jr.length);var es=Ce(en);(0,a.default)(function(){try{var Ss=Xe.writeBase(W,jr,nt,at,yt);Au!=="string"?es(null,Ss,jr):es(null,Ss,Z)}catch(p0){es(p0)}})},ge.prototype.writeFileBase=function(W,Z,le,xe){var Be=typeof W=="number",$e;Be?$e=W:$e=this.openBase(ze(W),le,xe);var Xe=0,nt=Z.length,at=le&K?void 0:0;try{for(;nt>0;){var yt=this.writeSync($e,Z,Xe,nt,at);Xe+=yt,nt-=yt,at!==void 0&&(at+=yt)}}finally{Be||this.closeSync($e)}},ge.prototype.writeFileSync=function(W,Z,le){var xe=J(le),Be=be(xe.flag),$e=Wt(xe.mode),Xe=qn(Z,xe.encoding);this.writeFileBase(W,Xe,Be,$e)},ge.prototype.writeFile=function(W,Z,le,xe){var Be=le,$e=xe;typeof le=="function"&&(Be=O,$e=le);var Xe=Ce($e),nt=J(Be),at=be(nt.flag),yt=Wt(nt.mode),Lt=qn(Z,nt.encoding);this.wrapAsync(this.writeFileBase,[W,Lt,at,yt],Xe)},ge.prototype.linkBase=function(W,Z){var le=Et(W),xe=this.getLink(le);if(!xe)throw pe(X,"link",W,Z);var Be=Et(Z),$e=this.getLinkParent(Be);if(!$e)throw pe(X,"link",W,Z);var Xe=Be[Be.length-1];if($e.getChild(Xe))throw pe(N,"link",W,Z);var nt=xe.getNode();nt.nlink++,$e.createChild(Xe,nt)},ge.prototype.copyFileBase=function(W,Z,le){var xe=this.readFileSync(W);if(le&U&&this.existsSync(Z))throw pe(N,"copyFile",W,Z);if(le&H)throw pe(F,"copyFile",W,Z);this.writeFileBase(Z,xe,te.w,438)},ge.prototype.copyFileSync=function(W,Z,le){var xe=ze(W),Be=ze(Z);return this.copyFileBase(xe,Be,(le||0)|0)},ge.prototype.copyFile=function(W,Z,le,xe){var Be=ze(W),$e=ze(Z),Xe,nt;typeof le=="function"?(Xe=0,nt=le):(Xe=le,nt=xe),Ce(nt),this.wrapAsync(this.copyFileBase,[Be,$e,Xe],nt)},ge.prototype.linkSync=function(W,Z){var le=ze(W),xe=ze(Z);this.linkBase(le,xe)},ge.prototype.link=function(W,Z,le){var xe=ze(W),Be=ze(Z);this.wrapAsync(this.linkBase,[xe,Be],le)},ge.prototype.unlinkBase=function(W){var Z=Et(W),le=this.getLink(Z);if(!le)throw pe(X,"unlink",W);if(le.length)throw Error("Dir not empty...");this.deleteLink(le);var xe=le.getNode();xe.nlink--,xe.nlink<=0&&this.deleteNode(xe)},ge.prototype.unlinkSync=function(W){var Z=ze(W);this.unlinkBase(Z)},ge.prototype.unlink=function(W,Z){var le=ze(W);this.wrapAsync(this.unlinkBase,[le],Z)},ge.prototype.symlinkBase=function(W,Z){var le=Et(Z),xe=this.getLinkParent(le);if(!xe)throw pe(X,"symlink",W,Z);var Be=le[le.length-1];if(xe.getChild(Be))throw pe(N,"symlink",W,Z);var $e=xe.createChild(Be);return $e.getNode().makeSymlink(Et(W)),$e},ge.prototype.symlinkSync=function(W,Z,le){var xe=ze(W),Be=ze(Z);this.symlinkBase(xe,Be)},ge.prototype.symlink=function(W,Z,le,xe){var Be=Ce(typeof le=="function"?le:xe),$e=ze(W),Xe=ze(Z);this.wrapAsync(this.symlinkBase,[$e,Xe],Be)},ge.prototype.realpathBase=function(W,Z){var le=Et(W),xe=this.getResolvedLink(le);if(!xe)throw pe(X,"realpath",W);return(0,g.strToEncoding)(xe.getPath()||"/",Z)},ge.prototype.realpathSync=function(W,Z){return this.realpathBase(ze(W),G(Z).encoding)},ge.prototype.realpath=function(W,Z,le){var xe=me(Z,le),Be=xe[0],$e=xe[1],Xe=ze(W);this.wrapAsync(this.realpathBase,[Xe,Be.encoding],$e)},ge.prototype.lstatBase=function(W,Z,le){Z===void 0&&(Z=!1),le===void 0&&(le=!1);var xe=this.getLink(Et(W));if(xe)return i.default.build(xe.getNode(),Z);if(le)throw pe(X,"lstat",W)},ge.prototype.lstatSync=function(W,Z){var le=ce(Z),xe=le.throwIfNoEntry,Be=xe===void 0?!0:xe,$e=le.bigint,Xe=$e===void 0?!1:$e;return this.lstatBase(ze(W),Xe,Be)},ge.prototype.lstat=function(W,Z,le){var xe=_e(Z,le),Be=xe[0],$e=Be.throwIfNoEntry,Xe=$e===void 0?!0:$e,nt=Be.bigint,at=nt===void 0?!1:nt,yt=xe[1];this.wrapAsync(this.lstatBase,[ze(W),at,Xe],yt)},ge.prototype.statBase=function(W,Z,le){Z===void 0&&(Z=!1),le===void 0&&(le=!0);var xe=this.getResolvedLink(Et(W));if(xe)return i.default.build(xe.getNode(),Z);if(le)throw pe(X,"stat",W)},ge.prototype.statSync=function(W,Z){var le=ce(Z),xe=le.bigint,Be=xe===void 0?!0:xe,$e=le.throwIfNoEntry,Xe=$e===void 0?!0:$e;return this.statBase(ze(W),Be,Xe)},ge.prototype.stat=function(W,Z,le){var xe=_e(Z,le),Be=xe[0],$e=Be.bigint,Xe=$e===void 0?!1:$e,nt=Be.throwIfNoEntry,at=nt===void 0?!0:nt,yt=xe[1];this.wrapAsync(this.statBase,[ze(W),Xe,at],yt)},ge.prototype.fstatBase=function(W,Z){Z===void 0&&(Z=!1);var le=this.getFileByFd(W);if(!le)throw pe(we,"fstat");return i.default.build(le.node,Z)},ge.prototype.fstatSync=function(W,Z){return this.fstatBase(W,ce(Z).bigint)},ge.prototype.fstat=function(W,Z,le){var xe=_e(Z,le),Be=xe[0],$e=xe[1];this.wrapAsync(this.fstatBase,[W,Be.bigint],$e)},ge.prototype.renameBase=function(W,Z){var le=this.getLink(Et(W));if(!le)throw pe(X,"rename",W,Z);var xe=Et(Z),Be=this.getLinkParent(xe);if(!Be)throw pe(X,"rename",W,Z);var $e=le.parent;$e&&$e.deleteChild(le);var Xe=xe[xe.length-1];le.name=Xe,le.steps=e(e([],Be.steps,!0),[Xe],!1),Be.setChild(le.getName(),le)},ge.prototype.renameSync=function(W,Z){var le=ze(W),xe=ze(Z);this.renameBase(le,xe)},ge.prototype.rename=function(W,Z,le){var xe=ze(W),Be=ze(Z);this.wrapAsync(this.renameBase,[xe,Be],le)},ge.prototype.existsBase=function(W){return!!this.statBase(W)},ge.prototype.existsSync=function(W){try{return this.existsBase(ze(W))}catch{return!1}},ge.prototype.exists=function(W,Z){var le=this,xe=ze(W);if(typeof Z!="function")throw Error(ie.CB);(0,a.default)(function(){try{Z(le.existsBase(xe))}catch{Z(!1)}})},ge.prototype.accessBase=function(W,Z){this.getLinkOrThrow(W,"access")},ge.prototype.accessSync=function(W,Z){Z===void 0&&(Z=oe);var le=ze(W);Z=Z|0,this.accessBase(le,Z)},ge.prototype.access=function(W,Z,le){var xe=oe,Be;typeof Z!="function"?(xe=Z|0,Be=Ce(le)):Be=Z;var $e=ze(W);this.wrapAsync(this.accessBase,[$e,xe],Be)},ge.prototype.appendFileSync=function(W,Z,le){le===void 0&&(le=T);var xe=ae(le);(!xe.flag||Yt(W))&&(xe.flag="a"),this.writeFileSync(W,Z,xe)},ge.prototype.appendFile=function(W,Z,le,xe){var Be=fe(le,xe),$e=Be[0],Xe=Be[1];(!$e.flag||Yt(W))&&($e.flag="a"),this.writeFile(W,Z,$e,Xe)},ge.prototype.readdirBase=function(W,Z){var le=Et(W),xe=this.getResolvedLink(le);if(!xe)throw pe(X,"readdir",W);var Be=xe.getNode();if(!Be.isDirectory())throw pe($,"scandir",W);if(Z.withFileTypes){var $e=[];for(var Xe in xe.children){var nt=xe.getChild(Xe);!nt||Xe==="."||Xe===".."||$e.push(o.default.build(nt,Z.encoding))}return!se&&Z.encoding!=="buffer"&&$e.sort(function(Lt,en){return Lt.name<en.name?-1:Lt.name>en.name?1:0}),$e}var at=[];for(var yt in xe.children)yt==="."||yt===".."||at.push((0,g.strToEncoding)(yt,Z.encoding));return!se&&Z.encoding!=="buffer"&&at.sort(),at},ge.prototype.readdirSync=function(W,Z){var le=Oe(Z),xe=ze(W);return this.readdirBase(xe,le)},ge.prototype.readdir=function(W,Z,le){var xe=Me(Z,le),Be=xe[0],$e=xe[1],Xe=ze(W);this.wrapAsync(this.readdirBase,[Xe,Be],$e)},ge.prototype.readlinkBase=function(W,Z){var le=this.getLinkOrThrow(W,"readlink"),xe=le.getNode();if(!xe.isSymlink())throw pe(ve,"readlink",W);var Be=Se+xe.symlink.join(Se);return(0,g.strToEncoding)(Be,Z)},ge.prototype.readlinkSync=function(W,Z){var le=Ge(Z),xe=ze(W);return this.readlinkBase(xe,le.encoding)},ge.prototype.readlink=function(W,Z,le){var xe=x(Z,le),Be=xe[0],$e=xe[1],Xe=ze(W);this.wrapAsync(this.readlinkBase,[Xe,Be.encoding],$e)},ge.prototype.fsyncBase=function(W){this.getFileByFdOrThrow(W,"fsync")},ge.prototype.fsyncSync=function(W){this.fsyncBase(W)},ge.prototype.fsync=function(W,Z){this.wrapAsync(this.fsyncBase,[W],Z)},ge.prototype.fdatasyncBase=function(W){this.getFileByFdOrThrow(W,"fdatasync")},ge.prototype.fdatasyncSync=function(W){this.fdatasyncBase(W)},ge.prototype.fdatasync=function(W,Z){this.wrapAsync(this.fdatasyncBase,[W],Z)},ge.prototype.ftruncateBase=function(W,Z){var le=this.getFileByFdOrThrow(W,"ftruncate");le.truncate(Z)},ge.prototype.ftruncateSync=function(W,Z){this.ftruncateBase(W,Z)},ge.prototype.ftruncate=function(W,Z,le){var xe=typeof Z=="number"?Z:0,Be=Ce(typeof Z=="number"?le:Z);this.wrapAsync(this.ftruncateBase,[W,xe],Be)},ge.prototype.truncateBase=function(W,Z){var le=this.openSync(W,"r+");try{this.ftruncateSync(le,Z)}finally{this.closeSync(le)}},ge.prototype.truncateSync=function(W,Z){if(Yt(W))return this.ftruncateSync(W,Z);this.truncateBase(W,Z)},ge.prototype.truncate=function(W,Z,le){var xe=typeof Z=="number"?Z:0,Be=Ce(typeof Z=="number"?le:Z);if(Yt(W))return this.ftruncate(W,xe,Be);this.wrapAsync(this.truncateBase,[W,xe],Be)},ge.prototype.futimesBase=function(W,Z,le){var xe=this.getFileByFdOrThrow(W,"futimes"),Be=xe.node;Be.atime=new Date(Z*1e3),Be.mtime=new Date(le*1e3)},ge.prototype.futimesSync=function(W,Z,le){this.futimesBase(W,Jr(Z),Jr(le))},ge.prototype.futimes=function(W,Z,le,xe){this.wrapAsync(this.futimesBase,[W,Jr(Z),Jr(le)],xe)},ge.prototype.utimesBase=function(W,Z,le){var xe=this.openSync(W,"r");try{this.futimesBase(xe,Z,le)}finally{this.closeSync(xe)}},ge.prototype.utimesSync=function(W,Z,le){this.utimesBase(ze(W),Jr(Z),Jr(le))},ge.prototype.utimes=function(W,Z,le,xe){this.wrapAsync(this.utimesBase,[ze(W),Jr(Z),Jr(le)],xe)},ge.prototype.mkdirBase=function(W,Z){var le=Et(W);if(!le.length)throw pe(N,"mkdir",W);var xe=this.getLinkParentAsDirOrThrow(W,"mkdir"),Be=le[le.length-1];if(xe.getChild(Be))throw pe(N,"mkdir",W);xe.createChild(Be,this.createNode(!0,Z))},ge.prototype.mkdirpBase=function(W,Z){for(var le=et(W),xe=le.substring(1),Be=xe?xe.split(Se):[],$e=this.root,Xe=!1,nt=0;nt<Be.length;nt++){var at=Be[nt];if(!$e.getNode().isDirectory())throw pe($,"mkdir",$e.getPath());var yt=$e.getChild(at);if(yt)if(yt.getNode().isDirectory())$e=yt;else throw pe($,"mkdir",yt.getPath());else $e=$e.createChild(at,this.createNode(!0,Z)),Xe=!0}return Xe?le:void 0},ge.prototype.mkdirSync=function(W,Z){var le=Re(Z),xe=Wt(le.mode,511),Be=ze(W);if(le.recursive)return this.mkdirpBase(Be,xe);this.mkdirBase(Be,xe)},ge.prototype.mkdir=function(W,Z,le){var xe=Re(Z),Be=Ce(typeof Z=="function"?Z:le),$e=Wt(xe.mode,511),Xe=ze(W);xe.recursive?this.wrapAsync(this.mkdirpBase,[Xe,$e],Be):this.wrapAsync(this.mkdirBase,[Xe,$e],Be)},ge.prototype.mkdirpSync=function(W,Z){return this.mkdirSync(W,{mode:Z,recursive:!0})},ge.prototype.mkdirp=function(W,Z,le){var xe=typeof Z=="function"?void 0:Z,Be=Ce(typeof Z=="function"?Z:le);this.mkdir(W,{mode:xe,recursive:!0},Be)},ge.prototype.mkdtempBase=function(W,Z,le){le===void 0&&(le=5);var xe=W+this.genRndStr();try{return this.mkdirBase(xe,511),(0,g.strToEncoding)(xe,Z)}catch(Be){if(Be.code===N){if(le>1)return this.mkdtempBase(W,Z,le-1);throw Error("Could not create temp dir.")}else throw Be}},ge.prototype.mkdtempSync=function(W,Z){var le=Ge(Z).encoding;if(!W||typeof W!="string")throw new TypeError("filename prefix is required");return Dr(W),this.mkdtempBase(W,le)},ge.prototype.mkdtemp=function(W,Z,le){var xe=x(Z,le),Be=xe[0].encoding,$e=xe[1];if(!W||typeof W!="string")throw new TypeError("filename prefix is required");Dr(W)&&this.wrapAsync(this.mkdtempBase,[W,Be],$e)},ge.prototype.rmdirBase=function(W,Z){var le=R(Z),xe=this.getLinkAsDirOrThrow(W,"rmdir");if(xe.length&&!le.recursive)throw pe(C,"rmdir",W);this.deleteLink(xe)},ge.prototype.rmdirSync=function(W,Z){this.rmdirBase(ze(W),Z)},ge.prototype.rmdir=function(W,Z,le){var xe=R(Z),Be=Ce(typeof Z=="function"?Z:le);this.wrapAsync(this.rmdirBase,[ze(W),xe],Be)},ge.prototype.rmBase=function(W,Z){Z===void 0&&(Z={});var le=this.getResolvedLink(W);if(!le){if(!Z.force)throw pe(X,"stat",W);return}if(le.getNode().isDirectory()&&!Z.recursive)throw pe(Q,"rm",W);this.deleteLink(le)},ge.prototype.rmSync=function(W,Z){this.rmBase(ze(W),Z)},ge.prototype.rm=function(W,Z,le){var xe=Ue(Z,le),Be=xe[0],$e=xe[1];this.wrapAsync(this.rmBase,[ze(W),Be],$e)},ge.prototype.fchmodBase=function(W,Z){var le=this.getFileByFdOrThrow(W,"fchmod");le.chmod(Z)},ge.prototype.fchmodSync=function(W,Z){this.fchmodBase(W,Wt(Z))},ge.prototype.fchmod=function(W,Z,le){this.wrapAsync(this.fchmodBase,[W,Wt(Z)],le)},ge.prototype.chmodBase=function(W,Z){var le=this.openSync(W,"r");try{this.fchmodBase(le,Z)}finally{this.closeSync(le)}},ge.prototype.chmodSync=function(W,Z){var le=Wt(Z),xe=ze(W);this.chmodBase(xe,le)},ge.prototype.chmod=function(W,Z,le){var xe=Wt(Z),Be=ze(W);this.wrapAsync(this.chmodBase,[Be,xe],le)},ge.prototype.lchmodBase=function(W,Z){var le=this.openBase(W,S,0,!1);try{this.fchmodBase(le,Z)}finally{this.closeSync(le)}},ge.prototype.lchmodSync=function(W,Z){var le=Wt(Z),xe=ze(W);this.lchmodBase(xe,le)},ge.prototype.lchmod=function(W,Z,le){var xe=Wt(Z),Be=ze(W);this.wrapAsync(this.lchmodBase,[Be,xe],le)},ge.prototype.fchownBase=function(W,Z,le){this.getFileByFdOrThrow(W,"fchown").chown(Z,le)},ge.prototype.fchownSync=function(W,Z,le){Qr(Z),Bf(le),this.fchownBase(W,Z,le)},ge.prototype.fchown=function(W,Z,le,xe){Qr(Z),Bf(le),this.wrapAsync(this.fchownBase,[W,Z,le],xe)},ge.prototype.chownBase=function(W,Z,le){var xe=this.getResolvedLinkOrThrow(W,"chown"),Be=xe.getNode();Be.chown(Z,le)},ge.prototype.chownSync=function(W,Z,le){Qr(Z),Bf(le),this.chownBase(ze(W),Z,le)},ge.prototype.chown=function(W,Z,le,xe){Qr(Z),Bf(le),this.wrapAsync(this.chownBase,[ze(W),Z,le],xe)},ge.prototype.lchownBase=function(W,Z,le){this.getLinkOrThrow(W,"lchown").getNode().chown(Z,le)},ge.prototype.lchownSync=function(W,Z,le){Qr(Z),Bf(le),this.lchownBase(ze(W),Z,le)},ge.prototype.lchown=function(W,Z,le,xe){Qr(Z),Bf(le),this.wrapAsync(this.lchownBase,[ze(W),Z,le],xe)},ge.prototype.watchFile=function(W,Z,le){var xe=ze(W),Be=Z,$e=le;if(typeof Be=="function"&&($e=Z,Be=null),typeof $e!="function")throw Error('"watchFile()" requires a listener function');var Xe=5007,nt=!0;Be&&typeof Be=="object"&&(typeof Be.interval=="number"&&(Xe=Be.interval),typeof Be.persistent=="boolean"&&(nt=Be.persistent));var at=this.statWatchers[xe];return at||(at=new this.StatWatcher,at.start(xe,nt,Xe),this.statWatchers[xe]=at),at.addListener("change",$e),at},ge.prototype.unwatchFile=function(W,Z){var le=ze(W),xe=this.statWatchers[le];xe&&(typeof Z=="function"?xe.removeListener("change",Z):xe.removeAllListeners("change"),xe.listenerCount("change")===0&&(xe.stop(),delete this.statWatchers[le]))},ge.prototype.createReadStream=function(W,Z){return new this.ReadStream(W,Z)},ge.prototype.createWriteStream=function(W,Z){return new this.WriteStream(W,Z)},ge.prototype.watch=function(W,Z,le){var xe=ze(W),Be=Z;typeof Z=="function"&&(le=Z,Be=null);var $e=Ge(Be),Xe=$e.persistent,nt=$e.recursive,at=$e.encoding;Xe===void 0&&(Xe=!0),nt===void 0&&(nt=!1);var yt=new this.FSWatcher;return yt.start(xe,Xe,nt,at),le&&yt.addListener("change",le),yt},ge.fd=2147483647,ge})();Ft.Volume=B3;function M3(ge){ge.emit("stop")}var NT=(function(ge){r(W,ge);function W(Z){var le=ge.call(this)||this;return le.onInterval=function(){try{var xe=le.vol.statSync(le.filename);le.hasChanged(xe)&&(le.emit("change",xe,le.prev),le.prev=xe)}finally{le.loop()}},le.vol=Z,le}return W.prototype.loop=function(){this.timeoutRef=this.setTimeout(this.onInterval,this.interval)},W.prototype.hasChanged=function(Z){return Z.mtimeMs>this.prev.mtimeMs||Z.nlink!==this.prev.nlink},W.prototype.start=function(Z,le,xe){le===void 0&&(le=!0),xe===void 0&&(xe=5007),this.filename=ze(Z),this.setTimeout=le?setTimeout.bind(typeof globalThis<"u"?globalThis:HU):c.default,this.interval=xe,this.prev=this.vol.statSync(this.filename),this.loop()},W.prototype.stop=function(){clearTimeout(this.timeoutRef),u.default.nextTick(M3,this)},W})(d.EventEmitter);Ft.StatWatcher=NT;var Ji;function F3(ge){Ji=(0,s.bufferAllocUnsafe)(ge),Ji.used=0}v.inherits(Ks,f.Readable),Ft.ReadStream=Ks;function Ks(ge,W,Z){if(!(this instanceof Ks))return new Ks(ge,W,Z);if(this._vol=ge,Z=Object.assign({},Ie(Z,{})),Z.highWaterMark===void 0&&(Z.highWaterMark=64*1024),f.Readable.call(this,Z),this.path=ze(W),this.fd=Z.fd===void 0?null:Z.fd,this.flags=Z.flags===void 0?"r":Z.flags,this.mode=Z.mode===void 0?438:Z.mode,this.start=Z.start,this.end=Z.end,this.autoClose=Z.autoClose===void 0?!0:Z.autoClose,this.pos=void 0,this.bytesRead=0,this.start!==void 0){if(typeof this.start!="number")throw new TypeError('"start" option must be a Number');if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw new TypeError('"end" option must be a Number');if(this.start>this.end)throw new Error('"start" option must be <= "end" option');this.pos=this.start}typeof this.fd!="number"&&this.open(),this.on("end",function(){this.autoClose&&this.destroy&&this.destroy()})}Ks.prototype.open=function(){var ge=this;this._vol.open(this.path,this.flags,this.mode,function(W,Z){if(W){ge.autoClose&&ge.destroy&&ge.destroy(),ge.emit("error",W);return}ge.fd=Z,ge.emit("open",Z),ge.read()})},Ks.prototype._read=function(ge){if(typeof this.fd!="number")return this.once("open",function(){this._read(ge)});if(this.destroyed)return;(!Ji||Ji.length-Ji.used<z)&&F3(this._readableState.highWaterMark);var W=Ji,Z=Math.min(Ji.length-Ji.used,ge),le=Ji.used;if(this.pos!==void 0&&(Z=Math.min(this.end-this.pos+1,Z)),Z<=0)return this.push(null);var xe=this;this._vol.read(this.fd,Ji,Ji.used,Z,this.pos,Be),this.pos!==void 0&&(this.pos+=Z),Ji.used+=Z;function Be($e,Xe){if($e)xe.autoClose&&xe.destroy&&xe.destroy(),xe.emit("error",$e);else{var nt=null;Xe>0&&(xe.bytesRead+=Xe,nt=W.slice(le,le+Xe)),xe.push(nt)}}},Ks.prototype._destroy=function(ge,W){this.close(function(Z){W(ge||Z)})},Ks.prototype.close=function(ge){var W=this,Z;if(ge&&this.once("close",ge),this.closed||typeof this.fd!="number"){if(typeof this.fd!="number"){this.once("open",kT);return}return u.default.nextTick(function(){return W.emit("close")})}typeof((Z=this._readableState)===null||Z===void 0?void 0:Z.closed)=="boolean"?this._readableState.closed=!0:this.closed=!0,this._vol.close(this.fd,function(le){le?W.emit("error",le):W.emit("close")}),this.fd=null};function kT(ge){this.close()}v.inherits(Qi,f.Writable),Ft.WriteStream=Qi;function Qi(ge,W,Z){if(!(this instanceof Qi))return new Qi(ge,W,Z);if(this._vol=ge,Z=Object.assign({},Ie(Z,{})),f.Writable.call(this,Z),this.path=ze(W),this.fd=Z.fd===void 0?null:Z.fd,this.flags=Z.flags===void 0?"w":Z.flags,this.mode=Z.mode===void 0?438:Z.mode,this.start=Z.start,this.autoClose=Z.autoClose===void 0?!0:!!Z.autoClose,this.pos=void 0,this.bytesWritten=0,this.start!==void 0){if(typeof this.start!="number")throw new TypeError('"start" option must be a Number');if(this.start<0)throw new Error('"start" must be >= zero');this.pos=this.start}Z.encoding&&this.setDefaultEncoding(Z.encoding),typeof this.fd!="number"&&this.open(),this.once("finish",function(){this.autoClose&&this.close()})}Qi.prototype.open=function(){this._vol.open(this.path,this.flags,this.mode,function(ge,W){if(ge){this.autoClose&&this.destroy&&this.destroy(),this.emit("error",ge);return}this.fd=W,this.emit("open",W)}.bind(this))},Qi.prototype._write=function(ge,W,Z){if(!(ge instanceof s.Buffer||ge instanceof Uint8Array))return this.emit("error",new Error("Invalid data"));if(typeof this.fd!="number")return this.once("open",function(){this._write(ge,W,Z)});var le=this;this._vol.write(this.fd,ge,0,ge.length,this.pos,function(xe,Be){if(xe)return le.autoClose&&le.destroy&&le.destroy(),Z(xe);le.bytesWritten+=Be,Z()}),this.pos!==void 0&&(this.pos+=ge.length)},Qi.prototype._writev=function(ge,W){if(typeof this.fd!="number")return this.once("open",function(){this._writev(ge,W)});for(var Z=this,le=ge.length,xe=new Array(le),Be=0,$e=0;$e<le;$e++){var Xe=ge[$e].chunk;xe[$e]=Xe,Be+=Xe.length}var nt=s.Buffer.concat(xe);this._vol.write(this.fd,nt,0,nt.length,this.pos,function(at,yt){if(at)return Z.destroy&&Z.destroy(),W(at);Z.bytesWritten+=yt,W()}),this.pos!==void 0&&(this.pos+=Be)},Qi.prototype.close=function(ge){var W=this,Z;if(ge&&this.once("close",ge),this.closed||typeof this.fd!="number"){if(typeof this.fd!="number"){this.once("open",kT);return}return u.default.nextTick(function(){return W.emit("close")})}typeof((Z=this._writableState)===null||Z===void 0?void 0:Z.closed)=="boolean"?this._writableState.closed=!0:this.closed=!0,this._vol.close(this.fd,function(le){le?W.emit("error",le):W.emit("close")}),this.fd=null},Qi.prototype._destroy=Ks.prototype._destroy,Qi.prototype.destroySoon=Qi.prototype.end;var LT=(function(ge){r(W,ge);function W(Z){var le=ge.call(this)||this;return le._filename="",le._filenameEncoded="",le._recursive=!1,le._encoding=g.ENCODING_UTF8,le._listenerRemovers=new Map,le._onParentChild=function(xe){xe.getName()===le._getName()&&le._emit("rename")},le._emit=function(xe){le.emit("change",xe,le._filenameEncoded)},le._persist=function(){le._timer=setTimeout(le._persist,1e6)},le._vol=Z,le}return W.prototype._getName=function(){return this._steps[this._steps.length-1]},W.prototype.start=function(Z,le,xe,Be){var $e=this;le===void 0&&(le=!0),xe===void 0&&(xe=!1),Be===void 0&&(Be=g.ENCODING_UTF8),this._filename=ze(Z),this._steps=Et(this._filename),this._filenameEncoded=(0,g.strToEncoding)(this._filename),this._recursive=xe,this._encoding=Be;try{this._link=this._vol.getLinkOrThrow(this._filename,"FSWatcher")}catch(Lt){var Xe=new Error("watch ".concat(this._filename," ").concat(Lt.code));throw Xe.code=Lt.code,Xe.errno=Lt.code,Xe}var nt=function(Lt){var en,Au=Lt.getPath(),Zs=Lt.getNode(),sl=function(){var jr=Ae($e._filename,Au);return jr||(jr=$e._getName()),$e.emit("change","change",jr)};Zs.on("change",sl);var xu=(en=$e._listenerRemovers.get(Zs.ino))!==null&&en!==void 0?en:[];xu.push(function(){return Zs.removeListener("change",sl)}),$e._listenerRemovers.set(Zs.ino,xu)},at=function(Lt){var en,Au=Lt.getNode(),Zs=function(jr){$e.emit("change","rename",Ae($e._filename,jr.getPath())),setTimeout(function(){nt(jr),at(jr)})},sl=function(jr){var es=function(Ss){var p0=Ss.getNode().ino,PT=$e._listenerRemovers.get(p0);PT&&(PT.forEach(function(g0){return g0()}),$e._listenerRemovers.delete(p0)),Object.values(Ss.children).forEach(function(g0){g0&&es(g0)})};es(jr),$e.emit("change","rename",Ae($e._filename,jr.getPath()))};Object.entries(Lt.children).forEach(function(jr){var es=jr[0],Ss=jr[1];Ss&&es!=="."&&es!==".."&&nt(Ss)}),Lt.on("child:add",Zs),Lt.on("child:delete",sl);var xu=(en=$e._listenerRemovers.get(Au.ino))!==null&&en!==void 0?en:[];xu.push(function(){Lt.removeListener("child:add",Zs),Lt.removeListener("child:delete",sl)}),xe&&Object.entries(Lt.children).forEach(function(jr){var es=jr[0],Ss=jr[1];Ss&&es!=="."&&es!==".."&&at(Ss)})};nt(this._link),at(this._link);var yt=this._link.parent;yt&&(yt.setMaxListeners(yt.getMaxListeners()+1),yt.on("child:delete",this._onParentChild)),le&&this._persist()},W.prototype.close=function(){clearTimeout(this._timer),this._listenerRemovers.forEach(function(le){le.forEach(function(xe){return xe()})}),this._listenerRemovers.clear();var Z=this._link.parent;Z&&Z.removeListener("child:delete",this._onParentChild)},W})(d.EventEmitter);return Ft.FSWatcher=LT,Ft}function GU(){return VO||(VO=!0,Object.defineProperty(Zo,"__esModule",{value:!0}),Zo.fsSyncMethods=Zo.fsProps=Zo.fsAsyncMethods=void 0,Zo.fsProps=["constants","F_OK","R_OK","W_OK","X_OK","Stats"],Zo.fsSyncMethods=["renameSync","ftruncateSync","truncateSync","chownSync","fchownSync","lchownSync","chmodSync","fchmodSync","lchmodSync","statSync","lstatSync","fstatSync","linkSync","symlinkSync","readlinkSync","realpathSync","unlinkSync","rmdirSync","mkdirSync","mkdirpSync","readdirSync","closeSync","openSync","utimesSync","futimesSync","fsyncSync","writeSync","readSync","readFileSync","writeFileSync","appendFileSync","existsSync","accessSync","fdatasyncSync","mkdtempSync","copyFileSync","rmSync","createReadStream","createWriteStream"],Zo.fsAsyncMethods=["rename","ftruncate","truncate","chown","fchown","lchown","chmod","fchmod","lchmod","stat","lstat","fstat","link","symlink","readlink","realpath","unlink","rmdir","mkdir","mkdirp","readdir","close","open","utimes","futimes","fsync","write","read","readFile","writeFile","appendFile","exists","access","fdatasync","mkdtemp","copyFile","rm","watchFile","unwatchFile","watch"]),Zo}function VU(){if(YO)return dn;YO=!0;var r=dn&&dn.__assign||function(){return r=Object.assign||function(g){for(var b,v=1,w=arguments.length;v<w;v++){b=arguments[v];for(var y in b)Object.prototype.hasOwnProperty.call(b,y)&&(g[y]=b[y])}return g},r.apply(this,arguments)};Object.defineProperty(dn,"__esModule",{value:!0}),dn.fs=dn.createFsFromVolume=dn.vol=dn.Volume=void 0;var e=_2(),t=ZO(),n=eN(),i=GU(),o=i.fsSyncMethods,s=i.fsAsyncMethods,a=qp(),u=a.constants.F_OK,c=a.constants.R_OK,f=a.constants.W_OK,h=a.constants.X_OK;dn.Volume=n.Volume,dn.vol=new n.Volume;function d(g){for(var b={F_OK:u,R_OK:c,W_OK:f,X_OK:h,constants:a.constants,Stats:e.default,Dirent:t.default},v=0,w=o;v<w.length;v++){var y=w[v];typeof g[y]=="function"&&(b[y]=g[y].bind(g))}for(var _=0,E=s;_<E.length;_++){var y=E[_];typeof g[y]=="function"&&(b[y]=g[y].bind(g))}return b.StatWatcher=g.StatWatcher,b.FSWatcher=g.FSWatcher,b.WriteStream=g.WriteStream,b.ReadStream=g.ReadStream,b.promises=g.promises,b._toUnixTimestamp=n.toUnixTimestamp,b}return dn.createFsFromVolume=d,dn.fs=d(dn.vol),dn=r(r({},dn),dn.fs),dn.semantic=!0,dn}function Si(r){throw new Error(`Node.js fs ${r} is not supported by JSPM core in the browser`)}function tN(r,e,t){let n=0,i=new TextDecoder;Jo.watch(r,"utf8",()=>{let{size:o}=Jo.fstatSync(e),s=Buffer.alloc(o-n);Jo.readSync(e,s,0,s.length,n),n=o,t(i.decode(s,{stream:!0}))})}function A2(r,e){if(r.protocol==="file:")return v2(r);if(r.protocol==="https:"||r.protocol==="http:"){let t="\\\\url\\"+r.href.replaceAll(/\//g,"\\\\");if(ob(t))return t;if(e)throw new Error(`Cannot sync request URL ${r} via FS. JSPM FS support for network URLs requires using async FS methods or priming the MemFS cache first with an async request before a sync request.`);return(async()=>{let n=await fetch(r);if(!n.ok)throw new Error(`Unable to fetch ${r.href}, ${n.status}`);let i=await n.arrayBuffer();return rN(t,Buffer.from(i)),t})()}throw new Error("URL "+r+" not supported in JSPM FS implementation.")}function XU(r){return function(e,...t){return e instanceof URL?r(A2(e,!0),...t):r(e,...t)}}function KU(r){return async function(e,...t){return e instanceof URL?r(await A2(e),...t):r(e,...t)}}function ZU(r){return function(e,...t){let n=t[t.length-1];e instanceof URL&&typeof n=="function"?A2(e).then(i=>{r(i,...t)},n):r(e,...t)}}var zp,NO,nb,kO,eh,LO,Rs,PO,sn,BO,UU,ro,MO,th,FO,ib,UO,jO,rh,$O,oi,zO,sb,WO,$U,gl,qO,Wp,HO,Ft,GO,HU,Zo,VO,dn,YO,Gu,Gn,Jo,YU,br,JU,QU,ej,tj,rj,nj,ij,sj,oj,aj,lj,uj,cj,fj,hj,dj,pj,ob,gj,mj,yj,bj,wj,vj,_j,Ej,Aj,xj,Sj,Tj,Cj,Rj,Dj,Ij,Oj,Nj,kj,Lj,Pj,x2,Bj,Mj,Fj,Uj,jj,$j,zj,Wj,qj,Hj,Gj,Vj,Yj,Xj,Kj,S2,Zj,Jj,Qj,e$,t$,r$,n$,i$,s$,o$,a$,l$,u$,c$,f$,h$,d$,p$,g$,m$,y$,b$,w$,v$,rN,_$,E$,A$,x$,S$,T$,C$,R$,D$,I$,O$,N$,k$,L$,P$,B$,M$,F$,Gp=Jt(()=>{Ne();Le();ke();Ff();z_();q0();fl();VD();qf();Mu();V0();Xf();LE();ul();OO();tb();BE();$p();u2();zp={},NO=!1;nb={},kO=!1;eh={},LO=!1;Rs={},PO=!1;sn={},BO=!1,UU=typeof globalThis<"u"?globalThis:typeof self<"u"?self:window;ro={},MO=!1;th={},FO=!1;rn._makeLong;rn.basename;rn.delimiter;rn.dirname;rn.extname;rn.format;rn.isAbsolute;rn.join;rn.normalize;rn.parse;rn.posix;rn.relative;rn.resolve;rn.sep;rn.win32;ib={},UO=!1,jO=typeof globalThis<"u"?globalThis:typeof self<"u"?self:window;rh={},$O=!1;oi={},zO=!1;sb={},WO=!1,$U=typeof globalThis<"u"?globalThis:typeof self<"u"?self:window;gl={},qO=!1;Wp={},HO=!1;Ft={},GO=!1,HU=typeof globalThis<"u"?globalThis:typeof self<"u"?self:window;Zo={},VO=!1;dn={},YO=!1;Gu=VU();Gu.__esModule;Gu.fs;Gu.createFsFromVolume;Gu.vol;Gu.Volume;Gu.semantic;Gn=eN();Gn.__esModule;Gn.FSWatcher;Gn.StatWatcher;Gn.Volume;Gn.toUnixTimestamp;Gn.bufferToEncoding;Gn.dataToBuffer;Gn.dataToStr;Gn.pathToSteps;Gn.filenameToSteps;Gn.pathToFilename;Gn.flagsToNumber;Gn.FLAGS;Gn.ReadStream;Gn.WriteStream;({vol:Jo,createFsFromVolume:YU}=Gu);Jo.fromNestedJSON({"/dev":{stdin:"",stdout:"",stderr:""},"/usr/bin":{},"/home":{},"/tmp":{}});Jo.releasedFds=[2,1,0];Jo.openSync("/dev/stdin","w");Jo.openSync("/dev/stdout","r");Jo.openSync("/dev/stderr","r");tN("/dev/stdout",1,console.log);tN("/dev/stderr",2,console.error);br=YU(Jo);br.opendir=()=>Si("opendir");br.opendirSync=()=>Si("opendirSync");br.promises.opendir=()=>Si("promises.opendir");br.cp=()=>Si("cp");br.cpSync=()=>Si("cpSync");br.promises.cp=()=>Si("promises.cp");br.readv=()=>Si("readv");br.readvSync=()=>Si("readvSync");br.rm=()=>Si("rm");br.rmSync=()=>Si("rmSync");br.promises.rm=()=>Si("promises.rm");br.Dir=()=>Si("Dir");br.promises.watch=()=>Si("promises.watch");br.FileReadStream=br.ReadStream;br.FileWriteStream=br.WriteStream;br.promises.readFile=KU(br.promises.readFile);br.readFile=ZU(br.readFile);br.readFileSync=XU(br.readFileSync);({appendFile:JU,appendFileSync:QU,access:ej,accessSync:tj,chown:rj,chownSync:nj,chmod:ij,chmodSync:sj,close:oj,closeSync:aj,copyFile:lj,copyFileSync:uj,cp:cj,cpSync:fj,createReadStream:hj,createWriteStream:dj,exists:pj,existsSync:ob,fchown:gj,fchownSync:mj,fchmod:yj,fchmodSync:bj,fdatasync:wj,fdatasyncSync:vj,fstat:_j,fstatSync:Ej,fsync:Aj,fsyncSync:xj,ftruncate:Sj,ftruncateSync:Tj,futimes:Cj,futimesSync:Rj,lchown:Dj,lchownSync:Ij,lchmod:Oj,lchmodSync:Nj,link:kj,linkSync:Lj,lstat:Pj,lstatSync:x2,mkdir:Bj,mkdirSync:Mj,mkdtemp:Fj,mkdtempSync:Uj,open:jj,openSync:$j,opendir:zj,opendirSync:Wj,readdir:qj,readdirSync:Hj,read:Gj,readSync:Vj,readv:Yj,readvSync:Xj,readFile:Kj,readFileSync:S2,readlink:Zj,readlinkSync:Jj,realpath:Qj,realpathSync:e$,rename:t$,renameSync:r$,rm:n$,rmSync:i$,rmdir:s$,rmdirSync:o$,stat:a$,statSync:l$,symlink:u$,symlinkSync:c$,truncate:f$,truncateSync:h$,unwatchFile:d$,unlink:p$,unlinkSync:g$,utimes:m$,utimesSync:y$,watch:b$,watchFile:w$,writeFile:v$,writeFileSync:rN,write:_$,writeSync:E$,writev:A$,writevSync:x$,Dir:S$,Dirent:T$,Stats:C$,ReadStream:R$,WriteStream:D$,FileReadStream:I$,FileWriteStream:O$,_toUnixTimestamp:N$,constants:{F_OK:k$,R_OK:L$,W_OK:P$,X_OK:B$},constants:M$,promises:F$}=br)});var T2=ot(Vr=>{"use strict";Ne();Le();ke();Object.defineProperty(Vr,"__esModule",{value:!0});Vr.readFile=Vr.writeFileSync=Vr.writeFile=Vr.read=Vr.open=Vr.close=Vr.stat=Vr.createReadStream=Vr.pathExists=void 0;var Qo=(Gp(),Ir(Hp));Vr.pathExists=Qo.existsSync;Vr.createReadStream=Qo.createReadStream;async function U$(r){return new Promise((e,t)=>{Qo.stat(r,(n,i)=>{n?t(n):e(i)})})}Vr.stat=U$;async function j$(r){return new Promise((e,t)=>{Qo.close(r,n=>{n?t(n):e()})})}Vr.close=j$;async function $$(r,e){return new Promise((t,n)=>{Qo.open(r,e,(i,o)=>{i?n(i):t(o)})})}Vr.open=$$;async function z$(r,e,t,n,i){return new Promise((o,s)=>{Qo.read(r,e,t,n,i,(a,u,c)=>{a?s(a):o({bytesRead:u,buffer:c})})})}Vr.read=z$;async function W$(r,e){return new Promise((t,n)=>{Qo.writeFile(r,e,i=>{i?n(i):t()})})}Vr.writeFile=W$;function q$(r,e){Qo.writeFileSync(r,e)}Vr.writeFileSync=q$;async function H$(r){return new Promise((e,t)=>{Qo.readFile(r,(n,i)=>{n?t(n):e(i)})})}Vr.readFile=H$});var ab=ot(Vu=>{"use strict";Ne();Le();ke();Object.defineProperty(Vu,"__esModule",{value:!0});Vu.EndOfStreamError=Vu.defaultMessages=void 0;Vu.defaultMessages="End-Of-Stream";var C2=class extends Error{constructor(){super(Vu.defaultMessages)}};Vu.EndOfStreamError=C2});var nN=ot(lb=>{"use strict";Ne();Le();ke();Object.defineProperty(lb,"__esModule",{value:!0});lb.Deferred=void 0;var R2=class{constructor(){this.resolve=()=>null,this.reject=()=>null,this.promise=new Promise((e,t)=>{this.reject=t,this.resolve=e})}};lb.Deferred=R2});var sN=ot(nh=>{"use strict";Ne();Le();ke();Object.defineProperty(nh,"__esModule",{value:!0});nh.StreamReader=nh.EndOfStreamError=void 0;var iN=ab(),G$=nN(),V$=ab();Object.defineProperty(nh,"EndOfStreamError",{enumerable:!0,get:function(){return V$.EndOfStreamError}});var Y$=1*1024*1024,D2=class{constructor(e){if(this.s=e,this.deferred=null,this.endOfStream=!1,this.peekQueue=[],!e.read||!e.once)throw new Error("Expected an instance of stream.Readable");this.s.once("end",()=>this.reject(new iN.EndOfStreamError)),this.s.once("error",t=>this.reject(t)),this.s.once("close",()=>this.reject(new Error("Stream closed")))}async peek(e,t,n){let i=await this.read(e,t,n);return this.peekQueue.push(e.subarray(t,t+i)),i}async read(e,t,n){if(n===0)return 0;if(this.peekQueue.length===0&&this.endOfStream)throw new iN.EndOfStreamError;let i=n,o=0;for(;this.peekQueue.length>0&&i>0;){let s=this.peekQueue.pop();if(!s)throw new Error("peekData should be defined");let a=Math.min(s.length,i);e.set(s.subarray(0,a),t+o),o+=a,i-=a,a<s.length&&this.peekQueue.push(s.subarray(a))}for(;i>0&&!this.endOfStream;){let s=Math.min(i,Y$),a=await this.readFromStream(e,t+o,s);if(o+=a,a<s)break;i-=a}return o}async readFromStream(e,t,n){let i=this.s.read(n);if(i)return e.set(i,t),i.length;{let o={buffer:e,offset:t,length:n,deferred:new G$.Deferred};return this.deferred=o.deferred,this.s.once("readable",()=>{this.readDeferred(o)}),o.deferred.promise}}readDeferred(e){let t=this.s.read(e.length);t?(e.buffer.set(t,e.offset),e.deferred.resolve(t.length),this.deferred=null):this.s.once("readable",()=>{this.readDeferred(e)})}reject(e){this.endOfStream=!0,this.deferred&&(this.deferred.reject(e),this.deferred=null)}};nh.StreamReader=D2});var sh=ot(ih=>{"use strict";Ne();Le();ke();Object.defineProperty(ih,"__esModule",{value:!0});ih.StreamReader=ih.EndOfStreamError=void 0;var X$=ab();Object.defineProperty(ih,"EndOfStreamError",{enumerable:!0,get:function(){return X$.EndOfStreamError}});var K$=sN();Object.defineProperty(ih,"StreamReader",{enumerable:!0,get:function(){return K$.StreamReader}})});var fb=ot(cb=>{"use strict";Ne();Le();ke();Object.defineProperty(cb,"__esModule",{value:!0});cb.AbstractTokenizer=void 0;var ub=sh(),I2=class{constructor(e){this.position=0,this.numBuffer=new Uint8Array(8),this.fileInfo=e||{}}async readToken(e,t=this.position){let n=Buffer.alloc(e.len);if(await this.readBuffer(n,{position:t})<e.len)throw new ub.EndOfStreamError;return e.get(n,0)}async peekToken(e,t=this.position){let n=Buffer.alloc(e.len);if(await this.peekBuffer(n,{position:t})<e.len)throw new ub.EndOfStreamError;return e.get(n,0)}async readNumber(e){if(await this.readBuffer(this.numBuffer,{length:e.len})<e.len)throw new ub.EndOfStreamError;return e.get(this.numBuffer,0)}async peekNumber(e){if(await this.peekBuffer(this.numBuffer,{length:e.len})<e.len)throw new ub.EndOfStreamError;return e.get(this.numBuffer,0)}async ignore(e){if(this.fileInfo.size!==void 0){let t=this.fileInfo.size-this.position;if(e>t)return this.position+=t,t}return this.position+=e,e}async close(){}normalizeOptions(e,t){if(t&&t.position!==void 0&&t.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");return t?{mayBeLess:t.mayBeLess===!0,offset:t.offset?t.offset:0,length:t.length?t.length:e.length-(t.offset?t.offset:0),position:t.position?t.position:this.position}:{mayBeLess:!1,offset:0,length:e.length,position:this.position}}};cb.AbstractTokenizer=I2});var oN=ot(db=>{"use strict";Ne();Le();ke();Object.defineProperty(db,"__esModule",{value:!0});db.ReadStreamTokenizer=void 0;var Z$=fb(),hb=sh(),J$=256e3,O2=class extends Z$.AbstractTokenizer{constructor(e,t){super(t),this.streamReader=new hb.StreamReader(e)}async getFileInfo(){return this.fileInfo}async readBuffer(e,t){let n=this.normalizeOptions(e,t),i=n.position-this.position;if(i>0)return await this.ignore(i),this.readBuffer(e,t);if(i<0)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");if(n.length===0)return 0;let o=await this.streamReader.read(e,n.offset,n.length);if(this.position+=o,(!t||!t.mayBeLess)&&o<n.length)throw new hb.EndOfStreamError;return o}async peekBuffer(e,t){let n=this.normalizeOptions(e,t),i=0;if(n.position){let o=n.position-this.position;if(o>0){let s=new Uint8Array(n.length+o);return i=await this.peekBuffer(s,{mayBeLess:n.mayBeLess}),e.set(s.subarray(o),n.offset),i-o}else if(o<0)throw new Error("Cannot peek from a negative offset in a stream")}if(n.length>0){try{i=await this.streamReader.peek(e,n.offset,n.length)}catch(o){if(t&&t.mayBeLess&&o instanceof hb.EndOfStreamError)return 0;throw o}if(!n.mayBeLess&&i<n.length)throw new hb.EndOfStreamError}return i}async ignore(e){let t=Math.min(J$,e),n=new Uint8Array(t),i=0;for(;i<e;){let o=e-i,s=await this.readBuffer(n,{length:Math.min(t,o)});if(s<0)return s;i+=s}return i}};db.ReadStreamTokenizer=O2});var aN=ot(pb=>{"use strict";Ne();Le();ke();Object.defineProperty(pb,"__esModule",{value:!0});pb.BufferTokenizer=void 0;var Q$=sh(),e9=fb(),N2=class extends e9.AbstractTokenizer{constructor(e,t){super(t),this.uint8Array=e,this.fileInfo.size=this.fileInfo.size?this.fileInfo.size:e.length}async readBuffer(e,t){if(t&&t.position){if(t.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");this.position=t.position}let n=await this.peekBuffer(e,t);return this.position+=n,n}async peekBuffer(e,t){let n=this.normalizeOptions(e,t),i=Math.min(this.uint8Array.length-n.position,n.length);if(!n.mayBeLess&&i<n.length)throw new Q$.EndOfStreamError;return e.set(this.uint8Array.subarray(n.position,n.position+i),n.offset),i}async close(){}};pb.BufferTokenizer=N2});var gb=ot(ml=>{"use strict";Ne();Le();ke();Object.defineProperty(ml,"__esModule",{value:!0});ml.fromBuffer=ml.fromStream=ml.EndOfStreamError=void 0;var t9=oN(),r9=aN(),n9=sh();Object.defineProperty(ml,"EndOfStreamError",{enumerable:!0,get:function(){return n9.EndOfStreamError}});function i9(r,e){return e=e||{},new t9.ReadStreamTokenizer(r,e)}ml.fromStream=i9;function s9(r,e){return new r9.BufferTokenizer(r,e)}ml.fromBuffer=s9});var uN=ot(oh=>{"use strict";Ne();Le();ke();Object.defineProperty(oh,"__esModule",{value:!0});oh.fromFile=oh.FileTokenizer=void 0;var o9=fb(),lN=sh(),Vp=T2(),mb=class extends o9.AbstractTokenizer{constructor(e,t){super(t),this.fd=e}async readBuffer(e,t){let n=this.normalizeOptions(e,t);this.position=n.position;let i=await Vp.read(this.fd,e,n.offset,n.length,n.position);if(this.position+=i.bytesRead,i.bytesRead<n.length&&(!t||!t.mayBeLess))throw new lN.EndOfStreamError;return i.bytesRead}async peekBuffer(e,t){let n=this.normalizeOptions(e,t),i=await Vp.read(this.fd,e,n.offset,n.length,n.position);if(!n.mayBeLess&&i.bytesRead<n.length)throw new lN.EndOfStreamError;return i.bytesRead}async close(){return Vp.close(this.fd)}};oh.FileTokenizer=mb;async function a9(r){let e=await Vp.stat(r);if(!e.isFile)throw new Error(`File not a file: ${r}`);let t=await Vp.open(r,"r");return new mb(t,{path:r,size:e.size})}oh.fromFile=a9});var fN=ot(no=>{"use strict";Ne();Le();ke();Object.defineProperty(no,"__esModule",{value:!0});no.fromStream=no.fromBuffer=no.EndOfStreamError=no.fromFile=void 0;var l9=T2(),u9=gb(),c9=uN();Object.defineProperty(no,"fromFile",{enumerable:!0,get:function(){return c9.fromFile}});var cN=gb();Object.defineProperty(no,"EndOfStreamError",{enumerable:!0,get:function(){return cN.EndOfStreamError}});Object.defineProperty(no,"fromBuffer",{enumerable:!0,get:function(){return cN.fromBuffer}});async function f9(r,e){if(e=e||{},r.path){let t=await l9.stat(r.path);e.path=r.path,e.size=t.size}return u9.fromStream(r,e)}no.fromStream=f9});var hN=ot(k2=>{Ne();Le();ke();k2.read=function(r,e,t,n,i){var o,s,a=i*8-n-1,u=(1<<a)-1,c=u>>1,f=-7,h=t?i-1:0,d=t?-1:1,g=r[e+h];for(h+=d,o=g&(1<<-f)-1,g>>=-f,f+=a;f>0;o=o*256+r[e+h],h+=d,f-=8);for(s=o&(1<<-f)-1,o>>=-f,f+=n;f>0;s=s*256+r[e+h],h+=d,f-=8);if(o===0)o=1-c;else{if(o===u)return s?NaN:(g?-1:1)*(1/0);s=s+Math.pow(2,n),o=o-c}return(g?-1:1)*s*Math.pow(2,o-n)};k2.write=function(r,e,t,n,i,o){var s,a,u,c=o*8-i-1,f=(1<<c)-1,h=f>>1,d=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=n?0:o-1,b=n?1:-1,v=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=f):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),s+h>=1?e+=d/u:e+=d*Math.pow(2,1-h),e*u>=2&&(s++,u/=2),s+h>=f?(a=0,s=f):s+h>=1?(a=(e*u-1)*Math.pow(2,i),s=s+h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;r[t+g]=a&255,g+=b,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;r[t+g]=s&255,g+=b,s/=256,c-=8);r[t+g-b]|=v*128}});var dN=ot(ct=>{"use strict";Ne();Le();ke();Object.defineProperty(ct,"__esModule",{value:!0});ct.AnsiStringType=ct.StringType=ct.BufferType=ct.Uint8ArrayType=ct.IgnoreType=ct.Float80_LE=ct.Float80_BE=ct.Float64_LE=ct.Float64_BE=ct.Float32_LE=ct.Float32_BE=ct.Float16_LE=ct.Float16_BE=ct.INT64_BE=ct.UINT64_BE=ct.INT64_LE=ct.UINT64_LE=ct.INT32_LE=ct.INT32_BE=ct.INT24_BE=ct.INT24_LE=ct.INT16_LE=ct.INT16_BE=ct.INT8=ct.UINT32_BE=ct.UINT32_LE=ct.UINT24_BE=ct.UINT24_LE=ct.UINT16_BE=ct.UINT16_LE=ct.UINT8=void 0;var yl=hN();function xt(r){return new DataView(r.buffer,r.byteOffset)}ct.UINT8={len:1,get(r,e){return xt(r).getUint8(e)},put(r,e,t){return xt(r).setUint8(e,t),e+1}};ct.UINT16_LE={len:2,get(r,e){return xt(r).getUint16(e,!0)},put(r,e,t){return xt(r).setUint16(e,t,!0),e+2}};ct.UINT16_BE={len:2,get(r,e){return xt(r).getUint16(e)},put(r,e,t){return xt(r).setUint16(e,t),e+2}};ct.UINT24_LE={len:3,get(r,e){let t=xt(r);return t.getUint8(e)+(t.getUint16(e+1,!0)<<8)},put(r,e,t){let n=xt(r);return n.setUint8(e,t&255),n.setUint16(e+1,t>>8,!0),e+3}};ct.UINT24_BE={len:3,get(r,e){let t=xt(r);return(t.getUint16(e)<<8)+t.getUint8(e+2)},put(r,e,t){let n=xt(r);return n.setUint16(e,t>>8),n.setUint8(e+2,t&255),e+3}};ct.UINT32_LE={len:4,get(r,e){return xt(r).getUint32(e,!0)},put(r,e,t){return xt(r).setUint32(e,t,!0),e+4}};ct.UINT32_BE={len:4,get(r,e){return xt(r).getUint32(e)},put(r,e,t){return xt(r).setUint32(e,t),e+4}};ct.INT8={len:1,get(r,e){return xt(r).getInt8(e)},put(r,e,t){return xt(r).setInt8(e,t),e+1}};ct.INT16_BE={len:2,get(r,e){return xt(r).getInt16(e)},put(r,e,t){return xt(r).setInt16(e,t),e+2}};ct.INT16_LE={len:2,get(r,e){return xt(r).getInt16(e,!0)},put(r,e,t){return xt(r).setInt16(e,t,!0),e+2}};ct.INT24_LE={len:3,get(r,e){let t=ct.UINT24_LE.get(r,e);return t>8388607?t-16777216:t},put(r,e,t){let n=xt(r);return n.setUint8(e,t&255),n.setUint16(e+1,t>>8,!0),e+3}};ct.INT24_BE={len:3,get(r,e){let t=ct.UINT24_BE.get(r,e);return t>8388607?t-16777216:t},put(r,e,t){let n=xt(r);return n.setUint16(e,t>>8),n.setUint8(e+2,t&255),e+3}};ct.INT32_BE={len:4,get(r,e){return xt(r).getInt32(e)},put(r,e,t){return xt(r).setInt32(e,t),e+4}};ct.INT32_LE={len:4,get(r,e){return xt(r).getInt32(e,!0)},put(r,e,t){return xt(r).setInt32(e,t,!0),e+4}};ct.UINT64_LE={len:8,get(r,e){return xt(r).getBigUint64(e,!0)},put(r,e,t){return xt(r).setBigUint64(e,t,!0),e+8}};ct.INT64_LE={len:8,get(r,e){return xt(r).getBigInt64(e,!0)},put(r,e,t){return xt(r).setBigInt64(e,t,!0),e+8}};ct.UINT64_BE={len:8,get(r,e){return xt(r).getBigUint64(e)},put(r,e,t){return xt(r).setBigUint64(e,t),e+8}};ct.INT64_BE={len:8,get(r,e){return xt(r).getBigInt64(e)},put(r,e,t){return xt(r).setBigInt64(e,t),e+8}};ct.Float16_BE={len:2,get(r,e){return yl.read(r,e,!1,10,this.len)},put(r,e,t){return yl.write(r,t,e,!1,10,this.len),e+this.len}};ct.Float16_LE={len:2,get(r,e){return yl.read(r,e,!0,10,this.len)},put(r,e,t){return yl.write(r,t,e,!0,10,this.len),e+this.len}};ct.Float32_BE={len:4,get(r,e){return xt(r).getFloat32(e)},put(r,e,t){return xt(r).setFloat32(e,t),e+4}};ct.Float32_LE={len:4,get(r,e){return xt(r).getFloat32(e,!0)},put(r,e,t){return xt(r).setFloat32(e,t,!0),e+4}};ct.Float64_BE={len:8,get(r,e){return xt(r).getFloat64(e)},put(r,e,t){return xt(r).setFloat64(e,t),e+8}};ct.Float64_LE={len:8,get(r,e){return xt(r).getFloat64(e,!0)},put(r,e,t){return xt(r).setFloat64(e,t,!0),e+8}};ct.Float80_BE={len:10,get(r,e){return yl.read(r,e,!1,63,this.len)},put(r,e,t){return yl.write(r,t,e,!1,63,this.len),e+this.len}};ct.Float80_LE={len:10,get(r,e){return yl.read(r,e,!0,63,this.len)},put(r,e,t){return yl.write(r,t,e,!0,63,this.len),e+this.len}};var L2=class{constructor(e){this.len=e}get(e,t){}};ct.IgnoreType=L2;var P2=class{constructor(e){this.len=e}get(e,t){return e.subarray(t,t+this.len)}};ct.Uint8ArrayType=P2;var B2=class{constructor(e){this.len=e}get(e,t){return Buffer.from(e.subarray(t,t+this.len))}};ct.BufferType=B2;var M2=class{constructor(e,t){this.len=e,this.encoding=t}get(e,t){return Buffer.from(e).toString(this.encoding,t,t+this.len)}};ct.StringType=M2;var yb=class r{constructor(e){this.len=e}static decode(e,t,n){let i="";for(let o=t;o<n;++o)i+=r.codePointToString(r.singleByteDecoder(e[o]));return i}static inRange(e,t,n){return t<=e&&e<=n}static codePointToString(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10)+55296,(e&1023)+56320))}static singleByteDecoder(e){if(r.inRange(e,0,127))return e;let t=r.windows1252[e-128];if(t===null)throw Error("invaliding encoding");return t}get(e,t=0){return r.decode(e,t,t+this.len)}};ct.AnsiStringType=yb;yb.windows1252=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255]});var pN=ot(bb=>{"use strict";Ne();Le();ke();bb.stringToBytes=r=>[...r].map(e=>e.charCodeAt(0));bb.tarHeaderChecksumMatches=(r,e=0)=>{let t=parseInt(r.toString("utf8",148,154).replace(/\0.*$/,"").trim(),8);if(isNaN(t))return!1;let n=256;for(let i=e;i<e+148;i++)n+=r[i];for(let i=e+156;i<e+512;i++)n+=r[i];return t===n};bb.uint32SyncSafeToken={get:(r,e)=>r[e+3]&127|r[e+2]<<7|r[e+1]<<14|r[e]<<21,len:4}});var mN=ot((tZ,gN)=>{"use strict";Ne();Le();ke();gN.exports={extensions:["jpg","png","apng","gif","webp","flif","xcf","cr2","cr3","orf","arw","dng","nef","rw2","raf","tif","bmp","icns","jxr","psd","indd","zip","tar","rar","gz","bz2","7z","dmg","mp4","mid","mkv","webm","mov","avi","mpg","mp2","mp3","m4a","oga","ogg","ogv","opus","flac","wav","spx","amr","pdf","epub","exe","swf","rtf","wasm","woff","woff2","eot","ttf","otf","ico","flv","ps","xz","sqlite","nes","crx","xpi","cab","deb","ar","rpm","Z","lz","cfb","mxf","mts","blend","bpg","docx","pptx","xlsx","3gp","3g2","jp2","jpm","jpx","mj2","aif","qcp","odt","ods","odp","xml","mobi","heic","cur","ktx","ape","wv","dcm","ics","glb","pcap","dsf","lnk","alias","voc","ac3","m4v","m4p","m4b","f4v","f4p","f4b","f4a","mie","asf","ogm","ogx","mpc","arrow","shp","aac","mp1","it","s3m","xm","ai","skp","avif","eps","lzh","pgp","asar","stl","chm","3mf","zst","jxl","vcf"],mimeTypes:["image/jpeg","image/png","image/gif","image/webp","image/flif","image/x-xcf","image/x-canon-cr2","image/x-canon-cr3","image/tiff","image/bmp","image/vnd.ms-photo","image/vnd.adobe.photoshop","application/x-indesign","application/epub+zip","application/x-xpinstall","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/zip","application/x-tar","application/x-rar-compressed","application/gzip","application/x-bzip2","application/x-7z-compressed","application/x-apple-diskimage","application/x-apache-arrow","video/mp4","audio/midi","video/x-matroska","video/webm","video/quicktime","video/vnd.avi","audio/vnd.wave","audio/qcelp","audio/x-ms-asf","video/x-ms-asf","application/vnd.ms-asf","video/mpeg","video/3gpp","audio/mpeg","audio/mp4","audio/opus","video/ogg","audio/ogg","application/ogg","audio/x-flac","audio/ape","audio/wavpack","audio/amr","application/pdf","application/x-msdownload","application/x-shockwave-flash","application/rtf","application/wasm","font/woff","font/woff2","application/vnd.ms-fontobject","font/ttf","font/otf","image/x-icon","video/x-flv","application/postscript","application/eps","application/x-xz","application/x-sqlite3","application/x-nintendo-nes-rom","application/x-google-chrome-extension","application/vnd.ms-cab-compressed","application/x-deb","application/x-unix-archive","application/x-rpm","application/x-compress","application/x-lzip","application/x-cfb","application/x-mie","application/mxf","video/mp2t","application/x-blender","image/bpg","image/jp2","image/jpx","image/jpm","image/mj2","audio/aiff","application/xml","application/x-mobipocket-ebook","image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/icns","image/ktx","application/dicom","audio/x-musepack","text/calendar","text/vcard","model/gltf-binary","application/vnd.tcpdump.pcap","audio/x-dsf","application/x.ms.shortcut","application/x.apple.alias","audio/x-voc","audio/vnd.dolby.dd-raw","audio/x-m4a","image/apng","image/x-olympus-orf","image/x-sony-arw","image/x-adobe-dng","image/x-nikon-nef","image/x-panasonic-rw2","image/x-fujifilm-raf","video/x-m4v","video/3gpp2","application/x-esri-shape","audio/aac","audio/x-it","audio/x-s3m","audio/x-xm","video/MP1S","video/MP2P","application/vnd.sketchup.skp","image/avif","application/x-lzh-compressed","application/pgp-encrypted","application/x-asar","model/stl","application/vnd.ms-htmlhelp","model/3mf","image/jxl","application/zstd"]}});var yN=ot((exports,module)=>{"use strict";Ne();Le();ke();var Token=dN(),strtok3=gb(),{stringToBytes,tarHeaderChecksumMatches,uint32SyncSafeToken}=pN(),supported=mN(),minimumBytes=4100;async function fromStream(r){let e=await strtok3.fromStream(r);try{return await fromTokenizer(e)}finally{await e.close()}}async function fromBuffer(r){if(!(r instanceof Uint8Array||r instanceof ArrayBuffer||Buffer.isBuffer(r)))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`Buffer\` or \`ArrayBuffer\`, got \`${typeof r}\``);let e=r instanceof Buffer?r:Buffer.from(r);if(!(e&&e.length>1))return;let t=strtok3.fromBuffer(e);return fromTokenizer(t)}function _check(r,e,t){t={offset:0,...t};for(let[n,i]of e.entries())if(t.mask){if(i!==(t.mask[n]&r[n+t.offset]))return!1}else if(i!==r[n+t.offset])return!1;return!0}async function fromTokenizer(r){try{return _fromTokenizer(r)}catch(e){if(!(e instanceof strtok3.EndOfStreamError))throw e}}async function _fromTokenizer(r){let e=Buffer.alloc(minimumBytes),t=12,n=(o,s)=>_check(e,o,s),i=(o,s)=>n(stringToBytes(o),s);if(r.fileInfo.size||(r.fileInfo.size=Number.MAX_SAFE_INTEGER),await r.peekBuffer(e,{length:t,mayBeLess:!0}),n([66,77]))return{ext:"bmp",mime:"image/bmp"};if(n([11,119]))return{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"};if(n([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(n([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if(n([37,33]))return await r.peekBuffer(e,{length:24,mayBeLess:!0}),i("PS-Adobe-",{offset:2})&&i(" EPSF-",{offset:14})?{ext:"eps",mime:"application/eps"}:{ext:"ps",mime:"application/postscript"};if(n([31,160])||n([31,157]))return{ext:"Z",mime:"application/x-compress"};if(n([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(n([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(n([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(n([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(i("ID3")){await r.ignore(6);let o=await r.readToken(uint32SyncSafeToken);return r.position+o>r.fileInfo.size?{ext:"mp3",mime:"audio/mpeg"}:(await r.ignore(o),fromTokenizer(r))}if(i("MP+"))return{ext:"mpc",mime:"audio/x-musepack"};if((e[0]===67||e[0]===70)&&n([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(n([71,73,70]))return{ext:"gif",mime:"image/gif"};if(i("FLIF"))return{ext:"flif",mime:"image/flif"};if(i("8BPS"))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(i("WEBP",{offset:8}))return{ext:"webp",mime:"image/webp"};if(i("MPCK"))return{ext:"mpc",mime:"audio/x-musepack"};if(i("FORM"))return{ext:"aif",mime:"audio/aiff"};if(i("icns",{offset:0}))return{ext:"icns",mime:"image/icns"};if(n([80,75,3,4])){try{for(;r.position+30<r.fileInfo.size;){await r.readBuffer(e,{length:30});let o={compressedSize:e.readUInt32LE(18),uncompressedSize:e.readUInt32LE(22),filenameLength:e.readUInt16LE(26),extraFieldLength:e.readUInt16LE(28)};if(o.filename=await r.readToken(new Token.StringType(o.filenameLength,"utf-8")),await r.ignore(o.extraFieldLength),o.filename==="META-INF/mozilla.rsa")return{ext:"xpi",mime:"application/x-xpinstall"};if(o.filename.endsWith(".rels")||o.filename.endsWith(".xml"))switch(o.filename.split("/")[0]){case"_rels":break;case"word":return{ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"};case"ppt":return{ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"};case"xl":return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};default:break}if(o.filename.startsWith("xl/"))return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};if(o.filename.startsWith("3D/")&&o.filename.endsWith(".model"))return{ext:"3mf",mime:"model/3mf"};if(o.filename==="mimetype"&&o.compressedSize===o.uncompressedSize)switch(await r.readToken(new Token.StringType(o.compressedSize,"utf-8"))){case"application/epub+zip":return{ext:"epub",mime:"application/epub+zip"};case"application/vnd.oasis.opendocument.text":return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};case"application/vnd.oasis.opendocument.spreadsheet":return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};case"application/vnd.oasis.opendocument.presentation":return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"};default:}if(o.compressedSize===0){let s=-1;for(;s<0&&r.position<r.fileInfo.size;)await r.peekBuffer(e,{mayBeLess:!0}),s=e.indexOf("504B0304",0,"hex"),await r.ignore(s>=0?s:e.length)}else await r.ignore(o.compressedSize)}}catch(o){if(!(o instanceof strtok3.EndOfStreamError))throw o}return{ext:"zip",mime:"application/zip"}}if(i("OggS")){await r.ignore(28);let o=Buffer.alloc(8);return await r.readBuffer(o),_check(o,[79,112,117,115,72,101,97,100])?{ext:"opus",mime:"audio/opus"}:_check(o,[128,116,104,101,111,114,97])?{ext:"ogv",mime:"video/ogg"}:_check(o,[1,118,105,100,101,111,0])?{ext:"ogm",mime:"video/ogg"}:_check(o,[127,70,76,65,67])?{ext:"oga",mime:"audio/ogg"}:_check(o,[83,112,101,101,120,32,32])?{ext:"spx",mime:"audio/ogg"}:_check(o,[1,118,111,114,98,105,115])?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"}}if(n([80,75])&&(e[2]===3||e[2]===5||e[2]===7)&&(e[3]===4||e[3]===6||e[3]===8))return{ext:"zip",mime:"application/zip"};if(i("ftyp",{offset:4})&&(e[8]&96)!==0){let o=e.toString("binary",8,12).replace("\0"," ").trim();switch(o){case"avif":return{ext:"avif",mime:"image/avif"};case"mif1":return{ext:"heic",mime:"image/heif"};case"msf1":return{ext:"heic",mime:"image/heif-sequence"};case"heic":case"heix":return{ext:"heic",mime:"image/heic"};case"hevc":case"hevx":return{ext:"heic",mime:"image/heic-sequence"};case"qt":return{ext:"mov",mime:"video/quicktime"};case"M4V":case"M4VH":case"M4VP":return{ext:"m4v",mime:"video/x-m4v"};case"M4P":return{ext:"m4p",mime:"video/mp4"};case"M4B":return{ext:"m4b",mime:"audio/mp4"};case"M4A":return{ext:"m4a",mime:"audio/x-m4a"};case"F4V":return{ext:"f4v",mime:"video/mp4"};case"F4P":return{ext:"f4p",mime:"video/mp4"};case"F4A":return{ext:"f4a",mime:"audio/mp4"};case"F4B":return{ext:"f4b",mime:"audio/mp4"};case"crx":return{ext:"cr3",mime:"image/x-canon-cr3"};default:return o.startsWith("3g")?o.startsWith("3g2")?{ext:"3g2",mime:"video/3gpp2"}:{ext:"3gp",mime:"video/3gpp"}:{ext:"mp4",mime:"video/mp4"}}}if(i("MThd"))return{ext:"mid",mime:"audio/midi"};if(i("wOFF")&&(n([0,1,0,0],{offset:4})||i("OTTO",{offset:4})))return{ext:"woff",mime:"font/woff"};if(i("wOF2")&&(n([0,1,0,0],{offset:4})||i("OTTO",{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(n([212,195,178,161])||n([161,178,195,212]))return{ext:"pcap",mime:"application/vnd.tcpdump.pcap"};if(i("DSD "))return{ext:"dsf",mime:"audio/x-dsf"};if(i("LZIP"))return{ext:"lz",mime:"application/x-lzip"};if(i("fLaC"))return{ext:"flac",mime:"audio/x-flac"};if(n([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(i("wvpk"))return{ext:"wv",mime:"audio/wavpack"};if(i("%PDF")){await r.ignore(1350);let o=10*1024*1024,s=Buffer.alloc(Math.min(o,r.fileInfo.size));return await r.readBuffer(s,{mayBeLess:!0}),s.includes(Buffer.from("AIPrivateData"))?{ext:"ai",mime:"application/postscript"}:{ext:"pdf",mime:"application/pdf"}}if(n([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(n([73,73,42,0]))return i("CR",{offset:8})?{ext:"cr2",mime:"image/x-canon-cr2"}:n([28,0,254,0],{offset:8})||n([31,0,11,0],{offset:8})?{ext:"nef",mime:"image/x-nikon-nef"}:n([8,0,0,0],{offset:4})&&(n([45,0,254,0],{offset:8})||n([39,0,254,0],{offset:8}))?{ext:"dng",mime:"image/x-adobe-dng"}:(e=Buffer.alloc(24),await r.peekBuffer(e),(n([16,251,134,1],{offset:4})||n([8,0,0,0],{offset:4}))&&n([0,254,0,4,0,1,0,0,0,1,0,0,0,3,1],{offset:9})?{ext:"arw",mime:"image/x-sony-arw"}:{ext:"tif",mime:"image/tiff"});if(n([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(i("MAC "))return{ext:"ape",mime:"audio/ape"};if(n([26,69,223,163])){async function o(){let f=await r.peekNumber(Token.UINT8),h=128,d=0;for(;(f&h)===0&&h!==0;)++d,h>>=1;let g=Buffer.alloc(d+1);return await r.readBuffer(g),g}async function s(){let f=await o(),h=await o();h[0]^=128>>h.length-1;let d=Math.min(6,h.length);return{id:f.readUIntBE(0,f.length),len:h.readUIntBE(h.length-d,d)}}async function a(f,h){for(;h>0;){let d=await s();if(d.id===17026)return r.readToken(new Token.StringType(d.len,"utf-8"));await r.ignore(d.len),--h}}let u=await s();switch(await a(1,u.len)){case"webm":return{ext:"webm",mime:"video/webm"};case"matroska":return{ext:"mkv",mime:"video/x-matroska"};default:return}}if(n([82,73,70,70])){if(n([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(n([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(n([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(i("SQLi"))return{ext:"sqlite",mime:"application/x-sqlite3"};if(n([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(i("Cr24"))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(i("MSCF")||i("ISc("))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(n([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(n([197,208,211,198]))return{ext:"eps",mime:"application/eps"};if(n([40,181,47,253]))return{ext:"zst",mime:"application/zstd"};if(n([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(i("#!AMR"))return{ext:"amr",mime:"audio/amr"};if(i("{\\rtf"))return{ext:"rtf",mime:"application/rtf"};if(n([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(i("IMPM"))return{ext:"it",mime:"audio/x-it"};if(i("-lh0-",{offset:2})||i("-lh1-",{offset:2})||i("-lh2-",{offset:2})||i("-lh3-",{offset:2})||i("-lh4-",{offset:2})||i("-lh5-",{offset:2})||i("-lh6-",{offset:2})||i("-lh7-",{offset:2})||i("-lzs-",{offset:2})||i("-lz4-",{offset:2})||i("-lz5-",{offset:2})||i("-lhd-",{offset:2}))return{ext:"lzh",mime:"application/x-lzh-compressed"};if(n([0,0,1,186])){if(n([33],{offset:4,mask:[241]}))return{ext:"mpg",mime:"video/MP1S"};if(n([68],{offset:4,mask:[196]}))return{ext:"mpg",mime:"video/MP2P"}}if(i("ITSF"))return{ext:"chm",mime:"application/vnd.ms-htmlhelp"};if(n([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(i("<?xml "))return{ext:"xml",mime:"application/xml"};if(n([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(n([82,97,114,33,26,7])&&(e[6]===0||e[6]===1))return{ext:"rar",mime:"application/x-rar-compressed"};if(i("solid "))return{ext:"stl",mime:"model/stl"};if(i("BLENDER"))return{ext:"blend",mime:"application/x-blender"};if(i("!<arch>"))return await r.ignore(8),await r.readToken(new Token.StringType(13,"ascii"))==="debian-binary"?{ext:"deb",mime:"application/x-deb"}:{ext:"ar",mime:"application/x-unix-archive"};if(n([137,80,78,71,13,10,26,10])){await r.ignore(8);async function o(){return{length:await r.readToken(Token.INT32_BE),type:await r.readToken(new Token.StringType(4,"binary"))}}do{let s=await o();if(s.length<0)return;switch(s.type){case"IDAT":return{ext:"png",mime:"image/png"};case"acTL":return{ext:"apng",mime:"image/apng"};default:await r.ignore(s.length+4)}}while(r.position+8<r.fileInfo.size);return{ext:"png",mime:"image/png"}}if(n([65,82,82,79,87,49,0,0]))return{ext:"arrow",mime:"application/x-apache-arrow"};if(n([103,108,84,70,2,0,0,0]))return{ext:"glb",mime:"model/gltf-binary"};if(n([102,114,101,101],{offset:4})||n([109,100,97,116],{offset:4})||n([109,111,111,118],{offset:4})||n([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(n([73,73,82,79,8,0,0,0,24]))return{ext:"orf",mime:"image/x-olympus-orf"};if(i("gimp xcf "))return{ext:"xcf",mime:"image/x-xcf"};if(n([73,73,85,0,24,0,0,0,136,231,116,216]))return{ext:"rw2",mime:"image/x-panasonic-rw2"};if(n([48,38,178,117,142,102,207,17,166,217])){async function o(){let s=Buffer.alloc(16);return await r.readBuffer(s),{id:s,size:Number(await r.readToken(Token.UINT64_LE))}}for(await r.ignore(30);r.position+24<r.fileInfo.size;){let s=await o(),a=s.size-24;if(_check(s.id,[145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101])){let u=Buffer.alloc(16);if(a-=await r.readBuffer(u),_check(u,[64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"audio/x-ms-asf"};if(_check(u,[192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"video/x-ms-asf"};break}await r.ignore(a)}return{ext:"asf",mime:"application/vnd.ms-asf"}}if(n([171,75,84,88,32,49,49,187,13,10,26,10]))return{ext:"ktx",mime:"image/ktx"};if((n([126,16,4])||n([126,24,4]))&&n([48,77,73,69],{offset:4}))return{ext:"mie",mime:"application/x-mie"};if(n([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2}))return{ext:"shp",mime:"application/x-esri-shape"};if(n([0,0,0,12,106,80,32,32,13,10,135,10]))switch(await r.ignore(20),await r.readToken(new Token.StringType(4,"ascii"))){case"jp2 ":return{ext:"jp2",mime:"image/jp2"};case"jpx ":return{ext:"jpx",mime:"image/jpx"};case"jpm ":return{ext:"jpm",mime:"image/jpm"};case"mjp2":return{ext:"mj2",mime:"image/mj2"};default:return}if(n([255,10])||n([0,0,0,12,74,88,76,32,13,10,135,10]))return{ext:"jxl",mime:"image/jxl"};if(n([0,0,1,186])||n([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(n([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(n([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(n([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(n([208,207,17,224,161,177,26,225]))return{ext:"cfb",mime:"application/x-cfb"};if(await r.peekBuffer(e,{length:Math.min(256,r.fileInfo.size),mayBeLess:!0}),i("BEGIN:")){if(i("VCARD",{offset:6}))return{ext:"vcf",mime:"text/vcard"};if(i("VCALENDAR",{offset:6}))return{ext:"ics",mime:"text/calendar"}}if(i("FUJIFILMCCD-RAW"))return{ext:"raf",mime:"image/x-fujifilm-raf"};if(i("Extended Module:"))return{ext:"xm",mime:"audio/x-xm"};if(i("Creative Voice File"))return{ext:"voc",mime:"audio/x-voc"};if(n([4,0,0,0])&&e.length>=16){let o=e.readUInt32LE(12);if(o>12&&e.length>=o+16)try{let s=e.slice(16,o+16).toString();if(JSON.parse(s).files)return{ext:"asar",mime:"application/x-asar"}}catch{}}if(n([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(i("SCRM",{offset:44}))return{ext:"s3m",mime:"audio/x-s3m"};if(n([71],{offset:4})&&(n([71],{offset:192})||n([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(n([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(n([68,73,67,77],{offset:128}))return{ext:"dcm",mime:"application/dicom"};if(n([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70]))return{ext:"lnk",mime:"application/x.ms.shortcut"};if(n([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0]))return{ext:"alias",mime:"application/x.apple.alias"};if(n([76,80],{offset:34})&&(n([0,0,1],{offset:8})||n([1,0,2],{offset:8})||n([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(n([6,6,237,245,216,29,70,229,189,49,239,231,254,116,183,29]))return{ext:"indd",mime:"application/x-indesign"};if(await r.peekBuffer(e,{length:Math.min(512,r.fileInfo.size),mayBeLess:!0}),tarHeaderChecksumMatches(e))return{ext:"tar",mime:"application/x-tar"};if(n([255,254,255,14,83,0,107,0,101,0,116,0,99,0,104,0,85,0,112,0,32,0,77,0,111,0,100,0,101,0,108,0]))return{ext:"skp",mime:"application/vnd.sketchup.skp"};if(i("-----BEGIN PGP MESSAGE-----"))return{ext:"pgp",mime:"application/pgp-encrypted"};if(e.length>=2&&n([255,224],{offset:0,mask:[255,224]})){if(n([16],{offset:1,mask:[22]}))return n([8],{offset:1,mask:[8]})?{ext:"aac",mime:"audio/aac"}:{ext:"aac",mime:"audio/aac"};if(n([2],{offset:1,mask:[6]}))return{ext:"mp3",mime:"audio/mpeg"};if(n([4],{offset:1,mask:[6]}))return{ext:"mp2",mime:"audio/mpeg"};if(n([6],{offset:1,mask:[6]}))return{ext:"mp1",mime:"audio/mpeg"}}}var stream=readableStream=>new Promise((resolve,reject)=>{let stream=eval("require")("stream");readableStream.on("error",reject),readableStream.once("readable",async()=>{let r=new stream.PassThrough,e;stream.pipeline?e=stream.pipeline(readableStream,r,()=>{}):e=readableStream.pipe(r);let t=readableStream.read(minimumBytes)||readableStream.read()||Buffer.alloc(0);try{let n=await fromBuffer(t);r.fileType=n}catch(n){reject(n)}resolve(e)})}),fileType={fromStream,fromTokenizer,fromBuffer,stream};Object.defineProperty(fileType,"extensions",{get(){return new Set(supported.extensions)}});Object.defineProperty(fileType,"mimeTypes",{get(){return new Set(supported.mimeTypes)}});module.exports=fileType});var wN=ot((lZ,bN)=>{"use strict";Ne();Le();ke();var h9=fN(),wb=yN();async function d9(r){let e=await h9.fromFile(r);try{return await wb.fromTokenizer(e)}finally{await e.close()}}var vb={fromFile:d9};Object.assign(vb,wb);Object.defineProperty(vb,"extensions",{get(){return wb.extensions}});Object.defineProperty(vb,"mimeTypes",{get(){return wb.mimeTypes}});bN.exports=vb});var Yp=ot(ah=>{"use strict";Ne();Le();ke();function p9(r,e,t){if(t===void 0&&(t=Array.prototype),r&&typeof t.find=="function")return t.find.call(r,e);for(var n=0;n<r.length;n++)if(Object.prototype.hasOwnProperty.call(r,n)){var i=r[n];if(e.call(void 0,i,n,r))return i}}function F2(r,e){return e===void 0&&(e=Object),e&&typeof e.freeze=="function"?e.freeze(r):r}function g9(r,e){if(r===null||typeof r!="object")throw new TypeError("target is not an object");for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r}var vN=F2({HTML:"text/html",isHTML:function(r){return r===vN.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),_N=F2({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(r){return r===_N.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});ah.assign=g9;ah.find=p9;ah.freeze=F2;ah.MIME_TYPE=vN;ah.NAMESPACE=_N});var X2=ot(bl=>{Ne();Le();ke();var DN=Yp(),io=DN.find,Xp=DN.NAMESPACE;function m9(r){return r!==""}function y9(r){return r?r.split(/[\t\n\f\r ]+/).filter(m9):[]}function b9(r,e){return r.hasOwnProperty(e)||(r[e]=!0),r}function EN(r){if(!r)return[];var e=y9(r);return Object.keys(e.reduce(b9,{}))}function w9(r){return function(e){return r&&r.indexOf(e)!==-1}}function Zp(r,e){for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}function li(r,e){var t=r.prototype;if(!(t instanceof e)){let i=function(){};var n=i;i.prototype=e.prototype,i=new i,Zp(t,i),r.prototype=t=i}t.constructor!=r&&(typeof r!="function"&&console.error("unknown Class:"+r),t.constructor=r)}var ui={},Ds=ui.ELEMENT_NODE=1,uh=ui.ATTRIBUTE_NODE=2,_b=ui.TEXT_NODE=3,IN=ui.CDATA_SECTION_NODE=4,ON=ui.ENTITY_REFERENCE_NODE=5,v9=ui.ENTITY_NODE=6,NN=ui.PROCESSING_INSTRUCTION_NODE=7,kN=ui.COMMENT_NODE=8,LN=ui.DOCUMENT_NODE=9,PN=ui.DOCUMENT_TYPE_NODE=10,ta=ui.DOCUMENT_FRAGMENT_NODE=11,_9=ui.NOTATION_NODE=12,Ln={},pn={},mZ=Ln.INDEX_SIZE_ERR=(pn[1]="Index size error",1),yZ=Ln.DOMSTRING_SIZE_ERR=(pn[2]="DOMString size error",2),ai=Ln.HIERARCHY_REQUEST_ERR=(pn[3]="Hierarchy request error",3),bZ=Ln.WRONG_DOCUMENT_ERR=(pn[4]="Wrong document",4),wZ=Ln.INVALID_CHARACTER_ERR=(pn[5]="Invalid character",5),vZ=Ln.NO_DATA_ALLOWED_ERR=(pn[6]="No data allowed",6),_Z=Ln.NO_MODIFICATION_ALLOWED_ERR=(pn[7]="No modification allowed",7),BN=Ln.NOT_FOUND_ERR=(pn[8]="Not found",8),EZ=Ln.NOT_SUPPORTED_ERR=(pn[9]="Not supported",9),AN=Ln.INUSE_ATTRIBUTE_ERR=(pn[10]="Attribute in use",10),AZ=Ln.INVALID_STATE_ERR=(pn[11]="Invalid state",11),xZ=Ln.SYNTAX_ERR=(pn[12]="Syntax error",12),SZ=Ln.INVALID_MODIFICATION_ERR=(pn[13]="Invalid modification",13),TZ=Ln.NAMESPACE_ERR=(pn[14]="Invalid namespace",14),CZ=Ln.INVALID_ACCESS_ERR=(pn[15]="Invalid access",15);function Wr(r,e){if(e instanceof Error)var t=e;else t=this,Error.call(this,pn[r]),this.message=pn[r],Error.captureStackTrace&&Error.captureStackTrace(this,Wr);return t.code=r,e&&(this.message=this.message+": "+e),t}Wr.prototype=Error.prototype;Zp(Ln,Wr);function ea(){}ea.prototype={length:0,item:function(r){return r>=0&&r<this.length?this[r]:null},toString:function(r,e){for(var t=[],n=0;n<this.length;n++)lh(this[n],t,r,e);return t.join("")},filter:function(r){return Array.prototype.filter.call(this,r)},indexOf:function(r){return Array.prototype.indexOf.call(this,r)}};function ch(r,e){this._node=r,this._refresh=e,$2(this)}function $2(r){var e=r._node._inc||r._node.ownerDocument._inc;if(r._inc!==e){var t=r._refresh(r._node);if(YN(r,"length",t.length),!r.$$length||t.length<r.$$length)for(var n=t.length;n in r;n++)Object.prototype.hasOwnProperty.call(r,n)&&delete r[n];Zp(t,r),r._inc=e}}ch.prototype.item=function(r){return $2(this),this[r]||null};li(ch,ea);function Eb(){}function MN(r,e){for(var t=r.length;t--;)if(r[t]===e)return t}function xN(r,e,t,n){if(n?e[MN(e,n)]=t:e[e.length++]=t,r){t.ownerElement=r;var i=r.ownerDocument;i&&(n&&jN(i,r,n),E9(i,r,t))}}function SN(r,e,t){var n=MN(e,t);if(n>=0){for(var i=e.length-1;n<i;)e[n]=e[++n];if(e.length=i,r){var o=r.ownerDocument;o&&(jN(o,r,t),t.ownerElement=null)}}else throw new Wr(BN,new Error(r.tagName+"@"+t))}Eb.prototype={length:0,item:ea.prototype.item,getNamedItem:function(r){for(var e=this.length;e--;){var t=this[e];if(t.nodeName==r)return t}},setNamedItem:function(r){var e=r.ownerElement;if(e&&e!=this._ownerElement)throw new Wr(AN);var t=this.getNamedItem(r.nodeName);return xN(this._ownerElement,this,r,t),t},setNamedItemNS:function(r){var e=r.ownerElement,t;if(e&&e!=this._ownerElement)throw new Wr(AN);return t=this.getNamedItemNS(r.namespaceURI,r.localName),xN(this._ownerElement,this,r,t),t},removeNamedItem:function(r){var e=this.getNamedItem(r);return SN(this._ownerElement,this,e),e},removeNamedItemNS:function(r,e){var t=this.getNamedItemNS(r,e);return SN(this._ownerElement,this,t),t},getNamedItemNS:function(r,e){for(var t=this.length;t--;){var n=this[t];if(n.localName==e&&n.namespaceURI==r)return n}return null}};function FN(){}FN.prototype={hasFeature:function(r,e){return!0},createDocument:function(r,e,t){var n=new Jp;if(n.implementation=this,n.childNodes=new ea,n.doctype=t||null,t&&n.appendChild(t),e){var i=n.createElementNS(r,e);n.appendChild(i)}return n},createDocumentType:function(r,e,t){var n=new Sb;return n.name=r,n.nodeName=r,n.publicId=e||"",n.systemId=t||"",n}};function Xt(){}Xt.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(r,e){return Ab(this,r,e)},replaceChild:function(r,e){Ab(this,r,e,zN),e&&this.removeChild(e)},removeChild:function(r){return $N(this,r)},appendChild:function(r){return this.insertBefore(r,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(r){return j2(this.ownerDocument||this,this,r)},normalize:function(){for(var r=this.firstChild;r;){var e=r.nextSibling;e&&e.nodeType==_b&&r.nodeType==_b?(this.removeChild(e),r.appendData(e.data)):(r.normalize(),r=e)}},isSupported:function(r,e){return this.ownerDocument.implementation.hasFeature(r,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(r){for(var e=this;e;){var t=e._nsMap;if(t){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&t[n]===r)return n}e=e.nodeType==uh?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(r){for(var e=this;e;){var t=e._nsMap;if(t&&Object.prototype.hasOwnProperty.call(t,r))return t[r];e=e.nodeType==uh?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(r){var e=this.lookupPrefix(r);return e==null}};function UN(r){return r=="<"&&"&lt;"||r==">"&&"&gt;"||r=="&"&&"&amp;"||r=='"'&&"&quot;"||"&#"+r.charCodeAt()+";"}Zp(ui,Xt);Zp(ui,Xt.prototype);function Kp(r,e){if(e(r))return!0;if(r=r.firstChild)do if(Kp(r,e))return!0;while(r=r.nextSibling)}function Jp(){this.ownerDocument=this}function E9(r,e,t){r&&r._inc++;var n=t.namespaceURI;n===Xp.XMLNS&&(e._nsMap[t.prefix?t.localName:""]=t.value)}function jN(r,e,t,n){r&&r._inc++;var i=t.namespaceURI;i===Xp.XMLNS&&delete e._nsMap[t.prefix?t.localName:""]}function z2(r,e,t){if(r&&r._inc){r._inc++;var n=e.childNodes;if(t)n[n.length++]=t;else{for(var i=e.firstChild,o=0;i;)n[o++]=i,i=i.nextSibling;n.length=o,delete n[n.length]}}}function $N(r,e){var t=e.previousSibling,n=e.nextSibling;return t?t.nextSibling=n:r.firstChild=n,n?n.previousSibling=t:r.lastChild=t,e.parentNode=null,e.previousSibling=null,e.nextSibling=null,z2(r.ownerDocument,r),e}function A9(r){return r&&(r.nodeType===Xt.DOCUMENT_NODE||r.nodeType===Xt.DOCUMENT_FRAGMENT_NODE||r.nodeType===Xt.ELEMENT_NODE)}function x9(r){return r&&(so(r)||W2(r)||ra(r)||r.nodeType===Xt.DOCUMENT_FRAGMENT_NODE||r.nodeType===Xt.COMMENT_NODE||r.nodeType===Xt.PROCESSING_INSTRUCTION_NODE)}function ra(r){return r&&r.nodeType===Xt.DOCUMENT_TYPE_NODE}function so(r){return r&&r.nodeType===Xt.ELEMENT_NODE}function W2(r){return r&&r.nodeType===Xt.TEXT_NODE}function TN(r,e){var t=r.childNodes||[];if(io(t,so)||ra(e))return!1;var n=io(t,ra);return!(e&&n&&t.indexOf(n)>t.indexOf(e))}function CN(r,e){var t=r.childNodes||[];function n(o){return so(o)&&o!==e}if(io(t,n))return!1;var i=io(t,ra);return!(e&&i&&t.indexOf(i)>t.indexOf(e))}function S9(r,e,t){if(!A9(r))throw new Wr(ai,"Unexpected parent node type "+r.nodeType);if(t&&t.parentNode!==r)throw new Wr(BN,"child not in parent");if(!x9(e)||ra(e)&&r.nodeType!==Xt.DOCUMENT_NODE)throw new Wr(ai,"Unexpected node type "+e.nodeType+" for parent node type "+r.nodeType)}function T9(r,e,t){var n=r.childNodes||[],i=e.childNodes||[];if(e.nodeType===Xt.DOCUMENT_FRAGMENT_NODE){var o=i.filter(so);if(o.length>1||io(i,W2))throw new Wr(ai,"More than one element or text in fragment");if(o.length===1&&!TN(r,t))throw new Wr(ai,"Element in fragment can not be inserted before doctype")}if(so(e)&&!TN(r,t))throw new Wr(ai,"Only one element can be added and only after doctype");if(ra(e)){if(io(n,ra))throw new Wr(ai,"Only one doctype is allowed");var s=io(n,so);if(t&&n.indexOf(s)<n.indexOf(t))throw new Wr(ai,"Doctype can only be inserted before an element");if(!t&&s)throw new Wr(ai,"Doctype can not be appended since element is present")}}function zN(r,e,t){var n=r.childNodes||[],i=e.childNodes||[];if(e.nodeType===Xt.DOCUMENT_FRAGMENT_NODE){var o=i.filter(so);if(o.length>1||io(i,W2))throw new Wr(ai,"More than one element or text in fragment");if(o.length===1&&!CN(r,t))throw new Wr(ai,"Element in fragment can not be inserted before doctype")}if(so(e)&&!CN(r,t))throw new Wr(ai,"Only one element can be added and only after doctype");if(ra(e)){let u=function(c){return ra(c)&&c!==t};var a=u;if(io(n,u))throw new Wr(ai,"Only one doctype is allowed");var s=io(n,so);if(t&&n.indexOf(s)<n.indexOf(t))throw new Wr(ai,"Doctype can only be inserted before an element")}}function Ab(r,e,t,n){S9(r,e,t),r.nodeType===Xt.DOCUMENT_NODE&&(n||T9)(r,e,t);var i=e.parentNode;if(i&&i.removeChild(e),e.nodeType===ta){var o=e.firstChild;if(o==null)return e;var s=e.lastChild}else o=s=e;var a=t?t.previousSibling:r.lastChild;o.previousSibling=a,s.nextSibling=t,a?a.nextSibling=o:r.firstChild=o,t==null?r.lastChild=s:t.previousSibling=s;do o.parentNode=r;while(o!==s&&(o=o.nextSibling));return z2(r.ownerDocument||r,r),e.nodeType==ta&&(e.firstChild=e.lastChild=null),e}function C9(r,e){return e.parentNode&&e.parentNode.removeChild(e),e.parentNode=r,e.previousSibling=r.lastChild,e.nextSibling=null,e.previousSibling?e.previousSibling.nextSibling=e:r.firstChild=e,r.lastChild=e,z2(r.ownerDocument,r,e),e}Jp.prototype={nodeName:"#document",nodeType:LN,doctype:null,documentElement:null,_inc:1,insertBefore:function(r,e){if(r.nodeType==ta){for(var t=r.firstChild;t;){var n=t.nextSibling;this.insertBefore(t,e),t=n}return r}return Ab(this,r,e),r.ownerDocument=this,this.documentElement===null&&r.nodeType===Ds&&(this.documentElement=r),r},removeChild:function(r){return this.documentElement==r&&(this.documentElement=null),$N(this,r)},replaceChild:function(r,e){Ab(this,r,e,zN),r.ownerDocument=this,e&&this.removeChild(e),so(r)&&(this.documentElement=r)},importNode:function(r,e){return VN(this,r,e)},getElementById:function(r){var e=null;return Kp(this.documentElement,function(t){if(t.nodeType==Ds&&t.getAttribute("id")==r)return e=t,!0}),e},getElementsByClassName:function(r){var e=EN(r);return new ch(this,function(t){var n=[];return e.length>0&&Kp(t.documentElement,function(i){if(i!==t&&i.nodeType===Ds){var o=i.getAttribute("class");if(o){var s=r===o;if(!s){var a=EN(o);s=e.every(w9(a))}s&&n.push(i)}}}),n})},createElement:function(r){var e=new Yu;e.ownerDocument=this,e.nodeName=r,e.tagName=r,e.localName=r,e.childNodes=new ea;var t=e.attributes=new Eb;return t._ownerElement=e,e},createDocumentFragment:function(){var r=new Tb;return r.ownerDocument=this,r.childNodes=new ea,r},createTextNode:function(r){var e=new q2;return e.ownerDocument=this,e.appendData(r),e},createComment:function(r){var e=new H2;return e.ownerDocument=this,e.appendData(r),e},createCDATASection:function(r){var e=new G2;return e.ownerDocument=this,e.appendData(r),e},createProcessingInstruction:function(r,e){var t=new Y2;return t.ownerDocument=this,t.tagName=t.nodeName=t.target=r,t.nodeValue=t.data=e,t},createAttribute:function(r){var e=new xb;return e.ownerDocument=this,e.name=r,e.nodeName=r,e.localName=r,e.specified=!0,e},createEntityReference:function(r){var e=new V2;return e.ownerDocument=this,e.nodeName=r,e},createElementNS:function(r,e){var t=new Yu,n=e.split(":"),i=t.attributes=new Eb;return t.childNodes=new ea,t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.namespaceURI=r,n.length==2?(t.prefix=n[0],t.localName=n[1]):t.localName=e,i._ownerElement=t,t},createAttributeNS:function(r,e){var t=new xb,n=e.split(":");return t.ownerDocument=this,t.nodeName=e,t.name=e,t.namespaceURI=r,t.specified=!0,n.length==2?(t.prefix=n[0],t.localName=n[1]):t.localName=e,t}};li(Jp,Xt);function Yu(){this._nsMap={}}Yu.prototype={nodeType:Ds,hasAttribute:function(r){return this.getAttributeNode(r)!=null},getAttribute:function(r){var e=this.getAttributeNode(r);return e&&e.value||""},getAttributeNode:function(r){return this.attributes.getNamedItem(r)},setAttribute:function(r,e){var t=this.ownerDocument.createAttribute(r);t.value=t.nodeValue=""+e,this.setAttributeNode(t)},removeAttribute:function(r){var e=this.getAttributeNode(r);e&&this.removeAttributeNode(e)},appendChild:function(r){return r.nodeType===ta?this.insertBefore(r,null):C9(this,r)},setAttributeNode:function(r){return this.attributes.setNamedItem(r)},setAttributeNodeNS:function(r){return this.attributes.setNamedItemNS(r)},removeAttributeNode:function(r){return this.attributes.removeNamedItem(r.nodeName)},removeAttributeNS:function(r,e){var t=this.getAttributeNodeNS(r,e);t&&this.removeAttributeNode(t)},hasAttributeNS:function(r,e){return this.getAttributeNodeNS(r,e)!=null},getAttributeNS:function(r,e){var t=this.getAttributeNodeNS(r,e);return t&&t.value||""},setAttributeNS:function(r,e,t){var n=this.ownerDocument.createAttributeNS(r,e);n.value=n.nodeValue=""+t,this.setAttributeNode(n)},getAttributeNodeNS:function(r,e){return this.attributes.getNamedItemNS(r,e)},getElementsByTagName:function(r){return new ch(this,function(e){var t=[];return Kp(e,function(n){n!==e&&n.nodeType==Ds&&(r==="*"||n.tagName==r)&&t.push(n)}),t})},getElementsByTagNameNS:function(r,e){return new ch(this,function(t){var n=[];return Kp(t,function(i){i!==t&&i.nodeType===Ds&&(r==="*"||i.namespaceURI===r)&&(e==="*"||i.localName==e)&&n.push(i)}),n})}};Jp.prototype.getElementsByTagName=Yu.prototype.getElementsByTagName;Jp.prototype.getElementsByTagNameNS=Yu.prototype.getElementsByTagNameNS;li(Yu,Xt);function xb(){}xb.prototype.nodeType=uh;li(xb,Xt);function Qp(){}Qp.prototype={data:"",substringData:function(r,e){return this.data.substring(r,r+e)},appendData:function(r){r=this.data+r,this.nodeValue=this.data=r,this.length=r.length},insertData:function(r,e){this.replaceData(r,0,e)},appendChild:function(r){throw new Error(pn[ai])},deleteData:function(r,e){this.replaceData(r,e,"")},replaceData:function(r,e,t){var n=this.data.substring(0,r),i=this.data.substring(r+e);t=n+t+i,this.nodeValue=this.data=t,this.length=t.length}};li(Qp,Xt);function q2(){}q2.prototype={nodeName:"#text",nodeType:_b,splitText:function(r){var e=this.data,t=e.substring(r);e=e.substring(0,r),this.data=this.nodeValue=e,this.length=e.length;var n=this.ownerDocument.createTextNode(t);return this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling),n}};li(q2,Qp);function H2(){}H2.prototype={nodeName:"#comment",nodeType:kN};li(H2,Qp);function G2(){}G2.prototype={nodeName:"#cdata-section",nodeType:IN};li(G2,Qp);function Sb(){}Sb.prototype.nodeType=PN;li(Sb,Xt);function WN(){}WN.prototype.nodeType=_9;li(WN,Xt);function qN(){}qN.prototype.nodeType=v9;li(qN,Xt);function V2(){}V2.prototype.nodeType=ON;li(V2,Xt);function Tb(){}Tb.prototype.nodeName="#document-fragment";Tb.prototype.nodeType=ta;li(Tb,Xt);function Y2(){}Y2.prototype.nodeType=NN;li(Y2,Xt);function HN(){}HN.prototype.serializeToString=function(r,e,t){return GN.call(r,e,t)};Xt.prototype.toString=GN;function GN(r,e){var t=[],n=this.nodeType==9&&this.documentElement||this,i=n.prefix,o=n.namespaceURI;if(o&&i==null){var i=n.lookupPrefix(o);if(i==null)var s=[{namespace:o,prefix:null}]}return lh(this,t,r,e,s),t.join("")}function RN(r,e,t){var n=r.prefix||"",i=r.namespaceURI;if(!i||n==="xml"&&i===Xp.XML||i===Xp.XMLNS)return!1;for(var o=t.length;o--;){var s=t[o];if(s.prefix===n)return s.namespace!==i}return!0}function U2(r,e,t){r.push(" ",e,'="',t.replace(/[<>&"\t\n\r]/g,UN),'"')}function lh(r,e,t,n,i){if(i||(i=[]),n)if(r=n(r),r){if(typeof r=="string"){e.push(r);return}}else return;switch(r.nodeType){case Ds:var o=r.attributes,s=o.length,y=r.firstChild,a=r.tagName;t=Xp.isHTML(r.namespaceURI)||t;var u=a;if(!t&&!r.prefix&&r.namespaceURI){for(var c,f=0;f<o.length;f++)if(o.item(f).name==="xmlns"){c=o.item(f).value;break}if(!c)for(var h=i.length-1;h>=0;h--){var d=i[h];if(d.prefix===""&&d.namespace===r.namespaceURI){c=d.namespace;break}}if(c!==r.namespaceURI)for(var h=i.length-1;h>=0;h--){var d=i[h];if(d.namespace===r.namespaceURI){d.prefix&&(u=d.prefix+":"+a);break}}}e.push("<",u);for(var g=0;g<s;g++){var b=o.item(g);b.prefix=="xmlns"?i.push({prefix:b.localName,namespace:b.value}):b.nodeName=="xmlns"&&i.push({prefix:"",namespace:b.value})}for(var g=0;g<s;g++){var b=o.item(g);if(RN(b,t,i)){var v=b.prefix||"",w=b.namespaceURI;U2(e,v?"xmlns:"+v:"xmlns",w),i.push({prefix:v,namespace:w})}lh(b,e,t,n,i)}if(a===u&&RN(r,t,i)){var v=r.prefix||"",w=r.namespaceURI;U2(e,v?"xmlns:"+v:"xmlns",w),i.push({prefix:v,namespace:w})}if(y||t&&!/^(?:meta|link|img|br|hr|input)$/i.test(a)){if(e.push(">"),t&&/^script$/i.test(a))for(;y;)y.data?e.push(y.data):lh(y,e,t,n,i.slice()),y=y.nextSibling;else for(;y;)lh(y,e,t,n,i.slice()),y=y.nextSibling;e.push("</",u,">")}else e.push("/>");return;case LN:case ta:for(var y=r.firstChild;y;)lh(y,e,t,n,i.slice()),y=y.nextSibling;return;case uh:return U2(e,r.name,r.value);case _b:return e.push(r.data.replace(/[<&>]/g,UN));case IN:return e.push("<![CDATA[",r.data,"]]>");case kN:return e.push("<!--",r.data,"-->");case PN:var _=r.publicId,E=r.systemId;if(e.push("<!DOCTYPE ",r.name),_)e.push(" PUBLIC ",_),E&&E!="."&&e.push(" ",E),e.push(">");else if(E&&E!=".")e.push(" SYSTEM ",E,">");else{var S=r.internalSubset;S&&e.push(" [",S,"]"),e.push(">")}return;case NN:return e.push("<?",r.target," ",r.data,"?>");case ON:return e.push("&",r.nodeName,";");default:e.push("??",r.nodeName)}}function VN(r,e,t){var n;switch(e.nodeType){case Ds:n=e.cloneNode(!1),n.ownerDocument=r;case ta:break;case uh:t=!0;break}if(n||(n=e.cloneNode(!1)),n.ownerDocument=r,n.parentNode=null,t)for(var i=e.firstChild;i;)n.appendChild(VN(r,i,t)),i=i.nextSibling;return n}function j2(r,e,t){var n=new e.constructor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=e[i];typeof o!="object"&&o!=n[i]&&(n[i]=o)}switch(e.childNodes&&(n.childNodes=new ea),n.ownerDocument=r,n.nodeType){case Ds:var s=e.attributes,a=n.attributes=new Eb,u=s.length;a._ownerElement=n;for(var c=0;c<u;c++)n.setAttributeNode(j2(r,s.item(c),!0));break;case uh:t=!0}if(t)for(var f=e.firstChild;f;)n.appendChild(j2(r,f,t)),f=f.nextSibling;return n}function YN(r,e,t){r[e]=t}try{if(Object.defineProperty){let r=function(e){switch(e.nodeType){case Ds:case ta:var t=[];for(e=e.firstChild;e;)e.nodeType!==7&&e.nodeType!==8&&t.push(r(e)),e=e.nextSibling;return t.join("");default:return e.nodeValue}};R9=r,Object.defineProperty(ch.prototype,"length",{get:function(){return $2(this),this.$$length}}),Object.defineProperty(Xt.prototype,"textContent",{get:function(){return r(this)},set:function(e){switch(this.nodeType){case Ds:case ta:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),YN=function(e,t,n){e["$$"+t]=n}}}catch{}var R9;bl.DocumentType=Sb;bl.DOMException=Wr;bl.DOMImplementation=FN;bl.Element=Yu;bl.Node=Xt;bl.NodeList=ea;bl.XMLSerializer=HN});var KN=ot(eg=>{"use strict";Ne();Le();ke();var XN=Yp().freeze;eg.XML_ENTITIES=XN({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'});eg.HTML_ENTITIES=XN({Aacute:"\xC1",aacute:"\xE1",Abreve:"\u0102",abreve:"\u0103",ac:"\u223E",acd:"\u223F",acE:"\u223E\u0333",Acirc:"\xC2",acirc:"\xE2",acute:"\xB4",Acy:"\u0410",acy:"\u0430",AElig:"\xC6",aelig:"\xE6",af:"\u2061",Afr:"\u{1D504}",afr:"\u{1D51E}",Agrave:"\xC0",agrave:"\xE0",alefsym:"\u2135",aleph:"\u2135",Alpha:"\u0391",alpha:"\u03B1",Amacr:"\u0100",amacr:"\u0101",amalg:"\u2A3F",AMP:"&",amp:"&",And:"\u2A53",and:"\u2227",andand:"\u2A55",andd:"\u2A5C",andslope:"\u2A58",andv:"\u2A5A",ang:"\u2220",ange:"\u29A4",angle:"\u2220",angmsd:"\u2221",angmsdaa:"\u29A8",angmsdab:"\u29A9",angmsdac:"\u29AA",angmsdad:"\u29AB",angmsdae:"\u29AC",angmsdaf:"\u29AD",angmsdag:"\u29AE",angmsdah:"\u29AF",angrt:"\u221F",angrtvb:"\u22BE",angrtvbd:"\u299D",angsph:"\u2222",angst:"\xC5",angzarr:"\u237C",Aogon:"\u0104",aogon:"\u0105",Aopf:"\u{1D538}",aopf:"\u{1D552}",ap:"\u2248",apacir:"\u2A6F",apE:"\u2A70",ape:"\u224A",apid:"\u224B",apos:"'",ApplyFunction:"\u2061",approx:"\u2248",approxeq:"\u224A",Aring:"\xC5",aring:"\xE5",Ascr:"\u{1D49C}",ascr:"\u{1D4B6}",Assign:"\u2254",ast:"*",asymp:"\u2248",asympeq:"\u224D",Atilde:"\xC3",atilde:"\xE3",Auml:"\xC4",auml:"\xE4",awconint:"\u2233",awint:"\u2A11",backcong:"\u224C",backepsilon:"\u03F6",backprime:"\u2035",backsim:"\u223D",backsimeq:"\u22CD",Backslash:"\u2216",Barv:"\u2AE7",barvee:"\u22BD",Barwed:"\u2306",barwed:"\u2305",barwedge:"\u2305",bbrk:"\u23B5",bbrktbrk:"\u23B6",bcong:"\u224C",Bcy:"\u0411",bcy:"\u0431",bdquo:"\u201E",becaus:"\u2235",Because:"\u2235",because:"\u2235",bemptyv:"\u29B0",bepsi:"\u03F6",bernou:"\u212C",Bernoullis:"\u212C",Beta:"\u0392",beta:"\u03B2",beth:"\u2136",between:"\u226C",Bfr:"\u{1D505}",bfr:"\u{1D51F}",bigcap:"\u22C2",bigcirc:"\u25EF",bigcup:"\u22C3",bigodot:"\u2A00",bigoplus:"\u2A01",bigotimes:"\u2A02",bigsqcup:"\u2A06",bigstar:"\u2605",bigtriangledown:"\u25BD",bigtriangleup:"\u25B3",biguplus:"\u2A04",bigvee:"\u22C1",bigwedge:"\u22C0",bkarow:"\u290D",blacklozenge:"\u29EB",blacksquare:"\u25AA",blacktriangle:"\u25B4",blacktriangledown:"\u25BE",blacktriangleleft:"\u25C2",blacktriangleright:"\u25B8",blank:"\u2423",blk12:"\u2592",blk14:"\u2591",blk34:"\u2593",block:"\u2588",bne:"=\u20E5",bnequiv:"\u2261\u20E5",bNot:"\u2AED",bnot:"\u2310",Bopf:"\u{1D539}",bopf:"\u{1D553}",bot:"\u22A5",bottom:"\u22A5",bowtie:"\u22C8",boxbox:"\u29C9",boxDL:"\u2557",boxDl:"\u2556",boxdL:"\u2555",boxdl:"\u2510",boxDR:"\u2554",boxDr:"\u2553",boxdR:"\u2552",boxdr:"\u250C",boxH:"\u2550",boxh:"\u2500",boxHD:"\u2566",boxHd:"\u2564",boxhD:"\u2565",boxhd:"\u252C",boxHU:"\u2569",boxHu:"\u2567",boxhU:"\u2568",boxhu:"\u2534",boxminus:"\u229F",boxplus:"\u229E",boxtimes:"\u22A0",boxUL:"\u255D",boxUl:"\u255C",boxuL:"\u255B",boxul:"\u2518",boxUR:"\u255A",boxUr:"\u2559",boxuR:"\u2558",boxur:"\u2514",boxV:"\u2551",boxv:"\u2502",boxVH:"\u256C",boxVh:"\u256B",boxvH:"\u256A",boxvh:"\u253C",boxVL:"\u2563",boxVl:"\u2562",boxvL:"\u2561",boxvl:"\u2524",boxVR:"\u2560",boxVr:"\u255F",boxvR:"\u255E",boxvr:"\u251C",bprime:"\u2035",Breve:"\u02D8",breve:"\u02D8",brvbar:"\xA6",Bscr:"\u212C",bscr:"\u{1D4B7}",bsemi:"\u204F",bsim:"\u223D",bsime:"\u22CD",bsol:"\\",bsolb:"\u29C5",bsolhsub:"\u27C8",bull:"\u2022",bullet:"\u2022",bump:"\u224E",bumpE:"\u2AAE",bumpe:"\u224F",Bumpeq:"\u224E",bumpeq:"\u224F",Cacute:"\u0106",cacute:"\u0107",Cap:"\u22D2",cap:"\u2229",capand:"\u2A44",capbrcup:"\u2A49",capcap:"\u2A4B",capcup:"\u2A47",capdot:"\u2A40",CapitalDifferentialD:"\u2145",caps:"\u2229\uFE00",caret:"\u2041",caron:"\u02C7",Cayleys:"\u212D",ccaps:"\u2A4D",Ccaron:"\u010C",ccaron:"\u010D",Ccedil:"\xC7",ccedil:"\xE7",Ccirc:"\u0108",ccirc:"\u0109",Cconint:"\u2230",ccups:"\u2A4C",ccupssm:"\u2A50",Cdot:"\u010A",cdot:"\u010B",cedil:"\xB8",Cedilla:"\xB8",cemptyv:"\u29B2",cent:"\xA2",CenterDot:"\xB7",centerdot:"\xB7",Cfr:"\u212D",cfr:"\u{1D520}",CHcy:"\u0427",chcy:"\u0447",check:"\u2713",checkmark:"\u2713",Chi:"\u03A7",chi:"\u03C7",cir:"\u25CB",circ:"\u02C6",circeq:"\u2257",circlearrowleft:"\u21BA",circlearrowright:"\u21BB",circledast:"\u229B",circledcirc:"\u229A",circleddash:"\u229D",CircleDot:"\u2299",circledR:"\xAE",circledS:"\u24C8",CircleMinus:"\u2296",CirclePlus:"\u2295",CircleTimes:"\u2297",cirE:"\u29C3",cire:"\u2257",cirfnint:"\u2A10",cirmid:"\u2AEF",cirscir:"\u29C2",ClockwiseContourIntegral:"\u2232",CloseCurlyDoubleQuote:"\u201D",CloseCurlyQuote:"\u2019",clubs:"\u2663",clubsuit:"\u2663",Colon:"\u2237",colon:":",Colone:"\u2A74",colone:"\u2254",coloneq:"\u2254",comma:",",commat:"@",comp:"\u2201",compfn:"\u2218",complement:"\u2201",complexes:"\u2102",cong:"\u2245",congdot:"\u2A6D",Congruent:"\u2261",Conint:"\u222F",conint:"\u222E",ContourIntegral:"\u222E",Copf:"\u2102",copf:"\u{1D554}",coprod:"\u2210",Coproduct:"\u2210",COPY:"\xA9",copy:"\xA9",copysr:"\u2117",CounterClockwiseContourIntegral:"\u2233",crarr:"\u21B5",Cross:"\u2A2F",cross:"\u2717",Cscr:"\u{1D49E}",cscr:"\u{1D4B8}",csub:"\u2ACF",csube:"\u2AD1",csup:"\u2AD0",csupe:"\u2AD2",ctdot:"\u22EF",cudarrl:"\u2938",cudarrr:"\u2935",cuepr:"\u22DE",cuesc:"\u22DF",cularr:"\u21B6",cularrp:"\u293D",Cup:"\u22D3",cup:"\u222A",cupbrcap:"\u2A48",CupCap:"\u224D",cupcap:"\u2A46",cupcup:"\u2A4A",cupdot:"\u228D",cupor:"\u2A45",cups:"\u222A\uFE00",curarr:"\u21B7",curarrm:"\u293C",curlyeqprec:"\u22DE",curlyeqsucc:"\u22DF",curlyvee:"\u22CE",curlywedge:"\u22CF",curren:"\xA4",curvearrowleft:"\u21B6",curvearrowright:"\u21B7",cuvee:"\u22CE",cuwed:"\u22CF",cwconint:"\u2232",cwint:"\u2231",cylcty:"\u232D",Dagger:"\u2021",dagger:"\u2020",daleth:"\u2138",Darr:"\u21A1",dArr:"\u21D3",darr:"\u2193",dash:"\u2010",Dashv:"\u2AE4",dashv:"\u22A3",dbkarow:"\u290F",dblac:"\u02DD",Dcaron:"\u010E",dcaron:"\u010F",Dcy:"\u0414",dcy:"\u0434",DD:"\u2145",dd:"\u2146",ddagger:"\u2021",ddarr:"\u21CA",DDotrahd:"\u2911",ddotseq:"\u2A77",deg:"\xB0",Del:"\u2207",Delta:"\u0394",delta:"\u03B4",demptyv:"\u29B1",dfisht:"\u297F",Dfr:"\u{1D507}",dfr:"\u{1D521}",dHar:"\u2965",dharl:"\u21C3",dharr:"\u21C2",DiacriticalAcute:"\xB4",DiacriticalDot:"\u02D9",DiacriticalDoubleAcute:"\u02DD",DiacriticalGrave:"`",DiacriticalTilde:"\u02DC",diam:"\u22C4",Diamond:"\u22C4",diamond:"\u22C4",diamondsuit:"\u2666",diams:"\u2666",die:"\xA8",DifferentialD:"\u2146",digamma:"\u03DD",disin:"\u22F2",div:"\xF7",divide:"\xF7",divideontimes:"\u22C7",divonx:"\u22C7",DJcy:"\u0402",djcy:"\u0452",dlcorn:"\u231E",dlcrop:"\u230D",dollar:"$",Dopf:"\u{1D53B}",dopf:"\u{1D555}",Dot:"\xA8",dot:"\u02D9",DotDot:"\u20DC",doteq:"\u2250",doteqdot:"\u2251",DotEqual:"\u2250",dotminus:"\u2238",dotplus:"\u2214",dotsquare:"\u22A1",doublebarwedge:"\u2306",DoubleContourIntegral:"\u222F",DoubleDot:"\xA8",DoubleDownArrow:"\u21D3",DoubleLeftArrow:"\u21D0",DoubleLeftRightArrow:"\u21D4",DoubleLeftTee:"\u2AE4",DoubleLongLeftArrow:"\u27F8",DoubleLongLeftRightArrow:"\u27FA",DoubleLongRightArrow:"\u27F9",DoubleRightArrow:"\u21D2",DoubleRightTee:"\u22A8",DoubleUpArrow:"\u21D1",DoubleUpDownArrow:"\u21D5",DoubleVerticalBar:"\u2225",DownArrow:"\u2193",Downarrow:"\u21D3",downarrow:"\u2193",DownArrowBar:"\u2913",DownArrowUpArrow:"\u21F5",DownBreve:"\u0311",downdownarrows:"\u21CA",downharpoonleft:"\u21C3",downharpoonright:"\u21C2",DownLeftRightVector:"\u2950",DownLeftTeeVector:"\u295E",DownLeftVector:"\u21BD",DownLeftVectorBar:"\u2956",DownRightTeeVector:"\u295F",DownRightVector:"\u21C1",DownRightVectorBar:"\u2957",DownTee:"\u22A4",DownTeeArrow:"\u21A7",drbkarow:"\u2910",drcorn:"\u231F",drcrop:"\u230C",Dscr:"\u{1D49F}",dscr:"\u{1D4B9}",DScy:"\u0405",dscy:"\u0455",dsol:"\u29F6",Dstrok:"\u0110",dstrok:"\u0111",dtdot:"\u22F1",dtri:"\u25BF",dtrif:"\u25BE",duarr:"\u21F5",duhar:"\u296F",dwangle:"\u29A6",DZcy:"\u040F",dzcy:"\u045F",dzigrarr:"\u27FF",Eacute:"\xC9",eacute:"\xE9",easter:"\u2A6E",Ecaron:"\u011A",ecaron:"\u011B",ecir:"\u2256",Ecirc:"\xCA",ecirc:"\xEA",ecolon:"\u2255",Ecy:"\u042D",ecy:"\u044D",eDDot:"\u2A77",Edot:"\u0116",eDot:"\u2251",edot:"\u0117",ee:"\u2147",efDot:"\u2252",Efr:"\u{1D508}",efr:"\u{1D522}",eg:"\u2A9A",Egrave:"\xC8",egrave:"\xE8",egs:"\u2A96",egsdot:"\u2A98",el:"\u2A99",Element:"\u2208",elinters:"\u23E7",ell:"\u2113",els:"\u2A95",elsdot:"\u2A97",Emacr:"\u0112",emacr:"\u0113",empty:"\u2205",emptyset:"\u2205",EmptySmallSquare:"\u25FB",emptyv:"\u2205",EmptyVerySmallSquare:"\u25AB",emsp:"\u2003",emsp13:"\u2004",emsp14:"\u2005",ENG:"\u014A",eng:"\u014B",ensp:"\u2002",Eogon:"\u0118",eogon:"\u0119",Eopf:"\u{1D53C}",eopf:"\u{1D556}",epar:"\u22D5",eparsl:"\u29E3",eplus:"\u2A71",epsi:"\u03B5",Epsilon:"\u0395",epsilon:"\u03B5",epsiv:"\u03F5",eqcirc:"\u2256",eqcolon:"\u2255",eqsim:"\u2242",eqslantgtr:"\u2A96",eqslantless:"\u2A95",Equal:"\u2A75",equals:"=",EqualTilde:"\u2242",equest:"\u225F",Equilibrium:"\u21CC",equiv:"\u2261",equivDD:"\u2A78",eqvparsl:"\u29E5",erarr:"\u2971",erDot:"\u2253",Escr:"\u2130",escr:"\u212F",esdot:"\u2250",Esim:"\u2A73",esim:"\u2242",Eta:"\u0397",eta:"\u03B7",ETH:"\xD0",eth:"\xF0",Euml:"\xCB",euml:"\xEB",euro:"\u20AC",excl:"!",exist:"\u2203",Exists:"\u2203",expectation:"\u2130",ExponentialE:"\u2147",exponentiale:"\u2147",fallingdotseq:"\u2252",Fcy:"\u0424",fcy:"\u0444",female:"\u2640",ffilig:"\uFB03",fflig:"\uFB00",ffllig:"\uFB04",Ffr:"\u{1D509}",ffr:"\u{1D523}",filig:"\uFB01",FilledSmallSquare:"\u25FC",FilledVerySmallSquare:"\u25AA",fjlig:"fj",flat:"\u266D",fllig:"\uFB02",fltns:"\u25B1",fnof:"\u0192",Fopf:"\u{1D53D}",fopf:"\u{1D557}",ForAll:"\u2200",forall:"\u2200",fork:"\u22D4",forkv:"\u2AD9",Fouriertrf:"\u2131",fpartint:"\u2A0D",frac12:"\xBD",frac13:"\u2153",frac14:"\xBC",frac15:"\u2155",frac16:"\u2159",frac18:"\u215B",frac23:"\u2154",frac25:"\u2156",frac34:"\xBE",frac35:"\u2157",frac38:"\u215C",frac45:"\u2158",frac56:"\u215A",frac58:"\u215D",frac78:"\u215E",frasl:"\u2044",frown:"\u2322",Fscr:"\u2131",fscr:"\u{1D4BB}",gacute:"\u01F5",Gamma:"\u0393",gamma:"\u03B3",Gammad:"\u03DC",gammad:"\u03DD",gap:"\u2A86",Gbreve:"\u011E",gbreve:"\u011F",Gcedil:"\u0122",Gcirc:"\u011C",gcirc:"\u011D",Gcy:"\u0413",gcy:"\u0433",Gdot:"\u0120",gdot:"\u0121",gE:"\u2267",ge:"\u2265",gEl:"\u2A8C",gel:"\u22DB",geq:"\u2265",geqq:"\u2267",geqslant:"\u2A7E",ges:"\u2A7E",gescc:"\u2AA9",gesdot:"\u2A80",gesdoto:"\u2A82",gesdotol:"\u2A84",gesl:"\u22DB\uFE00",gesles:"\u2A94",Gfr:"\u{1D50A}",gfr:"\u{1D524}",Gg:"\u22D9",gg:"\u226B",ggg:"\u22D9",gimel:"\u2137",GJcy:"\u0403",gjcy:"\u0453",gl:"\u2277",gla:"\u2AA5",glE:"\u2A92",glj:"\u2AA4",gnap:"\u2A8A",gnapprox:"\u2A8A",gnE:"\u2269",gne:"\u2A88",gneq:"\u2A88",gneqq:"\u2269",gnsim:"\u22E7",Gopf:"\u{1D53E}",gopf:"\u{1D558}",grave:"`",GreaterEqual:"\u2265",GreaterEqualLess:"\u22DB",GreaterFullEqual:"\u2267",GreaterGreater:"\u2AA2",GreaterLess:"\u2277",GreaterSlantEqual:"\u2A7E",GreaterTilde:"\u2273",Gscr:"\u{1D4A2}",gscr:"\u210A",gsim:"\u2273",gsime:"\u2A8E",gsiml:"\u2A90",Gt:"\u226B",GT:">",gt:">",gtcc:"\u2AA7",gtcir:"\u2A7A",gtdot:"\u22D7",gtlPar:"\u2995",gtquest:"\u2A7C",gtrapprox:"\u2A86",gtrarr:"\u2978",gtrdot:"\u22D7",gtreqless:"\u22DB",gtreqqless:"\u2A8C",gtrless:"\u2277",gtrsim:"\u2273",gvertneqq:"\u2269\uFE00",gvnE:"\u2269\uFE00",Hacek:"\u02C7",hairsp:"\u200A",half:"\xBD",hamilt:"\u210B",HARDcy:"\u042A",hardcy:"\u044A",hArr:"\u21D4",harr:"\u2194",harrcir:"\u2948",harrw:"\u21AD",Hat:"^",hbar:"\u210F",Hcirc:"\u0124",hcirc:"\u0125",hearts:"\u2665",heartsuit:"\u2665",hellip:"\u2026",hercon:"\u22B9",Hfr:"\u210C",hfr:"\u{1D525}",HilbertSpace:"\u210B",hksearow:"\u2925",hkswarow:"\u2926",hoarr:"\u21FF",homtht:"\u223B",hookleftarrow:"\u21A9",hookrightarrow:"\u21AA",Hopf:"\u210D",hopf:"\u{1D559}",horbar:"\u2015",HorizontalLine:"\u2500",Hscr:"\u210B",hscr:"\u{1D4BD}",hslash:"\u210F",Hstrok:"\u0126",hstrok:"\u0127",HumpDownHump:"\u224E",HumpEqual:"\u224F",hybull:"\u2043",hyphen:"\u2010",Iacute:"\xCD",iacute:"\xED",ic:"\u2063",Icirc:"\xCE",icirc:"\xEE",Icy:"\u0418",icy:"\u0438",Idot:"\u0130",IEcy:"\u0415",iecy:"\u0435",iexcl:"\xA1",iff:"\u21D4",Ifr:"\u2111",ifr:"\u{1D526}",Igrave:"\xCC",igrave:"\xEC",ii:"\u2148",iiiint:"\u2A0C",iiint:"\u222D",iinfin:"\u29DC",iiota:"\u2129",IJlig:"\u0132",ijlig:"\u0133",Im:"\u2111",Imacr:"\u012A",imacr:"\u012B",image:"\u2111",ImaginaryI:"\u2148",imagline:"\u2110",imagpart:"\u2111",imath:"\u0131",imof:"\u22B7",imped:"\u01B5",Implies:"\u21D2",in:"\u2208",incare:"\u2105",infin:"\u221E",infintie:"\u29DD",inodot:"\u0131",Int:"\u222C",int:"\u222B",intcal:"\u22BA",integers:"\u2124",Integral:"\u222B",intercal:"\u22BA",Intersection:"\u22C2",intlarhk:"\u2A17",intprod:"\u2A3C",InvisibleComma:"\u2063",InvisibleTimes:"\u2062",IOcy:"\u0401",iocy:"\u0451",Iogon:"\u012E",iogon:"\u012F",Iopf:"\u{1D540}",iopf:"\u{1D55A}",Iota:"\u0399",iota:"\u03B9",iprod:"\u2A3C",iquest:"\xBF",Iscr:"\u2110",iscr:"\u{1D4BE}",isin:"\u2208",isindot:"\u22F5",isinE:"\u22F9",isins:"\u22F4",isinsv:"\u22F3",isinv:"\u2208",it:"\u2062",Itilde:"\u0128",itilde:"\u0129",Iukcy:"\u0406",iukcy:"\u0456",Iuml:"\xCF",iuml:"\xEF",Jcirc:"\u0134",jcirc:"\u0135",Jcy:"\u0419",jcy:"\u0439",Jfr:"\u{1D50D}",jfr:"\u{1D527}",jmath:"\u0237",Jopf:"\u{1D541}",jopf:"\u{1D55B}",Jscr:"\u{1D4A5}",jscr:"\u{1D4BF}",Jsercy:"\u0408",jsercy:"\u0458",Jukcy:"\u0404",jukcy:"\u0454",Kappa:"\u039A",kappa:"\u03BA",kappav:"\u03F0",Kcedil:"\u0136",kcedil:"\u0137",Kcy:"\u041A",kcy:"\u043A",Kfr:"\u{1D50E}",kfr:"\u{1D528}",kgreen:"\u0138",KHcy:"\u0425",khcy:"\u0445",KJcy:"\u040C",kjcy:"\u045C",Kopf:"\u{1D542}",kopf:"\u{1D55C}",Kscr:"\u{1D4A6}",kscr:"\u{1D4C0}",lAarr:"\u21DA",Lacute:"\u0139",lacute:"\u013A",laemptyv:"\u29B4",lagran:"\u2112",Lambda:"\u039B",lambda:"\u03BB",Lang:"\u27EA",lang:"\u27E8",langd:"\u2991",langle:"\u27E8",lap:"\u2A85",Laplacetrf:"\u2112",laquo:"\xAB",Larr:"\u219E",lArr:"\u21D0",larr:"\u2190",larrb:"\u21E4",larrbfs:"\u291F",larrfs:"\u291D",larrhk:"\u21A9",larrlp:"\u21AB",larrpl:"\u2939",larrsim:"\u2973",larrtl:"\u21A2",lat:"\u2AAB",lAtail:"\u291B",latail:"\u2919",late:"\u2AAD",lates:"\u2AAD\uFE00",lBarr:"\u290E",lbarr:"\u290C",lbbrk:"\u2772",lbrace:"{",lbrack:"[",lbrke:"\u298B",lbrksld:"\u298F",lbrkslu:"\u298D",Lcaron:"\u013D",lcaron:"\u013E",Lcedil:"\u013B",lcedil:"\u013C",lceil:"\u2308",lcub:"{",Lcy:"\u041B",lcy:"\u043B",ldca:"\u2936",ldquo:"\u201C",ldquor:"\u201E",ldrdhar:"\u2967",ldrushar:"\u294B",ldsh:"\u21B2",lE:"\u2266",le:"\u2264",LeftAngleBracket:"\u27E8",LeftArrow:"\u2190",Leftarrow:"\u21D0",leftarrow:"\u2190",LeftArrowBar:"\u21E4",LeftArrowRightArrow:"\u21C6",leftarrowtail:"\u21A2",LeftCeiling:"\u2308",LeftDoubleBracket:"\u27E6",LeftDownTeeVector:"\u2961",LeftDownVector:"\u21C3",LeftDownVectorBar:"\u2959",LeftFloor:"\u230A",leftharpoondown:"\u21BD",leftharpoonup:"\u21BC",leftleftarrows:"\u21C7",LeftRightArrow:"\u2194",Leftrightarrow:"\u21D4",leftrightarrow:"\u2194",leftrightarrows:"\u21C6",leftrightharpoons:"\u21CB",leftrightsquigarrow:"\u21AD",LeftRightVector:"\u294E",LeftTee:"\u22A3",LeftTeeArrow:"\u21A4",LeftTeeVector:"\u295A",leftthreetimes:"\u22CB",LeftTriangle:"\u22B2",LeftTriangleBar:"\u29CF",LeftTriangleEqual:"\u22B4",LeftUpDownVector:"\u2951",LeftUpTeeVector:"\u2960",LeftUpVector:"\u21BF",LeftUpVectorBar:"\u2958",LeftVector:"\u21BC",LeftVectorBar:"\u2952",lEg:"\u2A8B",leg:"\u22DA",leq:"\u2264",leqq:"\u2266",leqslant:"\u2A7D",les:"\u2A7D",lescc:"\u2AA8",lesdot:"\u2A7F",lesdoto:"\u2A81",lesdotor:"\u2A83",lesg:"\u22DA\uFE00",lesges:"\u2A93",lessapprox:"\u2A85",lessdot:"\u22D6",lesseqgtr:"\u22DA",lesseqqgtr:"\u2A8B",LessEqualGreater:"\u22DA",LessFullEqual:"\u2266",LessGreater:"\u2276",lessgtr:"\u2276",LessLess:"\u2AA1",lesssim:"\u2272",LessSlantEqual:"\u2A7D",LessTilde:"\u2272",lfisht:"\u297C",lfloor:"\u230A",Lfr:"\u{1D50F}",lfr:"\u{1D529}",lg:"\u2276",lgE:"\u2A91",lHar:"\u2962",lhard:"\u21BD",lharu:"\u21BC",lharul:"\u296A",lhblk:"\u2584",LJcy:"\u0409",ljcy:"\u0459",Ll:"\u22D8",ll:"\u226A",llarr:"\u21C7",llcorner:"\u231E",Lleftarrow:"\u21DA",llhard:"\u296B",lltri:"\u25FA",Lmidot:"\u013F",lmidot:"\u0140",lmoust:"\u23B0",lmoustache:"\u23B0",lnap:"\u2A89",lnapprox:"\u2A89",lnE:"\u2268",lne:"\u2A87",lneq:"\u2A87",lneqq:"\u2268",lnsim:"\u22E6",loang:"\u27EC",loarr:"\u21FD",lobrk:"\u27E6",LongLeftArrow:"\u27F5",Longleftarrow:"\u27F8",longleftarrow:"\u27F5",LongLeftRightArrow:"\u27F7",Longleftrightarrow:"\u27FA",longleftrightarrow:"\u27F7",longmapsto:"\u27FC",LongRightArrow:"\u27F6",Longrightarrow:"\u27F9",longrightarrow:"\u27F6",looparrowleft:"\u21AB",looparrowright:"\u21AC",lopar:"\u2985",Lopf:"\u{1D543}",lopf:"\u{1D55D}",loplus:"\u2A2D",lotimes:"\u2A34",lowast:"\u2217",lowbar:"_",LowerLeftArrow:"\u2199",LowerRightArrow:"\u2198",loz:"\u25CA",lozenge:"\u25CA",lozf:"\u29EB",lpar:"(",lparlt:"\u2993",lrarr:"\u21C6",lrcorner:"\u231F",lrhar:"\u21CB",lrhard:"\u296D",lrm:"\u200E",lrtri:"\u22BF",lsaquo:"\u2039",Lscr:"\u2112",lscr:"\u{1D4C1}",Lsh:"\u21B0",lsh:"\u21B0",lsim:"\u2272",lsime:"\u2A8D",lsimg:"\u2A8F",lsqb:"[",lsquo:"\u2018",lsquor:"\u201A",Lstrok:"\u0141",lstrok:"\u0142",Lt:"\u226A",LT:"<",lt:"<",ltcc:"\u2AA6",ltcir:"\u2A79",ltdot:"\u22D6",lthree:"\u22CB",ltimes:"\u22C9",ltlarr:"\u2976",ltquest:"\u2A7B",ltri:"\u25C3",ltrie:"\u22B4",ltrif:"\u25C2",ltrPar:"\u2996",lurdshar:"\u294A",luruhar:"\u2966",lvertneqq:"\u2268\uFE00",lvnE:"\u2268\uFE00",macr:"\xAF",male:"\u2642",malt:"\u2720",maltese:"\u2720",Map:"\u2905",map:"\u21A6",mapsto:"\u21A6",mapstodown:"\u21A7",mapstoleft:"\u21A4",mapstoup:"\u21A5",marker:"\u25AE",mcomma:"\u2A29",Mcy:"\u041C",mcy:"\u043C",mdash:"\u2014",mDDot:"\u223A",measuredangle:"\u2221",MediumSpace:"\u205F",Mellintrf:"\u2133",Mfr:"\u{1D510}",mfr:"\u{1D52A}",mho:"\u2127",micro:"\xB5",mid:"\u2223",midast:"*",midcir:"\u2AF0",middot:"\xB7",minus:"\u2212",minusb:"\u229F",minusd:"\u2238",minusdu:"\u2A2A",MinusPlus:"\u2213",mlcp:"\u2ADB",mldr:"\u2026",mnplus:"\u2213",models:"\u22A7",Mopf:"\u{1D544}",mopf:"\u{1D55E}",mp:"\u2213",Mscr:"\u2133",mscr:"\u{1D4C2}",mstpos:"\u223E",Mu:"\u039C",mu:"\u03BC",multimap:"\u22B8",mumap:"\u22B8",nabla:"\u2207",Nacute:"\u0143",nacute:"\u0144",nang:"\u2220\u20D2",nap:"\u2249",napE:"\u2A70\u0338",napid:"\u224B\u0338",napos:"\u0149",napprox:"\u2249",natur:"\u266E",natural:"\u266E",naturals:"\u2115",nbsp:"\xA0",nbump:"\u224E\u0338",nbumpe:"\u224F\u0338",ncap:"\u2A43",Ncaron:"\u0147",ncaron:"\u0148",Ncedil:"\u0145",ncedil:"\u0146",ncong:"\u2247",ncongdot:"\u2A6D\u0338",ncup:"\u2A42",Ncy:"\u041D",ncy:"\u043D",ndash:"\u2013",ne:"\u2260",nearhk:"\u2924",neArr:"\u21D7",nearr:"\u2197",nearrow:"\u2197",nedot:"\u2250\u0338",NegativeMediumSpace:"\u200B",NegativeThickSpace:"\u200B",NegativeThinSpace:"\u200B",NegativeVeryThinSpace:"\u200B",nequiv:"\u2262",nesear:"\u2928",nesim:"\u2242\u0338",NestedGreaterGreater:"\u226B",NestedLessLess:"\u226A",NewLine:`
`,nexist:"\u2204",nexists:"\u2204",Nfr:"\u{1D511}",nfr:"\u{1D52B}",ngE:"\u2267\u0338",nge:"\u2271",ngeq:"\u2271",ngeqq:"\u2267\u0338",ngeqslant:"\u2A7E\u0338",nges:"\u2A7E\u0338",nGg:"\u22D9\u0338",ngsim:"\u2275",nGt:"\u226B\u20D2",ngt:"\u226F",ngtr:"\u226F",nGtv:"\u226B\u0338",nhArr:"\u21CE",nharr:"\u21AE",nhpar:"\u2AF2",ni:"\u220B",nis:"\u22FC",nisd:"\u22FA",niv:"\u220B",NJcy:"\u040A",njcy:"\u045A",nlArr:"\u21CD",nlarr:"\u219A",nldr:"\u2025",nlE:"\u2266\u0338",nle:"\u2270",nLeftarrow:"\u21CD",nleftarrow:"\u219A",nLeftrightarrow:"\u21CE",nleftrightarrow:"\u21AE",nleq:"\u2270",nleqq:"\u2266\u0338",nleqslant:"\u2A7D\u0338",nles:"\u2A7D\u0338",nless:"\u226E",nLl:"\u22D8\u0338",nlsim:"\u2274",nLt:"\u226A\u20D2",nlt:"\u226E",nltri:"\u22EA",nltrie:"\u22EC",nLtv:"\u226A\u0338",nmid:"\u2224",NoBreak:"\u2060",NonBreakingSpace:"\xA0",Nopf:"\u2115",nopf:"\u{1D55F}",Not:"\u2AEC",not:"\xAC",NotCongruent:"\u2262",NotCupCap:"\u226D",NotDoubleVerticalBar:"\u2226",NotElement:"\u2209",NotEqual:"\u2260",NotEqualTilde:"\u2242\u0338",NotExists:"\u2204",NotGreater:"\u226F",NotGreaterEqual:"\u2271",NotGreaterFullEqual:"\u2267\u0338",NotGreaterGreater:"\u226B\u0338",NotGreaterLess:"\u2279",NotGreaterSlantEqual:"\u2A7E\u0338",NotGreaterTilde:"\u2275",NotHumpDownHump:"\u224E\u0338",NotHumpEqual:"\u224F\u0338",notin:"\u2209",notindot:"\u22F5\u0338",notinE:"\u22F9\u0338",notinva:"\u2209",notinvb:"\u22F7",notinvc:"\u22F6",NotLeftTriangle:"\u22EA",NotLeftTriangleBar:"\u29CF\u0338",NotLeftTriangleEqual:"\u22EC",NotLess:"\u226E",NotLessEqual:"\u2270",NotLessGreater:"\u2278",NotLessLess:"\u226A\u0338",NotLessSlantEqual:"\u2A7D\u0338",NotLessTilde:"\u2274",NotNestedGreaterGreater:"\u2AA2\u0338",NotNestedLessLess:"\u2AA1\u0338",notni:"\u220C",notniva:"\u220C",notnivb:"\u22FE",notnivc:"\u22FD",NotPrecedes:"\u2280",NotPrecedesEqual:"\u2AAF\u0338",NotPrecedesSlantEqual:"\u22E0",NotReverseElement:"\u220C",NotRightTriangle:"\u22EB",NotRightTriangleBar:"\u29D0\u0338",NotRightTriangleEqual:"\u22ED",NotSquareSubset:"\u228F\u0338",NotSquareSubsetEqual:"\u22E2",NotSquareSuperset:"\u2290\u0338",NotSquareSupersetEqual:"\u22E3",NotSubset:"\u2282\u20D2",NotSubsetEqual:"\u2288",NotSucceeds:"\u2281",NotSucceedsEqual:"\u2AB0\u0338",NotSucceedsSlantEqual:"\u22E1",NotSucceedsTilde:"\u227F\u0338",NotSuperset:"\u2283\u20D2",NotSupersetEqual:"\u2289",NotTilde:"\u2241",NotTildeEqual:"\u2244",NotTildeFullEqual:"\u2247",NotTildeTilde:"\u2249",NotVerticalBar:"\u2224",npar:"\u2226",nparallel:"\u2226",nparsl:"\u2AFD\u20E5",npart:"\u2202\u0338",npolint:"\u2A14",npr:"\u2280",nprcue:"\u22E0",npre:"\u2AAF\u0338",nprec:"\u2280",npreceq:"\u2AAF\u0338",nrArr:"\u21CF",nrarr:"\u219B",nrarrc:"\u2933\u0338",nrarrw:"\u219D\u0338",nRightarrow:"\u21CF",nrightarrow:"\u219B",nrtri:"\u22EB",nrtrie:"\u22ED",nsc:"\u2281",nsccue:"\u22E1",nsce:"\u2AB0\u0338",Nscr:"\u{1D4A9}",nscr:"\u{1D4C3}",nshortmid:"\u2224",nshortparallel:"\u2226",nsim:"\u2241",nsime:"\u2244",nsimeq:"\u2244",nsmid:"\u2224",nspar:"\u2226",nsqsube:"\u22E2",nsqsupe:"\u22E3",nsub:"\u2284",nsubE:"\u2AC5\u0338",nsube:"\u2288",nsubset:"\u2282\u20D2",nsubseteq:"\u2288",nsubseteqq:"\u2AC5\u0338",nsucc:"\u2281",nsucceq:"\u2AB0\u0338",nsup:"\u2285",nsupE:"\u2AC6\u0338",nsupe:"\u2289",nsupset:"\u2283\u20D2",nsupseteq:"\u2289",nsupseteqq:"\u2AC6\u0338",ntgl:"\u2279",Ntilde:"\xD1",ntilde:"\xF1",ntlg:"\u2278",ntriangleleft:"\u22EA",ntrianglelefteq:"\u22EC",ntriangleright:"\u22EB",ntrianglerighteq:"\u22ED",Nu:"\u039D",nu:"\u03BD",num:"#",numero:"\u2116",numsp:"\u2007",nvap:"\u224D\u20D2",nVDash:"\u22AF",nVdash:"\u22AE",nvDash:"\u22AD",nvdash:"\u22AC",nvge:"\u2265\u20D2",nvgt:">\u20D2",nvHarr:"\u2904",nvinfin:"\u29DE",nvlArr:"\u2902",nvle:"\u2264\u20D2",nvlt:"<\u20D2",nvltrie:"\u22B4\u20D2",nvrArr:"\u2903",nvrtrie:"\u22B5\u20D2",nvsim:"\u223C\u20D2",nwarhk:"\u2923",nwArr:"\u21D6",nwarr:"\u2196",nwarrow:"\u2196",nwnear:"\u2927",Oacute:"\xD3",oacute:"\xF3",oast:"\u229B",ocir:"\u229A",Ocirc:"\xD4",ocirc:"\xF4",Ocy:"\u041E",ocy:"\u043E",odash:"\u229D",Odblac:"\u0150",odblac:"\u0151",odiv:"\u2A38",odot:"\u2299",odsold:"\u29BC",OElig:"\u0152",oelig:"\u0153",ofcir:"\u29BF",Ofr:"\u{1D512}",ofr:"\u{1D52C}",ogon:"\u02DB",Ograve:"\xD2",ograve:"\xF2",ogt:"\u29C1",ohbar:"\u29B5",ohm:"\u03A9",oint:"\u222E",olarr:"\u21BA",olcir:"\u29BE",olcross:"\u29BB",oline:"\u203E",olt:"\u29C0",Omacr:"\u014C",omacr:"\u014D",Omega:"\u03A9",omega:"\u03C9",Omicron:"\u039F",omicron:"\u03BF",omid:"\u29B6",ominus:"\u2296",Oopf:"\u{1D546}",oopf:"\u{1D560}",opar:"\u29B7",OpenCurlyDoubleQuote:"\u201C",OpenCurlyQuote:"\u2018",operp:"\u29B9",oplus:"\u2295",Or:"\u2A54",or:"\u2228",orarr:"\u21BB",ord:"\u2A5D",order:"\u2134",orderof:"\u2134",ordf:"\xAA",ordm:"\xBA",origof:"\u22B6",oror:"\u2A56",orslope:"\u2A57",orv:"\u2A5B",oS:"\u24C8",Oscr:"\u{1D4AA}",oscr:"\u2134",Oslash:"\xD8",oslash:"\xF8",osol:"\u2298",Otilde:"\xD5",otilde:"\xF5",Otimes:"\u2A37",otimes:"\u2297",otimesas:"\u2A36",Ouml:"\xD6",ouml:"\xF6",ovbar:"\u233D",OverBar:"\u203E",OverBrace:"\u23DE",OverBracket:"\u23B4",OverParenthesis:"\u23DC",par:"\u2225",para:"\xB6",parallel:"\u2225",parsim:"\u2AF3",parsl:"\u2AFD",part:"\u2202",PartialD:"\u2202",Pcy:"\u041F",pcy:"\u043F",percnt:"%",period:".",permil:"\u2030",perp:"\u22A5",pertenk:"\u2031",Pfr:"\u{1D513}",pfr:"\u{1D52D}",Phi:"\u03A6",phi:"\u03C6",phiv:"\u03D5",phmmat:"\u2133",phone:"\u260E",Pi:"\u03A0",pi:"\u03C0",pitchfork:"\u22D4",piv:"\u03D6",planck:"\u210F",planckh:"\u210E",plankv:"\u210F",plus:"+",plusacir:"\u2A23",plusb:"\u229E",pluscir:"\u2A22",plusdo:"\u2214",plusdu:"\u2A25",pluse:"\u2A72",PlusMinus:"\xB1",plusmn:"\xB1",plussim:"\u2A26",plustwo:"\u2A27",pm:"\xB1",Poincareplane:"\u210C",pointint:"\u2A15",Popf:"\u2119",popf:"\u{1D561}",pound:"\xA3",Pr:"\u2ABB",pr:"\u227A",prap:"\u2AB7",prcue:"\u227C",prE:"\u2AB3",pre:"\u2AAF",prec:"\u227A",precapprox:"\u2AB7",preccurlyeq:"\u227C",Precedes:"\u227A",PrecedesEqual:"\u2AAF",PrecedesSlantEqual:"\u227C",PrecedesTilde:"\u227E",preceq:"\u2AAF",precnapprox:"\u2AB9",precneqq:"\u2AB5",precnsim:"\u22E8",precsim:"\u227E",Prime:"\u2033",prime:"\u2032",primes:"\u2119",prnap:"\u2AB9",prnE:"\u2AB5",prnsim:"\u22E8",prod:"\u220F",Product:"\u220F",profalar:"\u232E",profline:"\u2312",profsurf:"\u2313",prop:"\u221D",Proportion:"\u2237",Proportional:"\u221D",propto:"\u221D",prsim:"\u227E",prurel:"\u22B0",Pscr:"\u{1D4AB}",pscr:"\u{1D4C5}",Psi:"\u03A8",psi:"\u03C8",puncsp:"\u2008",Qfr:"\u{1D514}",qfr:"\u{1D52E}",qint:"\u2A0C",Qopf:"\u211A",qopf:"\u{1D562}",qprime:"\u2057",Qscr:"\u{1D4AC}",qscr:"\u{1D4C6}",quaternions:"\u210D",quatint:"\u2A16",quest:"?",questeq:"\u225F",QUOT:'"',quot:'"',rAarr:"\u21DB",race:"\u223D\u0331",Racute:"\u0154",racute:"\u0155",radic:"\u221A",raemptyv:"\u29B3",Rang:"\u27EB",rang:"\u27E9",rangd:"\u2992",range:"\u29A5",rangle:"\u27E9",raquo:"\xBB",Rarr:"\u21A0",rArr:"\u21D2",rarr:"\u2192",rarrap:"\u2975",rarrb:"\u21E5",rarrbfs:"\u2920",rarrc:"\u2933",rarrfs:"\u291E",rarrhk:"\u21AA",rarrlp:"\u21AC",rarrpl:"\u2945",rarrsim:"\u2974",Rarrtl:"\u2916",rarrtl:"\u21A3",rarrw:"\u219D",rAtail:"\u291C",ratail:"\u291A",ratio:"\u2236",rationals:"\u211A",RBarr:"\u2910",rBarr:"\u290F",rbarr:"\u290D",rbbrk:"\u2773",rbrace:"}",rbrack:"]",rbrke:"\u298C",rbrksld:"\u298E",rbrkslu:"\u2990",Rcaron:"\u0158",rcaron:"\u0159",Rcedil:"\u0156",rcedil:"\u0157",rceil:"\u2309",rcub:"}",Rcy:"\u0420",rcy:"\u0440",rdca:"\u2937",rdldhar:"\u2969",rdquo:"\u201D",rdquor:"\u201D",rdsh:"\u21B3",Re:"\u211C",real:"\u211C",realine:"\u211B",realpart:"\u211C",reals:"\u211D",rect:"\u25AD",REG:"\xAE",reg:"\xAE",ReverseElement:"\u220B",ReverseEquilibrium:"\u21CB",ReverseUpEquilibrium:"\u296F",rfisht:"\u297D",rfloor:"\u230B",Rfr:"\u211C",rfr:"\u{1D52F}",rHar:"\u2964",rhard:"\u21C1",rharu:"\u21C0",rharul:"\u296C",Rho:"\u03A1",rho:"\u03C1",rhov:"\u03F1",RightAngleBracket:"\u27E9",RightArrow:"\u2192",Rightarrow:"\u21D2",rightarrow:"\u2192",RightArrowBar:"\u21E5",RightArrowLeftArrow:"\u21C4",rightarrowtail:"\u21A3",RightCeiling:"\u2309",RightDoubleBracket:"\u27E7",RightDownTeeVector:"\u295D",RightDownVector:"\u21C2",RightDownVectorBar:"\u2955",RightFloor:"\u230B",rightharpoondown:"\u21C1",rightharpoonup:"\u21C0",rightleftarrows:"\u21C4",rightleftharpoons:"\u21CC",rightrightarrows:"\u21C9",rightsquigarrow:"\u219D",RightTee:"\u22A2",RightTeeArrow:"\u21A6",RightTeeVector:"\u295B",rightthreetimes:"\u22CC",RightTriangle:"\u22B3",RightTriangleBar:"\u29D0",RightTriangleEqual:"\u22B5",RightUpDownVector:"\u294F",RightUpTeeVector:"\u295C",RightUpVector:"\u21BE",RightUpVectorBar:"\u2954",RightVector:"\u21C0",RightVectorBar:"\u2953",ring:"\u02DA",risingdotseq:"\u2253",rlarr:"\u21C4",rlhar:"\u21CC",rlm:"\u200F",rmoust:"\u23B1",rmoustache:"\u23B1",rnmid:"\u2AEE",roang:"\u27ED",roarr:"\u21FE",robrk:"\u27E7",ropar:"\u2986",Ropf:"\u211D",ropf:"\u{1D563}",roplus:"\u2A2E",rotimes:"\u2A35",RoundImplies:"\u2970",rpar:")",rpargt:"\u2994",rppolint:"\u2A12",rrarr:"\u21C9",Rrightarrow:"\u21DB",rsaquo:"\u203A",Rscr:"\u211B",rscr:"\u{1D4C7}",Rsh:"\u21B1",rsh:"\u21B1",rsqb:"]",rsquo:"\u2019",rsquor:"\u2019",rthree:"\u22CC",rtimes:"\u22CA",rtri:"\u25B9",rtrie:"\u22B5",rtrif:"\u25B8",rtriltri:"\u29CE",RuleDelayed:"\u29F4",ruluhar:"\u2968",rx:"\u211E",Sacute:"\u015A",sacute:"\u015B",sbquo:"\u201A",Sc:"\u2ABC",sc:"\u227B",scap:"\u2AB8",Scaron:"\u0160",scaron:"\u0161",sccue:"\u227D",scE:"\u2AB4",sce:"\u2AB0",Scedil:"\u015E",scedil:"\u015F",Scirc:"\u015C",scirc:"\u015D",scnap:"\u2ABA",scnE:"\u2AB6",scnsim:"\u22E9",scpolint:"\u2A13",scsim:"\u227F",Scy:"\u0421",scy:"\u0441",sdot:"\u22C5",sdotb:"\u22A1",sdote:"\u2A66",searhk:"\u2925",seArr:"\u21D8",searr:"\u2198",searrow:"\u2198",sect:"\xA7",semi:";",seswar:"\u2929",setminus:"\u2216",setmn:"\u2216",sext:"\u2736",Sfr:"\u{1D516}",sfr:"\u{1D530}",sfrown:"\u2322",sharp:"\u266F",SHCHcy:"\u0429",shchcy:"\u0449",SHcy:"\u0428",shcy:"\u0448",ShortDownArrow:"\u2193",ShortLeftArrow:"\u2190",shortmid:"\u2223",shortparallel:"\u2225",ShortRightArrow:"\u2192",ShortUpArrow:"\u2191",shy:"\xAD",Sigma:"\u03A3",sigma:"\u03C3",sigmaf:"\u03C2",sigmav:"\u03C2",sim:"\u223C",simdot:"\u2A6A",sime:"\u2243",simeq:"\u2243",simg:"\u2A9E",simgE:"\u2AA0",siml:"\u2A9D",simlE:"\u2A9F",simne:"\u2246",simplus:"\u2A24",simrarr:"\u2972",slarr:"\u2190",SmallCircle:"\u2218",smallsetminus:"\u2216",smashp:"\u2A33",smeparsl:"\u29E4",smid:"\u2223",smile:"\u2323",smt:"\u2AAA",smte:"\u2AAC",smtes:"\u2AAC\uFE00",SOFTcy:"\u042C",softcy:"\u044C",sol:"/",solb:"\u29C4",solbar:"\u233F",Sopf:"\u{1D54A}",sopf:"\u{1D564}",spades:"\u2660",spadesuit:"\u2660",spar:"\u2225",sqcap:"\u2293",sqcaps:"\u2293\uFE00",sqcup:"\u2294",sqcups:"\u2294\uFE00",Sqrt:"\u221A",sqsub:"\u228F",sqsube:"\u2291",sqsubset:"\u228F",sqsubseteq:"\u2291",sqsup:"\u2290",sqsupe:"\u2292",sqsupset:"\u2290",sqsupseteq:"\u2292",squ:"\u25A1",Square:"\u25A1",square:"\u25A1",SquareIntersection:"\u2293",SquareSubset:"\u228F",SquareSubsetEqual:"\u2291",SquareSuperset:"\u2290",SquareSupersetEqual:"\u2292",SquareUnion:"\u2294",squarf:"\u25AA",squf:"\u25AA",srarr:"\u2192",Sscr:"\u{1D4AE}",sscr:"\u{1D4C8}",ssetmn:"\u2216",ssmile:"\u2323",sstarf:"\u22C6",Star:"\u22C6",star:"\u2606",starf:"\u2605",straightepsilon:"\u03F5",straightphi:"\u03D5",strns:"\xAF",Sub:"\u22D0",sub:"\u2282",subdot:"\u2ABD",subE:"\u2AC5",sube:"\u2286",subedot:"\u2AC3",submult:"\u2AC1",subnE:"\u2ACB",subne:"\u228A",subplus:"\u2ABF",subrarr:"\u2979",Subset:"\u22D0",subset:"\u2282",subseteq:"\u2286",subseteqq:"\u2AC5",SubsetEqual:"\u2286",subsetneq:"\u228A",subsetneqq:"\u2ACB",subsim:"\u2AC7",subsub:"\u2AD5",subsup:"\u2AD3",succ:"\u227B",succapprox:"\u2AB8",succcurlyeq:"\u227D",Succeeds:"\u227B",SucceedsEqual:"\u2AB0",SucceedsSlantEqual:"\u227D",SucceedsTilde:"\u227F",succeq:"\u2AB0",succnapprox:"\u2ABA",succneqq:"\u2AB6",succnsim:"\u22E9",succsim:"\u227F",SuchThat:"\u220B",Sum:"\u2211",sum:"\u2211",sung:"\u266A",Sup:"\u22D1",sup:"\u2283",sup1:"\xB9",sup2:"\xB2",sup3:"\xB3",supdot:"\u2ABE",supdsub:"\u2AD8",supE:"\u2AC6",supe:"\u2287",supedot:"\u2AC4",Superset:"\u2283",SupersetEqual:"\u2287",suphsol:"\u27C9",suphsub:"\u2AD7",suplarr:"\u297B",supmult:"\u2AC2",supnE:"\u2ACC",supne:"\u228B",supplus:"\u2AC0",Supset:"\u22D1",supset:"\u2283",supseteq:"\u2287",supseteqq:"\u2AC6",supsetneq:"\u228B",supsetneqq:"\u2ACC",supsim:"\u2AC8",supsub:"\u2AD4",supsup:"\u2AD6",swarhk:"\u2926",swArr:"\u21D9",swarr:"\u2199",swarrow:"\u2199",swnwar:"\u292A",szlig:"\xDF",Tab:"	",target:"\u2316",Tau:"\u03A4",tau:"\u03C4",tbrk:"\u23B4",Tcaron:"\u0164",tcaron:"\u0165",Tcedil:"\u0162",tcedil:"\u0163",Tcy:"\u0422",tcy:"\u0442",tdot:"\u20DB",telrec:"\u2315",Tfr:"\u{1D517}",tfr:"\u{1D531}",there4:"\u2234",Therefore:"\u2234",therefore:"\u2234",Theta:"\u0398",theta:"\u03B8",thetasym:"\u03D1",thetav:"\u03D1",thickapprox:"\u2248",thicksim:"\u223C",ThickSpace:"\u205F\u200A",thinsp:"\u2009",ThinSpace:"\u2009",thkap:"\u2248",thksim:"\u223C",THORN:"\xDE",thorn:"\xFE",Tilde:"\u223C",tilde:"\u02DC",TildeEqual:"\u2243",TildeFullEqual:"\u2245",TildeTilde:"\u2248",times:"\xD7",timesb:"\u22A0",timesbar:"\u2A31",timesd:"\u2A30",tint:"\u222D",toea:"\u2928",top:"\u22A4",topbot:"\u2336",topcir:"\u2AF1",Topf:"\u{1D54B}",topf:"\u{1D565}",topfork:"\u2ADA",tosa:"\u2929",tprime:"\u2034",TRADE:"\u2122",trade:"\u2122",triangle:"\u25B5",triangledown:"\u25BF",triangleleft:"\u25C3",trianglelefteq:"\u22B4",triangleq:"\u225C",triangleright:"\u25B9",trianglerighteq:"\u22B5",tridot:"\u25EC",trie:"\u225C",triminus:"\u2A3A",TripleDot:"\u20DB",triplus:"\u2A39",trisb:"\u29CD",tritime:"\u2A3B",trpezium:"\u23E2",Tscr:"\u{1D4AF}",tscr:"\u{1D4C9}",TScy:"\u0426",tscy:"\u0446",TSHcy:"\u040B",tshcy:"\u045B",Tstrok:"\u0166",tstrok:"\u0167",twixt:"\u226C",twoheadleftarrow:"\u219E",twoheadrightarrow:"\u21A0",Uacute:"\xDA",uacute:"\xFA",Uarr:"\u219F",uArr:"\u21D1",uarr:"\u2191",Uarrocir:"\u2949",Ubrcy:"\u040E",ubrcy:"\u045E",Ubreve:"\u016C",ubreve:"\u016D",Ucirc:"\xDB",ucirc:"\xFB",Ucy:"\u0423",ucy:"\u0443",udarr:"\u21C5",Udblac:"\u0170",udblac:"\u0171",udhar:"\u296E",ufisht:"\u297E",Ufr:"\u{1D518}",ufr:"\u{1D532}",Ugrave:"\xD9",ugrave:"\xF9",uHar:"\u2963",uharl:"\u21BF",uharr:"\u21BE",uhblk:"\u2580",ulcorn:"\u231C",ulcorner:"\u231C",ulcrop:"\u230F",ultri:"\u25F8",Umacr:"\u016A",umacr:"\u016B",uml:"\xA8",UnderBar:"_",UnderBrace:"\u23DF",UnderBracket:"\u23B5",UnderParenthesis:"\u23DD",Union:"\u22C3",UnionPlus:"\u228E",Uogon:"\u0172",uogon:"\u0173",Uopf:"\u{1D54C}",uopf:"\u{1D566}",UpArrow:"\u2191",Uparrow:"\u21D1",uparrow:"\u2191",UpArrowBar:"\u2912",UpArrowDownArrow:"\u21C5",UpDownArrow:"\u2195",Updownarrow:"\u21D5",updownarrow:"\u2195",UpEquilibrium:"\u296E",upharpoonleft:"\u21BF",upharpoonright:"\u21BE",uplus:"\u228E",UpperLeftArrow:"\u2196",UpperRightArrow:"\u2197",Upsi:"\u03D2",upsi:"\u03C5",upsih:"\u03D2",Upsilon:"\u03A5",upsilon:"\u03C5",UpTee:"\u22A5",UpTeeArrow:"\u21A5",upuparrows:"\u21C8",urcorn:"\u231D",urcorner:"\u231D",urcrop:"\u230E",Uring:"\u016E",uring:"\u016F",urtri:"\u25F9",Uscr:"\u{1D4B0}",uscr:"\u{1D4CA}",utdot:"\u22F0",Utilde:"\u0168",utilde:"\u0169",utri:"\u25B5",utrif:"\u25B4",uuarr:"\u21C8",Uuml:"\xDC",uuml:"\xFC",uwangle:"\u29A7",vangrt:"\u299C",varepsilon:"\u03F5",varkappa:"\u03F0",varnothing:"\u2205",varphi:"\u03D5",varpi:"\u03D6",varpropto:"\u221D",vArr:"\u21D5",varr:"\u2195",varrho:"\u03F1",varsigma:"\u03C2",varsubsetneq:"\u228A\uFE00",varsubsetneqq:"\u2ACB\uFE00",varsupsetneq:"\u228B\uFE00",varsupsetneqq:"\u2ACC\uFE00",vartheta:"\u03D1",vartriangleleft:"\u22B2",vartriangleright:"\u22B3",Vbar:"\u2AEB",vBar:"\u2AE8",vBarv:"\u2AE9",Vcy:"\u0412",vcy:"\u0432",VDash:"\u22AB",Vdash:"\u22A9",vDash:"\u22A8",vdash:"\u22A2",Vdashl:"\u2AE6",Vee:"\u22C1",vee:"\u2228",veebar:"\u22BB",veeeq:"\u225A",vellip:"\u22EE",Verbar:"\u2016",verbar:"|",Vert:"\u2016",vert:"|",VerticalBar:"\u2223",VerticalLine:"|",VerticalSeparator:"\u2758",VerticalTilde:"\u2240",VeryThinSpace:"\u200A",Vfr:"\u{1D519}",vfr:"\u{1D533}",vltri:"\u22B2",vnsub:"\u2282\u20D2",vnsup:"\u2283\u20D2",Vopf:"\u{1D54D}",vopf:"\u{1D567}",vprop:"\u221D",vrtri:"\u22B3",Vscr:"\u{1D4B1}",vscr:"\u{1D4CB}",vsubnE:"\u2ACB\uFE00",vsubne:"\u228A\uFE00",vsupnE:"\u2ACC\uFE00",vsupne:"\u228B\uFE00",Vvdash:"\u22AA",vzigzag:"\u299A",Wcirc:"\u0174",wcirc:"\u0175",wedbar:"\u2A5F",Wedge:"\u22C0",wedge:"\u2227",wedgeq:"\u2259",weierp:"\u2118",Wfr:"\u{1D51A}",wfr:"\u{1D534}",Wopf:"\u{1D54E}",wopf:"\u{1D568}",wp:"\u2118",wr:"\u2240",wreath:"\u2240",Wscr:"\u{1D4B2}",wscr:"\u{1D4CC}",xcap:"\u22C2",xcirc:"\u25EF",xcup:"\u22C3",xdtri:"\u25BD",Xfr:"\u{1D51B}",xfr:"\u{1D535}",xhArr:"\u27FA",xharr:"\u27F7",Xi:"\u039E",xi:"\u03BE",xlArr:"\u27F8",xlarr:"\u27F5",xmap:"\u27FC",xnis:"\u22FB",xodot:"\u2A00",Xopf:"\u{1D54F}",xopf:"\u{1D569}",xoplus:"\u2A01",xotime:"\u2A02",xrArr:"\u27F9",xrarr:"\u27F6",Xscr:"\u{1D4B3}",xscr:"\u{1D4CD}",xsqcup:"\u2A06",xuplus:"\u2A04",xutri:"\u25B3",xvee:"\u22C1",xwedge:"\u22C0",Yacute:"\xDD",yacute:"\xFD",YAcy:"\u042F",yacy:"\u044F",Ycirc:"\u0176",ycirc:"\u0177",Ycy:"\u042B",ycy:"\u044B",yen:"\xA5",Yfr:"\u{1D51C}",yfr:"\u{1D536}",YIcy:"\u0407",yicy:"\u0457",Yopf:"\u{1D550}",yopf:"\u{1D56A}",Yscr:"\u{1D4B4}",yscr:"\u{1D4CE}",YUcy:"\u042E",yucy:"\u044E",Yuml:"\u0178",yuml:"\xFF",Zacute:"\u0179",zacute:"\u017A",Zcaron:"\u017D",zcaron:"\u017E",Zcy:"\u0417",zcy:"\u0437",Zdot:"\u017B",zdot:"\u017C",zeetrf:"\u2128",ZeroWidthSpace:"\u200B",Zeta:"\u0396",zeta:"\u03B6",Zfr:"\u2128",zfr:"\u{1D537}",ZHcy:"\u0416",zhcy:"\u0436",zigrarr:"\u21DD",Zopf:"\u2124",zopf:"\u{1D56B}",Zscr:"\u{1D4B5}",zscr:"\u{1D4CF}",zwj:"\u200D",zwnj:"\u200C"});eg.entityMap=eg.HTML_ENTITIES});var ik=ot(Z2=>{Ne();Le();ke();var ig=Yp().NAMESPACE,K2=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,ZN=new RegExp("[\\-\\.0-9"+K2.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),JN=new RegExp("^"+K2.source+ZN.source+"*(?::"+K2.source+ZN.source+"*)?$"),tg=0,wl=1,fh=2,rg=3,hh=4,dh=5,ng=6,Cb=7;function ph(r,e){this.message=r,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,ph)}ph.prototype=new Error;ph.prototype.name=ph.name;function tk(){}tk.prototype={parse:function(r,e,t){var n=this.domBuilder;n.startDocument(),rk(e,e={}),D9(r,e,t,n,this.errorHandler),n.endDocument()}};function D9(r,e,t,n,i){function o(Ae){if(Ae>65535){Ae-=65536;var j=55296+(Ae>>10),I=56320+(Ae&1023);return String.fromCharCode(j,I)}else return String.fromCharCode(Ae)}function s(Ae){var j=Ae.slice(1,-1);return Object.hasOwnProperty.call(t,j)?t[j]:j.charAt(0)==="#"?o(parseInt(j.substr(1).replace("x","0x"))):(i.error("entity not found:"+Ae),Ae)}function a(Ae){if(Ae>v){var j=r.substring(v,Ae).replace(/&#?\w+;/g,s);d&&u(v),n.characters(j,0,Ae-v),v=Ae}}function u(Ae,j){for(;Ae>=f&&(j=h.exec(r));)c=j.index,f=c+j[0].length,d.lineNumber++;d.columnNumber=Ae-c+1}for(var c=0,f=0,h=/.*(?:\r\n?|\n)|.*$/g,d=n.locator,g=[{currentNSMap:e}],b={},v=0;;){try{var w=r.indexOf("<",v);if(w<0){if(!r.substr(v).match(/^\s*$/)){var y=n.doc,_=y.createTextNode(r.substr(v));y.appendChild(_),n.currentElement=_}return}switch(w>v&&a(w),r.charAt(w+1)){case"/":var oe=r.indexOf(">",w+3),E=r.substring(w+2,oe).replace(/[ \t\n\r]+$/g,""),S=g.pop();oe<0?(E=r.substring(w+2).replace(/[\s<].*/,""),i.error("end tag name: "+E+" is not complete:"+S.tagName),oe=w+1+E.length):E.match(/\s</)&&(E=E.replace(/[\s<].*/,""),i.error("end tag name: "+E+" maybe not complete"),oe=w+1+E.length);var A=S.localNSMap,L=S.tagName==E,D=L||S.tagName&&S.tagName.toLowerCase()==E.toLowerCase();if(D){if(n.endElement(S.uri,S.localName,E),A)for(var K in A)Object.prototype.hasOwnProperty.call(A,K)&&n.endPrefixMapping(K);L||i.fatalError("end tag name: "+E+" is not match the current start tagName:"+S.tagName)}else g.push(S);oe++;break;case"?":d&&u(w),oe=L9(r,w,n);break;case"!":d&&u(w),oe=k9(r,w,n,i);break;default:d&&u(w);var re=new nk,q=g[g.length-1].currentNSMap,oe=I9(r,w,re,q,s,i),U=re.length;if(!re.closed&&N9(r,oe,re.tagName,b)&&(re.closed=!0,t.nbsp||i.warning("unclosed xml attribute")),d&&U){for(var H=QN(d,{}),ue=0;ue<U;ue++){var Se=re[ue];u(Se.offset),Se.locator=QN(d,{})}n.locator=H,ek(re,n,q)&&g.push(re),n.locator=d}else ek(re,n,q)&&g.push(re);ig.isHTML(re.uri)&&!re.closed?oe=O9(r,oe,re.tagName,s,n):oe++}}catch(Ae){if(Ae instanceof ph)throw Ae;i.error("element parse error: "+Ae),oe=-1}oe>v?v=oe:a(Math.max(w,v)+1)}}function QN(r,e){return e.lineNumber=r.lineNumber,e.columnNumber=r.columnNumber,e}function I9(r,e,t,n,i,o){function s(g,b,v){t.attributeNames.hasOwnProperty(g)&&o.fatalError("Attribute "+g+" redefined"),t.addValue(g,b.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,i),v)}for(var a,u,c=++e,f=tg;;){var h=r.charAt(c);switch(h){case"=":if(f===wl)a=r.slice(e,c),f=rg;else if(f===fh)f=rg;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(f===rg||f===wl)if(f===wl&&(o.warning('attribute value must after "="'),a=r.slice(e,c)),e=c+1,c=r.indexOf(h,e),c>0)u=r.slice(e,c),s(a,u,e-1),f=dh;else throw new Error("attribute value no end '"+h+"' match");else if(f==hh)u=r.slice(e,c),s(a,u,e),o.warning('attribute "'+a+'" missed start quot('+h+")!!"),e=c+1,f=dh;else throw new Error('attribute value must after "="');break;case"/":switch(f){case tg:t.setTagName(r.slice(e,c));case dh:case ng:case Cb:f=Cb,t.closed=!0;case hh:case wl:break;case fh:t.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return o.error("unexpected end of input"),f==tg&&t.setTagName(r.slice(e,c)),c;case">":switch(f){case tg:t.setTagName(r.slice(e,c));case dh:case ng:case Cb:break;case hh:case wl:u=r.slice(e,c),u.slice(-1)==="/"&&(t.closed=!0,u=u.slice(0,-1));case fh:f===fh&&(u=a),f==hh?(o.warning('attribute "'+u+'" missed quot(")!'),s(a,u,e)):((!ig.isHTML(n[""])||!u.match(/^(?:disabled|checked|selected)$/i))&&o.warning('attribute "'+u+'" missed value!! "'+u+'" instead!!'),s(u,u,e));break;case rg:throw new Error("attribute value missed!!")}return c;case"\x80":h=" ";default:if(h<=" ")switch(f){case tg:t.setTagName(r.slice(e,c)),f=ng;break;case wl:a=r.slice(e,c),f=fh;break;case hh:var u=r.slice(e,c);o.warning('attribute "'+u+'" missed quot(")!!'),s(a,u,e);case dh:f=ng;break}else switch(f){case fh:var d=t.tagName;(!ig.isHTML(n[""])||!a.match(/^(?:disabled|checked|selected)$/i))&&o.warning('attribute "'+a+'" missed value!! "'+a+'" instead2!!'),s(a,a,e),e=c,f=wl;break;case dh:o.warning('attribute space is required"'+a+'"!!');case ng:f=wl,e=c;break;case rg:f=hh,e=c;break;case Cb:throw new Error("elements closed character '/' and '>' must be connected to")}}c++}}function ek(r,e,t){for(var n=r.tagName,i=null,h=r.length;h--;){var o=r[h],s=o.qName,a=o.value,d=s.indexOf(":");if(d>0)var u=o.prefix=s.slice(0,d),c=s.slice(d+1),f=u==="xmlns"&&c;else c=s,u=null,f=s==="xmlns"&&"";o.localName=c,f!==!1&&(i==null&&(i={},rk(t,t={})),t[f]=i[f]=a,o.uri=ig.XMLNS,e.startPrefixMapping(f,a))}for(var h=r.length;h--;){o=r[h];var u=o.prefix;u&&(u==="xml"&&(o.uri=ig.XML),u!=="xmlns"&&(o.uri=t[u||""]))}var d=n.indexOf(":");d>0?(u=r.prefix=n.slice(0,d),c=r.localName=n.slice(d+1)):(u=null,c=r.localName=n);var g=r.uri=t[u||""];if(e.startElement(g,c,n,r),r.closed){if(e.endElement(g,c,n),i)for(u in i)Object.prototype.hasOwnProperty.call(i,u)&&e.endPrefixMapping(u)}else return r.currentNSMap=t,r.localNSMap=i,!0}function O9(r,e,t,n,i){if(/^(?:script|textarea)$/i.test(t)){var o=r.indexOf("</"+t+">",e),s=r.substring(e+1,o);if(/[&<]/.test(s))return/^script$/i.test(t)?(i.characters(s,0,s.length),o):(s=s.replace(/&#?\w+;/g,n),i.characters(s,0,s.length),o)}return e+1}function N9(r,e,t,n){var i=n[t];return i==null&&(i=r.lastIndexOf("</"+t+">"),i<e&&(i=r.lastIndexOf("</"+t)),n[t]=i),i<e}function rk(r,e){for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}function k9(r,e,t,n){var i=r.charAt(e+2);switch(i){case"-":if(r.charAt(e+3)==="-"){var o=r.indexOf("-->",e+4);return o>e?(t.comment(r,e+4,o-e-4),o+3):(n.error("Unclosed comment"),-1)}else return-1;default:if(r.substr(e+3,6)=="CDATA["){var o=r.indexOf("]]>",e+9);return t.startCDATA(),t.characters(r,e+9,o-e-9),t.endCDATA(),o+3}var s=P9(r,e),a=s.length;if(a>1&&/!doctype/i.test(s[0][0])){var u=s[1][0],c=!1,f=!1;a>3&&(/^public$/i.test(s[2][0])?(c=s[3][0],f=a>4&&s[4][0]):/^system$/i.test(s[2][0])&&(f=s[3][0]));var h=s[a-1];return t.startDTD(u,c,f),t.endDTD(),h.index+h[0].length}}return-1}function L9(r,e,t){var n=r.indexOf("?>",e);if(n){var i=r.substring(e,n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(i){var o=i[0].length;return t.processingInstruction(i[1],i[2]),n+2}else return-1}return-1}function nk(){this.attributeNames={}}nk.prototype={setTagName:function(r){if(!JN.test(r))throw new Error("invalid tagName:"+r);this.tagName=r},addValue:function(r,e,t){if(!JN.test(r))throw new Error("invalid attribute:"+r);this.attributeNames[r]=this.length,this[this.length++]={qName:r,value:e,offset:t}},length:0,getLocalName:function(r){return this[r].localName},getLocator:function(r){return this[r].locator},getQName:function(r){return this[r].qName},getURI:function(r){return this[r].uri},getValue:function(r){return this[r].value}};function P9(r,e){var t,n=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(i.lastIndex=e,i.exec(r);t=i.exec(r);)if(n.push(t),t[1])return n}Z2.XMLReader=tk;Z2.ParseError=ph});var fk=ot(Db=>{Ne();Le();ke();var B9=Yp(),M9=X2(),sk=KN(),lk=ik(),F9=M9.DOMImplementation,ok=B9.NAMESPACE,U9=lk.ParseError,j9=lk.XMLReader;function uk(r){return r.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function ck(r){this.options=r||{locator:{}}}ck.prototype.parseFromString=function(r,e){var t=this.options,n=new j9,i=t.domBuilder||new sg,o=t.errorHandler,s=t.locator,a=t.xmlns||{},u=/\/x?html?$/.test(e),c=u?sk.HTML_ENTITIES:sk.XML_ENTITIES;s&&i.setDocumentLocator(s),n.errorHandler=$9(o,i,s),n.domBuilder=t.domBuilder||i,u&&(a[""]=ok.HTML),a.xml=a.xml||ok.XML;var f=t.normalizeLineEndings||uk;return r&&typeof r=="string"?n.parse(f(r),a,c):n.errorHandler.error("invalid doc source"),i.doc};function $9(r,e,t){if(!r){if(e instanceof sg)return e;r=e}var n={},i=r instanceof Function;t=t||{};function o(s){var a=r[s];!a&&i&&(a=r.length==2?function(u){r(s,u)}:r),n[s]=a&&function(u){a("[xmldom "+s+"]	"+u+J2(t))}||function(){}}return o("warning"),o("error"),o("fatalError"),n}function sg(){this.cdata=!1}function gh(r,e){e.lineNumber=r.lineNumber,e.columnNumber=r.columnNumber}sg.prototype={startDocument:function(){this.doc=new F9().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(r,e,t,n){var i=this.doc,o=i.createElementNS(r,t||e),s=n.length;Rb(this,o),this.currentElement=o,this.locator&&gh(this.locator,o);for(var a=0;a<s;a++){var r=n.getURI(a),u=n.getValue(a),t=n.getQName(a),c=i.createAttributeNS(r,t);this.locator&&gh(n.getLocator(a),c),c.value=c.nodeValue=u,o.setAttributeNode(c)}},endElement:function(r,e,t){var n=this.currentElement,i=n.tagName;this.currentElement=n.parentNode},startPrefixMapping:function(r,e){},endPrefixMapping:function(r){},processingInstruction:function(r,e){var t=this.doc.createProcessingInstruction(r,e);this.locator&&gh(this.locator,t),Rb(this,t)},ignorableWhitespace:function(r,e,t){},characters:function(r,e,t){if(r=ak.apply(this,arguments),r){if(this.cdata)var n=this.doc.createCDATASection(r);else var n=this.doc.createTextNode(r);this.currentElement?this.currentElement.appendChild(n):/^\s*$/.test(r)&&this.doc.appendChild(n),this.locator&&gh(this.locator,n)}},skippedEntity:function(r){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(r){(this.locator=r)&&(r.lineNumber=0)},comment:function(r,e,t){r=ak.apply(this,arguments);var n=this.doc.createComment(r);this.locator&&gh(this.locator,n),Rb(this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(r,e,t){var n=this.doc.implementation;if(n&&n.createDocumentType){var i=n.createDocumentType(r,e,t);this.locator&&gh(this.locator,i),Rb(this,i),this.doc.doctype=i}},warning:function(r){console.warn("[xmldom warning]	"+r,J2(this.locator))},error:function(r){console.error("[xmldom error]	"+r,J2(this.locator))},fatalError:function(r){throw new U9(r,this.locator)}};function J2(r){if(r)return`
@`+(r.systemId||"")+"#[line:"+r.lineNumber+",col:"+r.columnNumber+"]"}function ak(r,e,t){return typeof r=="string"?r.substr(e,t):r.length>=e+t||e?new java.lang.String(r,e,t)+"":r}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(r){sg.prototype[r]=function(){return null}});function Rb(r,e){r.currentElement?r.currentElement.appendChild(e):r.doc.appendChild(e)}Db.__DOMHandler=sg;Db.normalizeLineEndings=uk;Db.DOMParser=ck});var og=ot(Ib=>{Ne();Le();ke();var hk=X2();Ib.DOMImplementation=hk.DOMImplementation;Ib.XMLSerializer=hk.XMLSerializer;Ib.DOMParser=fk().DOMParser});var mk=ot((fJ,e1)=>{Ne();Le();ke();var Q2=(function(r){"use strict";var e=Object.prototype,t=e.hasOwnProperty,n=Object.defineProperty||function(j,I,se){j[I]=se.value},i,o=typeof Symbol=="function"?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(j,I,se){return Object.defineProperty(j,I,{value:se,enumerable:!0,configurable:!0,writable:!0}),j[I]}try{c({},"")}catch{c=function(I,se,z){return I[se]=z}}function f(j,I,se,z){var ie=I&&I.prototype instanceof y?I:y,V=Object.create(ie.prototype),X=new ue(z||[]);return n(V,"_invoke",{value:q(j,se,X)}),V}r.wrap=f;function h(j,I,se){try{return{type:"normal",arg:j.call(I,se)}}catch(z){return{type:"throw",arg:z}}}var d="suspendedStart",g="suspendedYield",b="executing",v="completed",w={};function y(){}function _(){}function E(){}var S={};c(S,s,function(){return this});var A=Object.getPrototypeOf,L=A&&A(A(Se([])));L&&L!==e&&t.call(L,s)&&(S=L);var D=E.prototype=y.prototype=Object.create(S);_.prototype=E,n(D,"constructor",{value:E,configurable:!0}),n(E,"constructor",{value:_,configurable:!0}),_.displayName=c(E,u,"GeneratorFunction");function K(j){["next","throw","return"].forEach(function(I){c(j,I,function(se){return this._invoke(I,se)})})}r.isGeneratorFunction=function(j){var I=typeof j=="function"&&j.constructor;return I?I===_||(I.displayName||I.name)==="GeneratorFunction":!1},r.mark=function(j){return Object.setPrototypeOf?Object.setPrototypeOf(j,E):(j.__proto__=E,c(j,u,"GeneratorFunction")),j.prototype=Object.create(D),j},r.awrap=function(j){return{__await:j}};function re(j,I){function se(V,X,we,ve){var de=h(j[V],j,X);if(de.type==="throw")ve(de.arg);else{var M=de.arg,N=M.value;return N&&typeof N=="object"&&t.call(N,"__await")?I.resolve(N.__await).then(function($){se("next",$,we,ve)},function($){se("throw",$,we,ve)}):I.resolve(N).then(function($){M.value=$,we(M)},function($){return se("throw",$,we,ve)})}}var z;function ie(V,X){function we(){return new I(function(ve,de){se(V,X,ve,de)})}return z=z?z.then(we,we):we()}n(this,"_invoke",{value:ie})}K(re.prototype),c(re.prototype,a,function(){return this}),r.AsyncIterator=re,r.async=function(j,I,se,z,ie){ie===void 0&&(ie=Promise);var V=new re(f(j,I,se,z),ie);return r.isGeneratorFunction(I)?V:V.next().then(function(X){return X.done?X.value:V.next()})};function q(j,I,se){var z=d;return function(V,X){if(z===b)throw new Error("Generator is already running");if(z===v){if(V==="throw")throw X;return Ae()}for(se.method=V,se.arg=X;;){var we=se.delegate;if(we){var ve=oe(we,se);if(ve){if(ve===w)continue;return ve}}if(se.method==="next")se.sent=se._sent=se.arg;else if(se.method==="throw"){if(z===d)throw z=v,se.arg;se.dispatchException(se.arg)}else se.method==="return"&&se.abrupt("return",se.arg);z=b;var de=h(j,I,se);if(de.type==="normal"){if(z=se.done?v:g,de.arg===w)continue;return{value:de.arg,done:se.done}}else de.type==="throw"&&(z=v,se.method="throw",se.arg=de.arg)}}}function oe(j,I){var se=I.method,z=j.iterator[se];if(z===i)return I.delegate=null,se==="throw"&&j.iterator.return&&(I.method="return",I.arg=i,oe(j,I),I.method==="throw")||se!=="return"&&(I.method="throw",I.arg=new TypeError("The iterator does not provide a '"+se+"' method")),w;var ie=h(z,j.iterator,I.arg);if(ie.type==="throw")return I.method="throw",I.arg=ie.arg,I.delegate=null,w;var V=ie.arg;if(!V)return I.method="throw",I.arg=new TypeError("iterator result is not an object"),I.delegate=null,w;if(V.done)I[j.resultName]=V.value,I.next=j.nextLoc,I.method!=="return"&&(I.method="next",I.arg=i);else return V;return I.delegate=null,w}K(D),c(D,u,"Generator"),c(D,s,function(){return this}),c(D,"toString",function(){return"[object Generator]"});function U(j){var I={tryLoc:j[0]};1 in j&&(I.catchLoc=j[1]),2 in j&&(I.finallyLoc=j[2],I.afterLoc=j[3]),this.tryEntries.push(I)}function H(j){var I=j.completion||{};I.type="normal",delete I.arg,j.completion=I}function ue(j){this.tryEntries=[{tryLoc:"root"}],j.forEach(U,this),this.reset(!0)}r.keys=function(j){var I=Object(j),se=[];for(var z in I)se.push(z);return se.reverse(),function ie(){for(;se.length;){var V=se.pop();if(V in I)return ie.value=V,ie.done=!1,ie}return ie.done=!0,ie}};function Se(j){if(j){var I=j[s];if(I)return I.call(j);if(typeof j.next=="function")return j;if(!isNaN(j.length)){var se=-1,z=function ie(){for(;++se<j.length;)if(t.call(j,se))return ie.value=j[se],ie.done=!1,ie;return ie.value=i,ie.done=!0,ie};return z.next=z}}return{next:Ae}}r.values=Se;function Ae(){return{value:i,done:!0}}return ue.prototype={constructor:ue,reset:function(j){if(this.prev=0,this.next=0,this.sent=this._sent=i,this.done=!1,this.delegate=null,this.method="next",this.arg=i,this.tryEntries.forEach(H),!j)for(var I in this)I.charAt(0)==="t"&&t.call(this,I)&&!isNaN(+I.slice(1))&&(this[I]=i)},stop:function(){this.done=!0;var j=this.tryEntries[0],I=j.completion;if(I.type==="throw")throw I.arg;return this.rval},dispatchException:function(j){if(this.done)throw j;var I=this;function se(ve,de){return V.type="throw",V.arg=j,I.next=ve,de&&(I.method="next",I.arg=i),!!de}for(var z=this.tryEntries.length-1;z>=0;--z){var ie=this.tryEntries[z],V=ie.completion;if(ie.tryLoc==="root")return se("end");if(ie.tryLoc<=this.prev){var X=t.call(ie,"catchLoc"),we=t.call(ie,"finallyLoc");if(X&&we){if(this.prev<ie.catchLoc)return se(ie.catchLoc,!0);if(this.prev<ie.finallyLoc)return se(ie.finallyLoc)}else if(X){if(this.prev<ie.catchLoc)return se(ie.catchLoc,!0)}else if(we){if(this.prev<ie.finallyLoc)return se(ie.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(j,I){for(var se=this.tryEntries.length-1;se>=0;--se){var z=this.tryEntries[se];if(z.tryLoc<=this.prev&&t.call(z,"finallyLoc")&&this.prev<z.finallyLoc){var ie=z;break}}ie&&(j==="break"||j==="continue")&&ie.tryLoc<=I&&I<=ie.finallyLoc&&(ie=null);var V=ie?ie.completion:{};return V.type=j,V.arg=I,ie?(this.method="next",this.next=ie.finallyLoc,w):this.complete(V)},complete:function(j,I){if(j.type==="throw")throw j.arg;return j.type==="break"||j.type==="continue"?this.next=j.arg:j.type==="return"?(this.rval=this.arg=j.arg,this.method="return",this.next="end"):j.type==="normal"&&I&&(this.next=I),w},finish:function(j){for(var I=this.tryEntries.length-1;I>=0;--I){var se=this.tryEntries[I];if(se.finallyLoc===j)return this.complete(se.completion,se.afterLoc),H(se),w}},catch:function(j){for(var I=this.tryEntries.length-1;I>=0;--I){var se=this.tryEntries[I];if(se.tryLoc===j){var z=se.completion;if(z.type==="throw"){var ie=z.arg;H(se)}return ie}}throw new Error("illegal catch attempt")},delegateYield:function(j,I,se){return this.delegate={iterator:Se(j),resultName:I,nextLoc:se},this.method==="next"&&(this.arg=i),w}},r})(typeof e1=="object"?e1.exports:{});try{regeneratorRuntime=Q2}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=Q2:Function("r","regeneratorRuntime = r")(Q2)}});var Ob=ot((gJ,yk)=>{"use strict";Ne();Le();ke();yk.exports=(r,e)=>`${r}-${e}-${Math.random().toString(16).slice(3,8)}`});var t1=ot((wJ,wk)=>{"use strict";Ne();Le();ke();var Y9=Ob(),bk=0;wk.exports=({id:r,action:e,payload:t={}})=>{let n=r;return typeof n>"u"&&(n=Y9("Job",bk),bk+=1),{id:n,action:e,payload:t}}});var Nb=ot(ag=>{"use strict";Ne();Le();ke();var r1=!1;ag.logging=r1;ag.setLogging=r=>{r1=r};ag.log=(...r)=>r1?console.log.apply(ag,r):null});var Ak=ot((_k,Ek)=>{"use strict";Ne();Le();ke();var X9=t1(),{log:kb}=Nb(),K9=Ob(),vk=0;Ek.exports=()=>{let r=K9("Scheduler",vk),e={},t={},n=[];vk+=1;let i=()=>n.length,o=()=>Object.keys(e).length,s=()=>{if(n.length!==0){let h=Object.keys(e);for(let d=0;d<h.length;d+=1)if(typeof t[h[d]]>"u"){n[0](e[h[d]]);break}}},a=(h,d)=>new Promise((g,b)=>{let v=X9({action:h,payload:d});n.push(async w=>{n.shift(),t[w.id]=v;try{g(await w[h].apply(_k,[...d,v.id]))}catch(y){b(y)}finally{delete t[w.id],s()}}),kb(`[${r}]: Add ${v.id} to JobQueue`),kb(`[${r}]: JobQueue length=${n.length}`),s()});return{addWorker:h=>(e[h.id]=h,kb(`[${r}]: Add ${h.id}`),kb(`[${r}]: Number of workers=${o()}`),s(),h.id),addJob:async(h,...d)=>{if(o()===0)throw Error(`[${r}]: You need to have at least one worker before adding jobs`);return a(h,d)},terminate:async()=>{Object.keys(e).forEach(async h=>{await e[h].terminate()}),n=[]},getQueueLen:i,getNumWorkers:o}}});var Sk=ot((IJ,xk)=>{"use strict";Ne();Le();ke();xk.exports=r=>{let e={};return typeof WorkerGlobalScope<"u"?e.type="webworker":typeof document=="object"?e.type="browser":typeof process=="object"&&typeof Su=="function"&&(e.type="node"),typeof r>"u"?e:e[r]}});var Ck=ot((PJ,Tk)=>{"use strict";Ne();Le();ke();var Z9=Sk()("type")==="browser",J9=Z9?r=>new URL(r,window.location.href).href:r=>r;Tk.exports=r=>{let e={...r};return["corePath","workerPath","langPath"].forEach(t=>{r[t]&&(e[t]=J9(e[t]))}),e}});var n1=ot((UJ,Rk)=>{"use strict";Ne();Le();ke();Rk.exports={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3}});var Dk=ot((WJ,Q9)=>{Q9.exports={name:"tesseract.js",version:"6.0.1",description:"Pure Javascript Multilingual OCR",main:"src/index.js",type:"commonjs",types:"src/index.d.ts",unpkg:"dist/tesseract.min.js",jsdelivr:"dist/tesseract.min.js",scripts:{start:"node scripts/server.js",build:"rimraf dist && webpack --config scripts/webpack.config.prod.js && rollup -c scripts/rollup.esm.mjs","profile:tesseract":"webpack-bundle-analyzer dist/tesseract-stats.json","profile:worker":"webpack-bundle-analyzer dist/worker-stats.json",prepublishOnly:"npm run build",wait:"rimraf dist && wait-on http://localhost:3000/dist/tesseract.min.js",test:"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:browser test:node:all","test:browser":"karma start karma.conf.js","test:node":"nyc mocha --exit --bail --require ./scripts/test-helper.mjs","test:node:all":"npm run test:node -- ./tests/*.test.mjs",lint:"eslint src","lint:fix":"eslint --fix src",postinstall:"opencollective-postinstall || true"},browser:{"./src/worker/node/index.js":"./src/worker/browser/index.js"},author:"",contributors:["jeromewu"],license:"Apache-2.0",devDependencies:{"@babel/core":"^7.21.4","@babel/eslint-parser":"^7.21.3","@babel/preset-env":"^7.21.4","@rollup/plugin-commonjs":"^24.1.0",acorn:"^8.8.2","babel-loader":"^9.1.2",buffer:"^6.0.3",cors:"^2.8.5",eslint:"^7.32.0","eslint-config-airbnb-base":"^14.2.1","eslint-plugin-import":"^2.27.5","expect.js":"^0.3.1",express:"^4.18.2",mocha:"^10.2.0","npm-run-all":"^4.1.5",karma:"^6.4.2","karma-chrome-launcher":"^3.2.0","karma-firefox-launcher":"^2.1.2","karma-mocha":"^2.0.1","karma-webpack":"^5.0.0",nyc:"^15.1.0",rimraf:"^5.0.0",rollup:"^3.20.7","wait-on":"^7.0.1",webpack:"^5.79.0","webpack-bundle-analyzer":"^4.8.0","webpack-cli":"^5.0.1","webpack-dev-middleware":"^6.0.2","rollup-plugin-sourcemaps":"^0.6.3"},dependencies:{"bmp-js":"^0.1.0","idb-keyval":"^6.2.0","is-url":"^1.2.4","node-fetch":"^2.6.9","opencollective-postinstall":"^2.0.3","regenerator-runtime":"^0.13.3","tesseract.js-core":"^6.0.0","wasm-feature-detect":"^1.2.11",zlibjs:"^0.3.1"},overrides:{"@rollup/pluginutils":"^5.0.2"},repository:{type:"git",url:"https://github.com/naptha/tesseract.js.git"},bugs:{url:"https://github.com/naptha/tesseract.js/issues"},homepage:"https://github.com/naptha/tesseract.js",collective:{type:"opencollective",url:"https://opencollective.com/tesseractjs"}}});var Ok=ot((qJ,Ik)=>{"use strict";Ne();Le();ke();Ik.exports={workerBlobURL:!0,logger:()=>{}}});var kk=ot((YJ,Nk)=>{"use strict";Ne();Le();ke();var e7=Dk().version,t7=Ok();Nk.exports={...t7,workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${e7}/dist/worker.min.js`}});var Pk=ot((JJ,Lk)=>{"use strict";Ne();Le();ke();Lk.exports=({workerPath:r,workerBlobURL:e})=>{let t;if(Blob&&URL&&e){let n=new Blob([`importScripts("${r}");`],{type:"application/javascript"});t=new Worker(URL.createObjectURL(n))}else t=new Worker(r);return t}});var Mk=ot((rQ,Bk)=>{"use strict";Ne();Le();ke();Bk.exports=r=>{r.terminate()}});var Uk=ot((oQ,Fk)=>{"use strict";Ne();Le();ke();Fk.exports=(r,e)=>{r.onmessage=({data:t})=>{e(t)}}});var $k=ot((cQ,jk)=>{"use strict";Ne();Le();ke();jk.exports=async(r,e)=>{r.postMessage(e)}});var Wk=ot((pQ,zk)=>{"use strict";Ne();Le();ke();var i1=r=>new Promise((e,t)=>{let n=new FileReader;n.onload=()=>{e(n.result)},n.onerror=({target:{error:{code:i}}})=>{t(Error(`File could not be read! Code=${i}`))},n.readAsArrayBuffer(r)}),s1=async r=>{let e=r;if(typeof r>"u")return"undefined";if(typeof r=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(r)?e=atob(r.split(",")[1]).split("").map(t=>t.charCodeAt(0)):e=await(await fetch(r)).arrayBuffer();else if(typeof HTMLElement<"u"&&r instanceof HTMLElement)r.tagName==="IMG"&&(e=await s1(r.src)),r.tagName==="VIDEO"&&(e=await s1(r.poster)),r.tagName==="CANVAS"&&await new Promise(t=>{r.toBlob(async n=>{e=await i1(n),t()})});else if(typeof OffscreenCanvas<"u"&&r instanceof OffscreenCanvas){let t=await r.convertToBlob();e=await i1(t)}else(r instanceof File||r instanceof Blob)&&(e=await i1(r));return new Uint8Array(e)};zk.exports=s1});var Hk=ot((bQ,qk)=>{"use strict";Ne();Le();ke();var r7=kk(),n7=Pk(),i7=Mk(),s7=Uk(),o7=$k(),a7=Wk();qk.exports={defaultOptions:r7,spawnWorker:n7,terminateWorker:i7,onMessage:s7,send:o7,loadImage:a7}});var o1=ot((EQ,Xk)=>{"use strict";Ne();Le();ke();var l7=Ck(),oo=t1(),{log:Gk}=Nb(),u7=Ob(),Ku=n1(),{defaultOptions:c7,spawnWorker:f7,terminateWorker:h7,onMessage:d7,loadImage:Vk,send:p7}=Hk(),Yk=0;Xk.exports=async(r="eng",e=Ku.LSTM_ONLY,t={},n={})=>{let i=u7("Worker",Yk),{logger:o,errorHandler:s,...a}=l7({...c7,...t}),u={},c=typeof r=="string"?r.split("+"):r,f=e,h=n,d=[Ku.DEFAULT,Ku.LSTM_ONLY].includes(e)&&!a.legacyCore,g,b,v=new Promise((j,I)=>{b=j,g=I}),w=j=>{g(j.message)},y=f7(a);y.onerror=w,Yk+=1;let _=({id:j,action:I,payload:se})=>new Promise((z,ie)=>{Gk(`[${i}]: Start ${j}, action=${I}`);let V=`${I}-${j}`;u[V]={resolve:z,reject:ie},p7(y,{workerId:i,jobId:j,action:I,payload:se})}),E=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),S=j=>_(oo({id:j,action:"load",payload:{options:{lstmOnly:d,corePath:a.corePath,logging:a.logging}}})),A=(j,I,se)=>_(oo({id:se,action:"FS",payload:{method:"writeFile",args:[j,I]}})),L=(j,I)=>_(oo({id:I,action:"FS",payload:{method:"readFile",args:[j,{encoding:"utf8"}]}})),D=(j,I)=>_(oo({id:I,action:"FS",payload:{method:"unlink",args:[j]}})),K=(j,I,se)=>_(oo({id:se,action:"FS",payload:{method:j,args:I}})),re=(j,I)=>_(oo({id:I,action:"loadLanguage",payload:{langs:j,options:{langPath:a.langPath,dataPath:a.dataPath,cachePath:a.cachePath,cacheMethod:a.cacheMethod,gzip:a.gzip,lstmOnly:[Ku.DEFAULT,Ku.LSTM_ONLY].includes(f)&&!a.legacyLang}}})),q=(j,I,se,z)=>_(oo({id:z,action:"initialize",payload:{langs:j,oem:I,config:se}})),oe=(j="eng",I,se,z)=>{if(d&&[Ku.TESSERACT_ONLY,Ku.TESSERACT_LSTM_COMBINED].includes(I))throw Error("Legacy model requested but code missing.");let ie=I||f;f=ie;let V=se||h;h=V;let we=(typeof j=="string"?j.split("+"):j).filter(ve=>!c.includes(ve));return c.push(...we),we.length>0?re(we,z).then(()=>q(j,ie,V,z)):q(j,ie,V,z)},U=(j={},I)=>_(oo({id:I,action:"setParameters",payload:{params:j}})),H=async(j,I={},se={text:!0},z)=>_(oo({id:z,action:"recognize",payload:{image:await Vk(j),options:I,output:se}})),ue=async(j,I)=>{if(d)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return _(oo({id:I,action:"detect",payload:{image:await Vk(j)}}))},Se=async()=>(y!==null&&(h7(y),y=null),Promise.resolve());d7(y,({workerId:j,jobId:I,status:se,action:z,data:ie})=>{let V=`${z}-${I}`;if(se==="resolve")Gk(`[${j}]: Complete ${I}`),u[V].resolve({jobId:I,data:ie}),delete u[V];else if(se==="reject")if(u[V].reject(ie),delete u[V],z==="load"&&g(ie),s)s(ie);else throw Error(ie);else se==="progress"&&o({...ie,userJobId:I})});let Ae={id:i,worker:y,load:E,writeText:A,readText:L,removeFile:D,FS:K,reinitialize:oe,setParameters:U,recognize:H,detect:ue,terminate:Se};return S().then(()=>re(r)).then(()=>q(r,e,n)).then(()=>b(Ae)).catch(()=>{}),v}});var Jk=ot((TQ,Zk)=>{"use strict";Ne();Le();ke();var Kk=o1(),g7=async(r,e,t)=>{let n=await Kk(e,1,t);return n.recognize(r).finally(async()=>{await n.terminate()})},m7=async(r,e)=>{let t=await Kk("osd",0,e);return t.detect(r).finally(async()=>{await t.terminate()})};Zk.exports={recognize:g7,detect:m7}});var eL=ot((IQ,Qk)=>{"use strict";Ne();Le();ke();Qk.exports={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"}});var rL=ot((LQ,tL)=>{"use strict";Ne();Le();ke();tL.exports={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"}});var iL=ot((FQ,nL)=>{"use strict";Ne();Le();ke();mk();var y7=Ak(),b7=o1(),w7=Jk(),v7=eL(),_7=n1(),E7=rL(),{setLogging:A7}=Nb();nL.exports={languages:v7,OEM:_7,PSM:E7,createScheduler:y7,createWorker:b7,setLogging:A7,...w7}});var _L={};Uo(_L,{Deflate:()=>L7,DeflateRaw:()=>P7,Gunzip:()=>B7,Gzip:()=>M7,Inflate:()=>F7,InflateRaw:()=>U7,Unzip:()=>j7,Z_BEST_COMPRESSION:()=>$7,Z_BEST_SPEED:()=>z7,Z_BINARY:()=>W7,Z_BLOCK:()=>q7,Z_BUF_ERROR:()=>H7,Z_DATA_ERROR:()=>G7,Z_DEFAULT_CHUNK:()=>V7,Z_DEFAULT_COMPRESSION:()=>Y7,Z_DEFAULT_LEVEL:()=>X7,Z_DEFAULT_MEMLEVEL:()=>K7,Z_DEFAULT_STRATEGY:()=>Z7,Z_DEFAULT_WINDOWBITS:()=>J7,Z_DEFLATED:()=>Q7,Z_ERRNO:()=>ez,Z_FILTERED:()=>tz,Z_FINISH:()=>rz,Z_FIXED:()=>nz,Z_FULL_FLUSH:()=>iz,Z_HUFFMAN_ONLY:()=>sz,Z_MAX_CHUNK:()=>oz,Z_MAX_LEVEL:()=>az,Z_MAX_MEMLEVEL:()=>lz,Z_MAX_WINDOWBITS:()=>uz,Z_MIN_CHUNK:()=>cz,Z_MIN_LEVEL:()=>fz,Z_MIN_MEMLEVEL:()=>hz,Z_MIN_WINDOWBITS:()=>dz,Z_NEED_DICT:()=>pz,Z_NO_COMPRESSION:()=>gz,Z_NO_FLUSH:()=>mz,Z_OK:()=>yz,Z_PARTIAL_FLUSH:()=>bz,Z_RLE:()=>wz,Z_STREAM_END:()=>vz,Z_STREAM_ERROR:()=>_z,Z_SYNC_FLUSH:()=>Ez,Z_TEXT:()=>Az,Z_TREES:()=>xz,Z_UNKNOWN:()=>Sz,Zlib:()=>Tz,codes:()=>Cz,createDeflate:()=>Rz,createDeflateRaw:()=>Dz,createGunzip:()=>Iz,createGzip:()=>Oz,createInflate:()=>Nz,createInflateRaw:()=>kz,createUnzip:()=>Lz,default:()=>Ze,deflate:()=>Pz,deflateRaw:()=>Bz,deflateRawSync:()=>Mz,deflateSync:()=>Fz,gunzip:()=>Uz,gunzipSync:()=>jz,gzip:()=>$z,gzipSync:()=>zz,inflate:()=>Wz,inflateRaw:()=>qz,inflateRawSync:()=>Hz,inflateSync:()=>Gz,unzip:()=>Vz,unzipSync:()=>Yz});function x7(){if(oL)return a1;oL=!0;function r(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}return a1=r,a1}function Lb(){if(aL)return Pn;aL=!0;var r=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function e(i,o){return Object.prototype.hasOwnProperty.call(i,o)}Pn.assign=function(i){for(var o=Array.prototype.slice.call(arguments,1);o.length;){var s=o.shift();if(s){if(typeof s!="object")throw new TypeError(s+"must be non-object");for(var a in s)e(s,a)&&(i[a]=s[a])}}return i},Pn.shrinkBuf=function(i,o){return i.length===o?i:i.subarray?i.subarray(0,o):(i.length=o,i)};var t={arraySet:function(i,o,s,a,u){if(o.subarray&&i.subarray){i.set(o.subarray(s,s+a),u);return}for(var c=0;c<a;c++)i[u+c]=o[s+c]},flattenChunks:function(i){var o,s,a,u,c,f;for(a=0,o=0,s=i.length;o<s;o++)a+=i[o].length;for(f=new Uint8Array(a),u=0,o=0,s=i.length;o<s;o++)c=i[o],f.set(c,u),u+=c.length;return f}},n={arraySet:function(i,o,s,a,u){for(var c=0;c<a;c++)i[u+c]=o[s+c]},flattenChunks:function(i){return[].concat.apply([],i)}};return Pn.setTyped=function(i){i?(Pn.Buf8=Uint8Array,Pn.Buf16=Uint16Array,Pn.Buf32=Int32Array,Pn.assign(Pn,t)):(Pn.Buf8=Array,Pn.Buf16=Array,Pn.Buf32=Array,Pn.assign(Pn,n))},Pn.setTyped(r),Pn}function S7(){if(lL)return Zu;lL=!0;var r=Lb(),e=4,t=0,n=1,i=2;function o(T){for(var ae=T.length;--ae>=0;)T[ae]=0}var s=0,a=1,u=2,c=3,f=258,h=29,d=256,g=d+1+h,b=30,v=19,w=2*g+1,y=15,_=16,E=7,S=256,A=16,L=17,D=18,K=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],re=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],q=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],oe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],U=512,H=new Array((g+2)*2);o(H);var ue=new Array(b*2);o(ue);var Se=new Array(U);o(Se);var Ae=new Array(f-c+1);o(Ae);var j=new Array(h);o(j);var I=new Array(b);o(I);function se(T,ae,fe,Te,G){this.static_tree=T,this.extra_bits=ae,this.extra_base=fe,this.elems=Te,this.max_length=G,this.has_stree=T&&T.length}var z,ie,V;function X(T,ae){this.dyn_tree=T,this.max_code=0,this.stat_desc=ae}function we(T){return T<256?Se[T]:Se[256+(T>>>7)]}function ve(T,ae){T.pending_buf[T.pending++]=ae&255,T.pending_buf[T.pending++]=ae>>>8&255}function de(T,ae,fe){T.bi_valid>_-fe?(T.bi_buf|=ae<<T.bi_valid&65535,ve(T,T.bi_buf),T.bi_buf=ae>>_-T.bi_valid,T.bi_valid+=fe-_):(T.bi_buf|=ae<<T.bi_valid&65535,T.bi_valid+=fe)}function M(T,ae,fe){de(T,fe[ae*2],fe[ae*2+1])}function N(T,ae){var fe=0;do fe|=T&1,T>>>=1,fe<<=1;while(--ae>0);return fe>>>1}function $(T){T.bi_valid===16?(ve(T,T.bi_buf),T.bi_buf=0,T.bi_valid=0):T.bi_valid>=8&&(T.pending_buf[T.pending++]=T.bi_buf&255,T.bi_buf>>=8,T.bi_valid-=8)}function ne(T,ae){var fe=ae.dyn_tree,Te=ae.max_code,G=ae.stat_desc.static_tree,me=ae.stat_desc.has_stree,B=ae.stat_desc.extra_bits,Re=ae.stat_desc.extra_base,je=ae.stat_desc.max_length,R,Fe,Ue,he,Oe,Me,tt=0;for(he=0;he<=y;he++)T.bl_count[he]=0;for(fe[T.heap[T.heap_max]*2+1]=0,R=T.heap_max+1;R<w;R++)Fe=T.heap[R],he=fe[fe[Fe*2+1]*2+1]+1,he>je&&(he=je,tt++),fe[Fe*2+1]=he,!(Fe>Te)&&(T.bl_count[he]++,Oe=0,Fe>=Re&&(Oe=B[Fe-Re]),Me=fe[Fe*2],T.opt_len+=Me*(he+Oe),me&&(T.static_len+=Me*(G[Fe*2+1]+Oe)));if(tt!==0){do{for(he=je-1;T.bl_count[he]===0;)he--;T.bl_count[he]--,T.bl_count[he+1]+=2,T.bl_count[je]--,tt-=2}while(tt>0);for(he=je;he!==0;he--)for(Fe=T.bl_count[he];Fe!==0;)Ue=T.heap[--R],!(Ue>Te)&&(fe[Ue*2+1]!==he&&(T.opt_len+=(he-fe[Ue*2+1])*fe[Ue*2],fe[Ue*2+1]=he),Fe--)}}function ye(T,ae,fe){var Te=new Array(y+1),G=0,me,B;for(me=1;me<=y;me++)Te[me]=G=G+fe[me-1]<<1;for(B=0;B<=ae;B++){var Re=T[B*2+1];Re!==0&&(T[B*2]=N(Te[Re]++,Re))}}function P(){var T,ae,fe,Te,G,me=new Array(y+1);for(fe=0,Te=0;Te<h-1;Te++)for(j[Te]=fe,T=0;T<1<<K[Te];T++)Ae[fe++]=Te;for(Ae[fe-1]=Te,G=0,Te=0;Te<16;Te++)for(I[Te]=G,T=0;T<1<<re[Te];T++)Se[G++]=Te;for(G>>=7;Te<b;Te++)for(I[Te]=G<<7,T=0;T<1<<re[Te]-7;T++)Se[256+G++]=Te;for(ae=0;ae<=y;ae++)me[ae]=0;for(T=0;T<=143;)H[T*2+1]=8,T++,me[8]++;for(;T<=255;)H[T*2+1]=9,T++,me[9]++;for(;T<=279;)H[T*2+1]=7,T++,me[7]++;for(;T<=287;)H[T*2+1]=8,T++,me[8]++;for(ye(H,g+1,me),T=0;T<b;T++)ue[T*2+1]=5,ue[T*2]=N(T,5);z=new se(H,K,d+1,g,y),ie=new se(ue,re,0,b,y),V=new se(new Array(0),q,0,v,E)}function C(T){var ae;for(ae=0;ae<g;ae++)T.dyn_ltree[ae*2]=0;for(ae=0;ae<b;ae++)T.dyn_dtree[ae*2]=0;for(ae=0;ae<v;ae++)T.bl_tree[ae*2]=0;T.dyn_ltree[S*2]=1,T.opt_len=T.static_len=0,T.last_lit=T.matches=0}function F(T){T.bi_valid>8?ve(T,T.bi_buf):T.bi_valid>0&&(T.pending_buf[T.pending++]=T.bi_buf),T.bi_buf=0,T.bi_valid=0}function Q(T,ae,fe,Te){F(T),ve(T,fe),ve(T,~fe),r.arraySet(T.pending_buf,T.window,ae,fe,T.pending),T.pending+=fe}function Ee(T,ae,fe,Te){var G=ae*2,me=fe*2;return T[G]<T[me]||T[G]===T[me]&&Te[ae]<=Te[fe]}function pe(T,ae,fe){for(var Te=T.heap[fe],G=fe<<1;G<=T.heap_len&&(G<T.heap_len&&Ee(ae,T.heap[G+1],T.heap[G],T.depth)&&G++,!Ee(ae,Te,T.heap[G],T.depth));)T.heap[fe]=T.heap[G],fe=G,G<<=1;T.heap[fe]=Te}function te(T,ae,fe){var Te,G,me=0,B,Re;if(T.last_lit!==0)do Te=T.pending_buf[T.d_buf+me*2]<<8|T.pending_buf[T.d_buf+me*2+1],G=T.pending_buf[T.l_buf+me],me++,Te===0?M(T,G,ae):(B=Ae[G],M(T,B+d+1,ae),Re=K[B],Re!==0&&(G-=j[B],de(T,G,Re)),Te--,B=we(Te),M(T,B,fe),Re=re[B],Re!==0&&(Te-=I[B],de(T,Te,Re)));while(me<T.last_lit);M(T,S,ae)}function be(T,ae){var fe=ae.dyn_tree,Te=ae.stat_desc.static_tree,G=ae.stat_desc.has_stree,me=ae.stat_desc.elems,B,Re,je=-1,R;for(T.heap_len=0,T.heap_max=w,B=0;B<me;B++)fe[B*2]!==0?(T.heap[++T.heap_len]=je=B,T.depth[B]=0):fe[B*2+1]=0;for(;T.heap_len<2;)R=T.heap[++T.heap_len]=je<2?++je:0,fe[R*2]=1,T.depth[R]=0,T.opt_len--,G&&(T.static_len-=Te[R*2+1]);for(ae.max_code=je,B=T.heap_len>>1;B>=1;B--)pe(T,fe,B);R=me;do B=T.heap[1],T.heap[1]=T.heap[T.heap_len--],pe(T,fe,1),Re=T.heap[1],T.heap[--T.heap_max]=B,T.heap[--T.heap_max]=Re,fe[R*2]=fe[B*2]+fe[Re*2],T.depth[R]=(T.depth[B]>=T.depth[Re]?T.depth[B]:T.depth[Re])+1,fe[B*2+1]=fe[Re*2+1]=R,T.heap[1]=R++,pe(T,fe,1);while(T.heap_len>=2);T.heap[--T.heap_max]=T.heap[1],ne(T,ae),ye(fe,je,T.bl_count)}function Ie(T,ae,fe){var Te,G=-1,me,B=ae[1],Re=0,je=7,R=4;for(B===0&&(je=138,R=3),ae[(fe+1)*2+1]=65535,Te=0;Te<=fe;Te++)me=B,B=ae[(Te+1)*2+1],!(++Re<je&&me===B)&&(Re<R?T.bl_tree[me*2]+=Re:me!==0?(me!==G&&T.bl_tree[me*2]++,T.bl_tree[A*2]++):Re<=10?T.bl_tree[L*2]++:T.bl_tree[D*2]++,Re=0,G=me,B===0?(je=138,R=3):me===B?(je=6,R=3):(je=7,R=4))}function Pe(T,ae,fe){var Te,G=-1,me,B=ae[1],Re=0,je=7,R=4;for(B===0&&(je=138,R=3),Te=0;Te<=fe;Te++)if(me=B,B=ae[(Te+1)*2+1],!(++Re<je&&me===B)){if(Re<R)do M(T,me,T.bl_tree);while(--Re!==0);else me!==0?(me!==G&&(M(T,me,T.bl_tree),Re--),M(T,A,T.bl_tree),de(T,Re-3,2)):Re<=10?(M(T,L,T.bl_tree),de(T,Re-3,3)):(M(T,D,T.bl_tree),de(T,Re-11,7));Re=0,G=me,B===0?(je=138,R=3):me===B?(je=6,R=3):(je=7,R=4)}}function Ce(T){var ae;for(Ie(T,T.dyn_ltree,T.l_desc.max_code),Ie(T,T.dyn_dtree,T.d_desc.max_code),be(T,T.bl_desc),ae=v-1;ae>=3&&T.bl_tree[oe[ae]*2+1]===0;ae--);return T.opt_len+=3*(ae+1)+5+5+4,ae}function qe(T,ae,fe,Te){var G;for(de(T,ae-257,5),de(T,fe-1,5),de(T,Te-4,4),G=0;G<Te;G++)de(T,T.bl_tree[oe[G]*2+1],3);Pe(T,T.dyn_ltree,ae-1),Pe(T,T.dyn_dtree,fe-1)}function We(T){var ae=4093624447,fe;for(fe=0;fe<=31;fe++,ae>>>=1)if(ae&1&&T.dyn_ltree[fe*2]!==0)return t;if(T.dyn_ltree[18]!==0||T.dyn_ltree[20]!==0||T.dyn_ltree[26]!==0)return n;for(fe=32;fe<d;fe++)if(T.dyn_ltree[fe*2]!==0)return n;return t}var Ge=!1;function x(T){Ge||(P(),Ge=!0),T.l_desc=new X(T.dyn_ltree,z),T.d_desc=new X(T.dyn_dtree,ie),T.bl_desc=new X(T.bl_tree,V),T.bi_buf=0,T.bi_valid=0,C(T)}function p(T,ae,fe,Te){de(T,(s<<1)+(Te?1:0),3),Q(T,ae,fe)}function m(T){de(T,a<<1,3),M(T,S,H),$(T)}function O(T,ae,fe,Te){var G,me,B=0;T.level>0?(T.strm.data_type===i&&(T.strm.data_type=We(T)),be(T,T.l_desc),be(T,T.d_desc),B=Ce(T),G=T.opt_len+3+7>>>3,me=T.static_len+3+7>>>3,me<=G&&(G=me)):G=me=fe+5,fe+4<=G&&ae!==-1?p(T,ae,fe,Te):T.strategy===e||me===G?(de(T,(a<<1)+(Te?1:0),3),te(T,H,ue)):(de(T,(u<<1)+(Te?1:0),3),qe(T,T.l_desc.max_code+1,T.d_desc.max_code+1,B+1),te(T,T.dyn_ltree,T.dyn_dtree)),C(T),Te&&F(T)}function J(T,ae,fe){return T.pending_buf[T.d_buf+T.last_lit*2]=ae>>>8&255,T.pending_buf[T.d_buf+T.last_lit*2+1]=ae&255,T.pending_buf[T.l_buf+T.last_lit]=fe&255,T.last_lit++,ae===0?T.dyn_ltree[fe*2]++:(T.matches++,ae--,T.dyn_ltree[(Ae[fe]+d+1)*2]++,T.dyn_dtree[we(ae)*2]++),T.last_lit===T.lit_bufsize-1}return Zu._tr_init=x,Zu._tr_stored_block=p,Zu._tr_flush_block=O,Zu._tr_tally=J,Zu._tr_align=m,Zu}function wL(){if(uL)return l1;uL=!0;function r(e,t,n,i){for(var o=e&65535|0,s=e>>>16&65535|0,a=0;n!==0;){a=n>2e3?2e3:n,n-=a;do o=o+t[i++]|0,s=s+o|0;while(--a);o%=65521,s%=65521}return o|s<<16|0}return l1=r,l1}function vL(){if(cL)return u1;cL=!0;function r(){for(var n,i=[],o=0;o<256;o++){n=o;for(var s=0;s<8;s++)n=n&1?3988292384^n>>>1:n>>>1;i[o]=n}return i}var e=r();function t(n,i,o,s){var a=e,u=s+o;n^=-1;for(var c=s;c<u;c++)n=n>>>8^a[(n^i[c])&255];return n^-1}return u1=t,u1}function T7(){return fL||(fL=!0,c1={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}),c1}function C7(){if(hL)return Os;hL=!0;var r=Lb(),e=S7(),t=wL(),n=vL(),i=T7(),o=0,s=1,a=3,u=4,c=5,f=0,h=1,d=-2,g=-3,b=-5,v=-1,w=1,y=2,_=3,E=4,S=0,A=2,L=8,D=9,K=15,re=8,q=29,oe=256,U=oe+1+q,H=30,ue=19,Se=2*U+1,Ae=15,j=3,I=258,se=I+j+1,z=32,ie=42,V=69,X=73,we=91,ve=103,de=113,M=666,N=1,$=2,ne=3,ye=4,P=3;function C(R,Fe){return R.msg=i[Fe],Fe}function F(R){return(R<<1)-(R>4?9:0)}function Q(R){for(var Fe=R.length;--Fe>=0;)R[Fe]=0}function Ee(R){var Fe=R.state,Ue=Fe.pending;Ue>R.avail_out&&(Ue=R.avail_out),Ue!==0&&(r.arraySet(R.output,Fe.pending_buf,Fe.pending_out,Ue,R.next_out),R.next_out+=Ue,Fe.pending_out+=Ue,R.total_out+=Ue,R.avail_out-=Ue,Fe.pending-=Ue,Fe.pending===0&&(Fe.pending_out=0))}function pe(R,Fe){e._tr_flush_block(R,R.block_start>=0?R.block_start:-1,R.strstart-R.block_start,Fe),R.block_start=R.strstart,Ee(R.strm)}function te(R,Fe){R.pending_buf[R.pending++]=Fe}function be(R,Fe){R.pending_buf[R.pending++]=Fe>>>8&255,R.pending_buf[R.pending++]=Fe&255}function Ie(R,Fe,Ue,he){var Oe=R.avail_in;return Oe>he&&(Oe=he),Oe===0?0:(R.avail_in-=Oe,r.arraySet(Fe,R.input,R.next_in,Oe,Ue),R.state.wrap===1?R.adler=t(R.adler,Fe,Oe,Ue):R.state.wrap===2&&(R.adler=n(R.adler,Fe,Oe,Ue)),R.next_in+=Oe,R.total_in+=Oe,Oe)}function Pe(R,Fe){var Ue=R.max_chain_length,he=R.strstart,Oe,Me,tt=R.prev_length,ce=R.nice_match,_e=R.strstart>R.w_size-se?R.strstart-(R.w_size-se):0,He=R.window,ze=R.w_mask,et=R.prev,dt=R.strstart+I,Rt=He[he+tt-1],Et=He[he+tt];R.prev_length>=R.good_match&&(Ue>>=2),ce>R.lookahead&&(ce=R.lookahead);do if(Oe=Fe,!(He[Oe+tt]!==Et||He[Oe+tt-1]!==Rt||He[Oe]!==He[he]||He[++Oe]!==He[he+1])){he+=2,Oe++;do;while(He[++he]===He[++Oe]&&He[++he]===He[++Oe]&&He[++he]===He[++Oe]&&He[++he]===He[++Oe]&&He[++he]===He[++Oe]&&He[++he]===He[++Oe]&&He[++he]===He[++Oe]&&He[++he]===He[++Oe]&&he<dt);if(Me=I-(dt-he),he=dt-I,Me>tt){if(R.match_start=Fe,tt=Me,Me>=ce)break;Rt=He[he+tt-1],Et=He[he+tt]}}while((Fe=et[Fe&ze])>_e&&--Ue!==0);return tt<=R.lookahead?tt:R.lookahead}function Ce(R){var Fe=R.w_size,Ue,he,Oe,Me,tt;do{if(Me=R.window_size-R.lookahead-R.strstart,R.strstart>=Fe+(Fe-se)){r.arraySet(R.window,R.window,Fe,Fe,0),R.match_start-=Fe,R.strstart-=Fe,R.block_start-=Fe,he=R.hash_size,Ue=he;do Oe=R.head[--Ue],R.head[Ue]=Oe>=Fe?Oe-Fe:0;while(--he);he=Fe,Ue=he;do Oe=R.prev[--Ue],R.prev[Ue]=Oe>=Fe?Oe-Fe:0;while(--he);Me+=Fe}if(R.strm.avail_in===0)break;if(he=Ie(R.strm,R.window,R.strstart+R.lookahead,Me),R.lookahead+=he,R.lookahead+R.insert>=j)for(tt=R.strstart-R.insert,R.ins_h=R.window[tt],R.ins_h=(R.ins_h<<R.hash_shift^R.window[tt+1])&R.hash_mask;R.insert&&(R.ins_h=(R.ins_h<<R.hash_shift^R.window[tt+j-1])&R.hash_mask,R.prev[tt&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=tt,tt++,R.insert--,!(R.lookahead+R.insert<j)););}while(R.lookahead<se&&R.strm.avail_in!==0)}function qe(R,Fe){var Ue=65535;for(Ue>R.pending_buf_size-5&&(Ue=R.pending_buf_size-5);;){if(R.lookahead<=1){if(Ce(R),R.lookahead===0&&Fe===o)return N;if(R.lookahead===0)break}R.strstart+=R.lookahead,R.lookahead=0;var he=R.block_start+Ue;if((R.strstart===0||R.strstart>=he)&&(R.lookahead=R.strstart-he,R.strstart=he,pe(R,!1),R.strm.avail_out===0)||R.strstart-R.block_start>=R.w_size-se&&(pe(R,!1),R.strm.avail_out===0))return N}return R.insert=0,Fe===u?(pe(R,!0),R.strm.avail_out===0?ne:ye):(R.strstart>R.block_start&&(pe(R,!1),R.strm.avail_out===0),N)}function We(R,Fe){for(var Ue,he;;){if(R.lookahead<se){if(Ce(R),R.lookahead<se&&Fe===o)return N;if(R.lookahead===0)break}if(Ue=0,R.lookahead>=j&&(R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+j-1])&R.hash_mask,Ue=R.prev[R.strstart&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=R.strstart),Ue!==0&&R.strstart-Ue<=R.w_size-se&&(R.match_length=Pe(R,Ue)),R.match_length>=j)if(he=e._tr_tally(R,R.strstart-R.match_start,R.match_length-j),R.lookahead-=R.match_length,R.match_length<=R.max_lazy_match&&R.lookahead>=j){R.match_length--;do R.strstart++,R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+j-1])&R.hash_mask,Ue=R.prev[R.strstart&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=R.strstart;while(--R.match_length!==0);R.strstart++}else R.strstart+=R.match_length,R.match_length=0,R.ins_h=R.window[R.strstart],R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+1])&R.hash_mask;else he=e._tr_tally(R,0,R.window[R.strstart]),R.lookahead--,R.strstart++;if(he&&(pe(R,!1),R.strm.avail_out===0))return N}return R.insert=R.strstart<j-1?R.strstart:j-1,Fe===u?(pe(R,!0),R.strm.avail_out===0?ne:ye):R.last_lit&&(pe(R,!1),R.strm.avail_out===0)?N:$}function Ge(R,Fe){for(var Ue,he,Oe;;){if(R.lookahead<se){if(Ce(R),R.lookahead<se&&Fe===o)return N;if(R.lookahead===0)break}if(Ue=0,R.lookahead>=j&&(R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+j-1])&R.hash_mask,Ue=R.prev[R.strstart&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=R.strstart),R.prev_length=R.match_length,R.prev_match=R.match_start,R.match_length=j-1,Ue!==0&&R.prev_length<R.max_lazy_match&&R.strstart-Ue<=R.w_size-se&&(R.match_length=Pe(R,Ue),R.match_length<=5&&(R.strategy===w||R.match_length===j&&R.strstart-R.match_start>4096)&&(R.match_length=j-1)),R.prev_length>=j&&R.match_length<=R.prev_length){Oe=R.strstart+R.lookahead-j,he=e._tr_tally(R,R.strstart-1-R.prev_match,R.prev_length-j),R.lookahead-=R.prev_length-1,R.prev_length-=2;do++R.strstart<=Oe&&(R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+j-1])&R.hash_mask,Ue=R.prev[R.strstart&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=R.strstart);while(--R.prev_length!==0);if(R.match_available=0,R.match_length=j-1,R.strstart++,he&&(pe(R,!1),R.strm.avail_out===0))return N}else if(R.match_available){if(he=e._tr_tally(R,0,R.window[R.strstart-1]),he&&pe(R,!1),R.strstart++,R.lookahead--,R.strm.avail_out===0)return N}else R.match_available=1,R.strstart++,R.lookahead--}return R.match_available&&(he=e._tr_tally(R,0,R.window[R.strstart-1]),R.match_available=0),R.insert=R.strstart<j-1?R.strstart:j-1,Fe===u?(pe(R,!0),R.strm.avail_out===0?ne:ye):R.last_lit&&(pe(R,!1),R.strm.avail_out===0)?N:$}function x(R,Fe){for(var Ue,he,Oe,Me,tt=R.window;;){if(R.lookahead<=I){if(Ce(R),R.lookahead<=I&&Fe===o)return N;if(R.lookahead===0)break}if(R.match_length=0,R.lookahead>=j&&R.strstart>0&&(Oe=R.strstart-1,he=tt[Oe],he===tt[++Oe]&&he===tt[++Oe]&&he===tt[++Oe])){Me=R.strstart+I;do;while(he===tt[++Oe]&&he===tt[++Oe]&&he===tt[++Oe]&&he===tt[++Oe]&&he===tt[++Oe]&&he===tt[++Oe]&&he===tt[++Oe]&&he===tt[++Oe]&&Oe<Me);R.match_length=I-(Me-Oe),R.match_length>R.lookahead&&(R.match_length=R.lookahead)}if(R.match_length>=j?(Ue=e._tr_tally(R,1,R.match_length-j),R.lookahead-=R.match_length,R.strstart+=R.match_length,R.match_length=0):(Ue=e._tr_tally(R,0,R.window[R.strstart]),R.lookahead--,R.strstart++),Ue&&(pe(R,!1),R.strm.avail_out===0))return N}return R.insert=0,Fe===u?(pe(R,!0),R.strm.avail_out===0?ne:ye):R.last_lit&&(pe(R,!1),R.strm.avail_out===0)?N:$}function p(R,Fe){for(var Ue;;){if(R.lookahead===0&&(Ce(R),R.lookahead===0)){if(Fe===o)return N;break}if(R.match_length=0,Ue=e._tr_tally(R,0,R.window[R.strstart]),R.lookahead--,R.strstart++,Ue&&(pe(R,!1),R.strm.avail_out===0))return N}return R.insert=0,Fe===u?(pe(R,!0),R.strm.avail_out===0?ne:ye):R.last_lit&&(pe(R,!1),R.strm.avail_out===0)?N:$}function m(R,Fe,Ue,he,Oe){this.good_length=R,this.max_lazy=Fe,this.nice_length=Ue,this.max_chain=he,this.func=Oe}var O;O=[new m(0,0,0,0,qe),new m(4,4,8,4,We),new m(4,5,16,8,We),new m(4,6,32,32,We),new m(4,4,16,16,Ge),new m(8,16,32,32,Ge),new m(8,16,128,128,Ge),new m(8,32,128,256,Ge),new m(32,128,258,1024,Ge),new m(32,258,258,4096,Ge)];function J(R){R.window_size=2*R.w_size,Q(R.head),R.max_lazy_match=O[R.level].max_lazy,R.good_match=O[R.level].good_length,R.nice_match=O[R.level].nice_length,R.max_chain_length=O[R.level].max_chain,R.strstart=0,R.block_start=0,R.lookahead=0,R.insert=0,R.match_length=R.prev_length=j-1,R.match_available=0,R.ins_h=0}function T(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=L,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(Se*2),this.dyn_dtree=new r.Buf16((2*H+1)*2),this.bl_tree=new r.Buf16((2*ue+1)*2),Q(this.dyn_ltree),Q(this.dyn_dtree),Q(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(Ae+1),this.heap=new r.Buf16(2*U+1),Q(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(2*U+1),Q(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ae(R){var Fe;return!R||!R.state?C(R,d):(R.total_in=R.total_out=0,R.data_type=A,Fe=R.state,Fe.pending=0,Fe.pending_out=0,Fe.wrap<0&&(Fe.wrap=-Fe.wrap),Fe.status=Fe.wrap?ie:de,R.adler=Fe.wrap===2?0:1,Fe.last_flush=o,e._tr_init(Fe),f)}function fe(R){var Fe=ae(R);return Fe===f&&J(R.state),Fe}function Te(R,Fe){return!R||!R.state||R.state.wrap!==2?d:(R.state.gzhead=Fe,f)}function G(R,Fe,Ue,he,Oe,Me){if(!R)return d;var tt=1;if(Fe===v&&(Fe=6),he<0?(tt=0,he=-he):he>15&&(tt=2,he-=16),Oe<1||Oe>D||Ue!==L||he<8||he>15||Fe<0||Fe>9||Me<0||Me>E)return C(R,d);he===8&&(he=9);var ce=new T;return R.state=ce,ce.strm=R,ce.wrap=tt,ce.gzhead=null,ce.w_bits=he,ce.w_size=1<<ce.w_bits,ce.w_mask=ce.w_size-1,ce.hash_bits=Oe+7,ce.hash_size=1<<ce.hash_bits,ce.hash_mask=ce.hash_size-1,ce.hash_shift=~~((ce.hash_bits+j-1)/j),ce.window=new r.Buf8(ce.w_size*2),ce.head=new r.Buf16(ce.hash_size),ce.prev=new r.Buf16(ce.w_size),ce.lit_bufsize=1<<Oe+6,ce.pending_buf_size=ce.lit_bufsize*4,ce.pending_buf=new r.Buf8(ce.pending_buf_size),ce.d_buf=1*ce.lit_bufsize,ce.l_buf=3*ce.lit_bufsize,ce.level=Fe,ce.strategy=Me,ce.method=Ue,fe(R)}function me(R,Fe){return G(R,Fe,L,K,re,S)}function B(R,Fe){var Ue,he,Oe,Me;if(!R||!R.state||Fe>c||Fe<0)return R?C(R,d):d;if(he=R.state,!R.output||!R.input&&R.avail_in!==0||he.status===M&&Fe!==u)return C(R,R.avail_out===0?b:d);if(he.strm=R,Ue=he.last_flush,he.last_flush=Fe,he.status===ie)if(he.wrap===2)R.adler=0,te(he,31),te(he,139),te(he,8),he.gzhead?(te(he,(he.gzhead.text?1:0)+(he.gzhead.hcrc?2:0)+(he.gzhead.extra?4:0)+(he.gzhead.name?8:0)+(he.gzhead.comment?16:0)),te(he,he.gzhead.time&255),te(he,he.gzhead.time>>8&255),te(he,he.gzhead.time>>16&255),te(he,he.gzhead.time>>24&255),te(he,he.level===9?2:he.strategy>=y||he.level<2?4:0),te(he,he.gzhead.os&255),he.gzhead.extra&&he.gzhead.extra.length&&(te(he,he.gzhead.extra.length&255),te(he,he.gzhead.extra.length>>8&255)),he.gzhead.hcrc&&(R.adler=n(R.adler,he.pending_buf,he.pending,0)),he.gzindex=0,he.status=V):(te(he,0),te(he,0),te(he,0),te(he,0),te(he,0),te(he,he.level===9?2:he.strategy>=y||he.level<2?4:0),te(he,P),he.status=de);else{var tt=L+(he.w_bits-8<<4)<<8,ce=-1;he.strategy>=y||he.level<2?ce=0:he.level<6?ce=1:he.level===6?ce=2:ce=3,tt|=ce<<6,he.strstart!==0&&(tt|=z),tt+=31-tt%31,he.status=de,be(he,tt),he.strstart!==0&&(be(he,R.adler>>>16),be(he,R.adler&65535)),R.adler=1}if(he.status===V)if(he.gzhead.extra){for(Oe=he.pending;he.gzindex<(he.gzhead.extra.length&65535)&&!(he.pending===he.pending_buf_size&&(he.gzhead.hcrc&&he.pending>Oe&&(R.adler=n(R.adler,he.pending_buf,he.pending-Oe,Oe)),Ee(R),Oe=he.pending,he.pending===he.pending_buf_size));)te(he,he.gzhead.extra[he.gzindex]&255),he.gzindex++;he.gzhead.hcrc&&he.pending>Oe&&(R.adler=n(R.adler,he.pending_buf,he.pending-Oe,Oe)),he.gzindex===he.gzhead.extra.length&&(he.gzindex=0,he.status=X)}else he.status=X;if(he.status===X)if(he.gzhead.name){Oe=he.pending;do{if(he.pending===he.pending_buf_size&&(he.gzhead.hcrc&&he.pending>Oe&&(R.adler=n(R.adler,he.pending_buf,he.pending-Oe,Oe)),Ee(R),Oe=he.pending,he.pending===he.pending_buf_size)){Me=1;break}he.gzindex<he.gzhead.name.length?Me=he.gzhead.name.charCodeAt(he.gzindex++)&255:Me=0,te(he,Me)}while(Me!==0);he.gzhead.hcrc&&he.pending>Oe&&(R.adler=n(R.adler,he.pending_buf,he.pending-Oe,Oe)),Me===0&&(he.gzindex=0,he.status=we)}else he.status=we;if(he.status===we)if(he.gzhead.comment){Oe=he.pending;do{if(he.pending===he.pending_buf_size&&(he.gzhead.hcrc&&he.pending>Oe&&(R.adler=n(R.adler,he.pending_buf,he.pending-Oe,Oe)),Ee(R),Oe=he.pending,he.pending===he.pending_buf_size)){Me=1;break}he.gzindex<he.gzhead.comment.length?Me=he.gzhead.comment.charCodeAt(he.gzindex++)&255:Me=0,te(he,Me)}while(Me!==0);he.gzhead.hcrc&&he.pending>Oe&&(R.adler=n(R.adler,he.pending_buf,he.pending-Oe,Oe)),Me===0&&(he.status=ve)}else he.status=ve;if(he.status===ve&&(he.gzhead.hcrc?(he.pending+2>he.pending_buf_size&&Ee(R),he.pending+2<=he.pending_buf_size&&(te(he,R.adler&255),te(he,R.adler>>8&255),R.adler=0,he.status=de)):he.status=de),he.pending!==0){if(Ee(R),R.avail_out===0)return he.last_flush=-1,f}else if(R.avail_in===0&&F(Fe)<=F(Ue)&&Fe!==u)return C(R,b);if(he.status===M&&R.avail_in!==0)return C(R,b);if(R.avail_in!==0||he.lookahead!==0||Fe!==o&&he.status!==M){var _e=he.strategy===y?p(he,Fe):he.strategy===_?x(he,Fe):O[he.level].func(he,Fe);if((_e===ne||_e===ye)&&(he.status=M),_e===N||_e===ne)return R.avail_out===0&&(he.last_flush=-1),f;if(_e===$&&(Fe===s?e._tr_align(he):Fe!==c&&(e._tr_stored_block(he,0,0,!1),Fe===a&&(Q(he.head),he.lookahead===0&&(he.strstart=0,he.block_start=0,he.insert=0))),Ee(R),R.avail_out===0))return he.last_flush=-1,f}return Fe!==u?f:he.wrap<=0?h:(he.wrap===2?(te(he,R.adler&255),te(he,R.adler>>8&255),te(he,R.adler>>16&255),te(he,R.adler>>24&255),te(he,R.total_in&255),te(he,R.total_in>>8&255),te(he,R.total_in>>16&255),te(he,R.total_in>>24&255)):(be(he,R.adler>>>16),be(he,R.adler&65535)),Ee(R),he.wrap>0&&(he.wrap=-he.wrap),he.pending!==0?f:h)}function Re(R){var Fe;return!R||!R.state?d:(Fe=R.state.status,Fe!==ie&&Fe!==V&&Fe!==X&&Fe!==we&&Fe!==ve&&Fe!==de&&Fe!==M?C(R,d):(R.state=null,Fe===de?C(R,g):f))}function je(R,Fe){var Ue=Fe.length,he,Oe,Me,tt,ce,_e,He,ze;if(!R||!R.state||(he=R.state,tt=he.wrap,tt===2||tt===1&&he.status!==ie||he.lookahead))return d;for(tt===1&&(R.adler=t(R.adler,Fe,Ue,0)),he.wrap=0,Ue>=he.w_size&&(tt===0&&(Q(he.head),he.strstart=0,he.block_start=0,he.insert=0),ze=new r.Buf8(he.w_size),r.arraySet(ze,Fe,Ue-he.w_size,he.w_size,0),Fe=ze,Ue=he.w_size),ce=R.avail_in,_e=R.next_in,He=R.input,R.avail_in=Ue,R.next_in=0,R.input=Fe,Ce(he);he.lookahead>=j;){Oe=he.strstart,Me=he.lookahead-(j-1);do he.ins_h=(he.ins_h<<he.hash_shift^he.window[Oe+j-1])&he.hash_mask,he.prev[Oe&he.w_mask]=he.head[he.ins_h],he.head[he.ins_h]=Oe,Oe++;while(--Me);he.strstart=Oe,he.lookahead=j-1,Ce(he)}return he.strstart+=he.lookahead,he.block_start=he.strstart,he.insert=he.lookahead,he.lookahead=0,he.match_length=he.prev_length=j-1,he.match_available=0,R.next_in=_e,R.input=He,R.avail_in=ce,he.wrap=tt,f}return Os.deflateInit=me,Os.deflateInit2=G,Os.deflateReset=fe,Os.deflateResetKeep=ae,Os.deflateSetHeader=Te,Os.deflate=B,Os.deflateEnd=Re,Os.deflateSetDictionary=je,Os.deflateInfo="pako deflate (from Nodeca project)",Os}function R7(){if(dL)return f1;dL=!0;var r=30,e=12;return f1=function(n,i){var o,s,a,u,c,f,h,d,g,b,v,w,y,_,E,S,A,L,D,K,re,q,oe,U,H;o=n.state,s=n.next_in,U=n.input,a=s+(n.avail_in-5),u=n.next_out,H=n.output,c=u-(i-n.avail_out),f=u+(n.avail_out-257),h=o.dmax,d=o.wsize,g=o.whave,b=o.wnext,v=o.window,w=o.hold,y=o.bits,_=o.lencode,E=o.distcode,S=(1<<o.lenbits)-1,A=(1<<o.distbits)-1;e:do{y<15&&(w+=U[s++]<<y,y+=8,w+=U[s++]<<y,y+=8),L=_[w&S];t:for(;;){if(D=L>>>24,w>>>=D,y-=D,D=L>>>16&255,D===0)H[u++]=L&65535;else if(D&16){K=L&65535,D&=15,D&&(y<D&&(w+=U[s++]<<y,y+=8),K+=w&(1<<D)-1,w>>>=D,y-=D),y<15&&(w+=U[s++]<<y,y+=8,w+=U[s++]<<y,y+=8),L=E[w&A];r:for(;;){if(D=L>>>24,w>>>=D,y-=D,D=L>>>16&255,D&16){if(re=L&65535,D&=15,y<D&&(w+=U[s++]<<y,y+=8,y<D&&(w+=U[s++]<<y,y+=8)),re+=w&(1<<D)-1,re>h){n.msg="invalid distance too far back",o.mode=r;break e}if(w>>>=D,y-=D,D=u-c,re>D){if(D=re-D,D>g&&o.sane){n.msg="invalid distance too far back",o.mode=r;break e}if(q=0,oe=v,b===0){if(q+=d-D,D<K){K-=D;do H[u++]=v[q++];while(--D);q=u-re,oe=H}}else if(b<D){if(q+=d+b-D,D-=b,D<K){K-=D;do H[u++]=v[q++];while(--D);if(q=0,b<K){D=b,K-=D;do H[u++]=v[q++];while(--D);q=u-re,oe=H}}}else if(q+=b-D,D<K){K-=D;do H[u++]=v[q++];while(--D);q=u-re,oe=H}for(;K>2;)H[u++]=oe[q++],H[u++]=oe[q++],H[u++]=oe[q++],K-=3;K&&(H[u++]=oe[q++],K>1&&(H[u++]=oe[q++]))}else{q=u-re;do H[u++]=H[q++],H[u++]=H[q++],H[u++]=H[q++],K-=3;while(K>2);K&&(H[u++]=H[q++],K>1&&(H[u++]=H[q++]))}}else if((D&64)===0){L=E[(L&65535)+(w&(1<<D)-1)];continue r}else{n.msg="invalid distance code",o.mode=r;break e}break}}else if((D&64)===0){L=_[(L&65535)+(w&(1<<D)-1)];continue t}else if(D&32){o.mode=e;break e}else{n.msg="invalid literal/length code",o.mode=r;break e}break}}while(s<a&&u<f);K=y>>3,s-=K,y-=K<<3,w&=(1<<y)-1,n.next_in=s,n.next_out=u,n.avail_in=s<a?5+(a-s):5-(s-a),n.avail_out=u<f?257+(f-u):257-(u-f),o.hold=w,o.bits=y},f1}function D7(){if(pL)return h1;pL=!0;var r=Lb(),e=15,t=852,n=592,i=0,o=1,s=2,a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],u=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],f=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];return h1=function(d,g,b,v,w,y,_,E){var S=E.bits,A=0,L=0,D=0,K=0,re=0,q=0,oe=0,U=0,H=0,ue=0,Se,Ae,j,I,se,z=null,ie=0,V,X=new r.Buf16(e+1),we=new r.Buf16(e+1),ve=null,de=0,M,N,$;for(A=0;A<=e;A++)X[A]=0;for(L=0;L<v;L++)X[g[b+L]]++;for(re=S,K=e;K>=1&&X[K]===0;K--);if(re>K&&(re=K),K===0)return w[y++]=1<<24|64<<16|0,w[y++]=1<<24|64<<16|0,E.bits=1,0;for(D=1;D<K&&X[D]===0;D++);for(re<D&&(re=D),U=1,A=1;A<=e;A++)if(U<<=1,U-=X[A],U<0)return-1;if(U>0&&(d===i||K!==1))return-1;for(we[1]=0,A=1;A<e;A++)we[A+1]=we[A]+X[A];for(L=0;L<v;L++)g[b+L]!==0&&(_[we[g[b+L]]++]=L);if(d===i?(z=ve=_,V=19):d===o?(z=a,ie-=257,ve=u,de-=257,V=256):(z=c,ve=f,V=-1),ue=0,L=0,A=D,se=y,q=re,oe=0,j=-1,H=1<<re,I=H-1,d===o&&H>t||d===s&&H>n)return 1;for(;;){M=A-oe,_[L]<V?(N=0,$=_[L]):_[L]>V?(N=ve[de+_[L]],$=z[ie+_[L]]):(N=96,$=0),Se=1<<A-oe,Ae=1<<q,D=Ae;do Ae-=Se,w[se+(ue>>oe)+Ae]=M<<24|N<<16|$|0;while(Ae!==0);for(Se=1<<A-1;ue&Se;)Se>>=1;if(Se!==0?(ue&=Se-1,ue+=Se):ue=0,L++,--X[A]===0){if(A===K)break;A=g[b+_[L]]}if(A>re&&(ue&I)!==j){for(oe===0&&(oe=re),se+=D,q=A-oe,U=1<<q;q+oe<K&&(U-=X[q+oe],!(U<=0));)q++,U<<=1;if(H+=1<<q,d===o&&H>t||d===s&&H>n)return 1;j=ue&I,w[j]=re<<24|q<<16|se-y|0}}return ue!==0&&(w[se+ue]=A-oe<<24|64<<16|0),E.bits=re,0},h1}function I7(){if(gL)return is;gL=!0;var r=Lb(),e=wL(),t=vL(),n=R7(),i=D7(),o=0,s=1,a=2,u=4,c=5,f=6,h=0,d=1,g=2,b=-2,v=-3,w=-4,y=-5,_=8,E=1,S=2,A=3,L=4,D=5,K=6,re=7,q=8,oe=9,U=10,H=11,ue=12,Se=13,Ae=14,j=15,I=16,se=17,z=18,ie=19,V=20,X=21,we=22,ve=23,de=24,M=25,N=26,$=27,ne=28,ye=29,P=30,C=31,F=32,Q=852,Ee=592,pe=15,te=pe;function be(G){return(G>>>24&255)+(G>>>8&65280)+((G&65280)<<8)+((G&255)<<24)}function Ie(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Pe(G){var me;return!G||!G.state?b:(me=G.state,G.total_in=G.total_out=me.total=0,G.msg="",me.wrap&&(G.adler=me.wrap&1),me.mode=E,me.last=0,me.havedict=0,me.dmax=32768,me.head=null,me.hold=0,me.bits=0,me.lencode=me.lendyn=new r.Buf32(Q),me.distcode=me.distdyn=new r.Buf32(Ee),me.sane=1,me.back=-1,h)}function Ce(G){var me;return!G||!G.state?b:(me=G.state,me.wsize=0,me.whave=0,me.wnext=0,Pe(G))}function qe(G,me){var B,Re;return!G||!G.state||(Re=G.state,me<0?(B=0,me=-me):(B=(me>>4)+1,me<48&&(me&=15)),me&&(me<8||me>15))?b:(Re.window!==null&&Re.wbits!==me&&(Re.window=null),Re.wrap=B,Re.wbits=me,Ce(G))}function We(G,me){var B,Re;return G?(Re=new Ie,G.state=Re,Re.window=null,B=qe(G,me),B!==h&&(G.state=null),B):b}function Ge(G){return We(G,te)}var x=!0,p,m;function O(G){if(x){var me;for(p=new r.Buf32(512),m=new r.Buf32(32),me=0;me<144;)G.lens[me++]=8;for(;me<256;)G.lens[me++]=9;for(;me<280;)G.lens[me++]=7;for(;me<288;)G.lens[me++]=8;for(i(s,G.lens,0,288,p,0,G.work,{bits:9}),me=0;me<32;)G.lens[me++]=5;i(a,G.lens,0,32,m,0,G.work,{bits:5}),x=!1}G.lencode=p,G.lenbits=9,G.distcode=m,G.distbits=5}function J(G,me,B,Re){var je,R=G.state;return R.window===null&&(R.wsize=1<<R.wbits,R.wnext=0,R.whave=0,R.window=new r.Buf8(R.wsize)),Re>=R.wsize?(r.arraySet(R.window,me,B-R.wsize,R.wsize,0),R.wnext=0,R.whave=R.wsize):(je=R.wsize-R.wnext,je>Re&&(je=Re),r.arraySet(R.window,me,B-Re,je,R.wnext),Re-=je,Re?(r.arraySet(R.window,me,B-Re,Re,0),R.wnext=Re,R.whave=R.wsize):(R.wnext+=je,R.wnext===R.wsize&&(R.wnext=0),R.whave<R.wsize&&(R.whave+=je))),0}function T(G,me){var B,Re,je,R,Fe,Ue,he,Oe,Me,tt,ce,_e,He,ze,et=0,dt,Rt,Et,ar,_i,qn,Ht,Dr,yr=new r.Buf8(4),Wt,Yt,Zr=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!G||!G.state||!G.output||!G.input&&G.avail_in!==0)return b;B=G.state,B.mode===ue&&(B.mode=Se),Fe=G.next_out,je=G.output,he=G.avail_out,R=G.next_in,Re=G.input,Ue=G.avail_in,Oe=B.hold,Me=B.bits,tt=Ue,ce=he,Dr=h;e:for(;;)switch(B.mode){case E:if(B.wrap===0){B.mode=Se;break}for(;Me<16;){if(Ue===0)break e;Ue--,Oe+=Re[R++]<<Me,Me+=8}if(B.wrap&2&&Oe===35615){B.check=0,yr[0]=Oe&255,yr[1]=Oe>>>8&255,B.check=t(B.check,yr,2,0),Oe=0,Me=0,B.mode=S;break}if(B.flags=0,B.head&&(B.head.done=!1),!(B.wrap&1)||(((Oe&255)<<8)+(Oe>>8))%31){G.msg="incorrect header check",B.mode=P;break}if((Oe&15)!==_){G.msg="unknown compression method",B.mode=P;break}if(Oe>>>=4,Me-=4,Ht=(Oe&15)+8,B.wbits===0)B.wbits=Ht;else if(Ht>B.wbits){G.msg="invalid window size",B.mode=P;break}B.dmax=1<<Ht,G.adler=B.check=1,B.mode=Oe&512?U:ue,Oe=0,Me=0;break;case S:for(;Me<16;){if(Ue===0)break e;Ue--,Oe+=Re[R++]<<Me,Me+=8}if(B.flags=Oe,(B.flags&255)!==_){G.msg="unknown compression method",B.mode=P;break}if(B.flags&57344){G.msg="unknown header flags set",B.mode=P;break}B.head&&(B.head.text=Oe>>8&1),B.flags&512&&(yr[0]=Oe&255,yr[1]=Oe>>>8&255,B.check=t(B.check,yr,2,0)),Oe=0,Me=0,B.mode=A;case A:for(;Me<32;){if(Ue===0)break e;Ue--,Oe+=Re[R++]<<Me,Me+=8}B.head&&(B.head.time=Oe),B.flags&512&&(yr[0]=Oe&255,yr[1]=Oe>>>8&255,yr[2]=Oe>>>16&255,yr[3]=Oe>>>24&255,B.check=t(B.check,yr,4,0)),Oe=0,Me=0,B.mode=L;case L:for(;Me<16;){if(Ue===0)break e;Ue--,Oe+=Re[R++]<<Me,Me+=8}B.head&&(B.head.xflags=Oe&255,B.head.os=Oe>>8),B.flags&512&&(yr[0]=Oe&255,yr[1]=Oe>>>8&255,B.check=t(B.check,yr,2,0)),Oe=0,Me=0,B.mode=D;case D:if(B.flags&1024){for(;Me<16;){if(Ue===0)break e;Ue--,Oe+=Re[R++]<<Me,Me+=8}B.length=Oe,B.head&&(B.head.extra_len=Oe),B.flags&512&&(yr[0]=Oe&255,yr[1]=Oe>>>8&255,B.check=t(B.check,yr,2,0)),Oe=0,Me=0}else B.head&&(B.head.extra=null);B.mode=K;case K:if(B.flags&1024&&(_e=B.length,_e>Ue&&(_e=Ue),_e&&(B.head&&(Ht=B.head.extra_len-B.length,B.head.extra||(B.head.extra=new Array(B.head.extra_len)),r.arraySet(B.head.extra,Re,R,_e,Ht)),B.flags&512&&(B.check=t(B.check,Re,_e,R)),Ue-=_e,R+=_e,B.length-=_e),B.length))break e;B.length=0,B.mode=re;case re:if(B.flags&2048){if(Ue===0)break e;_e=0;do Ht=Re[R+_e++],B.head&&Ht&&B.length<65536&&(B.head.name+=String.fromCharCode(Ht));while(Ht&&_e<Ue);if(B.flags&512&&(B.check=t(B.check,Re,_e,R)),Ue-=_e,R+=_e,Ht)break e}else B.head&&(B.head.name=null);B.length=0,B.mode=q;case q:if(B.flags&4096){if(Ue===0)break e;_e=0;do Ht=Re[R+_e++],B.head&&Ht&&B.length<65536&&(B.head.comment+=String.fromCharCode(Ht));while(Ht&&_e<Ue);if(B.flags&512&&(B.check=t(B.check,Re,_e,R)),Ue-=_e,R+=_e,Ht)break e}else B.head&&(B.head.comment=null);B.mode=oe;case oe:if(B.flags&512){for(;Me<16;){if(Ue===0)break e;Ue--,Oe+=Re[R++]<<Me,Me+=8}if(Oe!==(B.check&65535)){G.msg="header crc mismatch",B.mode=P;break}Oe=0,Me=0}B.head&&(B.head.hcrc=B.flags>>9&1,B.head.done=!0),G.adler=B.check=0,B.mode=ue;break;case U:for(;Me<32;){if(Ue===0)break e;Ue--,Oe+=Re[R++]<<Me,Me+=8}G.adler=B.check=be(Oe),Oe=0,Me=0,B.mode=H;case H:if(B.havedict===0)return G.next_out=Fe,G.avail_out=he,G.next_in=R,G.avail_in=Ue,B.hold=Oe,B.bits=Me,g;G.adler=B.check=1,B.mode=ue;case ue:if(me===c||me===f)break e;case Se:if(B.last){Oe>>>=Me&7,Me-=Me&7,B.mode=$;break}for(;Me<3;){if(Ue===0)break e;Ue--,Oe+=Re[R++]<<Me,Me+=8}switch(B.last=Oe&1,Oe>>>=1,Me-=1,Oe&3){case 0:B.mode=Ae;break;case 1:if(O(B),B.mode=V,me===f){Oe>>>=2,Me-=2;break e}break;case 2:B.mode=se;break;case 3:G.msg="invalid block type",B.mode=P}Oe>>>=2,Me-=2;break;case Ae:for(Oe>>>=Me&7,Me-=Me&7;Me<32;){if(Ue===0)break e;Ue--,Oe+=Re[R++]<<Me,Me+=8}if((Oe&65535)!==(Oe>>>16^65535)){G.msg="invalid stored block lengths",B.mode=P;break}if(B.length=Oe&65535,Oe=0,Me=0,B.mode=j,me===f)break e;case j:B.mode=I;case I:if(_e=B.length,_e){if(_e>Ue&&(_e=Ue),_e>he&&(_e=he),_e===0)break e;r.arraySet(je,Re,R,_e,Fe),Ue-=_e,R+=_e,he-=_e,Fe+=_e,B.length-=_e;break}B.mode=ue;break;case se:for(;Me<14;){if(Ue===0)break e;Ue--,Oe+=Re[R++]<<Me,Me+=8}if(B.nlen=(Oe&31)+257,Oe>>>=5,Me-=5,B.ndist=(Oe&31)+1,Oe>>>=5,Me-=5,B.ncode=(Oe&15)+4,Oe>>>=4,Me-=4,B.nlen>286||B.ndist>30){G.msg="too many length or distance symbols",B.mode=P;break}B.have=0,B.mode=z;case z:for(;B.have<B.ncode;){for(;Me<3;){if(Ue===0)break e;Ue--,Oe+=Re[R++]<<Me,Me+=8}B.lens[Zr[B.have++]]=Oe&7,Oe>>>=3,Me-=3}for(;B.have<19;)B.lens[Zr[B.have++]]=0;if(B.lencode=B.lendyn,B.lenbits=7,Wt={bits:B.lenbits},Dr=i(o,B.lens,0,19,B.lencode,0,B.work,Wt),B.lenbits=Wt.bits,Dr){G.msg="invalid code lengths set",B.mode=P;break}B.have=0,B.mode=ie;case ie:for(;B.have<B.nlen+B.ndist;){for(;et=B.lencode[Oe&(1<<B.lenbits)-1],dt=et>>>24,Rt=et>>>16&255,Et=et&65535,!(dt<=Me);){if(Ue===0)break e;Ue--,Oe+=Re[R++]<<Me,Me+=8}if(Et<16)Oe>>>=dt,Me-=dt,B.lens[B.have++]=Et;else{if(Et===16){for(Yt=dt+2;Me<Yt;){if(Ue===0)break e;Ue--,Oe+=Re[R++]<<Me,Me+=8}if(Oe>>>=dt,Me-=dt,B.have===0){G.msg="invalid bit length repeat",B.mode=P;break}Ht=B.lens[B.have-1],_e=3+(Oe&3),Oe>>>=2,Me-=2}else if(Et===17){for(Yt=dt+3;Me<Yt;){if(Ue===0)break e;Ue--,Oe+=Re[R++]<<Me,Me+=8}Oe>>>=dt,Me-=dt,Ht=0,_e=3+(Oe&7),Oe>>>=3,Me-=3}else{for(Yt=dt+7;Me<Yt;){if(Ue===0)break e;Ue--,Oe+=Re[R++]<<Me,Me+=8}Oe>>>=dt,Me-=dt,Ht=0,_e=11+(Oe&127),Oe>>>=7,Me-=7}if(B.have+_e>B.nlen+B.ndist){G.msg="invalid bit length repeat",B.mode=P;break}for(;_e--;)B.lens[B.have++]=Ht}}if(B.mode===P)break;if(B.lens[256]===0){G.msg="invalid code -- missing end-of-block",B.mode=P;break}if(B.lenbits=9,Wt={bits:B.lenbits},Dr=i(s,B.lens,0,B.nlen,B.lencode,0,B.work,Wt),B.lenbits=Wt.bits,Dr){G.msg="invalid literal/lengths set",B.mode=P;break}if(B.distbits=6,B.distcode=B.distdyn,Wt={bits:B.distbits},Dr=i(a,B.lens,B.nlen,B.ndist,B.distcode,0,B.work,Wt),B.distbits=Wt.bits,Dr){G.msg="invalid distances set",B.mode=P;break}if(B.mode=V,me===f)break e;case V:B.mode=X;case X:if(Ue>=6&&he>=258){G.next_out=Fe,G.avail_out=he,G.next_in=R,G.avail_in=Ue,B.hold=Oe,B.bits=Me,n(G,ce),Fe=G.next_out,je=G.output,he=G.avail_out,R=G.next_in,Re=G.input,Ue=G.avail_in,Oe=B.hold,Me=B.bits,B.mode===ue&&(B.back=-1);break}for(B.back=0;et=B.lencode[Oe&(1<<B.lenbits)-1],dt=et>>>24,Rt=et>>>16&255,Et=et&65535,!(dt<=Me);){if(Ue===0)break e;Ue--,Oe+=Re[R++]<<Me,Me+=8}if(Rt&&(Rt&240)===0){for(ar=dt,_i=Rt,qn=Et;et=B.lencode[qn+((Oe&(1<<ar+_i)-1)>>ar)],dt=et>>>24,Rt=et>>>16&255,Et=et&65535,!(ar+dt<=Me);){if(Ue===0)break e;Ue--,Oe+=Re[R++]<<Me,Me+=8}Oe>>>=ar,Me-=ar,B.back+=ar}if(Oe>>>=dt,Me-=dt,B.back+=dt,B.length=Et,Rt===0){B.mode=N;break}if(Rt&32){B.back=-1,B.mode=ue;break}if(Rt&64){G.msg="invalid literal/length code",B.mode=P;break}B.extra=Rt&15,B.mode=we;case we:if(B.extra){for(Yt=B.extra;Me<Yt;){if(Ue===0)break e;Ue--,Oe+=Re[R++]<<Me,Me+=8}B.length+=Oe&(1<<B.extra)-1,Oe>>>=B.extra,Me-=B.extra,B.back+=B.extra}B.was=B.length,B.mode=ve;case ve:for(;et=B.distcode[Oe&(1<<B.distbits)-1],dt=et>>>24,Rt=et>>>16&255,Et=et&65535,!(dt<=Me);){if(Ue===0)break e;Ue--,Oe+=Re[R++]<<Me,Me+=8}if((Rt&240)===0){for(ar=dt,_i=Rt,qn=Et;et=B.distcode[qn+((Oe&(1<<ar+_i)-1)>>ar)],dt=et>>>24,Rt=et>>>16&255,Et=et&65535,!(ar+dt<=Me);){if(Ue===0)break e;Ue--,Oe+=Re[R++]<<Me,Me+=8}Oe>>>=ar,Me-=ar,B.back+=ar}if(Oe>>>=dt,Me-=dt,B.back+=dt,Rt&64){G.msg="invalid distance code",B.mode=P;break}B.offset=Et,B.extra=Rt&15,B.mode=de;case de:if(B.extra){for(Yt=B.extra;Me<Yt;){if(Ue===0)break e;Ue--,Oe+=Re[R++]<<Me,Me+=8}B.offset+=Oe&(1<<B.extra)-1,Oe>>>=B.extra,Me-=B.extra,B.back+=B.extra}if(B.offset>B.dmax){G.msg="invalid distance too far back",B.mode=P;break}B.mode=M;case M:if(he===0)break e;if(_e=ce-he,B.offset>_e){if(_e=B.offset-_e,_e>B.whave&&B.sane){G.msg="invalid distance too far back",B.mode=P;break}_e>B.wnext?(_e-=B.wnext,He=B.wsize-_e):He=B.wnext-_e,_e>B.length&&(_e=B.length),ze=B.window}else ze=je,He=Fe-B.offset,_e=B.length;_e>he&&(_e=he),he-=_e,B.length-=_e;do je[Fe++]=ze[He++];while(--_e);B.length===0&&(B.mode=X);break;case N:if(he===0)break e;je[Fe++]=B.length,he--,B.mode=X;break;case $:if(B.wrap){for(;Me<32;){if(Ue===0)break e;Ue--,Oe|=Re[R++]<<Me,Me+=8}if(ce-=he,G.total_out+=ce,B.total+=ce,ce&&(G.adler=B.check=B.flags?t(B.check,je,ce,Fe-ce):e(B.check,je,ce,Fe-ce)),ce=he,(B.flags?Oe:be(Oe))!==B.check){G.msg="incorrect data check",B.mode=P;break}Oe=0,Me=0}B.mode=ne;case ne:if(B.wrap&&B.flags){for(;Me<32;){if(Ue===0)break e;Ue--,Oe+=Re[R++]<<Me,Me+=8}if(Oe!==(B.total&4294967295)){G.msg="incorrect length check",B.mode=P;break}Oe=0,Me=0}B.mode=ye;case ye:Dr=d;break e;case P:Dr=v;break e;case C:return w;case F:default:return b}return G.next_out=Fe,G.avail_out=he,G.next_in=R,G.avail_in=Ue,B.hold=Oe,B.bits=Me,(B.wsize||ce!==G.avail_out&&B.mode<P&&(B.mode<$||me!==u))&&J(G,G.output,G.next_out,ce-G.avail_out),tt-=G.avail_in,ce-=G.avail_out,G.total_in+=tt,G.total_out+=ce,B.total+=ce,B.wrap&&ce&&(G.adler=B.check=B.flags?t(B.check,je,ce,G.next_out-ce):e(B.check,je,ce,G.next_out-ce)),G.data_type=B.bits+(B.last?64:0)+(B.mode===ue?128:0)+(B.mode===V||B.mode===j?256:0),(tt===0&&ce===0||me===u)&&Dr===h&&(Dr=y),Dr}function ae(G){if(!G||!G.state)return b;var me=G.state;return me.window&&(me.window=null),G.state=null,h}function fe(G,me){var B;return!G||!G.state||(B=G.state,(B.wrap&2)===0)?b:(B.head=me,me.done=!1,h)}function Te(G,me){var B=me.length,Re,je,R;return!G||!G.state||(Re=G.state,Re.wrap!==0&&Re.mode!==H)?b:Re.mode===H&&(je=1,je=e(je,me,B,0),je!==Re.check)?v:(R=J(G,me,B,B),R?(Re.mode=C,w):(Re.havedict=1,h))}return is.inflateReset=Ce,is.inflateReset2=qe,is.inflateResetKeep=Pe,is.inflateInit=Ge,is.inflateInit2=We,is.inflate=T,is.inflateEnd=ae,is.inflateGetHeader=fe,is.inflateSetDictionary=Te,is.inflateInfo="pako inflate (from Nodeca project)",is}function O7(){return mL||(mL=!0,d1={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}),d1}function N7(){if(yL)return rt;yL=!0;var r=fn().Buffer,e=zr,t=pt,n=x7(),i=C7(),o=I7(),s=O7();for(var a in s)rt[a]=s[a];rt.NONE=0,rt.DEFLATE=1,rt.INFLATE=2,rt.GZIP=3,rt.GUNZIP=4,rt.DEFLATERAW=5,rt.INFLATERAW=6,rt.UNZIP=7;var u=31,c=139;function f(h){if(typeof h!="number"||h<rt.DEFLATE||h>rt.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=h,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}return f.prototype.close=function(){if(this.write_in_progress){this.pending_close=!0;return}this.pending_close=!1,t(this.init_done,"close before init"),t(this.mode<=rt.UNZIP),this.mode===rt.DEFLATE||this.mode===rt.GZIP||this.mode===rt.DEFLATERAW?i.deflateEnd(this.strm):(this.mode===rt.INFLATE||this.mode===rt.GUNZIP||this.mode===rt.INFLATERAW||this.mode===rt.UNZIP)&&o.inflateEnd(this.strm),this.mode=rt.NONE,this.dictionary=null},f.prototype.write=function(h,d,g,b,v,w,y){return this._write(!0,h,d,g,b,v,w,y)},f.prototype.writeSync=function(h,d,g,b,v,w,y){return this._write(!1,h,d,g,b,v,w,y)},f.prototype._write=function(h,d,g,b,v,w,y,_){if(t.equal(arguments.length,8),t(this.init_done,"write before init"),t(this.mode!==rt.NONE,"already finalized"),t.equal(!1,this.write_in_progress,"write already in progress"),t.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,t.equal(!1,d===void 0,"must provide flush value"),this.write_in_progress=!0,d!==rt.Z_NO_FLUSH&&d!==rt.Z_PARTIAL_FLUSH&&d!==rt.Z_SYNC_FLUSH&&d!==rt.Z_FULL_FLUSH&&d!==rt.Z_FINISH&&d!==rt.Z_BLOCK)throw new Error("Invalid flush value");if(g==null&&(g=r.alloc(0),v=0,b=0),this.strm.avail_in=v,this.strm.input=g,this.strm.next_in=b,this.strm.avail_out=_,this.strm.output=w,this.strm.next_out=y,this.flush=d,!h)return this._process(),this._checkError()?this._afterSync():void 0;var E=this;return e.nextTick(function(){E._process(),E._after()}),this},f.prototype._afterSync=function(){var h=this.strm.avail_out,d=this.strm.avail_in;return this.write_in_progress=!1,[d,h]},f.prototype._process=function(){var h=null;switch(this.mode){case rt.DEFLATE:case rt.GZIP:case rt.DEFLATERAW:this.err=i.deflate(this.strm,this.flush);break;case rt.UNZIP:switch(this.strm.avail_in>0&&(h=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(h===null)break;if(this.strm.input[h]===u){if(this.gzip_id_bytes_read=1,h++,this.strm.avail_in===1)break}else{this.mode=rt.INFLATE;break}case 1:if(h===null)break;this.strm.input[h]===c?(this.gzip_id_bytes_read=2,this.mode=rt.GUNZIP):this.mode=rt.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case rt.INFLATE:case rt.GUNZIP:case rt.INFLATERAW:for(this.err=o.inflate(this.strm,this.flush),this.err===rt.Z_NEED_DICT&&this.dictionary&&(this.err=o.inflateSetDictionary(this.strm,this.dictionary),this.err===rt.Z_OK?this.err=o.inflate(this.strm,this.flush):this.err===rt.Z_DATA_ERROR&&(this.err=rt.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===rt.GUNZIP&&this.err===rt.Z_STREAM_END&&this.strm.next_in[0]!==0;)this.reset(),this.err=o.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},f.prototype._checkError=function(){switch(this.err){case rt.Z_OK:case rt.Z_BUF_ERROR:if(this.strm.avail_out!==0&&this.flush===rt.Z_FINISH)return this._error("unexpected end of file"),!1;break;case rt.Z_STREAM_END:break;case rt.Z_NEED_DICT:return this.dictionary==null?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},f.prototype._after=function(){if(this._checkError()){var h=this.strm.avail_out,d=this.strm.avail_in;this.write_in_progress=!1,this.callback(d,h),this.pending_close&&this.close()}},f.prototype._error=function(h){this.strm.msg&&(h=this.strm.msg),this.onerror(h,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},f.prototype.init=function(h,d,g,b,v){t(arguments.length===4||arguments.length===5,"init(windowBits, level, memLevel, strategy, [dictionary])"),t(h>=8&&h<=15,"invalid windowBits"),t(d>=-1&&d<=9,"invalid compression level"),t(g>=1&&g<=9,"invalid memlevel"),t(b===rt.Z_FILTERED||b===rt.Z_HUFFMAN_ONLY||b===rt.Z_RLE||b===rt.Z_FIXED||b===rt.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(d,h,g,b,v),this._setDictionary()},f.prototype.params=function(){throw new Error("deflateParams Not supported")},f.prototype.reset=function(){this._reset(),this._setDictionary()},f.prototype._init=function(h,d,g,b,v){switch(this.level=h,this.windowBits=d,this.memLevel=g,this.strategy=b,this.flush=rt.Z_NO_FLUSH,this.err=rt.Z_OK,(this.mode===rt.GZIP||this.mode===rt.GUNZIP)&&(this.windowBits+=16),this.mode===rt.UNZIP&&(this.windowBits+=32),(this.mode===rt.DEFLATERAW||this.mode===rt.INFLATERAW)&&(this.windowBits=-1*this.windowBits),this.strm=new n,this.mode){case rt.DEFLATE:case rt.GZIP:case rt.DEFLATERAW:this.err=i.deflateInit2(this.strm,this.level,rt.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case rt.INFLATE:case rt.GUNZIP:case rt.INFLATERAW:case rt.UNZIP:this.err=o.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==rt.Z_OK&&this._error("Init error"),this.dictionary=v,this.write_in_progress=!1,this.init_done=!0},f.prototype._setDictionary=function(){if(this.dictionary!=null){switch(this.err=rt.Z_OK,this.mode){case rt.DEFLATE:case rt.DEFLATERAW:this.err=i.deflateSetDictionary(this.strm,this.dictionary);break}this.err!==rt.Z_OK&&this._error("Failed to set dictionary")}},f.prototype._reset=function(){switch(this.err=rt.Z_OK,this.mode){case rt.DEFLATE:case rt.DEFLATERAW:case rt.GZIP:this.err=i.deflateReset(this.strm);break;case rt.INFLATE:case rt.INFLATERAW:case rt.GUNZIP:this.err=o.inflateReset(this.strm);break}this.err!==rt.Z_OK&&this._error("Failed to reset stream")},rt.Zlib=f,rt}function k7(){if(bL)return ht;bL=!0;var r=zr,e=fn().Buffer,t=ii.Transform,n=N7(),i=Ve,o=pt.ok,s=fn().kMaxLength,a="Cannot create final Buffer. It would be larger than 0x"+s.toString(16)+" bytes";n.Z_MIN_WINDOWBITS=8,n.Z_MAX_WINDOWBITS=15,n.Z_DEFAULT_WINDOWBITS=15,n.Z_MIN_CHUNK=64,n.Z_MAX_CHUNK=1/0,n.Z_DEFAULT_CHUNK=16*1024,n.Z_MIN_MEMLEVEL=1,n.Z_MAX_MEMLEVEL=9,n.Z_DEFAULT_MEMLEVEL=8,n.Z_MIN_LEVEL=-1,n.Z_MAX_LEVEL=9,n.Z_DEFAULT_LEVEL=n.Z_DEFAULT_COMPRESSION;for(var u=Object.keys(n),c=0;c<u.length;c++){var f=u[c];f.match(/^Z/)&&Object.defineProperty(ht,f,{enumerable:!0,value:n[f],writable:!1})}for(var h={Z_OK:n.Z_OK,Z_STREAM_END:n.Z_STREAM_END,Z_NEED_DICT:n.Z_NEED_DICT,Z_ERRNO:n.Z_ERRNO,Z_STREAM_ERROR:n.Z_STREAM_ERROR,Z_DATA_ERROR:n.Z_DATA_ERROR,Z_MEM_ERROR:n.Z_MEM_ERROR,Z_BUF_ERROR:n.Z_BUF_ERROR,Z_VERSION_ERROR:n.Z_VERSION_ERROR},d=Object.keys(h),g=0;g<d.length;g++){var b=d[g];h[h[b]]=b}Object.defineProperty(ht,"codes",{enumerable:!0,value:Object.freeze(h),writable:!1}),ht.Deflate=y,ht.Inflate=_,ht.Gzip=E,ht.Gunzip=S,ht.DeflateRaw=A,ht.InflateRaw=L,ht.Unzip=D,ht.createDeflate=function(U){return new y(U)},ht.createInflate=function(U){return new _(U)},ht.createDeflateRaw=function(U){return new A(U)},ht.createInflateRaw=function(U){return new L(U)},ht.createGzip=function(U){return new E(U)},ht.createGunzip=function(U){return new S(U)},ht.createUnzip=function(U){return new D(U)},ht.deflate=function(U,H,ue){return typeof H=="function"&&(ue=H,H={}),v(new y(H),U,ue)},ht.deflateSync=function(U,H){return w(new y(H),U)},ht.gzip=function(U,H,ue){return typeof H=="function"&&(ue=H,H={}),v(new E(H),U,ue)},ht.gzipSync=function(U,H){return w(new E(H),U)},ht.deflateRaw=function(U,H,ue){return typeof H=="function"&&(ue=H,H={}),v(new A(H),U,ue)},ht.deflateRawSync=function(U,H){return w(new A(H),U)},ht.unzip=function(U,H,ue){return typeof H=="function"&&(ue=H,H={}),v(new D(H),U,ue)},ht.unzipSync=function(U,H){return w(new D(H),U)},ht.inflate=function(U,H,ue){return typeof H=="function"&&(ue=H,H={}),v(new _(H),U,ue)},ht.inflateSync=function(U,H){return w(new _(H),U)},ht.gunzip=function(U,H,ue){return typeof H=="function"&&(ue=H,H={}),v(new S(H),U,ue)},ht.gunzipSync=function(U,H){return w(new S(H),U)},ht.inflateRaw=function(U,H,ue){return typeof H=="function"&&(ue=H,H={}),v(new L(H),U,ue)},ht.inflateRawSync=function(U,H){return w(new L(H),U)};function v(U,H,ue){var Se=[],Ae=0;U.on("error",I),U.on("end",se),U.end(H),j();function j(){for(var z;(z=U.read())!==null;)Se.push(z),Ae+=z.length;U.once("readable",j)}function I(z){U.removeListener("end",se),U.removeListener("readable",j),ue(z)}function se(){var z,ie=null;Ae>=s?ie=new RangeError(a):z=e.concat(Se,Ae),Se=[],U.close(),ue(ie,z)}}function w(U,H){if(typeof H=="string"&&(H=e.from(H)),!e.isBuffer(H))throw new TypeError("Not a string or buffer");var ue=U._finishFlushFlag;return U._processChunk(H,ue)}function y(U){if(!(this instanceof y))return new y(U);re.call(this,U,n.DEFLATE)}function _(U){if(!(this instanceof _))return new _(U);re.call(this,U,n.INFLATE)}function E(U){if(!(this instanceof E))return new E(U);re.call(this,U,n.GZIP)}function S(U){if(!(this instanceof S))return new S(U);re.call(this,U,n.GUNZIP)}function A(U){if(!(this instanceof A))return new A(U);re.call(this,U,n.DEFLATERAW)}function L(U){if(!(this instanceof L))return new L(U);re.call(this,U,n.INFLATERAW)}function D(U){if(!(this instanceof D))return new D(U);re.call(this,U,n.UNZIP)}function K(U){return U===n.Z_NO_FLUSH||U===n.Z_PARTIAL_FLUSH||U===n.Z_SYNC_FLUSH||U===n.Z_FULL_FLUSH||U===n.Z_FINISH||U===n.Z_BLOCK}function re(U,H){var ue=this;if(this._opts=U=U||{},this._chunkSize=U.chunkSize||ht.Z_DEFAULT_CHUNK,t.call(this,U),U.flush&&!K(U.flush))throw new Error("Invalid flush flag: "+U.flush);if(U.finishFlush&&!K(U.finishFlush))throw new Error("Invalid flush flag: "+U.finishFlush);if(this._flushFlag=U.flush||n.Z_NO_FLUSH,this._finishFlushFlag=typeof U.finishFlush<"u"?U.finishFlush:n.Z_FINISH,U.chunkSize&&(U.chunkSize<ht.Z_MIN_CHUNK||U.chunkSize>ht.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+U.chunkSize);if(U.windowBits&&(U.windowBits<ht.Z_MIN_WINDOWBITS||U.windowBits>ht.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+U.windowBits);if(U.level&&(U.level<ht.Z_MIN_LEVEL||U.level>ht.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+U.level);if(U.memLevel&&(U.memLevel<ht.Z_MIN_MEMLEVEL||U.memLevel>ht.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+U.memLevel);if(U.strategy&&U.strategy!=ht.Z_FILTERED&&U.strategy!=ht.Z_HUFFMAN_ONLY&&U.strategy!=ht.Z_RLE&&U.strategy!=ht.Z_FIXED&&U.strategy!=ht.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+U.strategy);if(U.dictionary&&!e.isBuffer(U.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new n.Zlib(H);var Se=this;this._hadError=!1,this._handle.onerror=function(I,se){q(Se),Se._hadError=!0;var z=new Error(I);z.errno=se,z.code=ht.codes[se],Se.emit("error",z)};var Ae=ht.Z_DEFAULT_COMPRESSION;typeof U.level=="number"&&(Ae=U.level);var j=ht.Z_DEFAULT_STRATEGY;typeof U.strategy=="number"&&(j=U.strategy),this._handle.init(U.windowBits||ht.Z_DEFAULT_WINDOWBITS,Ae,U.memLevel||ht.Z_DEFAULT_MEMLEVEL,j,U.dictionary),this._buffer=e.allocUnsafe(this._chunkSize),this._offset=0,this._level=Ae,this._strategy=j,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!ue._handle},configurable:!0,enumerable:!0})}i.inherits(re,t),re.prototype.params=function(U,H,ue){if(U<ht.Z_MIN_LEVEL||U>ht.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+U);if(H!=ht.Z_FILTERED&&H!=ht.Z_HUFFMAN_ONLY&&H!=ht.Z_RLE&&H!=ht.Z_FIXED&&H!=ht.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+H);if(this._level!==U||this._strategy!==H){var Se=this;this.flush(n.Z_SYNC_FLUSH,function(){o(Se._handle,"zlib binding closed"),Se._handle.params(U,H),Se._hadError||(Se._level=U,Se._strategy=H,ue&&ue())})}else r.nextTick(ue)},re.prototype.reset=function(){return o(this._handle,"zlib binding closed"),this._handle.reset()},re.prototype._flush=function(U){this._transform(e.alloc(0),"",U)},re.prototype.flush=function(U,H){var ue=this,Se=this._writableState;(typeof U=="function"||U===void 0&&!H)&&(H=U,U=n.Z_FULL_FLUSH),Se.ended?H&&r.nextTick(H):Se.ending?H&&this.once("end",H):Se.needDrain?H&&this.once("drain",function(){return ue.flush(U,H)}):(this._flushFlag=U,this.write(e.alloc(0),"",H))},re.prototype.close=function(U){q(this,U),r.nextTick(oe,this)};function q(U,H){H&&r.nextTick(H),U._handle&&(U._handle.close(),U._handle=null)}function oe(U){U.emit("close")}return re.prototype._transform=function(U,H,ue){var Se,Ae=this._writableState,j=Ae.ending||Ae.ended,I=j&&(!U||Ae.length===U.length);if(U!==null&&!e.isBuffer(U))return ue(new Error("invalid input"));if(!this._handle)return ue(new Error("zlib binding closed"));I?Se=this._finishFlushFlag:(Se=this._flushFlag,U.length>=Ae.length&&(this._flushFlag=this._opts.flush||n.Z_NO_FLUSH)),this._processChunk(U,Se,ue)},re.prototype._processChunk=function(U,H,ue){var Se=U&&U.length,Ae=this._chunkSize-this._offset,j=0,I=this,se=typeof ue=="function";if(!se){var z=[],ie=0,V;this.on("error",function(M){V=M}),o(this._handle,"zlib binding closed");do var X=this._handle.writeSync(H,U,j,Se,this._buffer,this._offset,Ae);while(!this._hadError&&de(X[0],X[1]));if(this._hadError)throw V;if(ie>=s)throw q(this),new RangeError(a);var we=e.concat(z,ie);return q(this),we}o(this._handle,"zlib binding closed");var ve=this._handle.write(H,U,j,Se,this._buffer,this._offset,Ae);ve.buffer=U,ve.callback=de;function de(M,N){if(this&&(this.buffer=null,this.callback=null),!I._hadError){var $=Ae-N;if(o($>=0,"have should not go down"),$>0){var ne=I._buffer.slice(I._offset,I._offset+$);I._offset+=$,se?I.push(ne):(z.push(ne),ie+=ne.length)}if((N===0||I._offset>=I._chunkSize)&&(Ae=I._chunkSize,I._offset=0,I._buffer=e.allocUnsafe(I._chunkSize)),N===0){if(j+=Se-M,Se=M,!se)return!0;var ye=I._handle.write(H,U,j,Se,I._buffer,I._offset,I._chunkSize);ye.callback=de,ye.buffer=U;return}if(!se)return!1;ue()}}},i.inherits(y,re),i.inherits(_,re),i.inherits(E,re),i.inherits(S,re),i.inherits(A,re),i.inherits(L,re),i.inherits(D,re),ht}var a1,oL,Pn,aL,Zu,lL,l1,uL,u1,cL,c1,fL,Os,hL,f1,dL,h1,pL,is,gL,d1,mL,rt,yL,ht,bL,Ze,L7,P7,B7,M7,F7,U7,j7,$7,z7,W7,q7,H7,G7,V7,Y7,X7,K7,Z7,J7,Q7,ez,tz,rz,nz,iz,sz,oz,az,lz,uz,cz,fz,hz,dz,pz,gz,mz,yz,bz,wz,vz,_z,Ez,Az,xz,Sz,Tz,Cz,Rz,Dz,Iz,Oz,Nz,kz,Lz,Pz,Bz,Mz,Fz,Uz,jz,$z,zz,Wz,qz,Hz,Gz,Vz,Yz,EL=Jt(()=>{Ne();Le();ke();Ff();LE();z_();Mu();q0();fl();V0();Xf();tb();qf();a1={},oL=!1;Pn={},aL=!1;Zu={},lL=!1;l1={},uL=!1;u1={},cL=!1;c1={},fL=!1;Os={},hL=!1;f1={},dL=!1;h1={},pL=!1;is={},gL=!1;d1={},mL=!1;rt={},yL=!1;ht={},bL=!1;Ze=k7();Ze.codes;Ze.Deflate;Ze.Inflate;Ze.Gzip;Ze.Gunzip;Ze.DeflateRaw;Ze.InflateRaw;Ze.Unzip;Ze.createDeflate;Ze.createInflate;Ze.createDeflateRaw;Ze.createInflateRaw;Ze.createGzip;Ze.createGunzip;Ze.createUnzip;Ze.deflate;Ze.deflateSync;Ze.gzip;Ze.gzipSync;Ze.deflateRaw;Ze.deflateRawSync;Ze.unzip;Ze.unzipSync;Ze.inflate;Ze.inflateSync;Ze.gunzip;Ze.gunzipSync;Ze.inflateRaw;Ze.inflateRawSync;L7=Ze.Deflate,P7=Ze.DeflateRaw,B7=Ze.Gunzip,M7=Ze.Gzip,F7=Ze.Inflate,U7=Ze.InflateRaw,j7=Ze.Unzip,$7=Ze.Z_BEST_COMPRESSION,z7=Ze.Z_BEST_SPEED,W7=Ze.Z_BINARY,q7=Ze.Z_BLOCK,H7=Ze.Z_BUF_ERROR,G7=Ze.Z_DATA_ERROR,V7=Ze.Z_DEFAULT_CHUNK,Y7=Ze.Z_DEFAULT_COMPRESSION,X7=Ze.Z_DEFAULT_LEVEL,K7=Ze.Z_DEFAULT_MEMLEVEL,Z7=Ze.Z_DEFAULT_STRATEGY,J7=Ze.Z_DEFAULT_WINDOWBITS,Q7=Ze.Z_DEFLATED,ez=Ze.Z_ERRNO,tz=Ze.Z_FILTERED,rz=Ze.Z_FINISH,nz=Ze.Z_FIXED,iz=Ze.Z_FULL_FLUSH,sz=Ze.Z_HUFFMAN_ONLY,oz=Ze.Z_MAX_CHUNK,az=Ze.Z_MAX_LEVEL,lz=Ze.Z_MAX_MEMLEVEL,uz=Ze.Z_MAX_WINDOWBITS,cz=Ze.Z_MIN_CHUNK,fz=Ze.Z_MIN_LEVEL,hz=Ze.Z_MIN_MEMLEVEL,dz=Ze.Z_MIN_WINDOWBITS,pz=Ze.Z_NEED_DICT,gz=Ze.Z_NO_COMPRESSION,mz=Ze.Z_NO_FLUSH,yz=Ze.Z_OK,bz=Ze.Z_PARTIAL_FLUSH,wz=Ze.Z_RLE,vz=Ze.Z_STREAM_END,_z=Ze.Z_STREAM_ERROR,Ez=Ze.Z_SYNC_FLUSH,Az=Ze.Z_TEXT,xz=Ze.Z_TREES,Sz=Ze.Z_UNKNOWN,Tz=Ze.Zlib,Cz=Ze.codes,Rz=Ze.createDeflate,Dz=Ze.createDeflateRaw,Iz=Ze.createGunzip,Oz=Ze.createGzip,Nz=Ze.createInflate,kz=Ze.createInflateRaw,Lz=Ze.createUnzip,Pz=Ze.deflate,Bz=Ze.deflateRaw,Mz=Ze.deflateRawSync,Fz=Ze.deflateSync,Uz=Ze.gunzip,jz=Ze.gunzipSync,$z=Ze.gzip,zz=Ze.gzipSync,Wz=Ze.inflate,qz=Ze.inflateRaw,Hz=Ze.inflateRawSync,Gz=Ze.inflateSync,Vz=Ze.unzip,Yz=Ze.unzipSync});function xL(){return AL||(AL=!0,typeof Object.create=="function"?Pb=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Pb=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}),Pb}var Pb,AL,p1=Jt(()=>{Ne();Le();ke();Pb={},AL=!1});var ug={};Uo(ug,{TextDecoder:()=>NW,TextEncoder:()=>OW,_extend:()=>aW,callbackify:()=>lW,debuglog:()=>uW,default:()=>gt,deprecate:()=>cW,format:()=>fW,inherits:()=>hW,inspect:()=>dW,isArray:()=>pW,isBoolean:()=>gW,isBuffer:()=>mW,isDate:()=>yW,isError:()=>bW,isFunction:()=>wW,isNull:()=>vW,isNullOrUndefined:()=>_W,isNumber:()=>EW,isObject:()=>AW,isPrimitive:()=>xW,isRegExp:()=>SW,isString:()=>TW,isSymbol:()=>CW,isUndefined:()=>RW,log:()=>DW,promisify:()=>Bb,types:()=>IW});function S1(){if(SL)return g1;SL=!0;var r=n2();return g1=function(){return r()&&!!Symbol.toStringTag},g1}function Xz(){if(TL)return m1;TL=!0;var r=S1()(),e=jp(),t=e("Object.prototype.toString"),n=function(a){return r&&a&&typeof a=="object"&&Symbol.toStringTag in a?!1:t(a)==="[object Arguments]"},i=function(a){return n(a)?!0:a!==null&&typeof a=="object"&&typeof a.length=="number"&&a.length>=0&&t(a)!=="[object Array]"&&t(a.callee)==="[object Function]"},o=(function(){return n(arguments)})();return n.isLegacyArguments=i,m1=o?n:i,m1}function Kz(){if(CL)return y1;CL=!0;var r=Object.prototype.toString,e=Function.prototype.toString,t=/^\s*(?:function)?\*/,n=S1()(),i=Object.getPrototypeOf,o=function(){if(!n)return!1;try{return Function("return function*() {}")()}catch{}},s;return y1=function(u){if(typeof u!="function")return!1;if(t.test(e.call(u)))return!0;if(!n){var c=r.call(u);return c==="[object GeneratorFunction]"}if(!i)return!1;if(typeof s>"u"){var f=o();s=f?i(f):!1}return i(u)===s},y1}function Zz(){if(RL)return b1;RL=!0;var r=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,t,n;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{t=Object.defineProperty({},"length",{get:function(){throw n}}),n={},e(function(){throw 42},null,t)}catch(_){_!==n&&(e=null)}else e=null;var i=/^\s*class\b/,o=function(E){try{var S=r.call(E);return i.test(S)}catch{return!1}},s=function(E){try{return o(E)?!1:(r.call(E),!0)}catch{return!1}},a=Object.prototype.toString,u="[object Object]",c="[object Function]",f="[object GeneratorFunction]",h="[object HTMLAllCollection]",d="[object HTML document.all class]",g="[object HTMLCollection]",b=typeof Symbol=="function"&&!!Symbol.toStringTag,v=!(0 in[,]),w=function(){return!1};if(typeof document=="object"){var y=document.all;a.call(y)===a.call(document.all)&&(w=function(E){if((v||!E)&&(typeof E>"u"||typeof E=="object"))try{var S=a.call(E);return(S===h||S===d||S===g||S===u)&&E("")==null}catch{}return!1})}return b1=e?function(E){if(w(E))return!0;if(!E||typeof E!="function"&&typeof E!="object")return!1;try{e(E,null,t)}catch(S){if(S!==n)return!1}return!o(E)&&s(E)}:function(E){if(w(E))return!0;if(!E||typeof E!="function"&&typeof E!="object")return!1;if(b)return s(E);if(o(E))return!1;var S=a.call(E);return S!==c&&S!==f&&!/^\[object HTML/.test(S)?!1:s(E)},b1}function Jz(){if(DL)return w1;DL=!0;var r=Zz(),e=Object.prototype.toString,t=Object.prototype.hasOwnProperty,n=function(u,c,f){for(var h=0,d=u.length;h<d;h++)t.call(u,h)&&(f==null?c(u[h],h,u):c.call(f,u[h],h,u))},i=function(u,c,f){for(var h=0,d=u.length;h<d;h++)f==null?c(u.charAt(h),h,u):c.call(f,u.charAt(h),h,u)},o=function(u,c,f){for(var h in u)t.call(u,h)&&(f==null?c(u[h],h,u):c.call(f,u[h],h,u))},s=function(u,c,f){if(!r(c))throw new TypeError("iterator must be a function");var h;arguments.length>=3&&(h=f),e.call(u)==="[object Array]"?n(u,c,h):typeof u=="string"?i(u,c,h):o(u,c,h)};return w1=s,w1}function Qz(){return IL||(IL=!0,v1=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),v1}function tW(){if(OL)return _1;OL=!0;var r=Qz(),e=typeof globalThis>"u"?eW:globalThis;return _1=function(){for(var n=[],i=0;i<r.length;i++)typeof e[r[i]]=="function"&&(n[n.length]=r[i]);return n},_1}function ML(){if(NL)return E1;NL=!0;var r=Jz(),e=tW(),t=o2(),n=jp(),i=rb(),o=n("Object.prototype.toString"),s=S1()(),a=typeof globalThis>"u"?rW:globalThis,u=e(),c=n("String.prototype.slice"),f=Object.getPrototypeOf,h=n("Array.prototype.indexOf",!0)||function(w,y){for(var _=0;_<w.length;_+=1)if(w[_]===y)return _;return-1},d={__proto__:null};s&&i&&f?r(u,function(v){var w=new a[v];if(Symbol.toStringTag in w){var y=f(w),_=i(y,Symbol.toStringTag);if(!_){var E=f(y);_=i(E,Symbol.toStringTag)}d["$"+v]=t(_.get)}}):r(u,function(v){var w=new a[v],y=w.slice||w.set;y&&(d["$"+v]=t(y))});var g=function(w){var y=!1;return r(d,function(_,E){if(!y)try{"$"+_(w)===E&&(y=c(E,1))}catch{}}),y},b=function(w){var y=!1;return r(d,function(_,E){if(!y)try{_(w),y=c(E,1)}catch{}}),y};return E1=function(w){if(!w||typeof w!="object")return!1;if(!s){var y=c(o(w),8,-1);return h(u,y)>-1?y:y!=="Object"?!1:b(w)}return i?g(w):null},E1}function nW(){if(kL)return A1;kL=!0;var r=ML();return A1=function(t){return!!r(t)},A1}function iW(){if(LL)return Dt;LL=!0;var r=Xz(),e=Kz(),t=ML(),n=nW();function i(te){return te.call.bind(te)}var o=typeof BigInt<"u",s=typeof Symbol<"u",a=i(Object.prototype.toString),u=i(Number.prototype.valueOf),c=i(String.prototype.valueOf),f=i(Boolean.prototype.valueOf);if(o)var h=i(BigInt.prototype.valueOf);if(s)var d=i(Symbol.prototype.valueOf);function g(te,be){if(typeof te!="object")return!1;try{return be(te),!0}catch{return!1}}Dt.isArgumentsObject=r,Dt.isGeneratorFunction=e,Dt.isTypedArray=n;function b(te){return typeof Promise<"u"&&te instanceof Promise||te!==null&&typeof te=="object"&&typeof te.then=="function"&&typeof te.catch=="function"}Dt.isPromise=b;function v(te){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(te):n(te)||V(te)}Dt.isArrayBufferView=v;function w(te){return t(te)==="Uint8Array"}Dt.isUint8Array=w;function y(te){return t(te)==="Uint8ClampedArray"}Dt.isUint8ClampedArray=y;function _(te){return t(te)==="Uint16Array"}Dt.isUint16Array=_;function E(te){return t(te)==="Uint32Array"}Dt.isUint32Array=E;function S(te){return t(te)==="Int8Array"}Dt.isInt8Array=S;function A(te){return t(te)==="Int16Array"}Dt.isInt16Array=A;function L(te){return t(te)==="Int32Array"}Dt.isInt32Array=L;function D(te){return t(te)==="Float32Array"}Dt.isFloat32Array=D;function K(te){return t(te)==="Float64Array"}Dt.isFloat64Array=K;function re(te){return t(te)==="BigInt64Array"}Dt.isBigInt64Array=re;function q(te){return t(te)==="BigUint64Array"}Dt.isBigUint64Array=q;function oe(te){return a(te)==="[object Map]"}oe.working=typeof Map<"u"&&oe(new Map);function U(te){return typeof Map>"u"?!1:oe.working?oe(te):te instanceof Map}Dt.isMap=U;function H(te){return a(te)==="[object Set]"}H.working=typeof Set<"u"&&H(new Set);function ue(te){return typeof Set>"u"?!1:H.working?H(te):te instanceof Set}Dt.isSet=ue;function Se(te){return a(te)==="[object WeakMap]"}Se.working=typeof WeakMap<"u"&&Se(new WeakMap);function Ae(te){return typeof WeakMap>"u"?!1:Se.working?Se(te):te instanceof WeakMap}Dt.isWeakMap=Ae;function j(te){return a(te)==="[object WeakSet]"}j.working=typeof WeakSet<"u"&&j(new WeakSet);function I(te){return j(te)}Dt.isWeakSet=I;function se(te){return a(te)==="[object ArrayBuffer]"}se.working=typeof ArrayBuffer<"u"&&se(new ArrayBuffer);function z(te){return typeof ArrayBuffer>"u"?!1:se.working?se(te):te instanceof ArrayBuffer}Dt.isArrayBuffer=z;function ie(te){return a(te)==="[object DataView]"}ie.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&ie(new DataView(new ArrayBuffer(1),0,1));function V(te){return typeof DataView>"u"?!1:ie.working?ie(te):te instanceof DataView}Dt.isDataView=V;var X=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function we(te){return a(te)==="[object SharedArrayBuffer]"}function ve(te){return typeof X>"u"?!1:(typeof we.working>"u"&&(we.working=we(new X)),we.working?we(te):te instanceof X)}Dt.isSharedArrayBuffer=ve;function de(te){return a(te)==="[object AsyncFunction]"}Dt.isAsyncFunction=de;function M(te){return a(te)==="[object Map Iterator]"}Dt.isMapIterator=M;function N(te){return a(te)==="[object Set Iterator]"}Dt.isSetIterator=N;function $(te){return a(te)==="[object Generator]"}Dt.isGeneratorObject=$;function ne(te){return a(te)==="[object WebAssembly.Module]"}Dt.isWebAssemblyCompiledModule=ne;function ye(te){return g(te,u)}Dt.isNumberObject=ye;function P(te){return g(te,c)}Dt.isStringObject=P;function C(te){return g(te,f)}Dt.isBooleanObject=C;function F(te){return o&&g(te,h)}Dt.isBigIntObject=F;function Q(te){return s&&g(te,d)}Dt.isSymbolObject=Q;function Ee(te){return ye(te)||P(te)||C(te)||F(te)||Q(te)}Dt.isBoxedPrimitive=Ee;function pe(te){return typeof Uint8Array<"u"&&(z(te)||ve(te))}return Dt.isAnyArrayBuffer=pe,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(te){Object.defineProperty(Dt,te,{enumerable:!1,value:function(){throw new Error(te+" is not supported in userland")}})}),Dt}function sW(){return PL||(PL=!0,x1=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}),x1}function oW(){if(BL)return It;BL=!0;var r=zr,e=Object.getOwnPropertyDescriptors||function(X){for(var we=Object.keys(X),ve={},de=0;de<we.length;de++)ve[we[de]]=Object.getOwnPropertyDescriptor(X,we[de]);return ve},t=/%[sdj%]/g;It.format=function(V){if(!A(V)){for(var X=[],we=0;we<arguments.length;we++)X.push(s(arguments[we]));return X.join(" ")}for(var we=1,ve=arguments,de=ve.length,M=String(V).replace(t,function($){if($==="%%")return"%";if(we>=de)return $;switch($){case"%s":return String(ve[we++]);case"%d":return Number(ve[we++]);case"%j":try{return JSON.stringify(ve[we++])}catch{return"[Circular]"}default:return $}}),N=ve[we];we<de;N=ve[++we])_(N)||!re(N)?M+=" "+N:M+=" "+s(N);return M},It.deprecate=function(V,X){if(typeof r<"u"&&r.noDeprecation===!0)return V;if(typeof r>"u")return function(){return It.deprecate(V,X).apply(this||lg,arguments)};var we=!1;function ve(){if(!we){if(r.throwDeprecation)throw new Error(X);r.traceDeprecation?console.trace(X):console.error(X),we=!0}return V.apply(this||lg,arguments)}return ve};var n={},i=/^$/;if(r.env.NODE_DEBUG){var o=r.env.NODE_DEBUG;o=o.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+o+"$","i")}It.debuglog=function(V){if(V=V.toUpperCase(),!n[V])if(i.test(V)){var X=r.pid;n[V]=function(){var we=It.format.apply(It,arguments);console.error("%s %d: %s",V,X,we)}}else n[V]=function(){};return n[V]};function s(V,X){var we={seen:[],stylize:u};return arguments.length>=3&&(we.depth=arguments[2]),arguments.length>=4&&(we.colors=arguments[3]),y(X)?we.showHidden=X:X&&It._extend(we,X),D(we.showHidden)&&(we.showHidden=!1),D(we.depth)&&(we.depth=2),D(we.colors)&&(we.colors=!1),D(we.customInspect)&&(we.customInspect=!0),we.colors&&(we.stylize=a),f(we,V,we.depth)}It.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function a(V,X){var we=s.styles[X];return we?"\x1B["+s.colors[we][0]+"m"+V+"\x1B["+s.colors[we][1]+"m":V}function u(V,X){return V}function c(V){var X={};return V.forEach(function(we,ve){X[we]=!0}),X}function f(V,X,we){if(V.customInspect&&X&&U(X.inspect)&&X.inspect!==It.inspect&&!(X.constructor&&X.constructor.prototype===X)){var ve=X.inspect(we,V);return A(ve)||(ve=f(V,ve,we)),ve}var de=h(V,X);if(de)return de;var M=Object.keys(X),N=c(M);if(V.showHidden&&(M=Object.getOwnPropertyNames(X)),oe(X)&&(M.indexOf("message")>=0||M.indexOf("description")>=0))return d(X);if(M.length===0){if(U(X)){var $=X.name?": "+X.name:"";return V.stylize("[Function"+$+"]","special")}if(K(X))return V.stylize(RegExp.prototype.toString.call(X),"regexp");if(q(X))return V.stylize(Date.prototype.toString.call(X),"date");if(oe(X))return d(X)}var ne="",ye=!1,P=["{","}"];if(w(X)&&(ye=!0,P=["[","]"]),U(X)){var C=X.name?": "+X.name:"";ne=" [Function"+C+"]"}if(K(X)&&(ne=" "+RegExp.prototype.toString.call(X)),q(X)&&(ne=" "+Date.prototype.toUTCString.call(X)),oe(X)&&(ne=" "+d(X)),M.length===0&&(!ye||X.length==0))return P[0]+ne+P[1];if(we<0)return K(X)?V.stylize(RegExp.prototype.toString.call(X),"regexp"):V.stylize("[Object]","special");V.seen.push(X);var F;return ye?F=g(V,X,we,N,M):F=M.map(function(Q){return b(V,X,we,N,Q,ye)}),V.seen.pop(),v(F,ne,P)}function h(V,X){if(D(X))return V.stylize("undefined","undefined");if(A(X)){var we="'"+JSON.stringify(X).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return V.stylize(we,"string")}if(S(X))return V.stylize(""+X,"number");if(y(X))return V.stylize(""+X,"boolean");if(_(X))return V.stylize("null","null")}function d(V){return"["+Error.prototype.toString.call(V)+"]"}function g(V,X,we,ve,de){for(var M=[],N=0,$=X.length;N<$;++N)I(X,String(N))?M.push(b(V,X,we,ve,String(N),!0)):M.push("");return de.forEach(function(ne){ne.match(/^\d+$/)||M.push(b(V,X,we,ve,ne,!0))}),M}function b(V,X,we,ve,de,M){var N,$,ne;if(ne=Object.getOwnPropertyDescriptor(X,de)||{value:X[de]},ne.get?ne.set?$=V.stylize("[Getter/Setter]","special"):$=V.stylize("[Getter]","special"):ne.set&&($=V.stylize("[Setter]","special")),I(ve,de)||(N="["+de+"]"),$||(V.seen.indexOf(ne.value)<0?(_(we)?$=f(V,ne.value,null):$=f(V,ne.value,we-1),$.indexOf(`
`)>-1&&(M?$=$.split(`
`).map(function(ye){return"  "+ye}).join(`
`).slice(2):$=`
`+$.split(`
`).map(function(ye){return"   "+ye}).join(`
`))):$=V.stylize("[Circular]","special")),D(N)){if(M&&de.match(/^\d+$/))return $;N=JSON.stringify(""+de),N.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(N=N.slice(1,-1),N=V.stylize(N,"name")):(N=N.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),N=V.stylize(N,"string"))}return N+": "+$}function v(V,X,we){var ve=V.reduce(function(de,M){return M.indexOf(`
`)>=0,de+M.replace(/\u001b\[\d\d?m/g,"").length+1},0);return ve>60?we[0]+(X===""?"":X+`
 `)+" "+V.join(`,
  `)+" "+we[1]:we[0]+X+" "+V.join(", ")+" "+we[1]}It.types=iW();function w(V){return Array.isArray(V)}It.isArray=w;function y(V){return typeof V=="boolean"}It.isBoolean=y;function _(V){return V===null}It.isNull=_;function E(V){return V==null}It.isNullOrUndefined=E;function S(V){return typeof V=="number"}It.isNumber=S;function A(V){return typeof V=="string"}It.isString=A;function L(V){return typeof V=="symbol"}It.isSymbol=L;function D(V){return V===void 0}It.isUndefined=D;function K(V){return re(V)&&ue(V)==="[object RegExp]"}It.isRegExp=K,It.types.isRegExp=K;function re(V){return typeof V=="object"&&V!==null}It.isObject=re;function q(V){return re(V)&&ue(V)==="[object Date]"}It.isDate=q,It.types.isDate=q;function oe(V){return re(V)&&(ue(V)==="[object Error]"||V instanceof Error)}It.isError=oe,It.types.isNativeError=oe;function U(V){return typeof V=="function"}It.isFunction=U;function H(V){return V===null||typeof V=="boolean"||typeof V=="number"||typeof V=="string"||typeof V=="symbol"||typeof V>"u"}It.isPrimitive=H,It.isBuffer=sW();function ue(V){return Object.prototype.toString.call(V)}function Se(V){return V<10?"0"+V.toString(10):V.toString(10)}var Ae=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function j(){var V=new Date,X=[Se(V.getHours()),Se(V.getMinutes()),Se(V.getSeconds())].join(":");return[V.getDate(),Ae[V.getMonth()],X].join(" ")}It.log=function(){console.log("%s - %s",j(),It.format.apply(It,arguments))},It.inherits=xL(),It._extend=function(V,X){if(!X||!re(X))return V;for(var we=Object.keys(X),ve=we.length;ve--;)V[we[ve]]=X[we[ve]];return V};function I(V,X){return Object.prototype.hasOwnProperty.call(V,X)}var se=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;It.promisify=function(X){if(typeof X!="function")throw new TypeError('The "original" argument must be of type Function');if(se&&X[se]){if(we=X[se],typeof we!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(we,se,{value:we,enumerable:!1,writable:!1,configurable:!0}),we}function we(){for(var ve,de,M=new Promise(function(ne,ye){ve=ne,de=ye}),N=[],$=0;$<arguments.length;$++)N.push(arguments[$]);N.push(function(ne,ye){ne?de(ne):ve(ye)});try{X.apply(this||lg,N)}catch(ne){de(ne)}return M}return Object.setPrototypeOf(we,Object.getPrototypeOf(X)),se&&Object.defineProperty(we,se,{value:we,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(we,e(X))},It.promisify.custom=se;function z(V,X){if(!V){var we=new Error("Promise was rejected with a falsy value");we.reason=V,V=we}return X(V)}function ie(V){if(typeof V!="function")throw new TypeError('The "original" argument must be of type Function');function X(){for(var we=[],ve=0;ve<arguments.length;ve++)we.push(arguments[ve]);var de=we.pop();if(typeof de!="function")throw new TypeError("The last argument must be of type Function");var M=this||lg,N=function(){return de.apply(M,arguments)};V.apply(this||lg,we).then(function($){r.nextTick(N.bind(null,null,$))},function($){r.nextTick(z.bind(null,$,N))})}return Object.setPrototypeOf(X,Object.getPrototypeOf(V)),Object.defineProperties(X,e(V)),X}return It.callbackify=ie,It}var g1,SL,m1,TL,y1,CL,b1,RL,w1,DL,v1,IL,_1,OL,eW,E1,NL,rW,A1,kL,Dt,LL,x1,PL,It,BL,lg,gt,aW,lW,uW,cW,fW,hW,dW,pW,gW,mW,yW,bW,wW,vW,_W,EW,AW,xW,SW,TW,CW,RW,DW,Bb,IW,OW,NW,yh=Jt(()=>{Ne();Le();ke();$p();p1();Mu();g1={},SL=!1;m1={},TL=!1;y1={},CL=!1;b1={},RL=!1;w1={},DL=!1;v1={},IL=!1;_1={},OL=!1,eW=typeof globalThis<"u"?globalThis:typeof self<"u"?self:window;E1={},NL=!1,rW=typeof globalThis<"u"?globalThis:typeof self<"u"?self:window;A1={},kL=!1;Dt={},LL=!1;x1={},PL=!1;It={},BL=!1,lg=typeof globalThis<"u"?globalThis:typeof self<"u"?self:window;gt=oW();gt.format;gt.deprecate;gt.debuglog;gt.inspect;gt.types;gt.isArray;gt.isBoolean;gt.isNull;gt.isNullOrUndefined;gt.isNumber;gt.isString;gt.isSymbol;gt.isUndefined;gt.isRegExp;gt.isObject;gt.isDate;gt.isError;gt.isFunction;gt.isPrimitive;gt.isBuffer;gt.log;gt.inherits;gt._extend;gt.promisify;gt.callbackify;aW=gt._extend,lW=gt.callbackify,uW=gt.debuglog,cW=gt.deprecate,fW=gt.format,hW=gt.inherits,dW=gt.inspect,pW=gt.isArray,gW=gt.isBoolean,mW=gt.isBuffer,yW=gt.isDate,bW=gt.isError,wW=gt.isFunction,vW=gt.isNull,_W=gt.isNullOrUndefined,EW=gt.isNumber,AW=gt.isObject,xW=gt.isPrimitive,SW=gt.isRegExp,TW=gt.isString,CW=gt.isSymbol,RW=gt.isUndefined,DW=gt.log,Bb=gt.promisify,IW=gt.types,OW=gt.TextEncoder=globalThis.TextEncoder,NW=gt.TextDecoder=globalThis.TextDecoder});var cg={};Uo(cg,{EventEmitter:()=>LW,default:()=>ao,defaultMaxListeners:()=>PW,init:()=>BW,listenerCount:()=>MW,on:()=>FW,once:()=>UW});function kW(){if(FL)return Mb;FL=!0;var r=typeof Reflect=="object"?Reflect:null,e=r&&typeof r.apply=="function"?r.apply:function(A,L,D){return Function.prototype.apply.call(A,L,D)},t;r&&typeof r.ownKeys=="function"?t=r.ownKeys:Object.getOwnPropertySymbols?t=function(A){return Object.getOwnPropertyNames(A).concat(Object.getOwnPropertySymbols(A))}:t=function(A){return Object.getOwnPropertyNames(A)};function n(S){console&&console.warn&&console.warn(S)}var i=Number.isNaN||function(A){return A!==A};function o(){o.init.call(this)}Mb=o,Mb.once=y,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(S){if(typeof S!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof S)}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(S){if(typeof S!="number"||S<0||i(S))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+S+".");s=S}}),o.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(A){if(typeof A!="number"||A<0||i(A))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+A+".");return this._maxListeners=A,this};function u(S){return S._maxListeners===void 0?o.defaultMaxListeners:S._maxListeners}o.prototype.getMaxListeners=function(){return u(this)},o.prototype.emit=function(A){for(var L=[],D=1;D<arguments.length;D++)L.push(arguments[D]);var K=A==="error",re=this._events;if(re!==void 0)K=K&&re.error===void 0;else if(!K)return!1;if(K){var q;if(L.length>0&&(q=L[0]),q instanceof Error)throw q;var oe=new Error("Unhandled error."+(q?" ("+q.message+")":""));throw oe.context=q,oe}var U=re[A];if(U===void 0)return!1;if(typeof U=="function")e(U,this,L);else for(var H=U.length,ue=b(U,H),D=0;D<H;++D)e(ue[D],this,L);return!0};function c(S,A,L,D){var K,re,q;if(a(L),re=S._events,re===void 0?(re=S._events=Object.create(null),S._eventsCount=0):(re.newListener!==void 0&&(S.emit("newListener",A,L.listener?L.listener:L),re=S._events),q=re[A]),q===void 0)q=re[A]=L,++S._eventsCount;else if(typeof q=="function"?q=re[A]=D?[L,q]:[q,L]:D?q.unshift(L):q.push(L),K=u(S),K>0&&q.length>K&&!q.warned){q.warned=!0;var oe=new Error("Possible EventEmitter memory leak detected. "+q.length+" "+String(A)+" listeners added. Use emitter.setMaxListeners() to increase limit");oe.name="MaxListenersExceededWarning",oe.emitter=S,oe.type=A,oe.count=q.length,n(oe)}return S}o.prototype.addListener=function(A,L){return c(this,A,L,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(A,L){return c(this,A,L,!0)};function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(S,A,L){var D={fired:!1,wrapFn:void 0,target:S,type:A,listener:L},K=f.bind(D);return K.listener=L,D.wrapFn=K,K}o.prototype.once=function(A,L){return a(L),this.on(A,h(this,A,L)),this},o.prototype.prependOnceListener=function(A,L){return a(L),this.prependListener(A,h(this,A,L)),this},o.prototype.removeListener=function(A,L){var D,K,re,q,oe;if(a(L),K=this._events,K===void 0)return this;if(D=K[A],D===void 0)return this;if(D===L||D.listener===L)--this._eventsCount===0?this._events=Object.create(null):(delete K[A],K.removeListener&&this.emit("removeListener",A,D.listener||L));else if(typeof D!="function"){for(re=-1,q=D.length-1;q>=0;q--)if(D[q]===L||D[q].listener===L){oe=D[q].listener,re=q;break}if(re<0)return this;re===0?D.shift():v(D,re),D.length===1&&(K[A]=D[0]),K.removeListener!==void 0&&this.emit("removeListener",A,oe||L)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(A){var L,D,K;if(D=this._events,D===void 0)return this;if(D.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):D[A]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete D[A]),this;if(arguments.length===0){var re=Object.keys(D),q;for(K=0;K<re.length;++K)q=re[K],q!=="removeListener"&&this.removeAllListeners(q);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(L=D[A],typeof L=="function")this.removeListener(A,L);else if(L!==void 0)for(K=L.length-1;K>=0;K--)this.removeListener(A,L[K]);return this};function d(S,A,L){var D=S._events;if(D===void 0)return[];var K=D[A];return K===void 0?[]:typeof K=="function"?L?[K.listener||K]:[K]:L?w(K):b(K,K.length)}o.prototype.listeners=function(A){return d(this,A,!0)},o.prototype.rawListeners=function(A){return d(this,A,!1)},o.listenerCount=function(S,A){return typeof S.listenerCount=="function"?S.listenerCount(A):g.call(S,A)},o.prototype.listenerCount=g;function g(S){var A=this._events;if(A!==void 0){var L=A[S];if(typeof L=="function")return 1;if(L!==void 0)return L.length}return 0}o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]};function b(S,A){for(var L=new Array(A),D=0;D<A;++D)L[D]=S[D];return L}function v(S,A){for(;A+1<S.length;A++)S[A]=S[A+1];S.pop()}function w(S){for(var A=new Array(S.length),L=0;L<A.length;++L)A[L]=S[L].listener||S[L];return A}function y(S,A){return new Promise(function(L,D){function K(q){S.removeListener(A,re),D(q)}function re(){typeof S.removeListener=="function"&&S.removeListener("error",K),L([].slice.call(arguments))}E(S,A,re,{once:!0}),A!=="error"&&_(S,K,{once:!0})})}function _(S,A,L){typeof S.on=="function"&&E(S,"error",A,L)}function E(S,A,L,D){if(typeof S.on=="function")D.once?S.once(A,L):S.on(A,L);else if(typeof S.addEventListener=="function")S.addEventListener(A,function K(re){D.once&&S.removeEventListener(A,K),L(re)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof S)}return Mb}var Mb,FL,ao,LW,PW,BW,MW,FW,UW,bh=Jt(()=>{Ne();Le();ke();Mb={},FL=!1;ao=kW();ao.once;ao.once=function(r,e){return new Promise((t,n)=>{function i(...s){o!==void 0&&r.removeListener("error",o),t(s)}let o;e!=="error"&&(o=s=>{r.removeListener(name,i),n(s)},r.once("error",o)),r.once(e,i)})};ao.on=function(r,e){let t=[],n=[],i=null,o=!1,s={async next(){let c=t.shift();if(c)return createIterResult(c,!1);if(i){let f=Promise.reject(i);return i=null,f}return o?createIterResult(void 0,!0):new Promise((f,h)=>n.push({resolve:f,reject:h}))},async return(){r.removeListener(e,a),r.removeListener("error",u),o=!0;for(let c of n)c.resolve(createIterResult(void 0,!0));return createIterResult(void 0,!0)},throw(c){i=c,r.removeListener(e,a),r.removeListener("error",u)},[Symbol.asyncIterator](){return this}};return r.on(e,a),r.on("error",u),s;function a(...c){let f=n.shift();f?f.resolve(createIterResult(c,!1)):t.push(c)}function u(c){o=!0;let f=n.shift();f?f.reject(c):i=c,s.return()}};({EventEmitter:LW,defaultMaxListeners:PW,init:BW,listenerCount:MW,on:FW,once:UW}=ao)});function jW(){if(UL)return fg;UL=!0;var r=fn(),e=r.Buffer;function t(i,o){for(var s in i)o[s]=i[s]}e.from&&e.alloc&&e.allocUnsafe&&e.allocUnsafeSlow?fg=r:(t(r,fg),fg.Buffer=n);function n(i,o,s){return e(i,o,s)}return n.prototype=Object.create(e.prototype),t(e,n),n.from=function(i,o,s){if(typeof i=="number")throw new TypeError("Argument must not be a number");return e(i,o,s)},n.alloc=function(i,o,s){if(typeof i!="number")throw new TypeError("Argument must be a number");var a=e(i);return o!==void 0?typeof s=="string"?a.fill(o,s):a.fill(o):a.fill(0),a},n.allocUnsafe=function(i){if(typeof i!="number")throw new TypeError("Argument must be a number");return e(i)},n.allocUnsafeSlow=function(i){if(typeof i!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(i)},fg}function $W(){if(jL)return T1;jL=!0;var r=jW().Buffer,e=r.isEncoding||function(y){switch(y=""+y,y&&y.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function t(y){if(!y)return"utf8";for(var _;;)switch(y){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return y;default:if(_)return;y=(""+y).toLowerCase(),_=!0}}function n(y){var _=t(y);if(typeof _!="string"&&(r.isEncoding===e||!e(y)))throw new Error("Unknown encoding: "+y);return _||y}T1.StringDecoder=i;function i(y){this.encoding=n(y);var _;switch(this.encoding){case"utf16le":this.text=h,this.end=d,_=4;break;case"utf8":this.fillLast=u,_=4;break;case"base64":this.text=g,this.end=b,_=3;break;default:this.write=v,this.end=w;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(_)}i.prototype.write=function(y){if(y.length===0)return"";var _,E;if(this.lastNeed){if(_=this.fillLast(y),_===void 0)return"";E=this.lastNeed,this.lastNeed=0}else E=0;return E<y.length?_?_+this.text(y,E):this.text(y,E):_||""},i.prototype.end=f,i.prototype.text=c,i.prototype.fillLast=function(y){if(this.lastNeed<=y.length)return y.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);y.copy(this.lastChar,this.lastTotal-this.lastNeed,0,y.length),this.lastNeed-=y.length};function o(y){return y<=127?0:y>>5===6?2:y>>4===14?3:y>>3===30?4:y>>6===2?-1:-2}function s(y,_,E){var S=_.length-1;if(S<E)return 0;var A=o(_[S]);return A>=0?(A>0&&(y.lastNeed=A-1),A):--S<E||A===-2?0:(A=o(_[S]),A>=0?(A>0&&(y.lastNeed=A-2),A):--S<E||A===-2?0:(A=o(_[S]),A>=0?(A>0&&(A===2?A=0:y.lastNeed=A-3),A):0))}function a(y,_,E){if((_[0]&192)!==128)return y.lastNeed=0,"\uFFFD";if(y.lastNeed>1&&_.length>1){if((_[1]&192)!==128)return y.lastNeed=1,"\uFFFD";if(y.lastNeed>2&&_.length>2&&(_[2]&192)!==128)return y.lastNeed=2,"\uFFFD"}}function u(y){var _=this.lastTotal-this.lastNeed,E=a(this,y);if(E!==void 0)return E;if(this.lastNeed<=y.length)return y.copy(this.lastChar,_,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);y.copy(this.lastChar,_,0,y.length),this.lastNeed-=y.length}function c(y,_){var E=s(this,y,_);if(!this.lastNeed)return y.toString("utf8",_);this.lastTotal=E;var S=y.length-(E-this.lastNeed);return y.copy(this.lastChar,0,S),y.toString("utf8",_,S)}function f(y){var _=y&&y.length?this.write(y):"";return this.lastNeed?_+"\uFFFD":_}function h(y,_){if((y.length-_)%2===0){var E=y.toString("utf16le",_);if(E){var S=E.charCodeAt(E.length-1);if(S>=55296&&S<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=y[y.length-2],this.lastChar[1]=y[y.length-1],E.slice(0,-1)}return E}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=y[y.length-1],y.toString("utf16le",_,y.length-1)}function d(y){var _=y&&y.length?this.write(y):"";if(this.lastNeed){var E=this.lastTotal-this.lastNeed;return _+this.lastChar.toString("utf16le",0,E)}return _}function g(y,_){var E=(y.length-_)%3;return E===0?y.toString("base64",_):(this.lastNeed=3-E,this.lastTotal=3,E===1?this.lastChar[0]=y[y.length-1]:(this.lastChar[0]=y[y.length-2],this.lastChar[1]=y[y.length-1]),y.toString("base64",_,y.length-E))}function b(y){var _=y&&y.length?this.write(y):"";return this.lastNeed?_+this.lastChar.toString("base64",0,3-this.lastNeed):_}function v(y){return y.toString(this.encoding)}function w(y){return y&&y.length?this.write(y):""}return T1}var fg,UL,T1,jL,Fb,wee,$L=Jt(()=>{Ne();Le();ke();Ff();fg={},UL=!1;T1={},jL=!1;Fb=$W();Fb.StringDecoder;wee=Fb.StringDecoder});var mg={};Uo(mg,{Duplex:()=>VW,PassThrough:()=>XW,Readable:()=>G1,Stream:()=>JW,Transform:()=>YW,Writable:()=>GW,default:()=>ur,finished:()=>KW,pipeline:()=>ZW,promises:()=>QW});function Nr(){return zL||(zL=!0,C1={ArrayIsArray(r){return Array.isArray(r)},ArrayPrototypeIncludes(r,e){return r.includes(e)},ArrayPrototypeIndexOf(r,e){return r.indexOf(e)},ArrayPrototypeJoin(r,e){return r.join(e)},ArrayPrototypeMap(r,e){return r.map(e)},ArrayPrototypePop(r,e){return r.pop(e)},ArrayPrototypePush(r,e){return r.push(e)},ArrayPrototypeSlice(r,e,t){return r.slice(e,t)},Error,FunctionPrototypeCall(r,e,...t){return r.call(e,...t)},FunctionPrototypeSymbolHasInstance(r,e){return Function.prototype[Symbol.hasInstance].call(r,e)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(r,e){return Object.defineProperties(r,e)},ObjectDefineProperty(r,e,t){return Object.defineProperty(r,e,t)},ObjectGetOwnPropertyDescriptor(r,e){return Object.getOwnPropertyDescriptor(r,e)},ObjectKeys(r){return Object.keys(r)},ObjectSetPrototypeOf(r,e){return Object.setPrototypeOf(r,e)},Promise,PromisePrototypeCatch(r,e){return r.catch(e)},PromisePrototypeThen(r,e,t){return r.then(e,t)},PromiseReject(r){return Promise.reject(r)},PromiseResolve(r){return Promise.resolve(r)},ReflectApply:Reflect.apply,RegExpPrototypeTest(r,e){return r.test(e)},SafeSet:Set,String,StringPrototypeSlice(r,e,t){return r.slice(e,t)},StringPrototypeToLowerCase(r){return r.toLowerCase()},StringPrototypeToUpperCase(r){return r.toUpperCase()},StringPrototypeTrim(r){return r.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(r,e,t){return r.set(e,t)},Boolean,Uint8Array}),C1}function pg(){if(WL)return hg;WL=!0;let{AbortController:r,AbortSignal:e}=typeof self<"u"?self:typeof window<"u"?window:void 0;return hg=r,hg.AbortSignal=e,hg.default=r,hg}function Vn(){if(qL)return Ub;qL=!0;let r=fn(),{kResistStopPropagation:e,SymbolDispose:t}=Nr(),n=globalThis.AbortSignal||pg().AbortSignal,i=globalThis.AbortController||pg().AbortController,o=Object.getPrototypeOf(async function(){}).constructor,s=globalThis.Blob||r.Blob,a=typeof s<"u"?function(d){return d instanceof s}:function(d){return!1},u=(h,d)=>{if(h!==void 0&&(h===null||typeof h!="object"||!("aborted"in h)))throw new ERR_INVALID_ARG_TYPE(d,"AbortSignal",h)},c=(h,d)=>{if(typeof h!="function")throw new ERR_INVALID_ARG_TYPE(d,"Function",h)};class f extends Error{constructor(d){if(!Array.isArray(d))throw new TypeError(`Expected input to be an Array, got ${typeof d}`);let g="";for(let b=0;b<d.length;b++)g+=`    ${d[b].stack}
`;super(g),this.name="AggregateError",this.errors=d}}return Ub={AggregateError:f,kEmptyObject:Object.freeze({}),once(h){let d=!1;return function(...g){d||(d=!0,h.apply(this,g))}},createDeferredPromise:function(){let h,d;return{promise:new Promise((b,v)=>{h=b,d=v}),resolve:h,reject:d}},promisify(h){return new Promise((d,g)=>{h((b,...v)=>b?g(b):d(...v))})},debuglog(){return function(){}},format(h,...d){return h.replace(/%([sdifj])/g,function(...[g,b]){let v=d.shift();return b==="f"?v.toFixed(6):b==="j"?JSON.stringify(v):b==="s"&&typeof v=="object"?`${v.constructor!==Object?v.constructor.name:""} {}`.trim():v.toString()})},inspect(h){switch(typeof h){case"string":if(h.includes("'"))if(h.includes('"')){if(!h.includes("`")&&!h.includes("${"))return`\`${h}\``}else return`"${h}"`;return`'${h}'`;case"number":return isNaN(h)?"NaN":Object.is(h,-0)?String(h):h;case"bigint":return`${String(h)}n`;case"boolean":case"undefined":return String(h);case"object":return"{}"}},types:{isAsyncFunction(h){return h instanceof o},isArrayBufferView(h){return ArrayBuffer.isView(h)}},isBlob:a,deprecate(h,d){return h},addAbortListener:ao.addAbortListener||function(d,g){if(d===void 0)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",d);u(d,"signal"),c(g,"listener");let b;return d.aborted?queueMicrotask(()=>g()):(d.addEventListener("abort",g,{__proto__:null,once:!0,[e]:!0}),b=()=>{d.removeEventListener("abort",g)}),{__proto__:null,[t](){var v;(v=b)===null||v===void 0||v()}}},AbortSignalAny:n.any||function(d){if(d.length===1)return d[0];let g=new i,b=()=>g.abort();return d.forEach(v=>{u(v,"signals"),v.addEventListener("abort",b,{once:!0})}),g.signal.addEventListener("abort",()=>{d.forEach(v=>v.removeEventListener("abort",b))},{once:!0}),g.signal}},Ub.promisify.custom=Symbol.for("nodejs.util.promisify.custom"),Ub}function fi(){if(HL)return R1;HL=!0;let{format:r,inspect:e,AggregateError:t}=Vn(),n=globalThis.AggregateError||t,i=Symbol("kIsNodeError"),o=["string","function","number","object","Function","Object","boolean","bigint","symbol"],s=/^([A-Z][a-z0-9]*)+$/,a="__node_internal_",u={};function c(w,y){if(!w)throw new u.ERR_INTERNAL_ASSERTION(y)}function f(w){let y="",_=w.length,E=w[0]==="-"?1:0;for(;_>=E+4;_-=3)y=`_${w.slice(_-3,_)}${y}`;return`${w.slice(0,_)}${y}`}function h(w,y,_){if(typeof y=="function")return c(y.length<=_.length,`Code: ${w}; The provided arguments length (${_.length}) does not match the required ones (${y.length}).`),y(..._);let E=(y.match(/%[dfijoOs]/g)||[]).length;return c(E===_.length,`Code: ${w}; The provided arguments length (${_.length}) does not match the required ones (${E}).`),_.length===0?y:r(y,..._)}function d(w,y,_){_||(_=Error);class E extends _{constructor(...A){super(h(w,y,A))}toString(){return`${this.name} [${w}]: ${this.message}`}}Object.defineProperties(E.prototype,{name:{value:_.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${w}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),E.prototype.code=w,E.prototype[i]=!0,u[w]=E}function g(w){let y=a+w.name;return Object.defineProperty(w,"name",{value:y}),w}function b(w,y){if(w&&y&&w!==y){if(Array.isArray(y.errors))return y.errors.push(w),y;let _=new n([y,w],y.message);return _.code=y.code,_}return w||y}class v extends Error{constructor(y="The operation was aborted",_=void 0){if(_!==void 0&&typeof _!="object")throw new u.ERR_INVALID_ARG_TYPE("options","Object",_);super(y,_),this.code="ABORT_ERR",this.name="AbortError"}}return d("ERR_ASSERTION","%s",Error),d("ERR_INVALID_ARG_TYPE",(w,y,_)=>{c(typeof w=="string","'name' must be a string"),Array.isArray(y)||(y=[y]);let E="The ";w.endsWith(" argument")?E+=`${w} `:E+=`"${w}" ${w.includes(".")?"property":"argument"} `,E+="must be ";let S=[],A=[],L=[];for(let K of y)c(typeof K=="string","All expected entries have to be of type string"),o.includes(K)?S.push(K.toLowerCase()):s.test(K)?A.push(K):(c(K!=="object",'The value "object" should be written as "Object"'),L.push(K));if(A.length>0){let K=S.indexOf("object");K!==-1&&(S.splice(S,K,1),A.push("Object"))}if(S.length>0){switch(S.length){case 1:E+=`of type ${S[0]}`;break;case 2:E+=`one of type ${S[0]} or ${S[1]}`;break;default:{let K=S.pop();E+=`one of type ${S.join(", ")}, or ${K}`}}(A.length>0||L.length>0)&&(E+=" or ")}if(A.length>0){switch(A.length){case 1:E+=`an instance of ${A[0]}`;break;case 2:E+=`an instance of ${A[0]} or ${A[1]}`;break;default:{let K=A.pop();E+=`an instance of ${A.join(", ")}, or ${K}`}}L.length>0&&(E+=" or ")}switch(L.length){case 0:break;case 1:L[0].toLowerCase()!==L[0]&&(E+="an "),E+=`${L[0]}`;break;case 2:E+=`one of ${L[0]} or ${L[1]}`;break;default:{let K=L.pop();E+=`one of ${L.join(", ")}, or ${K}`}}if(_==null)E+=`. Received ${_}`;else if(typeof _=="function"&&_.name)E+=`. Received function ${_.name}`;else if(typeof _=="object"){var D;if((D=_.constructor)!==null&&D!==void 0&&D.name)E+=`. Received an instance of ${_.constructor.name}`;else{let K=e(_,{depth:-1});E+=`. Received ${K}`}}else{let K=e(_,{colors:!1});K.length>25&&(K=`${K.slice(0,25)}...`),E+=`. Received type ${typeof _} (${K})`}return E},TypeError),d("ERR_INVALID_ARG_VALUE",(w,y,_="is invalid")=>{let E=e(y);return E.length>128&&(E=E.slice(0,128)+"..."),`The ${w.includes(".")?"property":"argument"} '${w}' ${_}. Received ${E}`},TypeError),d("ERR_INVALID_RETURN_VALUE",(w,y,_)=>{var E;let S=_!=null&&(E=_.constructor)!==null&&E!==void 0&&E.name?`instance of ${_.constructor.name}`:`type ${typeof _}`;return`Expected ${w} to be returned from the "${y}" function but got ${S}.`},TypeError),d("ERR_MISSING_ARGS",(...w)=>{c(w.length>0,"At least one arg needs to be specified");let y,_=w.length;switch(w=(Array.isArray(w)?w:[w]).map(E=>`"${E}"`).join(" or "),_){case 1:y+=`The ${w[0]} argument`;break;case 2:y+=`The ${w[0]} and ${w[1]} arguments`;break;default:{let E=w.pop();y+=`The ${w.join(", ")}, and ${E} arguments`}break}return`${y} must be specified`},TypeError),d("ERR_OUT_OF_RANGE",(w,y,_)=>{c(y,'Missing "range" argument');let E;return Number.isInteger(_)&&Math.abs(_)>2**32?E=f(String(_)):typeof _=="bigint"?(E=String(_),(_>2n**32n||_<-(2n**32n))&&(E=f(E)),E+="n"):E=e(_),`The value of "${w}" is out of range. It must be ${y}. Received ${E}`},RangeError),d("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),d("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),d("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),d("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),d("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),d("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),d("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),d("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),d("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),d("ERR_STREAM_WRITE_AFTER_END","write after end",Error),d("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),R1={AbortError:v,aggregateTwoErrors:g(b),hideStackFrames:g,codes:u},R1}function gg(){if(GL)return D1;GL=!0;let{ArrayIsArray:r,ArrayPrototypeIncludes:e,ArrayPrototypeJoin:t,ArrayPrototypeMap:n,NumberIsInteger:i,NumberIsNaN:o,NumberMAX_SAFE_INTEGER:s,NumberMIN_SAFE_INTEGER:a,NumberParseInt:u,ObjectPrototypeHasOwnProperty:c,RegExpPrototypeExec:f,String:h,StringPrototypeToUpperCase:d,StringPrototypeTrim:g}=Nr(),{hideStackFrames:b,codes:{ERR_SOCKET_BAD_PORT:v,ERR_INVALID_ARG_TYPE:w,ERR_INVALID_ARG_VALUE:y,ERR_OUT_OF_RANGE:_,ERR_UNKNOWN_SIGNAL:E}}=fi(),{normalizeEncoding:S}=Vn(),{isAsyncFunction:A,isArrayBufferView:L}=Vn().types,D={};function K(be){return be===(be|0)}function re(be){return be===be>>>0}let q=/^[0-7]+$/,oe="must be a 32-bit unsigned integer or an octal string";function U(be,Ie,Pe){if(typeof be>"u"&&(be=Pe),typeof be=="string"){if(f(q,be)===null)throw new y(Ie,be,oe);be=u(be,8)}return Se(be,Ie),be}let H=b((be,Ie,Pe=a,Ce=s)=>{if(typeof be!="number")throw new w(Ie,"number",be);if(!i(be))throw new _(Ie,"an integer",be);if(be<Pe||be>Ce)throw new _(Ie,`>= ${Pe} && <= ${Ce}`,be)}),ue=b((be,Ie,Pe=-2147483648,Ce=2147483647)=>{if(typeof be!="number")throw new w(Ie,"number",be);if(!i(be))throw new _(Ie,"an integer",be);if(be<Pe||be>Ce)throw new _(Ie,`>= ${Pe} && <= ${Ce}`,be)}),Se=b((be,Ie,Pe=!1)=>{if(typeof be!="number")throw new w(Ie,"number",be);if(!i(be))throw new _(Ie,"an integer",be);let Ce=Pe?1:0,qe=4294967295;if(be<Ce||be>qe)throw new _(Ie,`>= ${Ce} && <= ${qe}`,be)});function Ae(be,Ie){if(typeof be!="string")throw new w(Ie,"string",be)}function j(be,Ie,Pe=void 0,Ce){if(typeof be!="number")throw new w(Ie,"number",be);if(Pe!=null&&be<Pe||Ce!=null&&be>Ce||(Pe!=null||Ce!=null)&&o(be))throw new _(Ie,`${Pe!=null?`>= ${Pe}`:""}${Pe!=null&&Ce!=null?" && ":""}${Ce!=null?`<= ${Ce}`:""}`,be)}let I=b((be,Ie,Pe)=>{if(!e(Pe,be)){let qe="must be one of: "+t(n(Pe,We=>typeof We=="string"?`'${We}'`:h(We)),", ");throw new y(Ie,be,qe)}});function se(be,Ie){if(typeof be!="boolean")throw new w(Ie,"boolean",be)}function z(be,Ie,Pe){return be==null||!c(be,Ie)?Pe:be[Ie]}let ie=b((be,Ie,Pe=null)=>{let Ce=z(Pe,"allowArray",!1),qe=z(Pe,"allowFunction",!1);if(!z(Pe,"nullable",!1)&&be===null||!Ce&&r(be)||typeof be!="object"&&(!qe||typeof be!="function"))throw new w(Ie,"Object",be)}),V=b((be,Ie)=>{if(be!=null&&typeof be!="object"&&typeof be!="function")throw new w(Ie,"a dictionary",be)}),X=b((be,Ie,Pe=0)=>{if(!r(be))throw new w(Ie,"Array",be);if(be.length<Pe){let Ce=`must be longer than ${Pe}`;throw new y(Ie,be,Ce)}});function we(be,Ie){X(be,Ie);for(let Pe=0;Pe<be.length;Pe++)Ae(be[Pe],`${Ie}[${Pe}]`)}function ve(be,Ie){X(be,Ie);for(let Pe=0;Pe<be.length;Pe++)se(be[Pe],`${Ie}[${Pe}]`)}function de(be,Ie){X(be,Ie);for(let Pe=0;Pe<be.length;Pe++){let Ce=be[Pe],qe=`${Ie}[${Pe}]`;if(Ce==null)throw new w(qe,"AbortSignal",Ce);ye(Ce,qe)}}function M(be,Ie="signal"){if(Ae(be,Ie),D[be]===void 0)throw D[d(be)]!==void 0?new E(be+" (signals must use all capital letters)"):new E(be)}let N=b((be,Ie="buffer")=>{if(!L(be))throw new w(Ie,["Buffer","TypedArray","DataView"],be)});function $(be,Ie){let Pe=S(Ie),Ce=be.length;if(Pe==="hex"&&Ce%2!==0)throw new y("encoding",Ie,`is invalid for data of length ${Ce}`)}function ne(be,Ie="Port",Pe=!0){if(typeof be!="number"&&typeof be!="string"||typeof be=="string"&&g(be).length===0||+be!==+be>>>0||be>65535||be===0&&!Pe)throw new v(Ie,be,Pe);return be|0}let ye=b((be,Ie)=>{if(be!==void 0&&(be===null||typeof be!="object"||!("aborted"in be)))throw new w(Ie,"AbortSignal",be)}),P=b((be,Ie)=>{if(typeof be!="function")throw new w(Ie,"Function",be)}),C=b((be,Ie)=>{if(typeof be!="function"||A(be))throw new w(Ie,"Function",be)}),F=b((be,Ie)=>{if(be!==void 0)throw new w(Ie,"undefined",be)});function Q(be,Ie,Pe){if(!e(Pe,be))throw new w(Ie,`('${t(Pe,"|")}')`,be)}let Ee=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function pe(be,Ie){if(typeof be>"u"||!f(Ee,be))throw new y(Ie,be,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function te(be){if(typeof be=="string")return pe(be,"hints"),be;if(r(be)){let Ie=be.length,Pe="";if(Ie===0)return Pe;for(let Ce=0;Ce<Ie;Ce++){let qe=be[Ce];pe(qe,"hints"),Pe+=qe,Ce!==Ie-1&&(Pe+=", ")}return Pe}throw new y("hints",be,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}return D1={isInt32:K,isUint32:re,parseFileMode:U,validateArray:X,validateStringArray:we,validateBooleanArray:ve,validateAbortSignalArray:de,validateBoolean:se,validateBuffer:N,validateDictionary:V,validateEncoding:$,validateFunction:P,validateInt32:ue,validateInteger:H,validateNumber:j,validateObject:ie,validateOneOf:I,validatePlainFunction:C,validatePort:ne,validateSignalName:M,validateString:Ae,validateUint32:Se,validateUndefined:F,validateUnion:Q,validateAbortSignal:ye,validateLinkHeaderValue:te},D1}function oa(){if(VL)return I1;VL=!0;let{SymbolAsyncIterator:r,SymbolIterator:e,SymbolFor:t}=Nr(),n=t("nodejs.stream.destroyed"),i=t("nodejs.stream.errored"),o=t("nodejs.stream.readable"),s=t("nodejs.stream.writable"),a=t("nodejs.stream.disturbed"),u=t("nodejs.webstream.isClosedPromise"),c=t("nodejs.webstream.controllerErrorFunction");function f(z,ie=!1){var V;return!!(z&&typeof z.pipe=="function"&&typeof z.on=="function"&&(!ie||typeof z.pause=="function"&&typeof z.resume=="function")&&(!z._writableState||((V=z._readableState)===null||V===void 0?void 0:V.readable)!==!1)&&(!z._writableState||z._readableState))}function h(z){var ie;return!!(z&&typeof z.write=="function"&&typeof z.on=="function"&&(!z._readableState||((ie=z._writableState)===null||ie===void 0?void 0:ie.writable)!==!1))}function d(z){return!!(z&&typeof z.pipe=="function"&&z._readableState&&typeof z.on=="function"&&typeof z.write=="function")}function g(z){return z&&(z._readableState||z._writableState||typeof z.write=="function"&&typeof z.on=="function"||typeof z.pipe=="function"&&typeof z.on=="function")}function b(z){return!!(z&&!g(z)&&typeof z.pipeThrough=="function"&&typeof z.getReader=="function"&&typeof z.cancel=="function")}function v(z){return!!(z&&!g(z)&&typeof z.getWriter=="function"&&typeof z.abort=="function")}function w(z){return!!(z&&!g(z)&&typeof z.readable=="object"&&typeof z.writable=="object")}function y(z){return b(z)||v(z)||w(z)}function _(z,ie){return z==null?!1:ie===!0?typeof z[r]=="function":ie===!1?typeof z[e]=="function":typeof z[r]=="function"||typeof z[e]=="function"}function E(z){if(!g(z))return null;let ie=z._writableState,V=z._readableState,X=ie||V;return!!(z.destroyed||z[n]||X!=null&&X.destroyed)}function S(z){if(!h(z))return null;if(z.writableEnded===!0)return!0;let ie=z._writableState;return ie!=null&&ie.errored?!1:typeof ie?.ended!="boolean"?null:ie.ended}function A(z,ie){if(!h(z))return null;if(z.writableFinished===!0)return!0;let V=z._writableState;return V!=null&&V.errored?!1:typeof V?.finished!="boolean"?null:!!(V.finished||ie===!1&&V.ended===!0&&V.length===0)}function L(z){if(!f(z))return null;if(z.readableEnded===!0)return!0;let ie=z._readableState;return!ie||ie.errored?!1:typeof ie?.ended!="boolean"?null:ie.ended}function D(z,ie){if(!f(z))return null;let V=z._readableState;return V!=null&&V.errored?!1:typeof V?.endEmitted!="boolean"?null:!!(V.endEmitted||ie===!1&&V.ended===!0&&V.length===0)}function K(z){return z&&z[o]!=null?z[o]:typeof z?.readable!="boolean"?null:E(z)?!1:f(z)&&z.readable&&!D(z)}function re(z){return z&&z[s]!=null?z[s]:typeof z?.writable!="boolean"?null:E(z)?!1:h(z)&&z.writable&&!S(z)}function q(z,ie){return g(z)?E(z)?!0:!(ie?.readable!==!1&&K(z)||ie?.writable!==!1&&re(z)):null}function oe(z){var ie,V;return g(z)?z.writableErrored?z.writableErrored:(ie=(V=z._writableState)===null||V===void 0?void 0:V.errored)!==null&&ie!==void 0?ie:null:null}function U(z){var ie,V;return g(z)?z.readableErrored?z.readableErrored:(ie=(V=z._readableState)===null||V===void 0?void 0:V.errored)!==null&&ie!==void 0?ie:null:null}function H(z){if(!g(z))return null;if(typeof z.closed=="boolean")return z.closed;let ie=z._writableState,V=z._readableState;return typeof ie?.closed=="boolean"||typeof V?.closed=="boolean"?ie?.closed||V?.closed:typeof z._closed=="boolean"&&ue(z)?z._closed:null}function ue(z){return typeof z._closed=="boolean"&&typeof z._defaultKeepAlive=="boolean"&&typeof z._removedConnection=="boolean"&&typeof z._removedContLen=="boolean"}function Se(z){return typeof z._sent100=="boolean"&&ue(z)}function Ae(z){var ie;return typeof z._consuming=="boolean"&&typeof z._dumped=="boolean"&&((ie=z.req)===null||ie===void 0?void 0:ie.upgradeOrConnect)===void 0}function j(z){if(!g(z))return null;let ie=z._writableState,V=z._readableState,X=ie||V;return!X&&Se(z)||!!(X&&X.autoDestroy&&X.emitClose&&X.closed===!1)}function I(z){var ie;return!!(z&&((ie=z[a])!==null&&ie!==void 0?ie:z.readableDidRead||z.readableAborted))}function se(z){var ie,V,X,we,ve,de,M,N,$,ne;return!!(z&&((ie=(V=(X=(we=(ve=(de=z[i])!==null&&de!==void 0?de:z.readableErrored)!==null&&ve!==void 0?ve:z.writableErrored)!==null&&we!==void 0?we:(M=z._readableState)===null||M===void 0?void 0:M.errorEmitted)!==null&&X!==void 0?X:(N=z._writableState)===null||N===void 0?void 0:N.errorEmitted)!==null&&V!==void 0?V:($=z._readableState)===null||$===void 0?void 0:$.errored)!==null&&ie!==void 0?ie:!((ne=z._writableState)===null||ne===void 0)&&ne.errored))}return I1={isDestroyed:E,kIsDestroyed:n,isDisturbed:I,kIsDisturbed:a,isErrored:se,kIsErrored:i,isReadable:K,kIsReadable:o,kIsClosedPromise:u,kControllerErrorFunction:c,kIsWritable:s,isClosed:H,isDuplexNodeStream:d,isFinished:q,isIterable:_,isReadableNodeStream:f,isReadableStream:b,isReadableEnded:L,isReadableFinished:D,isReadableErrored:U,isNodeStream:g,isWebStream:y,isWritable:re,isWritableNodeStream:h,isWritableStream:v,isWritableEnded:S,isWritableFinished:A,isWritableErrored:oe,isServerRequest:Ae,isServerResponse:Se,willEmitClose:j,isTransformStream:w},I1}function _l(){if(YL)return jb;YL=!0;let r=zr,{AbortError:e,codes:t}=fi(),{ERR_INVALID_ARG_TYPE:n,ERR_STREAM_PREMATURE_CLOSE:i}=t,{kEmptyObject:o,once:s}=Vn(),{validateAbortSignal:a,validateFunction:u,validateObject:c,validateBoolean:f}=gg(),{Promise:h,PromisePrototypeThen:d,SymbolDispose:g}=Nr(),{isClosed:b,isReadable:v,isReadableNodeStream:w,isReadableStream:y,isReadableFinished:_,isReadableErrored:E,isWritable:S,isWritableNodeStream:A,isWritableStream:L,isWritableFinished:D,isWritableErrored:K,isNodeStream:re,willEmitClose:q,kIsClosedPromise:oe}=oa(),U;function H(I){return I.setHeader&&typeof I.abort=="function"}let ue=()=>{};function Se(I,se,z){var ie,V;if(arguments.length===2?(z=se,se=o):se==null?se=o:c(se,"options"),u(z,"callback"),a(se.signal,"options.signal"),z=s(z),y(I)||L(I))return Ae(I,se,z);if(!re(I))throw new n("stream",["ReadableStream","WritableStream","Stream"],I);let X=(ie=se.readable)!==null&&ie!==void 0?ie:w(I),we=(V=se.writable)!==null&&V!==void 0?V:A(I),ve=I._writableState,de=I._readableState,M=()=>{I.writable||ne()},N=q(I)&&w(I)===X&&A(I)===we,$=D(I,!1),ne=()=>{$=!0,I.destroyed&&(N=!1),!(N&&(!I.readable||X))&&(!X||ye)&&z.call(I)},ye=_(I,!1),P=()=>{ye=!0,I.destroyed&&(N=!1),!(N&&(!I.writable||we))&&(!we||$)&&z.call(I)},C=be=>{z.call(I,be)},F=b(I),Q=()=>{F=!0;let be=K(I)||E(I);if(be&&typeof be!="boolean")return z.call(I,be);if(X&&!ye&&w(I,!0)&&!_(I,!1))return z.call(I,new i);if(we&&!$&&!D(I,!1))return z.call(I,new i);z.call(I)},Ee=()=>{F=!0;let be=K(I)||E(I);if(be&&typeof be!="boolean")return z.call(I,be);z.call(I)},pe=()=>{I.req.on("finish",ne)};H(I)?(I.on("complete",ne),N||I.on("abort",Q),I.req?pe():I.on("request",pe)):we&&!ve&&(I.on("end",M),I.on("close",M)),!N&&typeof I.aborted=="boolean"&&I.on("aborted",Q),I.on("end",P),I.on("finish",ne),se.error!==!1&&I.on("error",C),I.on("close",Q),F?r.nextTick(Q):ve!=null&&ve.errorEmitted||de!=null&&de.errorEmitted?N||r.nextTick(Ee):(!X&&(!N||v(I))&&($||S(I)===!1)||!we&&(!N||S(I))&&(ye||v(I)===!1)||de&&I.req&&I.aborted)&&r.nextTick(Ee);let te=()=>{z=ue,I.removeListener("aborted",Q),I.removeListener("complete",ne),I.removeListener("abort",Q),I.removeListener("request",pe),I.req&&I.req.removeListener("finish",ne),I.removeListener("end",M),I.removeListener("close",M),I.removeListener("finish",ne),I.removeListener("end",P),I.removeListener("error",C),I.removeListener("close",Q)};if(se.signal&&!F){let be=()=>{let Ie=z;te(),Ie.call(I,new e(void 0,{cause:se.signal.reason}))};if(se.signal.aborted)r.nextTick(be);else{U=U||Vn().addAbortListener;let Ie=U(se.signal,be),Pe=z;z=s((...Ce)=>{Ie[g](),Pe.apply(I,Ce)})}}return te}function Ae(I,se,z){let ie=!1,V=ue;if(se.signal)if(V=()=>{ie=!0,z.call(I,new e(void 0,{cause:se.signal.reason}))},se.signal.aborted)r.nextTick(V);else{U=U||Vn().addAbortListener;let we=U(se.signal,V),ve=z;z=s((...de)=>{we[g](),ve.apply(I,de)})}let X=(...we)=>{ie||r.nextTick(()=>z.apply(I,we))};return d(I[oe].promise,X,X),ue}function j(I,se){var z;let ie=!1;return se===null&&(se=o),(z=se)!==null&&z!==void 0&&z.cleanup&&(f(se.cleanup,"cleanup"),ie=se.cleanup),new h((V,X)=>{let we=Se(I,se,ve=>{ie&&we(),ve?X(ve):V()})})}return jb=Se,jb.finished=j,jb}function wh(){if(XL)return O1;XL=!0;let r=zr,{aggregateTwoErrors:e,codes:{ERR_MULTIPLE_CALLBACK:t},AbortError:n}=fi(),{Symbol:i}=Nr(),{kIsDestroyed:o,isDestroyed:s,isFinished:a,isServerRequest:u}=oa(),c=i("kDestroy"),f=i("kConstruct");function h(q,oe,U){q&&(q.stack,oe&&!oe.errored&&(oe.errored=q),U&&!U.errored&&(U.errored=q))}function d(q,oe){let U=this._readableState,H=this._writableState,ue=H||U;return H!=null&&H.destroyed||U!=null&&U.destroyed?(typeof oe=="function"&&oe(),this):(h(q,H,U),H&&(H.destroyed=!0),U&&(U.destroyed=!0),ue.constructed?g(this,q,oe):this.once(c,function(Se){g(this,e(Se,q),oe)}),this)}function g(q,oe,U){let H=!1;function ue(Se){if(H)return;H=!0;let Ae=q._readableState,j=q._writableState;h(Se,j,Ae),j&&(j.closed=!0),Ae&&(Ae.closed=!0),typeof U=="function"&&U(Se),Se?r.nextTick(b,q,Se):r.nextTick(v,q)}try{q._destroy(oe||null,ue)}catch(Se){ue(Se)}}function b(q,oe){w(q,oe),v(q)}function v(q){let oe=q._readableState,U=q._writableState;U&&(U.closeEmitted=!0),oe&&(oe.closeEmitted=!0),(U!=null&&U.emitClose||oe!=null&&oe.emitClose)&&q.emit("close")}function w(q,oe){let U=q._readableState,H=q._writableState;H!=null&&H.errorEmitted||U!=null&&U.errorEmitted||(H&&(H.errorEmitted=!0),U&&(U.errorEmitted=!0),q.emit("error",oe))}function y(){let q=this._readableState,oe=this._writableState;q&&(q.constructed=!0,q.closed=!1,q.closeEmitted=!1,q.destroyed=!1,q.errored=null,q.errorEmitted=!1,q.reading=!1,q.ended=q.readable===!1,q.endEmitted=q.readable===!1),oe&&(oe.constructed=!0,oe.destroyed=!1,oe.closed=!1,oe.closeEmitted=!1,oe.errored=null,oe.errorEmitted=!1,oe.finalCalled=!1,oe.prefinished=!1,oe.ended=oe.writable===!1,oe.ending=oe.writable===!1,oe.finished=oe.writable===!1)}function _(q,oe,U){let H=q._readableState,ue=q._writableState;if(ue!=null&&ue.destroyed||H!=null&&H.destroyed)return this;H!=null&&H.autoDestroy||ue!=null&&ue.autoDestroy?q.destroy(oe):oe&&(oe.stack,ue&&!ue.errored&&(ue.errored=oe),H&&!H.errored&&(H.errored=oe),U?r.nextTick(w,q,oe):w(q,oe))}function E(q,oe){if(typeof q._construct!="function")return;let U=q._readableState,H=q._writableState;U&&(U.constructed=!1),H&&(H.constructed=!1),q.once(f,oe),!(q.listenerCount(f)>1)&&r.nextTick(S,q)}function S(q){let oe=!1;function U(H){if(oe){_(q,H??new t);return}oe=!0;let ue=q._readableState,Se=q._writableState,Ae=Se||ue;ue&&(ue.constructed=!0),Se&&(Se.constructed=!0),Ae.destroyed?q.emit(c,H):H?_(q,H,!0):r.nextTick(A,q)}try{q._construct(H=>{r.nextTick(U,H)})}catch(H){r.nextTick(U,H)}}function A(q){q.emit(f)}function L(q){return q?.setHeader&&typeof q.abort=="function"}function D(q){q.emit("close")}function K(q,oe){q.emit("error",oe),r.nextTick(D,q)}function re(q,oe){!q||s(q)||(!oe&&!a(q)&&(oe=new n),u(q)?(q.socket=null,q.destroy(oe)):L(q)?q.abort():L(q.req)?q.req.abort():typeof q.destroy=="function"?q.destroy(oe):typeof q.close=="function"?q.close():oe?r.nextTick(K,q,oe):r.nextTick(D,q),q.destroyed||(q[o]=!0))}return O1={construct:E,destroyer:re,destroy:d,undestroy:y,errorOrDestroy:_},O1}function V1(){if(KL)return N1;KL=!0;let{ArrayIsArray:r,ObjectSetPrototypeOf:e}=Nr(),{EventEmitter:t}=ao;function n(o){t.call(this,o)}e(n.prototype,t.prototype),e(n,t),n.prototype.pipe=function(o,s){let a=this;function u(v){o.writable&&o.write(v)===!1&&a.pause&&a.pause()}a.on("data",u);function c(){a.readable&&a.resume&&a.resume()}o.on("drain",c),!o._isStdio&&(!s||s.end!==!1)&&(a.on("end",h),a.on("close",d));let f=!1;function h(){f||(f=!0,o.end())}function d(){f||(f=!0,typeof o.destroy=="function"&&o.destroy())}function g(v){b(),t.listenerCount(this,"error")===0&&this.emit("error",v)}i(a,"error",g),i(o,"error",g);function b(){a.removeListener("data",u),o.removeListener("drain",c),a.removeListener("end",h),a.removeListener("close",d),a.removeListener("error",g),o.removeListener("error",g),a.removeListener("end",b),a.removeListener("close",b),o.removeListener("close",b)}return a.on("end",b),a.on("close",b),o.on("close",b),o.emit("pipe",a),o};function i(o,s,a){if(typeof o.prependListener=="function")return o.prependListener(s,a);!o._events||!o._events[s]?o.on(s,a):r(o._events[s])?o._events[s].unshift(a):o._events[s]=[a,o._events[s]]}return N1={Stream:n,prependListener:i},N1}function zb(){if(ZL)return dg;ZL=!0;let{SymbolDispose:r}=Nr(),{AbortError:e,codes:t}=fi(),{isNodeStream:n,isWebStream:i,kControllerErrorFunction:o}=oa(),s=_l(),{ERR_INVALID_ARG_TYPE:a}=t,u,c=(f,h)=>{if(typeof f!="object"||!("aborted"in f))throw new a(h,"AbortSignal",f)};return dg.addAbortSignal=function(h,d){if(c(h,"signal"),!n(d)&&!i(d))throw new a("stream",["ReadableStream","WritableStream","Stream"],d);return dg.addAbortSignalNoValidate(h,d)},dg.addAbortSignalNoValidate=function(f,h){if(typeof f!="object"||!("aborted"in f))return h;let d=n(h)?()=>{h.destroy(new e(void 0,{cause:f.reason}))}:()=>{h[o](new e(void 0,{cause:f.reason}))};if(f.aborted)d();else{u=u||Vn().addAbortListener;let g=u(f,d);s(h,g[r])}return h},dg}function zW(){if(JL)return k1;JL=!0;let{StringPrototypeSlice:r,SymbolIterator:e,TypedArrayPrototypeSet:t,Uint8Array:n}=Nr(),{Buffer:i}=fn(),{inspect:o}=Vn();return k1=class{constructor(){this.head=null,this.tail=null,this.length=0}push(a){let u={data:a,next:null};this.length>0?this.tail.next=u:this.head=u,this.tail=u,++this.length}unshift(a){let u={data:a,next:this.head};this.length===0&&(this.tail=u),this.head=u,++this.length}shift(){if(this.length===0)return;let a=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,a}clear(){this.head=this.tail=null,this.length=0}join(a){if(this.length===0)return"";let u=this.head,c=""+u.data;for(;(u=u.next)!==null;)c+=a+u.data;return c}concat(a){if(this.length===0)return i.alloc(0);let u=i.allocUnsafe(a>>>0),c=this.head,f=0;for(;c;)t(u,c.data,f),f+=c.data.length,c=c.next;return u}consume(a,u){let c=this.head.data;if(a<c.length){let f=c.slice(0,a);return this.head.data=c.slice(a),f}return a===c.length?this.shift():u?this._getString(a):this._getBuffer(a)}first(){return this.head.data}*[e](){for(let a=this.head;a;a=a.next)yield a.data}_getString(a){let u="",c=this.head,f=0;do{let h=c.data;if(a>h.length)u+=h,a-=h.length;else{a===h.length?(u+=h,++f,c.next?this.head=c.next:this.head=this.tail=null):(u+=r(h,0,a),this.head=c,c.data=r(h,a));break}++f}while((c=c.next)!==null);return this.length-=f,u}_getBuffer(a){let u=i.allocUnsafe(a),c=a,f=this.head,h=0;do{let d=f.data;if(a>d.length)t(u,d,c-a),a-=d.length;else{a===d.length?(t(u,d,c-a),++h,f.next?this.head=f.next:this.head=this.tail=null):(t(u,new n(d.buffer,d.byteOffset,a),c-a),this.head=f,f.data=d.slice(a));break}++h}while((f=f.next)!==null);return this.length-=h,u}[Symbol.for("nodejs.util.inspect.custom")](a,u){return o(this,{...u,depth:0,customInspect:!1})}},k1}function Wb(){if(QL)return L1;QL=!0;let{MathFloor:r,NumberIsInteger:e}=Nr(),{validateInteger:t}=gg(),{ERR_INVALID_ARG_VALUE:n}=fi().codes,i=16*1024,o=16;function s(f,h,d){return f.highWaterMark!=null?f.highWaterMark:h?f[d]:null}function a(f){return f?o:i}function u(f,h){t(h,"value",0),f?o=h:i=h}function c(f,h,d,g){let b=s(h,g,d);if(b!=null){if(!e(b)||b<0){let v=g?`options.${d}`:"options.highWaterMark";throw new n(v,b)}return r(b)}return a(f.objectMode)}return L1={getHighWaterMark:c,getDefaultHighWaterMark:a,setDefaultHighWaterMark:u},L1}function pP(){if(eP)return P1;eP=!0;let r=zr,{PromisePrototypeThen:e,SymbolAsyncIterator:t,SymbolIterator:n}=Nr(),{Buffer:i}=fn(),{ERR_INVALID_ARG_TYPE:o,ERR_STREAM_NULL_VALUES:s}=fi().codes;function a(u,c,f){let h;if(typeof c=="string"||c instanceof i)return new u({objectMode:!0,...f,read(){this.push(c),this.push(null)}});let d;if(c&&c[t])d=!0,h=c[t]();else if(c&&c[n])d=!1,h=c[n]();else throw new o("iterable",["Iterable"],c);let g=new u({objectMode:!0,highWaterMark:1,...f}),b=!1;g._read=function(){b||(b=!0,w())},g._destroy=function(y,_){e(v(y),()=>r.nextTick(_,y),E=>r.nextTick(_,E||y))};async function v(y){let _=y!=null,E=typeof h.throw=="function";if(_&&E){let{value:S,done:A}=await h.throw(y);if(await S,A)return}if(typeof h.return=="function"){let{value:S}=await h.return();await S}}async function w(){for(;;){try{let{value:y,done:_}=d?await h.next():h.next();if(_)g.push(null);else{let E=y&&typeof y.then=="function"?await y:y;if(E===null)throw b=!1,new s;if(g.push(E))continue;b=!1}}catch(y){g.destroy(y)}break}}return g}return P1=a,P1}function qb(){if(tP)return B1;tP=!0;let r=zr,{ArrayPrototypeIndexOf:e,NumberIsInteger:t,NumberIsNaN:n,NumberParseInt:i,ObjectDefineProperties:o,ObjectKeys:s,ObjectSetPrototypeOf:a,Promise:u,SafeSet:c,SymbolAsyncDispose:f,SymbolAsyncIterator:h,Symbol:d}=Nr();B1=Ce,Ce.ReadableState=Pe;let{EventEmitter:g}=ao,{Stream:b,prependListener:v}=V1(),{Buffer:w}=fn(),{addAbortSignal:y}=zb(),_=_l(),E=Vn().debuglog("stream",ce=>{E=ce}),S=zW(),A=wh(),{getHighWaterMark:L,getDefaultHighWaterMark:D}=Wb(),{aggregateTwoErrors:K,codes:{ERR_INVALID_ARG_TYPE:re,ERR_METHOD_NOT_IMPLEMENTED:q,ERR_OUT_OF_RANGE:oe,ERR_STREAM_PUSH_AFTER_EOF:U,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:H},AbortError:ue}=fi(),{validateObject:Se}=gg(),Ae=d("kPaused"),{StringDecoder:j}=Fb,I=pP();a(Ce.prototype,b.prototype),a(Ce,b);let se=()=>{},{errorOrDestroy:z}=A,ie=1,V=2,X=4,we=8,ve=16,de=32,M=64,N=128,$=256,ne=512,ye=1024,P=2048,C=4096,F=8192,Q=16384,Ee=32768,pe=65536,te=1<<17,be=1<<18;function Ie(ce){return{enumerable:!1,get(){return((this||Ye).state&ce)!==0},set(_e){_e?(this||Ye).state|=ce:(this||Ye).state&=~ce}}}o(Pe.prototype,{objectMode:Ie(ie),ended:Ie(V),endEmitted:Ie(X),reading:Ie(we),constructed:Ie(ve),sync:Ie(de),needReadable:Ie(M),emittedReadable:Ie(N),readableListening:Ie($),resumeScheduled:Ie(ne),errorEmitted:Ie(ye),emitClose:Ie(P),autoDestroy:Ie(C),destroyed:Ie(F),closed:Ie(Q),closeEmitted:Ie(Ee),multiAwaitDrain:Ie(pe),readingMore:Ie(te),dataEmitted:Ie(be)});function Pe(ce,_e,He){typeof He!="boolean"&&(He=_e instanceof sa()),(this||Ye).state=P|C|ve|de,ce&&ce.objectMode&&((this||Ye).state|=ie),He&&ce&&ce.readableObjectMode&&((this||Ye).state|=ie),(this||Ye).highWaterMark=ce?L(this||Ye,ce,"readableHighWaterMark",He):D(!1),(this||Ye).buffer=new S,(this||Ye).length=0,(this||Ye).pipes=[],(this||Ye).flowing=null,(this||Ye)[Ae]=null,ce&&ce.emitClose===!1&&((this||Ye).state&=~P),ce&&ce.autoDestroy===!1&&((this||Ye).state&=~C),(this||Ye).errored=null,(this||Ye).defaultEncoding=ce&&ce.defaultEncoding||"utf8",(this||Ye).awaitDrainWriters=null,(this||Ye).decoder=null,(this||Ye).encoding=null,ce&&ce.encoding&&((this||Ye).decoder=new j(ce.encoding),(this||Ye).encoding=ce.encoding)}function Ce(ce){if(!((this||Ye)instanceof Ce))return new Ce(ce);let _e=(this||Ye)instanceof sa();(this||Ye)._readableState=new Pe(ce,this||Ye,_e),ce&&(typeof ce.read=="function"&&((this||Ye)._read=ce.read),typeof ce.destroy=="function"&&((this||Ye)._destroy=ce.destroy),typeof ce.construct=="function"&&((this||Ye)._construct=ce.construct),ce.signal&&!_e&&y(ce.signal,this||Ye)),b.call(this||Ye,ce),A.construct(this||Ye,()=>{(this||Ye)._readableState.needReadable&&T(this||Ye,(this||Ye)._readableState)})}Ce.prototype.destroy=A.destroy,Ce.prototype._undestroy=A.undestroy,Ce.prototype._destroy=function(ce,_e){_e(ce)},Ce.prototype[g.captureRejectionSymbol]=function(ce){this.destroy(ce)},Ce.prototype[f]=function(){let ce;return(this||Ye).destroyed||(ce=(this||Ye).readableEnded?null:new ue,this.destroy(ce)),new u((_e,He)=>_(this||Ye,ze=>ze&&ze!==ce?He(ze):_e(null)))},Ce.prototype.push=function(ce,_e){return qe(this||Ye,ce,_e,!1)},Ce.prototype.unshift=function(ce,_e){return qe(this||Ye,ce,_e,!0)};function qe(ce,_e,He,ze){E("readableAddChunk",_e);let et=ce._readableState,dt;if((et.state&ie)===0&&(typeof _e=="string"?(He=He||et.defaultEncoding,et.encoding!==He&&(ze&&et.encoding?_e=w.from(_e,He).toString(et.encoding):(_e=w.from(_e,He),He=""))):_e instanceof w?He="":b._isUint8Array(_e)?(_e=b._uint8ArrayToBuffer(_e),He=""):_e!=null&&(dt=new re("chunk",["string","Buffer","Uint8Array"],_e))),dt)z(ce,dt);else if(_e===null)et.state&=~we,m(ce,et);else if((et.state&ie)!==0||_e&&_e.length>0)if(ze)if((et.state&X)!==0)z(ce,new H);else{if(et.destroyed||et.errored)return!1;We(ce,et,_e,!0)}else if(et.ended)z(ce,new U);else{if(et.destroyed||et.errored)return!1;et.state&=~we,et.decoder&&!He?(_e=et.decoder.write(_e),et.objectMode||_e.length!==0?We(ce,et,_e,!1):T(ce,et)):We(ce,et,_e,!1)}else ze||(et.state&=~we,T(ce,et));return!et.ended&&(et.length<et.highWaterMark||et.length===0)}function We(ce,_e,He,ze){_e.flowing&&_e.length===0&&!_e.sync&&ce.listenerCount("data")>0?((_e.state&pe)!==0?_e.awaitDrainWriters.clear():_e.awaitDrainWriters=null,_e.dataEmitted=!0,ce.emit("data",He)):(_e.length+=_e.objectMode?1:He.length,ze?_e.buffer.unshift(He):_e.buffer.push(He),(_e.state&M)!==0&&O(ce)),T(ce,_e)}Ce.prototype.isPaused=function(){let ce=(this||Ye)._readableState;return ce[Ae]===!0||ce.flowing===!1},Ce.prototype.setEncoding=function(ce){let _e=new j(ce);(this||Ye)._readableState.decoder=_e,(this||Ye)._readableState.encoding=(this||Ye)._readableState.decoder.encoding;let He=(this||Ye)._readableState.buffer,ze="";for(let et of He)ze+=_e.write(et);return He.clear(),ze!==""&&He.push(ze),(this||Ye)._readableState.length=ze.length,this||Ye};let Ge=1073741824;function x(ce){if(ce>Ge)throw new oe("size","<= 1GiB",ce);return ce--,ce|=ce>>>1,ce|=ce>>>2,ce|=ce>>>4,ce|=ce>>>8,ce|=ce>>>16,ce++,ce}function p(ce,_e){return ce<=0||_e.length===0&&_e.ended?0:(_e.state&ie)!==0?1:n(ce)?_e.flowing&&_e.length?_e.buffer.first().length:_e.length:ce<=_e.length?ce:_e.ended?_e.length:0}Ce.prototype.read=function(ce){E("read",ce),ce===void 0?ce=NaN:t(ce)||(ce=i(ce,10));let _e=(this||Ye)._readableState,He=ce;if(ce>_e.highWaterMark&&(_e.highWaterMark=x(ce)),ce!==0&&(_e.state&=~N),ce===0&&_e.needReadable&&((_e.highWaterMark!==0?_e.length>=_e.highWaterMark:_e.length>0)||_e.ended))return E("read: emitReadable",_e.length,_e.ended),_e.length===0&&_e.ended?Ue(this||Ye):O(this||Ye),null;if(ce=p(ce,_e),ce===0&&_e.ended)return _e.length===0&&Ue(this||Ye),null;let ze=(_e.state&M)!==0;if(E("need readable",ze),(_e.length===0||_e.length-ce<_e.highWaterMark)&&(ze=!0,E("length less than watermark",ze)),_e.ended||_e.reading||_e.destroyed||_e.errored||!_e.constructed)ze=!1,E("reading, ended or constructing",ze);else if(ze){E("do read"),_e.state|=we|de,_e.length===0&&(_e.state|=M);try{this._read(_e.highWaterMark)}catch(dt){z(this||Ye,dt)}_e.state&=~de,_e.reading||(ce=p(He,_e))}let et;return ce>0?et=Fe(ce,_e):et=null,et===null?(_e.needReadable=_e.length<=_e.highWaterMark,ce=0):(_e.length-=ce,_e.multiAwaitDrain?_e.awaitDrainWriters.clear():_e.awaitDrainWriters=null),_e.length===0&&(_e.ended||(_e.needReadable=!0),He!==ce&&_e.ended&&Ue(this||Ye)),et!==null&&!_e.errorEmitted&&!_e.closeEmitted&&(_e.dataEmitted=!0,this.emit("data",et)),et};function m(ce,_e){if(E("onEofChunk"),!_e.ended){if(_e.decoder){let He=_e.decoder.end();He&&He.length&&(_e.buffer.push(He),_e.length+=_e.objectMode?1:He.length)}_e.ended=!0,_e.sync?O(ce):(_e.needReadable=!1,_e.emittedReadable=!0,J(ce))}}function O(ce){let _e=ce._readableState;E("emitReadable",_e.needReadable,_e.emittedReadable),_e.needReadable=!1,_e.emittedReadable||(E("emitReadable",_e.flowing),_e.emittedReadable=!0,r.nextTick(J,ce))}function J(ce){let _e=ce._readableState;E("emitReadable_",_e.destroyed,_e.length,_e.ended),!_e.destroyed&&!_e.errored&&(_e.length||_e.ended)&&(ce.emit("readable"),_e.emittedReadable=!1),_e.needReadable=!_e.flowing&&!_e.ended&&_e.length<=_e.highWaterMark,Re(ce)}function T(ce,_e){!_e.readingMore&&_e.constructed&&(_e.readingMore=!0,r.nextTick(ae,ce,_e))}function ae(ce,_e){for(;!_e.reading&&!_e.ended&&(_e.length<_e.highWaterMark||_e.flowing&&_e.length===0);){let He=_e.length;if(E("maybeReadMore read 0"),ce.read(0),He===_e.length)break}_e.readingMore=!1}Ce.prototype._read=function(ce){throw new q("_read()")},Ce.prototype.pipe=function(ce,_e){let He=this||Ye,ze=(this||Ye)._readableState;ze.pipes.length===1&&(ze.multiAwaitDrain||(ze.multiAwaitDrain=!0,ze.awaitDrainWriters=new c(ze.awaitDrainWriters?[ze.awaitDrainWriters]:[]))),ze.pipes.push(ce),E("pipe count=%d opts=%j",ze.pipes.length,_e);let dt=(!_e||_e.end!==!1)&&ce!==r.stdout&&ce!==r.stderr?Et:Zr;ze.endEmitted?r.nextTick(dt):He.once("end",dt),ce.on("unpipe",Rt);function Rt(Jr,Qr){E("onunpipe"),Jr===He&&Qr&&Qr.hasUnpiped===!1&&(Qr.hasUnpiped=!0,qn())}function Et(){E("onend"),ce.end()}let ar,_i=!1;function qn(){E("cleanup"),ce.removeListener("close",Wt),ce.removeListener("finish",Yt),ar&&ce.removeListener("drain",ar),ce.removeListener("error",yr),ce.removeListener("unpipe",Rt),He.removeListener("end",Et),He.removeListener("end",Zr),He.removeListener("data",Dr),_i=!0,ar&&ze.awaitDrainWriters&&(!ce._writableState||ce._writableState.needDrain)&&ar()}function Ht(){_i||(ze.pipes.length===1&&ze.pipes[0]===ce?(E("false write response, pause",0),ze.awaitDrainWriters=ce,ze.multiAwaitDrain=!1):ze.pipes.length>1&&ze.pipes.includes(ce)&&(E("false write response, pause",ze.awaitDrainWriters.size),ze.awaitDrainWriters.add(ce)),He.pause()),ar||(ar=fe(He,ce),ce.on("drain",ar))}He.on("data",Dr);function Dr(Jr){E("ondata");let Qr=ce.write(Jr);E("dest.write",Qr),Qr===!1&&Ht()}function yr(Jr){if(E("onerror",Jr),Zr(),ce.removeListener("error",yr),ce.listenerCount("error")===0){let Qr=ce._writableState||ce._readableState;Qr&&!Qr.errorEmitted?z(ce,Jr):ce.emit("error",Jr)}}v(ce,"error",yr);function Wt(){ce.removeListener("finish",Yt),Zr()}ce.once("close",Wt);function Yt(){E("onfinish"),ce.removeListener("close",Wt),Zr()}ce.once("finish",Yt);function Zr(){E("unpipe"),He.unpipe(ce)}return ce.emit("pipe",He),ce.writableNeedDrain===!0?Ht():ze.flowing||(E("pipe resume"),He.resume()),ce};function fe(ce,_e){return function(){let ze=ce._readableState;ze.awaitDrainWriters===_e?(E("pipeOnDrain",1),ze.awaitDrainWriters=null):ze.multiAwaitDrain&&(E("pipeOnDrain",ze.awaitDrainWriters.size),ze.awaitDrainWriters.delete(_e)),(!ze.awaitDrainWriters||ze.awaitDrainWriters.size===0)&&ce.listenerCount("data")&&ce.resume()}}Ce.prototype.unpipe=function(ce){let _e=(this||Ye)._readableState,He={hasUnpiped:!1};if(_e.pipes.length===0)return this||Ye;if(!ce){let et=_e.pipes;_e.pipes=[],this.pause();for(let dt=0;dt<et.length;dt++)et[dt].emit("unpipe",this||Ye,{hasUnpiped:!1});return this||Ye}let ze=e(_e.pipes,ce);return ze===-1?this||Ye:(_e.pipes.splice(ze,1),_e.pipes.length===0&&this.pause(),ce.emit("unpipe",this||Ye,He),this||Ye)},Ce.prototype.on=function(ce,_e){let He=b.prototype.on.call(this||Ye,ce,_e),ze=(this||Ye)._readableState;return ce==="data"?(ze.readableListening=this.listenerCount("readable")>0,ze.flowing!==!1&&this.resume()):ce==="readable"&&!ze.endEmitted&&!ze.readableListening&&(ze.readableListening=ze.needReadable=!0,ze.flowing=!1,ze.emittedReadable=!1,E("on readable",ze.length,ze.reading),ze.length?O(this||Ye):ze.reading||r.nextTick(G,this||Ye)),He},Ce.prototype.addListener=Ce.prototype.on,Ce.prototype.removeListener=function(ce,_e){let He=b.prototype.removeListener.call(this||Ye,ce,_e);return ce==="readable"&&r.nextTick(Te,this||Ye),He},Ce.prototype.off=Ce.prototype.removeListener,Ce.prototype.removeAllListeners=function(ce){let _e=b.prototype.removeAllListeners.apply(this||Ye,arguments);return(ce==="readable"||ce===void 0)&&r.nextTick(Te,this||Ye),_e};function Te(ce){let _e=ce._readableState;_e.readableListening=ce.listenerCount("readable")>0,_e.resumeScheduled&&_e[Ae]===!1?_e.flowing=!0:ce.listenerCount("data")>0?ce.resume():_e.readableListening||(_e.flowing=null)}function G(ce){E("readable nexttick read 0"),ce.read(0)}Ce.prototype.resume=function(){let ce=(this||Ye)._readableState;return ce.flowing||(E("resume"),ce.flowing=!ce.readableListening,me(this||Ye,ce)),ce[Ae]=!1,this||Ye};function me(ce,_e){_e.resumeScheduled||(_e.resumeScheduled=!0,r.nextTick(B,ce,_e))}function B(ce,_e){E("resume",_e.reading),_e.reading||ce.read(0),_e.resumeScheduled=!1,ce.emit("resume"),Re(ce),_e.flowing&&!_e.reading&&ce.read(0)}Ce.prototype.pause=function(){return E("call pause flowing=%j",(this||Ye)._readableState.flowing),(this||Ye)._readableState.flowing!==!1&&(E("pause"),(this||Ye)._readableState.flowing=!1,this.emit("pause")),(this||Ye)._readableState[Ae]=!0,this||Ye};function Re(ce){let _e=ce._readableState;for(E("flow",_e.flowing);_e.flowing&&ce.read()!==null;);}Ce.prototype.wrap=function(ce){let _e=!1;ce.on("data",ze=>{!this.push(ze)&&ce.pause&&(_e=!0,ce.pause())}),ce.on("end",()=>{this.push(null)}),ce.on("error",ze=>{z(this||Ye,ze)}),ce.on("close",()=>{this.destroy()}),ce.on("destroy",()=>{this.destroy()}),(this||Ye)._read=()=>{_e&&ce.resume&&(_e=!1,ce.resume())};let He=s(ce);for(let ze=1;ze<He.length;ze++){let et=He[ze];(this||Ye)[et]===void 0&&typeof ce[et]=="function"&&((this||Ye)[et]=ce[et].bind(ce))}return this||Ye},Ce.prototype[h]=function(){return je(this||Ye)},Ce.prototype.iterator=function(ce){return ce!==void 0&&Se(ce,"options"),je(this||Ye,ce)};function je(ce,_e){typeof ce.read!="function"&&(ce=Ce.wrap(ce,{objectMode:!0}));let He=R(ce,_e);return He.stream=ce,He}async function*R(ce,_e){let He=se;function ze(Rt){(this||Ye)===ce?(He(),He=se):He=Rt}ce.on("readable",ze);let et,dt=_(ce,{writable:!1},Rt=>{et=Rt?K(et,Rt):null,He(),He=se});try{for(;;){let Rt=ce.destroyed?null:ce.read();if(Rt!==null)yield Rt;else{if(et)throw et;if(et===null)return;await new u(ze)}}}catch(Rt){throw et=K(et,Rt),et}finally{(et||_e?.destroyOnReturn!==!1)&&(et===void 0||ce._readableState.autoDestroy)?A.destroyer(ce,null):(ce.off("readable",ze),dt())}}o(Ce.prototype,{readable:{__proto__:null,get(){let ce=(this||Ye)._readableState;return!!ce&&ce.readable!==!1&&!ce.destroyed&&!ce.errorEmitted&&!ce.endEmitted},set(ce){(this||Ye)._readableState&&((this||Ye)._readableState.readable=!!ce)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return(this||Ye)._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!((this||Ye)._readableState.readable!==!1&&((this||Ye)._readableState.destroyed||(this||Ye)._readableState.errored)&&!(this||Ye)._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return(this||Ye)._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return(this||Ye)._readableState&&(this||Ye)._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return(this||Ye)._readableState.flowing},set:function(ce){(this||Ye)._readableState&&((this||Ye)._readableState.flowing=ce)}},readableLength:{__proto__:null,enumerable:!1,get(){return(this||Ye)._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return(this||Ye)._readableState?(this||Ye)._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return(this||Ye)._readableState?(this||Ye)._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return(this||Ye)._readableState?(this||Ye)._readableState.errored:null}},closed:{__proto__:null,get(){return(this||Ye)._readableState?(this||Ye)._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return(this||Ye)._readableState?(this||Ye)._readableState.destroyed:!1},set(ce){(this||Ye)._readableState&&((this||Ye)._readableState.destroyed=ce)}},readableEnded:{__proto__:null,enumerable:!1,get(){return(this||Ye)._readableState?(this||Ye)._readableState.endEmitted:!1}}}),o(Pe.prototype,{pipesCount:{__proto__:null,get(){return(this||Ye).pipes.length}},paused:{__proto__:null,get(){return(this||Ye)[Ae]!==!1},set(ce){(this||Ye)[Ae]=!!ce}}}),Ce._fromList=Fe;function Fe(ce,_e){if(_e.length===0)return null;let He;return _e.objectMode?He=_e.buffer.shift():!ce||ce>=_e.length?(_e.decoder?He=_e.buffer.join(""):_e.buffer.length===1?He=_e.buffer.first():He=_e.buffer.concat(_e.length),_e.buffer.clear()):He=_e.buffer.consume(ce,_e.decoder),He}function Ue(ce){let _e=ce._readableState;E("endReadable",_e.endEmitted),_e.endEmitted||(_e.ended=!0,r.nextTick(he,_e,ce))}function he(ce,_e){if(E("endReadableNT",ce.endEmitted,ce.length),!ce.errored&&!ce.closeEmitted&&!ce.endEmitted&&ce.length===0){if(ce.endEmitted=!0,_e.emit("end"),_e.writable&&_e.allowHalfOpen===!1)r.nextTick(Oe,_e);else if(ce.autoDestroy){let He=_e._writableState;(!He||He.autoDestroy&&(He.finished||He.writable===!1))&&_e.destroy()}}}function Oe(ce){ce.writable&&!ce.writableEnded&&!ce.destroyed&&ce.end()}Ce.from=function(ce,_e){return I(Ce,ce,_e)};let Me;function tt(){return Me===void 0&&(Me={}),Me}return Ce.fromWeb=function(ce,_e){return tt().newStreamReadableFromReadableStream(ce,_e)},Ce.toWeb=function(ce,_e){return tt().newReadableStreamFromStreamReadable(ce,_e)},Ce.wrap=function(ce,_e){var He,ze;return new Ce({objectMode:(He=(ze=ce.readableObjectMode)!==null&&ze!==void 0?ze:ce.objectMode)!==null&&He!==void 0?He:!0,..._e,destroy(et,dt){A.destroyer(ce,et),dt(et)}}).wrap(ce)},B1}function Y1(){if(rP)return M1;rP=!0;let r=zr,{ArrayPrototypeSlice:e,Error:t,FunctionPrototypeSymbolHasInstance:n,ObjectDefineProperty:i,ObjectDefineProperties:o,ObjectSetPrototypeOf:s,StringPrototypeToLowerCase:a,Symbol:u,SymbolHasInstance:c}=Nr();M1=Se,Se.WritableState=H;let{EventEmitter:f}=ao,h=V1().Stream,{Buffer:d}=fn(),g=wh(),{addAbortSignal:b}=zb(),{getHighWaterMark:v,getDefaultHighWaterMark:w}=Wb(),{ERR_INVALID_ARG_TYPE:y,ERR_METHOD_NOT_IMPLEMENTED:_,ERR_MULTIPLE_CALLBACK:E,ERR_STREAM_CANNOT_PIPE:S,ERR_STREAM_DESTROYED:A,ERR_STREAM_ALREADY_FINISHED:L,ERR_STREAM_NULL_VALUES:D,ERR_STREAM_WRITE_AFTER_END:K,ERR_UNKNOWN_ENCODING:re}=fi().codes,{errorOrDestroy:q}=g;s(Se.prototype,h.prototype),s(Se,h);function oe(){}let U=u("kOnFinished");function H(C,F,Q){typeof Q!="boolean"&&(Q=F instanceof sa()),(this||Je).objectMode=!!(C&&C.objectMode),Q&&((this||Je).objectMode=(this||Je).objectMode||!!(C&&C.writableObjectMode)),(this||Je).highWaterMark=C?v(this||Je,C,"writableHighWaterMark",Q):w(!1),(this||Je).finalCalled=!1,(this||Je).needDrain=!1,(this||Je).ending=!1,(this||Je).ended=!1,(this||Je).finished=!1,(this||Je).destroyed=!1;let Ee=!!(C&&C.decodeStrings===!1);(this||Je).decodeStrings=!Ee,(this||Je).defaultEncoding=C&&C.defaultEncoding||"utf8",(this||Je).length=0,(this||Je).writing=!1,(this||Je).corked=0,(this||Je).sync=!0,(this||Je).bufferProcessing=!1,(this||Je).onwrite=z.bind(void 0,F),(this||Je).writecb=null,(this||Je).writelen=0,(this||Je).afterWriteTickInfo=null,ue(this||Je),(this||Je).pendingcb=0,(this||Je).constructed=!0,(this||Je).prefinished=!1,(this||Je).errorEmitted=!1,(this||Je).emitClose=!C||C.emitClose!==!1,(this||Je).autoDestroy=!C||C.autoDestroy!==!1,(this||Je).errored=null,(this||Je).closed=!1,(this||Je).closeEmitted=!1,(this||Je)[U]=[]}function ue(C){C.buffered=[],C.bufferedIndex=0,C.allBuffers=!0,C.allNoop=!0}H.prototype.getBuffer=function(){return e((this||Je).buffered,(this||Je).bufferedIndex)},i(H.prototype,"bufferedRequestCount",{__proto__:null,get(){return(this||Je).buffered.length-(this||Je).bufferedIndex}});function Se(C){let F=(this||Je)instanceof sa();if(!F&&!n(Se,this||Je))return new Se(C);(this||Je)._writableState=new H(C,this||Je,F),C&&(typeof C.write=="function"&&((this||Je)._write=C.write),typeof C.writev=="function"&&((this||Je)._writev=C.writev),typeof C.destroy=="function"&&((this||Je)._destroy=C.destroy),typeof C.final=="function"&&((this||Je)._final=C.final),typeof C.construct=="function"&&((this||Je)._construct=C.construct),C.signal&&b(C.signal,this||Je)),h.call(this||Je,C),g.construct(this||Je,()=>{let Q=(this||Je)._writableState;Q.writing||we(this||Je,Q),N(this||Je,Q)})}i(Se,c,{__proto__:null,value:function(C){return n(this||Je,C)?!0:(this||Je)!==Se?!1:C&&C._writableState instanceof H}}),Se.prototype.pipe=function(){q(this||Je,new S)};function Ae(C,F,Q,Ee){let pe=C._writableState;if(typeof Q=="function")Ee=Q,Q=pe.defaultEncoding;else{if(!Q)Q=pe.defaultEncoding;else if(Q!=="buffer"&&!d.isEncoding(Q))throw new re(Q);typeof Ee!="function"&&(Ee=oe)}if(F===null)throw new D;if(!pe.objectMode)if(typeof F=="string")pe.decodeStrings!==!1&&(F=d.from(F,Q),Q="buffer");else if(F instanceof d)Q="buffer";else if(h._isUint8Array(F))F=h._uint8ArrayToBuffer(F),Q="buffer";else throw new y("chunk",["string","Buffer","Uint8Array"],F);let te;return pe.ending?te=new K:pe.destroyed&&(te=new A("write")),te?(r.nextTick(Ee,te),q(C,te,!0),te):(pe.pendingcb++,j(C,pe,F,Q,Ee))}Se.prototype.write=function(C,F,Q){return Ae(this||Je,C,F,Q)===!0},Se.prototype.cork=function(){(this||Je)._writableState.corked++},Se.prototype.uncork=function(){let C=(this||Je)._writableState;C.corked&&(C.corked--,C.writing||we(this||Je,C))},Se.prototype.setDefaultEncoding=function(F){if(typeof F=="string"&&(F=a(F)),!d.isEncoding(F))throw new re(F);return(this||Je)._writableState.defaultEncoding=F,this||Je};function j(C,F,Q,Ee,pe){let te=F.objectMode?1:Q.length;F.length+=te;let be=F.length<F.highWaterMark;return be||(F.needDrain=!0),F.writing||F.corked||F.errored||!F.constructed?(F.buffered.push({chunk:Q,encoding:Ee,callback:pe}),F.allBuffers&&Ee!=="buffer"&&(F.allBuffers=!1),F.allNoop&&pe!==oe&&(F.allNoop=!1)):(F.writelen=te,F.writecb=pe,F.writing=!0,F.sync=!0,C._write(Q,Ee,F.onwrite),F.sync=!1),be&&!F.errored&&!F.destroyed}function I(C,F,Q,Ee,pe,te,be){F.writelen=Ee,F.writecb=be,F.writing=!0,F.sync=!0,F.destroyed?F.onwrite(new A("write")):Q?C._writev(pe,F.onwrite):C._write(pe,te,F.onwrite),F.sync=!1}function se(C,F,Q,Ee){--F.pendingcb,Ee(Q),X(F),q(C,Q)}function z(C,F){let Q=C._writableState,Ee=Q.sync,pe=Q.writecb;if(typeof pe!="function"){q(C,new E);return}Q.writing=!1,Q.writecb=null,Q.length-=Q.writelen,Q.writelen=0,F?(F.stack,Q.errored||(Q.errored=F),C._readableState&&!C._readableState.errored&&(C._readableState.errored=F),Ee?r.nextTick(se,C,Q,F,pe):se(C,Q,F,pe)):(Q.buffered.length>Q.bufferedIndex&&we(C,Q),Ee?Q.afterWriteTickInfo!==null&&Q.afterWriteTickInfo.cb===pe?Q.afterWriteTickInfo.count++:(Q.afterWriteTickInfo={count:1,cb:pe,stream:C,state:Q},r.nextTick(ie,Q.afterWriteTickInfo)):V(C,Q,1,pe))}function ie({stream:C,state:F,count:Q,cb:Ee}){return F.afterWriteTickInfo=null,V(C,F,Q,Ee)}function V(C,F,Q,Ee){for(!F.ending&&!C.destroyed&&F.length===0&&F.needDrain&&(F.needDrain=!1,C.emit("drain"));Q-- >0;)F.pendingcb--,Ee();F.destroyed&&X(F),N(C,F)}function X(C){if(C.writing)return;for(let pe=C.bufferedIndex;pe<C.buffered.length;++pe){var F;let{chunk:te,callback:be}=C.buffered[pe],Ie=C.objectMode?1:te.length;C.length-=Ie,be((F=C.errored)!==null&&F!==void 0?F:new A("write"))}let Q=C[U].splice(0);for(let pe=0;pe<Q.length;pe++){var Ee;Q[pe]((Ee=C.errored)!==null&&Ee!==void 0?Ee:new A("end"))}ue(C)}function we(C,F){if(F.corked||F.bufferProcessing||F.destroyed||!F.constructed)return;let{buffered:Q,bufferedIndex:Ee,objectMode:pe}=F,te=Q.length-Ee;if(!te)return;let be=Ee;if(F.bufferProcessing=!0,te>1&&C._writev){F.pendingcb-=te-1;let Ie=F.allNoop?oe:Ce=>{for(let qe=be;qe<Q.length;++qe)Q[qe].callback(Ce)},Pe=F.allNoop&&be===0?Q:e(Q,be);Pe.allBuffers=F.allBuffers,I(C,F,!0,F.length,Pe,"",Ie),ue(F)}else{do{let{chunk:Ie,encoding:Pe,callback:Ce}=Q[be];Q[be++]=null;let qe=pe?1:Ie.length;I(C,F,!1,qe,Ie,Pe,Ce)}while(be<Q.length&&!F.writing);be===Q.length?ue(F):be>256?(Q.splice(0,be),F.bufferedIndex=0):F.bufferedIndex=be}F.bufferProcessing=!1}Se.prototype._write=function(C,F,Q){if((this||Je)._writev)this._writev([{chunk:C,encoding:F}],Q);else throw new _("_write()")},Se.prototype._writev=null,Se.prototype.end=function(C,F,Q){let Ee=(this||Je)._writableState;typeof C=="function"?(Q=C,C=null,F=null):typeof F=="function"&&(Q=F,F=null);let pe;if(C!=null){let te=Ae(this||Je,C,F);te instanceof t&&(pe=te)}return Ee.corked&&(Ee.corked=1,this.uncork()),pe||(!Ee.errored&&!Ee.ending?(Ee.ending=!0,N(this||Je,Ee,!0),Ee.ended=!0):Ee.finished?pe=new L("end"):Ee.destroyed&&(pe=new A("end"))),typeof Q=="function"&&(pe||Ee.finished?r.nextTick(Q,pe):Ee[U].push(Q)),this||Je};function ve(C){return C.ending&&!C.destroyed&&C.constructed&&C.length===0&&!C.errored&&C.buffered.length===0&&!C.finished&&!C.writing&&!C.errorEmitted&&!C.closeEmitted}function de(C,F){let Q=!1;function Ee(pe){if(Q){q(C,pe??E());return}if(Q=!0,F.pendingcb--,pe){let te=F[U].splice(0);for(let be=0;be<te.length;be++)te[be](pe);q(C,pe,F.sync)}else ve(F)&&(F.prefinished=!0,C.emit("prefinish"),F.pendingcb++,r.nextTick($,C,F))}F.sync=!0,F.pendingcb++;try{C._final(Ee)}catch(pe){Ee(pe)}F.sync=!1}function M(C,F){!F.prefinished&&!F.finalCalled&&(typeof C._final=="function"&&!F.destroyed?(F.finalCalled=!0,de(C,F)):(F.prefinished=!0,C.emit("prefinish")))}function N(C,F,Q){ve(F)&&(M(C,F),F.pendingcb===0&&(Q?(F.pendingcb++,r.nextTick((Ee,pe)=>{ve(pe)?$(Ee,pe):pe.pendingcb--},C,F)):ve(F)&&(F.pendingcb++,$(C,F))))}function $(C,F){F.pendingcb--,F.finished=!0;let Q=F[U].splice(0);for(let Ee=0;Ee<Q.length;Ee++)Q[Ee]();if(C.emit("finish"),F.autoDestroy){let Ee=C._readableState;(!Ee||Ee.autoDestroy&&(Ee.endEmitted||Ee.readable===!1))&&C.destroy()}}o(Se.prototype,{closed:{__proto__:null,get(){return(this||Je)._writableState?(this||Je)._writableState.closed:!1}},destroyed:{__proto__:null,get(){return(this||Je)._writableState?(this||Je)._writableState.destroyed:!1},set(C){(this||Je)._writableState&&((this||Je)._writableState.destroyed=C)}},writable:{__proto__:null,get(){let C=(this||Je)._writableState;return!!C&&C.writable!==!1&&!C.destroyed&&!C.errored&&!C.ending&&!C.ended},set(C){(this||Je)._writableState&&((this||Je)._writableState.writable=!!C)}},writableFinished:{__proto__:null,get(){return(this||Je)._writableState?(this||Je)._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return(this||Je)._writableState?(this||Je)._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return(this||Je)._writableState&&(this||Je)._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return(this||Je)._writableState?(this||Je)._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let C=(this||Je)._writableState;return C?!C.destroyed&&!C.ending&&C.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return(this||Je)._writableState&&(this||Je)._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return(this||Je)._writableState?(this||Je)._writableState.corked:0}},writableLength:{__proto__:null,get(){return(this||Je)._writableState&&(this||Je)._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return(this||Je)._writableState?(this||Je)._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!((this||Je)._writableState.writable!==!1&&((this||Je)._writableState.destroyed||(this||Je)._writableState.errored)&&!(this||Je)._writableState.finished)}}});let ne=g.destroy;Se.prototype.destroy=function(C,F){let Q=(this||Je)._writableState;return!Q.destroyed&&(Q.bufferedIndex<Q.buffered.length||Q[U].length)&&r.nextTick(X,Q),ne.call(this||Je,C,F),this||Je},Se.prototype._undestroy=g.undestroy,Se.prototype._destroy=function(C,F){F(C)},Se.prototype[f.captureRejectionSymbol]=function(C){this.destroy(C)};let ye;function P(){return ye===void 0&&(ye={}),ye}return Se.fromWeb=function(C,F){return P().newStreamWritableFromWritableStream(C,F)},Se.toWeb=function(C){return P().newWritableStreamFromStreamWritable(C)},M1}function WW(){if(nP)return F1;nP=!0;let r=zr,e=fn(),{isReadable:t,isWritable:n,isIterable:i,isNodeStream:o,isReadableNodeStream:s,isWritableNodeStream:a,isDuplexNodeStream:u,isReadableStream:c,isWritableStream:f}=oa(),h=_l(),{AbortError:d,codes:{ERR_INVALID_ARG_TYPE:g,ERR_INVALID_RETURN_VALUE:b}}=fi(),{destroyer:v}=wh(),w=sa(),y=qb(),_=Y1(),{createDeferredPromise:E}=Vn(),S=pP(),A=globalThis.Blob||e.Blob,L=typeof A<"u"?function(H){return H instanceof A}:function(H){return!1},D=globalThis.AbortController||pg().AbortController,{FunctionPrototypeCall:K}=Nr();class re extends w{constructor(H){super(H),H?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),H?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}F1=function U(H,ue){if(u(H))return H;if(s(H))return oe({readable:H});if(a(H))return oe({writable:H});if(o(H))return oe({writable:!1,readable:!1});if(c(H))return oe({readable:y.fromWeb(H)});if(f(H))return oe({writable:_.fromWeb(H)});if(typeof H=="function"){let{value:Ae,write:j,final:I,destroy:se}=q(H);if(i(Ae))return S(re,Ae,{objectMode:!0,write:j,final:I,destroy:se});let z=Ae?.then;if(typeof z=="function"){let ie,V=K(z,Ae,X=>{if(X!=null)throw new b("nully","body",X)},X=>{v(ie,X)});return ie=new re({objectMode:!0,readable:!1,write:j,final(X){I(async()=>{try{await V,r.nextTick(X,null)}catch(we){r.nextTick(X,we)}})},destroy:se})}throw new b("Iterable, AsyncIterable or AsyncFunction",ue,Ae)}if(L(H))return U(H.arrayBuffer());if(i(H))return S(re,H,{objectMode:!0,writable:!1});if(c(H?.readable)&&f(H?.writable))return re.fromWeb(H);if(typeof H?.writable=="object"||typeof H?.readable=="object"){let Ae=H!=null&&H.readable?s(H?.readable)?H?.readable:U(H.readable):void 0,j=H!=null&&H.writable?a(H?.writable)?H?.writable:U(H.writable):void 0;return oe({readable:Ae,writable:j})}let Se=H?.then;if(typeof Se=="function"){let Ae;return K(Se,H,j=>{j!=null&&Ae.push(j),Ae.push(null)},j=>{v(Ae,j)}),Ae=new re({objectMode:!0,writable:!1,read(){}})}throw new g(ue,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],H)};function q(U){let{promise:H,resolve:ue}=E(),Se=new D,Ae=Se.signal;return{value:U((async function*(){for(;;){let I=H;H=null;let{chunk:se,done:z,cb:ie}=await I;if(r.nextTick(ie),z)return;if(Ae.aborted)throw new d(void 0,{cause:Ae.reason});({promise:H,resolve:ue}=E()),yield se}})(),{signal:Ae}),write(I,se,z){let ie=ue;ue=null,ie({chunk:I,done:!1,cb:z})},final(I){let se=ue;ue=null,se({done:!0,cb:I})},destroy(I,se){Se.abort(),se(I)}}}function oe(U){let H=U.readable&&typeof U.readable.read!="function"?y.wrap(U.readable):U.readable,ue=U.writable,Se=!!t(H),Ae=!!n(ue),j,I,se,z,ie;function V(X){let we=z;z=null,we?we(X):X&&ie.destroy(X)}return ie=new re({readableObjectMode:!!(H!=null&&H.readableObjectMode),writableObjectMode:!!(ue!=null&&ue.writableObjectMode),readable:Se,writable:Ae}),Ae&&(h(ue,X=>{Ae=!1,X&&v(H,X),V(X)}),ie._write=function(X,we,ve){ue.write(X,we)?ve():j=ve},ie._final=function(X){ue.end(),I=X},ue.on("drain",function(){if(j){let X=j;j=null,X()}}),ue.on("finish",function(){if(I){let X=I;I=null,X()}})),Se&&(h(H,X=>{Se=!1,X&&v(H,X),V(X)}),H.on("readable",function(){if(se){let X=se;se=null,X()}}),H.on("end",function(){ie.push(null)}),ie._read=function(){for(;;){let X=H.read();if(X===null){se=ie._read;return}if(!ie.push(X))return}}),ie._destroy=function(X,we){!X&&z!==null&&(X=new d),se=null,j=null,I=null,z===null?we(X):(z=we,v(ue,X),v(H,X))},ie}return F1}function sa(){if(iP)return U1;iP=!0;let{ObjectDefineProperties:r,ObjectGetOwnPropertyDescriptor:e,ObjectKeys:t,ObjectSetPrototypeOf:n}=Nr();U1=s;let i=qb(),o=Y1();n(s.prototype,i.prototype),n(s,i);{let f=t(o.prototype);for(let h=0;h<f.length;h++){let d=f[h];s.prototype[d]||(s.prototype[d]=o.prototype[d])}}function s(f){if(!(this instanceof s))return new s(f);i.call(this,f),o.call(this,f),f?(this.allowHalfOpen=f.allowHalfOpen!==!1,f.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),f.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}r(s.prototype,{writable:{__proto__:null,...e(o.prototype,"writable")},writableHighWaterMark:{__proto__:null,...e(o.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...e(o.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...e(o.prototype,"writableBuffer")},writableLength:{__proto__:null,...e(o.prototype,"writableLength")},writableFinished:{__proto__:null,...e(o.prototype,"writableFinished")},writableCorked:{__proto__:null,...e(o.prototype,"writableCorked")},writableEnded:{__proto__:null,...e(o.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...e(o.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(f){this._readableState&&this._writableState&&(this._readableState.destroyed=f,this._writableState.destroyed=f)}}});let a;function u(){return a===void 0&&(a={}),a}s.fromWeb=function(f,h){return u().newStreamDuplexFromReadableWritablePair(f,h)},s.toWeb=function(f){return u().newReadableWritablePairFromDuplex(f)};let c;return s.from=function(f){return c||(c=WW()),c(f,"body")},U1}function gP(){if(sP)return j1;sP=!0;let{ObjectSetPrototypeOf:r,Symbol:e}=Nr();j1=s;let{ERR_METHOD_NOT_IMPLEMENTED:t}=fi().codes,n=sa(),{getHighWaterMark:i}=Wb();r(s.prototype,n.prototype),r(s,n);let o=e("kCallback");function s(c){if(!(this instanceof s))return new s(c);let f=c?i(this,c,"readableHighWaterMark",!0):null;f===0&&(c={...c,highWaterMark:null,readableHighWaterMark:f,writableHighWaterMark:c.writableHighWaterMark||0}),n.call(this,c),this._readableState.sync=!1,this[o]=null,c&&(typeof c.transform=="function"&&(this._transform=c.transform),typeof c.flush=="function"&&(this._flush=c.flush)),this.on("prefinish",u)}function a(c){typeof this._flush=="function"&&!this.destroyed?this._flush((f,h)=>{if(f){c?c(f):this.destroy(f);return}h!=null&&this.push(h),this.push(null),c&&c()}):(this.push(null),c&&c())}function u(){this._final!==a&&a.call(this)}return s.prototype._final=a,s.prototype._transform=function(c,f,h){throw new t("_transform()")},s.prototype._write=function(c,f,h){let d=this._readableState,g=this._writableState,b=d.length;this._transform(c,f,(v,w)=>{if(v){h(v);return}w!=null&&this.push(w),g.ended||b===d.length||d.length<d.highWaterMark?h():this[o]=h})},s.prototype._read=function(){if(this[o]){let c=this[o];this[o]=null,c()}},j1}function mP(){if(oP)return $1;oP=!0;let{ObjectSetPrototypeOf:r}=Nr();$1=t;let e=gP();r(t.prototype,e.prototype),r(t,e);function t(n){if(!(this instanceof t))return new t(n);e.call(this,n)}return t.prototype._transform=function(n,i,o){o(null,n)},$1}function X1(){if(aP)return z1;aP=!0;let r=zr,{ArrayIsArray:e,Promise:t,SymbolAsyncIterator:n,SymbolDispose:i}=Nr(),o=_l(),{once:s}=Vn(),a=wh(),u=sa(),{aggregateTwoErrors:c,codes:{ERR_INVALID_ARG_TYPE:f,ERR_INVALID_RETURN_VALUE:h,ERR_MISSING_ARGS:d,ERR_STREAM_DESTROYED:g,ERR_STREAM_PREMATURE_CLOSE:b},AbortError:v}=fi(),{validateFunction:w,validateAbortSignal:y}=gg(),{isIterable:_,isReadable:E,isReadableNodeStream:S,isNodeStream:A,isTransformStream:L,isWebStream:D,isReadableStream:K,isReadableFinished:re}=oa(),q=globalThis.AbortController||pg().AbortController,oe,U,H;function ue(X,we,ve){let de=!1;X.on("close",()=>{de=!0});let M=o(X,{readable:we,writable:ve},N=>{de=!N});return{destroy:N=>{de||(de=!0,a.destroyer(X,N||new g("pipe")))},cleanup:M}}function Se(X){return w(X[X.length-1],"streams[stream.length - 1]"),X.pop()}function Ae(X){if(_(X))return X;if(S(X))return j(X);throw new f("val",["Readable","Iterable","AsyncIterable"],X)}async function*j(X){U||(U=qb()),yield*U.prototype[n].call(X)}async function I(X,we,ve,{end:de}){let M,N=null,$=P=>{if(P&&(M=P),N){let C=N;N=null,C()}},ne=()=>new t((P,C)=>{M?C(M):N=()=>{M?C(M):P()}});we.on("drain",$);let ye=o(we,{readable:!1},$);try{we.writableNeedDrain&&await ne();for await(let P of X)we.write(P)||await ne();de&&(we.end(),await ne()),ve()}catch(P){ve(M!==P?c(M,P):P)}finally{ye(),we.off("drain",$)}}async function se(X,we,ve,{end:de}){L(we)&&(we=we.writable);let M=we.getWriter();try{for await(let N of X)await M.ready,M.write(N).catch(()=>{});await M.ready,de&&await M.close(),ve()}catch(N){try{await M.abort(N),ve(N)}catch($){ve($)}}}function z(...X){return ie(X,s(Se(X)))}function ie(X,we,ve){if(X.length===1&&e(X[0])&&(X=X[0]),X.length<2)throw new d("streams");let de=new q,M=de.signal,N=ve?.signal,$=[];y(N,"options.signal");function ne(){pe(new v)}H=H||Vn().addAbortListener;let ye;N&&(ye=H(N,ne));let P,C,F=[],Q=0;function Ee(Pe){pe(Pe,--Q===0)}function pe(Pe,Ce){var qe;if(Pe&&(!P||P.code==="ERR_STREAM_PREMATURE_CLOSE")&&(P=Pe),!(!P&&!Ce)){for(;F.length;)F.shift()(P);(qe=ye)===null||qe===void 0||qe[i](),de.abort(),Ce&&(P||$.forEach(We=>We()),r.nextTick(we,P,C))}}let te;for(let Pe=0;Pe<X.length;Pe++){let Ce=X[Pe],qe=Pe<X.length-1,We=Pe>0,Ge=qe||ve?.end!==!1,x=Pe===X.length-1;if(A(Ce)){let p=function(m){m&&m.name!=="AbortError"&&m.code!=="ERR_STREAM_PREMATURE_CLOSE"&&Ee(m)};if(Ge){let{destroy:m,cleanup:O}=ue(Ce,qe,We);F.push(m),E(Ce)&&x&&$.push(O)}Ce.on("error",p),E(Ce)&&x&&$.push(()=>{Ce.removeListener("error",p)})}if(Pe===0)if(typeof Ce=="function"){if(te=Ce({signal:M}),!_(te))throw new h("Iterable, AsyncIterable or Stream","source",te)}else _(Ce)||S(Ce)||L(Ce)?te=Ce:te=u.from(Ce);else if(typeof Ce=="function"){if(L(te)){var be;te=Ae((be=te)===null||be===void 0?void 0:be.readable)}else te=Ae(te);if(te=Ce(te,{signal:M}),qe){if(!_(te,!0))throw new h("AsyncIterable",`transform[${Pe-1}]`,te)}else{var Ie;oe||(oe=mP());let p=new oe({objectMode:!0}),m=(Ie=te)===null||Ie===void 0?void 0:Ie.then;if(typeof m=="function")Q++,m.call(te,T=>{C=T,T!=null&&p.write(T),Ge&&p.end(),r.nextTick(Ee)},T=>{p.destroy(T),r.nextTick(Ee,T)});else if(_(te,!0))Q++,I(te,p,Ee,{end:Ge});else if(K(te)||L(te)){let T=te.readable||te;Q++,I(T,p,Ee,{end:Ge})}else throw new h("AsyncIterable or Promise","destination",te);te=p;let{destroy:O,cleanup:J}=ue(te,!1,!0);F.push(O),x&&$.push(J)}}else if(A(Ce)){if(S(te)){Q+=2;let p=V(te,Ce,Ee,{end:Ge});E(Ce)&&x&&$.push(p)}else if(L(te)||K(te)){let p=te.readable||te;Q++,I(p,Ce,Ee,{end:Ge})}else if(_(te))Q++,I(te,Ce,Ee,{end:Ge});else throw new f("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],te);te=Ce}else if(D(Ce)){if(S(te))Q++,se(Ae(te),Ce,Ee,{end:Ge});else if(K(te)||_(te))Q++,se(te,Ce,Ee,{end:Ge});else if(L(te))Q++,se(te.readable,Ce,Ee,{end:Ge});else throw new f("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],te);te=Ce}else te=u.from(Ce)}return(M!=null&&M.aborted||N!=null&&N.aborted)&&r.nextTick(ne),te}function V(X,we,ve,{end:de}){let M=!1;if(we.on("close",()=>{M||ve(new b)}),X.pipe(we,{end:!1}),de){let N=function(){M=!0,we.end()};re(X)?r.nextTick(N):X.once("end",N)}else ve();return o(X,{readable:!0,writable:!1},N=>{let $=X._readableState;N&&N.code==="ERR_STREAM_PREMATURE_CLOSE"&&$&&$.ended&&!$.errored&&!$.errorEmitted?X.once("end",ve).once("error",ve):ve(N)}),o(we,{readable:!1,writable:!0},ve)}return z1={pipelineImpl:ie,pipeline:z},z1}function yP(){if(lP)return W1;lP=!0;let{pipeline:r}=X1(),e=sa(),{destroyer:t}=wh(),{isNodeStream:n,isReadable:i,isWritable:o,isWebStream:s,isTransformStream:a,isWritableStream:u,isReadableStream:c}=oa(),{AbortError:f,codes:{ERR_INVALID_ARG_VALUE:h,ERR_MISSING_ARGS:d}}=fi(),g=_l();return W1=function(...v){if(v.length===0)throw new d("streams");if(v.length===1)return e.from(v[0]);let w=[...v];if(typeof v[0]=="function"&&(v[0]=e.from(v[0])),typeof v[v.length-1]=="function"){let oe=v.length-1;v[oe]=e.from(v[oe])}for(let oe=0;oe<v.length;++oe)if(!(!n(v[oe])&&!s(v[oe]))){if(oe<v.length-1&&!(i(v[oe])||c(v[oe])||a(v[oe])))throw new h(`streams[${oe}]`,w[oe],"must be readable");if(oe>0&&!(o(v[oe])||u(v[oe])||a(v[oe])))throw new h(`streams[${oe}]`,w[oe],"must be writable")}let y,_,E,S,A;function L(oe){let U=S;S=null,U?U(oe):oe?A.destroy(oe):!q&&!re&&A.destroy()}let D=v[0],K=r(v,L),re=!!(o(D)||u(D)||a(D)),q=!!(i(K)||c(K)||a(K));if(A=new e({writableObjectMode:!!(D!=null&&D.writableObjectMode),readableObjectMode:!!(K!=null&&K.readableObjectMode),writable:re,readable:q}),re){if(n(D))A._write=function(U,H,ue){D.write(U,H)?ue():y=ue},A._final=function(U){D.end(),_=U},D.on("drain",function(){if(y){let U=y;y=null,U()}});else if(s(D)){let H=(a(D)?D.writable:D).getWriter();A._write=async function(ue,Se,Ae){try{await H.ready,H.write(ue).catch(()=>{}),Ae()}catch(j){Ae(j)}},A._final=async function(ue){try{await H.ready,H.close().catch(()=>{}),_=ue}catch(Se){ue(Se)}}}let oe=a(K)?K.readable:K;g(oe,()=>{if(_){let U=_;_=null,U()}})}if(q){if(n(K))K.on("readable",function(){if(E){let oe=E;E=null,oe()}}),K.on("end",function(){A.push(null)}),A._read=function(){for(;;){let oe=K.read();if(oe===null){E=A._read;return}if(!A.push(oe))return}};else if(s(K)){let U=(a(K)?K.readable:K).getReader();A._read=async function(){for(;;)try{let{value:H,done:ue}=await U.read();if(!A.push(H))return;if(ue){A.push(null);return}}catch{return}}}}return A._destroy=function(oe,U){!oe&&S!==null&&(oe=new f),E=null,y=null,_=null,S===null?U(oe):(S=U,n(K)&&t(K,oe))},A},W1}function qW(){if(uP)return $b;uP=!0;let r=globalThis.AbortController||pg().AbortController,{codes:{ERR_INVALID_ARG_VALUE:e,ERR_INVALID_ARG_TYPE:t,ERR_MISSING_ARGS:n,ERR_OUT_OF_RANGE:i},AbortError:o}=fi(),{validateAbortSignal:s,validateInteger:a,validateObject:u}=gg(),c=Nr().Symbol("kWeak"),f=Nr().Symbol("kResistStopPropagation"),{finished:h}=_l(),d=yP(),{addAbortSignalNoValidate:g}=zb(),{isWritable:b,isNodeStream:v}=oa(),{deprecate:w}=Vn(),{ArrayPrototypePush:y,Boolean:_,MathFloor:E,Number:S,NumberIsNaN:A,Promise:L,PromiseReject:D,PromiseResolve:K,PromisePrototypeThen:re,Symbol:q}=Nr(),oe=q("kEmpty"),U=q("kEof");function H(N,$){if($!=null&&u($,"options"),$?.signal!=null&&s($.signal,"options.signal"),v(N)&&!b(N))throw new e("stream",N,"must be writable");let ne=d(this,N);return $!=null&&$.signal&&g($.signal,ne),ne}function ue(N,$){if(typeof N!="function")throw new t("fn",["Function","AsyncFunction"],N);$!=null&&u($,"options"),$?.signal!=null&&s($.signal,"options.signal");let ne=1;$?.concurrency!=null&&(ne=E($.concurrency));let ye=ne-1;return $?.highWaterMark!=null&&(ye=E($.highWaterMark)),a(ne,"options.concurrency",1),a(ye,"options.highWaterMark",0),ye+=ne,async function*(){let C=Vn().AbortSignalAny([$?.signal].filter(_)),F=this,Q=[],Ee={signal:C},pe,te,be=!1,Ie=0;function Pe(){be=!0,Ce()}function Ce(){Ie-=1,qe()}function qe(){te&&!be&&Ie<ne&&Q.length<ye&&(te(),te=null)}async function We(){try{for await(let Ge of F){if(be)return;if(C.aborted)throw new o;try{if(Ge=N(Ge,Ee),Ge===oe)continue;Ge=K(Ge)}catch(x){Ge=D(x)}Ie+=1,re(Ge,Ce,Pe),Q.push(Ge),pe&&(pe(),pe=null),!be&&(Q.length>=ye||Ie>=ne)&&await new L(x=>{te=x})}Q.push(U)}catch(Ge){let x=D(Ge);re(x,Ce,Pe),Q.push(x)}finally{be=!0,pe&&(pe(),pe=null)}}We();try{for(;;){for(;Q.length>0;){let Ge=await Q[0];if(Ge===U)return;if(C.aborted)throw new o;Ge!==oe&&(yield Ge),Q.shift(),qe()}await new L(Ge=>{pe=Ge})}}finally{be=!0,te&&(te(),te=null)}}.call(this)}function Se(N=void 0){return N!=null&&u(N,"options"),N?.signal!=null&&s(N.signal,"options.signal"),async function*(){let ne=0;for await(let P of this){var ye;if(N!=null&&(ye=N.signal)!==null&&ye!==void 0&&ye.aborted)throw new o({cause:N.signal.reason});yield[ne++,P]}}.call(this)}async function Ae(N,$=void 0){for await(let ne of z.call(this,N,$))return!0;return!1}async function j(N,$=void 0){if(typeof N!="function")throw new t("fn",["Function","AsyncFunction"],N);return!await Ae.call(this,async(...ne)=>!await N(...ne),$)}async function I(N,$){for await(let ne of z.call(this,N,$))return ne}async function se(N,$){if(typeof N!="function")throw new t("fn",["Function","AsyncFunction"],N);async function ne(ye,P){return await N(ye,P),oe}for await(let ye of ue.call(this,ne,$));}function z(N,$){if(typeof N!="function")throw new t("fn",["Function","AsyncFunction"],N);async function ne(ye,P){return await N(ye,P)?ye:oe}return ue.call(this,ne,$)}class ie extends n{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function V(N,$,ne){var ye;if(typeof N!="function")throw new t("reducer",["Function","AsyncFunction"],N);ne!=null&&u(ne,"options"),ne?.signal!=null&&s(ne.signal,"options.signal");let P=arguments.length>1;if(ne!=null&&(ye=ne.signal)!==null&&ye!==void 0&&ye.aborted){let pe=new o(void 0,{cause:ne.signal.reason});throw this.once("error",()=>{}),await h(this.destroy(pe)),pe}let C=new r,F=C.signal;if(ne!=null&&ne.signal){let pe={once:!0,[c]:this,[f]:!0};ne.signal.addEventListener("abort",()=>C.abort(),pe)}let Q=!1;try{for await(let pe of this){var Ee;if(Q=!0,ne!=null&&(Ee=ne.signal)!==null&&Ee!==void 0&&Ee.aborted)throw new o;P?$=await N($,pe,{signal:F}):($=pe,P=!0)}if(!Q&&!P)throw new ie}finally{C.abort()}return $}async function X(N){N!=null&&u(N,"options"),N?.signal!=null&&s(N.signal,"options.signal");let $=[];for await(let ye of this){var ne;if(N!=null&&(ne=N.signal)!==null&&ne!==void 0&&ne.aborted)throw new o(void 0,{cause:N.signal.reason});y($,ye)}return $}function we(N,$){let ne=ue.call(this,N,$);return async function*(){for await(let P of ne)yield*P}.call(this)}function ve(N){if(N=S(N),A(N))return 0;if(N<0)throw new i("number",">= 0",N);return N}function de(N,$=void 0){return $!=null&&u($,"options"),$?.signal!=null&&s($.signal,"options.signal"),N=ve(N),async function*(){var ye;if($!=null&&(ye=$.signal)!==null&&ye!==void 0&&ye.aborted)throw new o;for await(let C of this){var P;if($!=null&&(P=$.signal)!==null&&P!==void 0&&P.aborted)throw new o;N--<=0&&(yield C)}}.call(this)}function M(N,$=void 0){return $!=null&&u($,"options"),$?.signal!=null&&s($.signal,"options.signal"),N=ve(N),async function*(){var ye;if($!=null&&(ye=$.signal)!==null&&ye!==void 0&&ye.aborted)throw new o;for await(let C of this){var P;if($!=null&&(P=$.signal)!==null&&P!==void 0&&P.aborted)throw new o;if(N-- >0&&(yield C),N<=0)return}}.call(this)}return $b.streamReturningOperators={asIndexedPairs:w(Se,"readable.asIndexedPairs will be removed in a future version."),drop:de,filter:z,flatMap:we,map:ue,take:M,compose:H},$b.promiseReturningOperators={every:j,forEach:se,reduce:V,toArray:X,some:Ae,find:I},$b}function bP(){if(cP)return q1;cP=!0;let{ArrayPrototypePop:r,Promise:e}=Nr(),{isIterable:t,isNodeStream:n,isWebStream:i}=oa(),{pipelineImpl:o}=X1(),{finished:s}=_l();wP();function a(...u){return new e((c,f)=>{let h,d,g=u[u.length-1];if(g&&typeof g=="object"&&!n(g)&&!t(g)&&!i(g)){let b=r(u);h=b.signal,d=b.end}o(u,(b,v)=>{b?f(b):c(v)},{signal:h,end:d})})}return q1={finished:s,pipeline:a},q1}function wP(){if(fP)return H1;fP=!0;let{Buffer:r}=fn(),{ObjectDefineProperty:e,ObjectKeys:t,ReflectApply:n}=Nr(),{promisify:{custom:i}}=Vn(),{streamReturningOperators:o,promiseReturningOperators:s}=qW(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:a}}=fi(),u=yP(),{setDefaultHighWaterMark:c,getDefaultHighWaterMark:f}=Wb(),{pipeline:h}=X1(),{destroyer:d}=wh(),g=_l(),b=bP(),v=oa(),w=H1=V1().Stream;w.isDestroyed=v.isDestroyed,w.isDisturbed=v.isDisturbed,w.isErrored=v.isErrored,w.isReadable=v.isReadable,w.isWritable=v.isWritable,w.Readable=qb();for(let _ of t(o)){let S=function(...A){if(new.target)throw a();return w.Readable.from(n(E,this||hP,A))},E=o[_];e(S,"name",{__proto__:null,value:E.name}),e(S,"length",{__proto__:null,value:E.length}),e(w.Readable.prototype,_,{__proto__:null,value:S,enumerable:!1,configurable:!0,writable:!0})}for(let _ of t(s)){let S=function(...A){if(new.target)throw a();return n(E,this||hP,A)},E=s[_];e(S,"name",{__proto__:null,value:E.name}),e(S,"length",{__proto__:null,value:E.length}),e(w.Readable.prototype,_,{__proto__:null,value:S,enumerable:!1,configurable:!0,writable:!0})}w.Writable=Y1(),w.Duplex=sa(),w.Transform=gP(),w.PassThrough=mP(),w.pipeline=h;let{addAbortSignal:y}=zb();return w.addAbortSignal=y,w.finished=g,w.destroy=d,w.compose=u,w.setDefaultHighWaterMark=c,w.getDefaultHighWaterMark=f,e(w,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return b}}),e(h,i,{__proto__:null,enumerable:!0,get(){return b.pipeline}}),e(g,i,{__proto__:null,enumerable:!0,get(){return b.finished}}),w.Stream=w,w._isUint8Array=function(E){return E instanceof Uint8Array},w._uint8ArrayToBuffer=function(E){return r.from(E.buffer,E.byteOffset,E.byteLength)},H1}function HW(){if(dP)return Or;dP=!0;let r=wP(),e=bP(),t=r.Readable.destroy;return Or=r.Readable,Or._uint8ArrayToBuffer=r._uint8ArrayToBuffer,Or._isUint8Array=r._isUint8Array,Or.isDisturbed=r.isDisturbed,Or.isErrored=r.isErrored,Or.isReadable=r.isReadable,Or.Readable=r.Readable,Or.Writable=r.Writable,Or.Duplex=r.Duplex,Or.Transform=r.Transform,Or.PassThrough=r.PassThrough,Or.addAbortSignal=r.addAbortSignal,Or.finished=r.finished,Or.destroy=r.destroy,Or.destroy=t,Or.pipeline=r.pipeline,Or.compose=r.compose,Object.defineProperty(r,"promises",{configurable:!0,enumerable:!0,get(){return e}}),Or.Stream=r.Stream,Or.default=Or,Or}var C1,zL,hg,WL,Ub,qL,R1,HL,D1,GL,I1,VL,jb,YL,O1,XL,N1,KL,dg,ZL,k1,JL,L1,QL,P1,eP,B1,tP,Ye,M1,rP,Je,F1,nP,U1,iP,j1,sP,$1,oP,z1,aP,W1,lP,$b,uP,q1,cP,H1,fP,hP,Or,dP,ur,G1,GW,VW,YW,XW,KW,ZW,JW,QW,yg=Jt(()=>{Ne();Le();ke();Ff();bh();Mu();$L();yh();$p();p1();C1={},zL=!1;hg={},WL=!1;Ub={},qL=!1;R1={},HL=!1;D1={},GL=!1;I1={},VL=!1;jb={},YL=!1;O1={},XL=!1;N1={},KL=!1;dg={},ZL=!1;k1={},JL=!1;L1={},QL=!1;P1={},eP=!1;B1={},tP=!1,Ye=typeof globalThis<"u"?globalThis:typeof self<"u"?self:window;M1={},rP=!1,Je=typeof globalThis<"u"?globalThis:typeof self<"u"?self:window;F1={},nP=!1;U1={},iP=!1;j1={},sP=!1;$1={},oP=!1;z1={},aP=!1;W1={},lP=!1;$b={},uP=!1;q1={},cP=!1;H1={},fP=!1,hP=typeof globalThis<"u"?globalThis:typeof self<"u"?self:window;Or={},dP=!1;ur=HW();ur._uint8ArrayToBuffer;ur._isUint8Array;ur.isDisturbed;ur.isErrored;ur.isReadable;ur.Readable;ur.Writable;ur.Duplex;ur.Transform;ur.PassThrough;ur.addAbortSignal;ur.finished;ur.destroy;ur.pipeline;ur.compose;ur.Stream;G1=ur.Readable;G1.wrap=function(r,e){return e=Object.assign({objectMode:r.readableObjectMode!=null||r.objectMode!=null||!0},e),e.destroy=function(t,n){r.destroy(t),n(t)},new G1(e).wrap(r)};GW=ur.Writable,VW=ur.Duplex,YW=ur.Transform,XW=ur.PassThrough,KW=ur.finished,ZW=ur.pipeline,JW=ur.Stream,QW={finished:Bb(ur.finished),pipeline:Bb(ur.pipeline)}});var AP=ot((Pee,EP)=>{Ne();Le();ke();EP.exports=Hb;function Hb(){this.pending=0,this.max=1/0,this.listeners=[],this.waiting=[],this.error=null}Hb.prototype.go=function(r){this.pending<this.max?_P(this,r):this.waiting.push(r)};Hb.prototype.wait=function(r){this.pending===0?r(this.error):this.listeners.push(r)};Hb.prototype.hold=function(){return vP(this)};function vP(r){r.pending+=1;var e=!1;return t;function t(i){if(e)throw new Error("callback called twice");if(e=!0,r.error=r.error||i,r.pending-=1,r.waiting.length>0&&r.pending<r.max)_P(r,r.waiting.shift());else if(r.pending===0){var o=r.listeners;r.listeners=[],o.forEach(n)}}function n(i){i(r.error)}}function _P(r,e){e(vP(r))}});var SP=ot(wg=>{Ne();Le();ke();var bg=(Gp(),Ir(Hp)),Gb=(yh(),Ir(ug)),K1=(yg(),Ir(mg)),xP=K1.Readable,Z1=K1.Writable,eq=K1.PassThrough,tq=AP(),Vb=(bh(),Ir(cg)).EventEmitter;wg.createFromBuffer=rq;wg.createFromFd=nq;wg.BufferSlicer=la;wg.FdSlicer=aa;Gb.inherits(aa,Vb);function aa(r,e){e=e||{},Vb.call(this),this.fd=r,this.pend=new tq,this.pend.max=1,this.refCount=0,this.autoClose=!!e.autoClose}aa.prototype.read=function(r,e,t,n,i){var o=this;o.pend.go(function(s){bg.read(o.fd,r,e,t,n,function(a,u,c){s(),i(a,u,c)})})};aa.prototype.write=function(r,e,t,n,i){var o=this;o.pend.go(function(s){bg.write(o.fd,r,e,t,n,function(a,u,c){s(),i(a,u,c)})})};aa.prototype.createReadStream=function(r){return new Yb(this,r)};aa.prototype.createWriteStream=function(r){return new Xb(this,r)};aa.prototype.ref=function(){this.refCount+=1};aa.prototype.unref=function(){var r=this;if(r.refCount-=1,r.refCount>0)return;if(r.refCount<0)throw new Error("invalid unref");r.autoClose&&bg.close(r.fd,e);function e(t){t?r.emit("error",t):r.emit("close")}};Gb.inherits(Yb,xP);function Yb(r,e){e=e||{},xP.call(this,e),this.context=r,this.context.ref(),this.start=e.start||0,this.endOffset=e.end,this.pos=this.start,this.destroyed=!1}Yb.prototype._read=function(r){var e=this;if(!e.destroyed){var t=Math.min(e._readableState.highWaterMark,r);if(e.endOffset!=null&&(t=Math.min(t,e.endOffset-e.pos)),t<=0){e.destroyed=!0,e.push(null),e.context.unref();return}e.context.pend.go(function(n){if(e.destroyed)return n();var i=Buffer.allocUnsafe(t);bg.read(e.context.fd,i,0,t,e.pos,function(o,s){o?e.destroy(o):s===0?(e.destroyed=!0,e.push(null),e.context.unref()):(e.pos+=s,e.push(i.slice(0,s))),n()})})}};Yb.prototype.destroy=function(r){this.destroyed||(r=r||new Error("stream destroyed"),this.destroyed=!0,this.emit("error",r),this.context.unref())};Gb.inherits(Xb,Z1);function Xb(r,e){e=e||{},Z1.call(this,e),this.context=r,this.context.ref(),this.start=e.start||0,this.endOffset=e.end==null?1/0:+e.end,this.bytesWritten=0,this.pos=this.start,this.destroyed=!1,this.on("finish",this.destroy.bind(this))}Xb.prototype._write=function(r,e,t){var n=this;if(!n.destroyed){if(n.pos+r.length>n.endOffset){var i=new Error("maximum file length exceeded");i.code="ETOOBIG",n.destroy(),t(i);return}n.context.pend.go(function(o){if(n.destroyed)return o();bg.write(n.context.fd,r,0,r.length,n.pos,function(s,a){s?(n.destroy(),o(),t(s)):(n.bytesWritten+=a,n.pos+=a,n.emit("progress"),o(),t())})})}};Xb.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.context.unref())};Gb.inherits(la,Vb);function la(r,e){Vb.call(this),e=e||{},this.refCount=0,this.buffer=r,this.maxChunkSize=e.maxChunkSize||Number.MAX_SAFE_INTEGER}la.prototype.read=function(r,e,t,n,i){if(!(0<=e&&e<=r.length))throw new RangeError("offset outside buffer: 0 <= "+e+" <= "+r.length);if(n<0)throw new RangeError("position is negative: "+n);if(e+t>r.length&&(t=r.length-e),n+t>this.buffer.length&&(t=this.buffer.length-n),t<=0){setImmediate(function(){i(null,0)});return}this.buffer.copy(r,e,n,n+t),setImmediate(function(){i(null,t)})};la.prototype.write=function(r,e,t,n,i){r.copy(this.buffer,n,e,e+t),setImmediate(function(){i(null,t,r)})};la.prototype.createReadStream=function(r){r=r||{};var e=new eq(r);e.destroyed=!1,e.start=r.start||0,e.endOffset=r.end,e.pos=e.endOffset||this.buffer.length;for(var t=this.buffer.slice(e.start,e.pos),n=0;;){var i=n+this.maxChunkSize;if(i>=t.length){n<t.length&&e.write(t.slice(n,t.length));break}e.write(t.slice(n,i)),n=i}return e.end(),e.destroy=function(){e.destroyed=!0},e};la.prototype.createWriteStream=function(r){var e=this;r=r||{};var t=new Z1(r);return t.start=r.start||0,t.endOffset=r.end==null?this.buffer.length:+r.end,t.bytesWritten=0,t.pos=t.start,t.destroyed=!1,t._write=function(n,i,o){if(!t.destroyed){var s=t.pos+n.length;if(s>t.endOffset){var a=new Error("maximum file length exceeded");a.code="ETOOBIG",t.destroyed=!0,o(a);return}n.copy(e.buffer,t.pos,0,n.length),t.bytesWritten+=n.length,t.pos=s,t.emit("progress"),o()}},t.destroy=function(){t.destroyed=!0},t};la.prototype.ref=function(){this.refCount+=1};la.prototype.unref=function(){if(this.refCount-=1,this.refCount<0)throw new Error("invalid unref")};function rq(r,e){return new la(r,e)}function nq(r,e){return new aa(r,e)}});var RP=ot((Wee,CP)=>{Ne();Le();ke();var El=(ul(),Ir(Uf)).Buffer,J1=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];typeof Int32Array<"u"&&(J1=new Int32Array(J1));function TP(r){if(El.isBuffer(r))return r;var e=typeof El.alloc=="function"&&typeof El.from=="function";if(typeof r=="number")return e?El.alloc(r):new El(r);if(typeof r=="string")return e?El.from(r):new El(r);throw new Error("input must be buffer, number, or string, received "+typeof r)}function iq(r){var e=TP(4);return e.writeInt32BE(r,0),e}function Q1(r,e){r=TP(r),El.isBuffer(e)&&(e=e.readUInt32BE(0));for(var t=~~e^-1,n=0;n<r.length;n++)t=J1[(t^r[n])&255]^t>>>8;return t^-1}function eA(){return iq(Q1.apply(null,arguments))}eA.signed=function(){return Q1.apply(null,arguments)};eA.unsigned=function(){return Q1.apply(null,arguments)>>>0};CP.exports=eA});var FP=ot(Ti=>{Ne();Le();ke();var tA=(Gp(),Ir(Hp)),sq=(EL(),Ir(_L)),DP=SP(),oq=RP(),Jb=(yh(),Ir(ug)),Qb=(bh(),Ir(cg)).EventEmitter,IP=(yg(),Ir(mg)).Transform,nA=(yg(),Ir(mg)).PassThrough,aq=(yg(),Ir(mg)).Writable;Ti.open=lq;Ti.fromFd=OP;Ti.fromBuffer=uq;Ti.fromRandomAccessReader=iA;Ti.dosDateTimeToDate=LP;Ti.getFileNameLowLevel=PP;Ti.validateFileName=BP;Ti.parseExtraFields=MP;Ti.ZipFile=uo;Ti.Entry=vg;Ti.LocalFileHeader=kP;Ti.RandomAccessReader=Al;function lq(r,e,t){typeof e=="function"&&(t=e,e=null),e==null&&(e={}),e.autoClose==null&&(e.autoClose=!0),e.lazyEntries==null&&(e.lazyEntries=!1),e.decodeStrings==null&&(e.decodeStrings=!0),e.validateEntrySizes==null&&(e.validateEntrySizes=!0),e.strictFileNames==null&&(e.strictFileNames=!1),t==null&&(t=Zb),tA.open(r,"r",function(n,i){if(n)return t(n);OP(i,e,function(o,s){o&&tA.close(i,Zb),t(o,s)})})}function OP(r,e,t){typeof e=="function"&&(t=e,e=null),e==null&&(e={}),e.autoClose==null&&(e.autoClose=!1),e.lazyEntries==null&&(e.lazyEntries=!1),e.decodeStrings==null&&(e.decodeStrings=!0),e.validateEntrySizes==null&&(e.validateEntrySizes=!0),e.strictFileNames==null&&(e.strictFileNames=!1),t==null&&(t=Zb),tA.fstat(r,function(n,i){if(n)return t(n);var o=DP.createFromFd(r,{autoClose:!0});iA(o,i.size,e,t)})}function uq(r,e,t){typeof e=="function"&&(t=e,e=null),e==null&&(e={}),e.autoClose=!1,e.lazyEntries==null&&(e.lazyEntries=!1),e.decodeStrings==null&&(e.decodeStrings=!0),e.validateEntrySizes==null&&(e.validateEntrySizes=!0),e.strictFileNames==null&&(e.strictFileNames=!1);var n=DP.createFromBuffer(r,{maxChunkSize:65536});iA(n,r.length,e,t)}function iA(r,e,t,n){typeof t=="function"&&(n=t,t=null),t==null&&(t={}),t.autoClose==null&&(t.autoClose=!0),t.lazyEntries==null&&(t.lazyEntries=!1),t.decodeStrings==null&&(t.decodeStrings=!0);var i=!!t.decodeStrings;if(t.validateEntrySizes==null&&(t.validateEntrySizes=!0),t.strictFileNames==null&&(t.strictFileNames=!1),n==null&&(n=Zb),typeof e!="number")throw new Error("expected totalSize parameter to be a number");if(e>Number.MAX_SAFE_INTEGER)throw new Error("zip file too large. only file sizes up to 2^52 are supported due to JavaScript's Number type being an IEEE 754 double.");r.ref();var o=22,s=20,a=65535,u=Math.min(s+o+a,e),c=ua(u),f=e-c.length;_h(r,c,0,u,f,function(h){if(h)return n(h);for(var d=u-o;d>=0;d-=1)if(c.readUInt32LE(d)===101010256){var g=c.subarray(d),b=g.readUInt16LE(4),v=g.readUInt16LE(10),w=g.readUInt32LE(16),y=g.readUInt16LE(20),_=g.length-o;if(y!==_)return n(new Error("Invalid comment length. Expected: "+_+". Found: "+y+". Are there extra bytes at the end of the file? Or is the end of central dir signature `PK\u263A\u263B` in the comment?"));var E=i?Kb(g.subarray(22),!1):g.subarray(22);if(d-s>=0&&c.readUInt32LE(d-s)===117853008){var S=c.subarray(d-s,d-s+s),A=vh(S,8),L=ua(56);return _h(r,L,0,L.length,A,function(D){return D?n(D):L.readUInt32LE(0)!==101075792?n(new Error("invalid zip64 end of central directory record signature")):(b=L.readUInt32LE(16),b!==0?n(new Error("multi-disk zip files are not supported: found disk number: "+b)):(v=vh(L,32),w=vh(L,48),n(null,new uo(r,w,e,v,E,t.autoClose,t.lazyEntries,i,t.validateEntrySizes,t.strictFileNames))))})}return b!==0?n(new Error("multi-disk zip files are not supported: found disk number: "+b)):n(null,new uo(r,w,e,v,E,t.autoClose,t.lazyEntries,i,t.validateEntrySizes,t.strictFileNames))}n(new Error("End of central directory record signature not found. Either not a zip file, or file is truncated."))})}Jb.inherits(uo,Qb);function uo(r,e,t,n,i,o,s,a,u,c){var f=this;Qb.call(f),f.reader=r,f.reader.on("error",function(h){NP(f,h)}),f.reader.once("close",function(){f.emit("close")}),f.readEntryCursor=e,f.fileSize=t,f.entryCount=n,f.comment=i,f.entriesRead=0,f.autoClose=!!o,f.lazyEntries=!!s,f.decodeStrings=!!a,f.validateEntrySizes=!!u,f.strictFileNames=!!c,f.isOpen=!0,f.emittedError=!1,f.lazyEntries||f._readEntry()}uo.prototype.close=function(){this.isOpen&&(this.isOpen=!1,this.reader.unref())};function lo(r,e){r.autoClose&&r.close(),NP(r,e)}function NP(r,e){r.emittedError||(r.emittedError=!0,r.emit("error",e))}uo.prototype.readEntry=function(){if(!this.lazyEntries)throw new Error("readEntry() called without lazyEntries:true");this._readEntry()};uo.prototype._readEntry=function(){var r=this;if(r.entryCount===r.entriesRead){setImmediate(function(){r.autoClose&&r.close(),!r.emittedError&&r.emit("end")});return}if(!r.emittedError){var e=ua(46);_h(r.reader,e,0,e.length,r.readEntryCursor,function(t){if(t)return lo(r,t);if(!r.emittedError){var n=new vg,i=e.readUInt32LE(0);if(i!==33639248)return lo(r,new Error("invalid central directory file header signature: 0x"+i.toString(16)));if(n.versionMadeBy=e.readUInt16LE(4),n.versionNeededToExtract=e.readUInt16LE(6),n.generalPurposeBitFlag=e.readUInt16LE(8),n.compressionMethod=e.readUInt16LE(10),n.lastModFileTime=e.readUInt16LE(12),n.lastModFileDate=e.readUInt16LE(14),n.crc32=e.readUInt32LE(16),n.compressedSize=e.readUInt32LE(20),n.uncompressedSize=e.readUInt32LE(24),n.fileNameLength=e.readUInt16LE(28),n.extraFieldLength=e.readUInt16LE(30),n.fileCommentLength=e.readUInt16LE(32),n.internalFileAttributes=e.readUInt16LE(36),n.externalFileAttributes=e.readUInt32LE(38),n.relativeOffsetOfLocalHeader=e.readUInt32LE(42),n.generalPurposeBitFlag&64)return lo(r,new Error("strong encryption is not supported"));r.readEntryCursor+=46,e=ua(n.fileNameLength+n.extraFieldLength+n.fileCommentLength),_h(r.reader,e,0,e.length,r.readEntryCursor,function(o){if(o)return lo(r,o);if(!r.emittedError){n.fileNameRaw=e.subarray(0,n.fileNameLength);var s=n.fileNameLength+n.extraFieldLength;n.extraFieldRaw=e.subarray(n.fileNameLength,s),n.fileCommentRaw=e.subarray(s,s+n.fileCommentLength);try{n.extraFields=MP(n.extraFieldRaw)}catch(v){return lo(r,v)}if(r.decodeStrings){var a=(n.generalPurposeBitFlag&2048)!==0;n.fileComment=Kb(n.fileCommentRaw,a),n.fileName=PP(n.generalPurposeBitFlag,n.fileNameRaw,n.extraFields,r.strictFileNames);var u=BP(n.fileName);if(u!=null)return lo(r,new Error(u))}else n.fileComment=n.fileCommentRaw,n.fileName=n.fileNameRaw;n.comment=n.fileComment,r.readEntryCursor+=e.length,r.entriesRead+=1;for(var c=0;c<n.extraFields.length;c++){var f=n.extraFields[c];if(f.id===1){var h=f.data,d=0;if(n.uncompressedSize===4294967295){if(d+8>h.length)return lo(r,new Error("zip64 extended information extra field does not include uncompressed size"));n.uncompressedSize=vh(h,d),d+=8}if(n.compressedSize===4294967295){if(d+8>h.length)return lo(r,new Error("zip64 extended information extra field does not include compressed size"));n.compressedSize=vh(h,d),d+=8}if(n.relativeOffsetOfLocalHeader===4294967295){if(d+8>h.length)return lo(r,new Error("zip64 extended information extra field does not include relative header offset"));n.relativeOffsetOfLocalHeader=vh(h,d),d+=8}break}}if(r.validateEntrySizes&&n.compressionMethod===0){var g=n.uncompressedSize;if(n.isEncrypted()&&(g+=12),n.compressedSize!==g){var b="compressed/uncompressed size mismatch for stored file: "+n.compressedSize+" != "+n.uncompressedSize;return lo(r,new Error(b))}}r.emit("entry",n),r.lazyEntries||r._readEntry()}})}})}};uo.prototype.openReadStream=function(r,e,t){var n=this,i=0,o=r.compressedSize;if(t==null&&(t=e,e=null),e==null)e={};else{if(e.decrypt!=null){if(!r.isEncrypted())throw new Error("options.decrypt can only be specified for encrypted entries");if(e.decrypt!==!1)throw new Error("invalid options.decrypt value: "+e.decrypt);if(r.isCompressed()&&e.decompress!==!1)throw new Error("entry is encrypted and compressed, and options.decompress !== false")}if(e.decompress!=null){if(!r.isCompressed())throw new Error("options.decompress can only be specified for compressed entries");if(!(e.decompress===!1||e.decompress===!0))throw new Error("invalid options.decompress value: "+e.decompress)}if(e.start!=null||e.end!=null){if(r.isCompressed()&&e.decompress!==!1)throw new Error("start/end range not allowed for compressed entry without options.decompress === false");if(r.isEncrypted()&&e.decrypt!==!1)throw new Error("start/end range not allowed for encrypted entry without options.decrypt === false")}if(e.start!=null){if(i=e.start,i<0)throw new Error("options.start < 0");if(i>r.compressedSize)throw new Error("options.start > entry.compressedSize")}if(e.end!=null){if(o=e.end,o<0)throw new Error("options.end < 0");if(o>r.compressedSize)throw new Error("options.end > entry.compressedSize");if(o<i)throw new Error("options.end < options.start")}}if(!n.isOpen)return t(new Error("closed"));if(r.isEncrypted()&&e.decrypt!==!1)return t(new Error("entry is encrypted, and options.decrypt !== false"));var s;if(r.compressionMethod===0)s=!1;else if(r.compressionMethod===8)s=e.decompress!=null?e.decompress:!0;else return t(new Error("unsupported compression method: "+r.compressionMethod));n.readLocalFileHeader(r,{minimal:!0},function(a,u){if(a)return t(a);n.openReadStreamLowLevel(u.fileDataStart,r.compressedSize,i,o,s,r.uncompressedSize,t)})};uo.prototype.openReadStreamLowLevel=function(r,e,t,n,i,o,s){var a=this,u=r+e,c=a.reader.createReadStream({start:r+t,end:r+n}),f=c;if(i){var h=!1,d=sq.createInflateRaw();c.on("error",function(g){setImmediate(function(){h||d.emit("error",g)})}),c.pipe(d),a.validateEntrySizes?(f=new _g(o),d.on("error",function(g){setImmediate(function(){h||f.emit("error",g)})}),d.pipe(f)):f=d,rA(f,function(){h=!0,d!==f&&d.unpipe(f),c.unpipe(d),c.destroy()})}s(null,f)};uo.prototype.readLocalFileHeader=function(r,e,t){var n=this;t==null&&(t=e,e=null),e==null&&(e={}),n.reader.ref();var i=ua(30);_h(n.reader,i,0,i.length,r.relativeOffsetOfLocalHeader,function(o){try{if(o)return t(o);var s=i.readUInt32LE(0);if(s!==67324752)return t(new Error("invalid local file header signature: 0x"+s.toString(16)));var a=i.readUInt16LE(26),u=i.readUInt16LE(28),c=r.relativeOffsetOfLocalHeader+30+a+u;if(c+r.compressedSize>n.fileSize)return t(new Error("file data overflows file bounds: "+c+" + "+r.compressedSize+" > "+n.fileSize));if(e.minimal)return t(null,{fileDataStart:c});var f=new kP;f.fileDataStart=c,f.versionNeededToExtract=i.readUInt16LE(4),f.generalPurposeBitFlag=i.readUInt16LE(6),f.compressionMethod=i.readUInt16LE(8),f.lastModFileTime=i.readUInt16LE(10),f.lastModFileDate=i.readUInt16LE(12),f.crc32=i.readUInt32LE(14),f.compressedSize=i.readUInt32LE(18),f.uncompressedSize=i.readUInt32LE(22),f.fileNameLength=a,f.extraFieldLength=u,i=ua(a+u),n.reader.ref(),_h(n.reader,i,0,i.length,r.relativeOffsetOfLocalHeader+30,function(h){try{return h?t(h):(f.fileName=i.subarray(0,a),f.extraField=i.subarray(a),t(null,f))}finally{n.reader.unref()}})}finally{n.reader.unref()}})};function vg(){}vg.prototype.getLastModDate=function(){return LP(this.lastModFileDate,this.lastModFileTime)};vg.prototype.isEncrypted=function(){return(this.generalPurposeBitFlag&1)!==0};vg.prototype.isCompressed=function(){return this.compressionMethod===8};function kP(){}function LP(r,e){var t=r&31,n=(r>>5&15)-1,i=(r>>9&127)+1980,o=0,s=(e&31)*2,a=e>>5&63,u=e>>11&31;return new Date(i,n,t,u,a,s,o)}function PP(r,e,t,n){for(var i=null,o=0;o<t.length;o++){var s=t[o];if(s.id===28789){if(s.data.length<6||s.data.readUInt8(0)!==1)continue;var a=s.data.readUInt32LE(1);if(oq.unsigned(e)!==a)continue;i=Kb(s.data.subarray(5),!0);break}}if(i==null){var u=(r&2048)!==0;i=Kb(e,u)}return n||(i=i.replace(/\\/g,"/")),i}function BP(r){return r.indexOf("\\")!==-1?"invalid characters in fileName: "+r:/^[a-zA-Z]:/.test(r)||/^\//.test(r)?"absolute path: "+r:r.split("/").indexOf("..")!==-1?"invalid relative path: "+r:null}function MP(r){for(var e=[],t=0;t<r.length-3;){var n=r.readUInt16LE(t+0),i=r.readUInt16LE(t+2),o=t+4,s=o+i;if(s>r.length)throw new Error("extra field length exceeds extra field buffer size");var a=r.subarray(o,s);e.push({id:n,data:a}),t=s}return e}function _h(r,e,t,n,i,o){if(n===0)return setImmediate(function(){o(null,ua(0))});r.read(e,t,n,i,function(s,a){if(s)return o(s);if(a<n)return o(new Error("unexpected EOF"));o()})}Jb.inherits(_g,IP);function _g(r){IP.call(this),this.actualByteCount=0,this.expectedByteCount=r}_g.prototype._transform=function(r,e,t){if(this.actualByteCount+=r.length,this.actualByteCount>this.expectedByteCount){var n="too many bytes in the stream. expected "+this.expectedByteCount+". got at least "+this.actualByteCount;return t(new Error(n))}t(null,r)};_g.prototype._flush=function(r){if(this.actualByteCount<this.expectedByteCount){var e="not enough bytes in the stream. expected "+this.expectedByteCount+". got only "+this.actualByteCount;return r(new Error(e))}r()};Jb.inherits(Al,Qb);function Al(){Qb.call(this),this.refCount=0}Al.prototype.ref=function(){this.refCount+=1};Al.prototype.unref=function(){var r=this;if(r.refCount-=1,r.refCount>0)return;if(r.refCount<0)throw new Error("invalid unref");r.close(e);function e(t){if(t)return r.emit("error",t);r.emit("close")}};Al.prototype.createReadStream=function(r){r==null&&(r={});var e=r.start,t=r.end;if(e===t){var n=new nA;return setImmediate(function(){n.end()}),n}var i=this._readStreamForRange(e,t),o=!1,s=new ew(this);i.on("error",function(u){setImmediate(function(){o||s.emit("error",u)})}),rA(s,function(){i.unpipe(s),s.unref(),i.destroy()});var a=new _g(t-e);return s.on("error",function(u){setImmediate(function(){o||a.emit("error",u)})}),rA(a,function(){o=!0,s.unpipe(a),s.destroy()}),i.pipe(s).pipe(a)};Al.prototype._readStreamForRange=function(r,e){throw new Error("not implemented")};Al.prototype.read=function(r,e,t,n,i){var o=this.createReadStream({start:n,end:n+t}),s=new aq,a=0;s._write=function(u,c,f){u.copy(r,e+a,0,u.length),a+=u.length,f()},s.on("finish",i),o.on("error",function(u){i(u)}),o.pipe(s)};Al.prototype.close=function(r){setImmediate(r)};Jb.inherits(ew,nA);function ew(r){nA.call(this),this.context=r,this.context.ref(),this.unreffedYet=!1}ew.prototype._flush=function(r){this.unref(),r()};ew.prototype.unref=function(r){this.unreffedYet||(this.unreffedYet=!0,this.context.unref())};var cq="\0\u263A\u263B\u2665\u2666\u2663\u2660\u2022\u25D8\u25CB\u25D9\u2642\u2640\u266A\u266B\u263C\u25BA\u25C4\u2195\u203C\xB6\xA7\u25AC\u21A8\u2191\u2193\u2192\u2190\u221F\u2194\u25B2\u25BC !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\u2302\xC7\xFC\xE9\xE2\xE4\xE0\xE5\xE7\xEA\xEB\xE8\xEF\xEE\xEC\xC4\xC5\xC9\xE6\xC6\xF4\xF6\xF2\xFB\xF9\xFF\xD6\xDC\xA2\xA3\xA5\u20A7\u0192\xE1\xED\xF3\xFA\xF1\xD1\xAA\xBA\xBF\u2310\xAC\xBD\xBC\xA1\xAB\xBB\u2591\u2592\u2593\u2502\u2524\u2561\u2562\u2556\u2555\u2563\u2551\u2557\u255D\u255C\u255B\u2510\u2514\u2534\u252C\u251C\u2500\u253C\u255E\u255F\u255A\u2554\u2569\u2566\u2560\u2550\u256C\u2567\u2568\u2564\u2565\u2559\u2558\u2552\u2553\u256B\u256A\u2518\u250C\u2588\u2584\u258C\u2590\u2580\u03B1\xDF\u0393\u03C0\u03A3\u03C3\xB5\u03C4\u03A6\u0398\u03A9\u03B4\u221E\u03C6\u03B5\u2229\u2261\xB1\u2265\u2264\u2320\u2321\xF7\u2248\xB0\u2219\xB7\u221A\u207F\xB2\u25A0\xA0";function Kb(r,e){if(e)return r.toString("utf8");for(var t="",n=0;n<r.length;n++)t+=cq[r[n]];return t}function vh(r,e){var t=r.readUInt32LE(e),n=r.readUInt32LE(e+4);return n*4294967296+t}var ua;typeof Buffer.allocUnsafe=="function"?ua=function(r){return Buffer.allocUnsafe(r)}:ua=function(r){return new Buffer(r)};function rA(r,e){typeof r.destroy=="function"?r._destroy=function(t,n){e(),n?.(t)}:r.destroy=e}function Zb(r){if(r)throw r}});var sA=ot((Zee,UP)=>{Ne();Le();ke();UP.exports=(bh(),Ir(cg)).EventEmitter});var HP=ot((tte,qP)=>{"use strict";Ne();Le();ke();function jP(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function $P(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?jP(Object(t),!0).forEach(function(n){fq(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):jP(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function fq(r,e,t){return e=WP(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function hq(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function zP(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,WP(n.key),n)}}function dq(r,e,t){return e&&zP(r.prototype,e),t&&zP(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function WP(r){var e=pq(r,"string");return typeof e=="symbol"?e:String(e)}function pq(r,e){if(typeof r!="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var gq=(ul(),Ir(Uf)),tw=gq.Buffer,mq=(yh(),Ir(ug)),oA=mq.inspect,yq=oA&&oA.custom||"inspect";function bq(r,e,t){tw.prototype.copy.call(r,e,t)}qP.exports=(function(){function r(){hq(this,r),this.head=null,this.tail=null,this.length=0}return dq(r,[{key:"push",value:function(t){var n={data:t,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}},{key:"unshift",value:function(t){var n={data:t,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}},{key:"shift",value:function(){if(this.length!==0){var t=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,t}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(t){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=t+n.data;return i}},{key:"concat",value:function(t){if(this.length===0)return tw.alloc(0);for(var n=tw.allocUnsafe(t>>>0),i=this.head,o=0;i;)bq(i.data,n,o),o+=i.data.length,i=i.next;return n}},{key:"consume",value:function(t,n){var i;return t<this.head.data.length?(i=this.head.data.slice(0,t),this.head.data=this.head.data.slice(t)):t===this.head.data.length?i=this.shift():i=n?this._getString(t):this._getBuffer(t),i}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(t){var n=this.head,i=1,o=n.data;for(t-=o.length;n=n.next;){var s=n.data,a=t>s.length?s.length:t;if(a===s.length?o+=s:o+=s.slice(0,t),t-=a,t===0){a===s.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=s.slice(a));break}++i}return this.length-=i,o}},{key:"_getBuffer",value:function(t){var n=tw.allocUnsafe(t),i=this.head,o=1;for(i.data.copy(n),t-=i.data.length;i=i.next;){var s=i.data,a=t>s.length?s.length:t;if(s.copy(n,n.length-t,0,a),t-=a,t===0){a===s.length?(++o,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=s.slice(a));break}++o}return this.length-=o,n}},{key:yq,value:function(t,n){return oA(this,$P($P({},n),{},{depth:0,customInspect:!1}))}}]),r})()});var lA=ot((ste,VP)=>{"use strict";Ne();Le();ke();function wq(r,e){var t=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(r):r&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(aA,this,r)):process.nextTick(aA,this,r)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(r||null,function(o){!e&&o?t._writableState?t._writableState.errorEmitted?process.nextTick(rw,t):(t._writableState.errorEmitted=!0,process.nextTick(GP,t,o)):process.nextTick(GP,t,o):e?(process.nextTick(rw,t),e(o)):process.nextTick(rw,t)}),this)}function GP(r,e){aA(r,e),rw(r)}function rw(r){r._writableState&&!r._writableState.emitClose||r._readableState&&!r._readableState.emitClose||r.emit("close")}function vq(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function aA(r,e){r.emit("error",e)}function _q(r,e){var t=r._readableState,n=r._writableState;t&&t.autoDestroy||n&&n.autoDestroy?r.destroy(e):r.emit("error",e)}VP.exports={destroy:wq,undestroy:vq,errorOrDestroy:_q}});var Ju=ot((ute,KP)=>{"use strict";Ne();Le();ke();function Eq(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e}var XP={};function ss(r,e,t){t||(t=Error);function n(o,s,a){return typeof e=="string"?e:e(o,s,a)}var i=(function(o){Eq(s,o);function s(a,u,c){return o.call(this,n(a,u,c))||this}return s})(t);i.prototype.name=t.name,i.prototype.code=r,XP[r]=i}function YP(r,e){if(Array.isArray(r)){var t=r.length;return r=r.map(function(n){return String(n)}),t>2?"one of ".concat(e," ").concat(r.slice(0,t-1).join(", "),", or ")+r[t-1]:t===2?"one of ".concat(e," ").concat(r[0]," or ").concat(r[1]):"of ".concat(e," ").concat(r[0])}else return"of ".concat(e," ").concat(String(r))}function Aq(r,e,t){return r.substr(!t||t<0?0:+t,e.length)===e}function xq(r,e,t){return(t===void 0||t>r.length)&&(t=r.length),r.substring(t-e.length,t)===e}function Sq(r,e,t){return typeof t!="number"&&(t=0),t+e.length>r.length?!1:r.indexOf(e,t)!==-1}ss("ERR_INVALID_OPT_VALUE",function(r,e){return'The value "'+e+'" is invalid for option "'+r+'"'},TypeError);ss("ERR_INVALID_ARG_TYPE",function(r,e,t){var n;typeof e=="string"&&Aq(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(xq(r," argument"))i="The ".concat(r," ").concat(n," ").concat(YP(e,"type"));else{var o=Sq(r,".")?"property":"argument";i='The "'.concat(r,'" ').concat(o," ").concat(n," ").concat(YP(e,"type"))}return i+=". Received type ".concat(typeof t),i},TypeError);ss("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");ss("ERR_METHOD_NOT_IMPLEMENTED",function(r){return"The "+r+" method is not implemented"});ss("ERR_STREAM_PREMATURE_CLOSE","Premature close");ss("ERR_STREAM_DESTROYED",function(r){return"Cannot call "+r+" after a stream was destroyed"});ss("ERR_MULTIPLE_CALLBACK","Callback called multiple times");ss("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");ss("ERR_STREAM_WRITE_AFTER_END","write after end");ss("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);ss("ERR_UNKNOWN_ENCODING",function(r){return"Unknown encoding: "+r},TypeError);ss("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");KP.exports.codes=XP});var uA=ot((dte,ZP)=>{"use strict";Ne();Le();ke();var Tq=Ju().codes.ERR_INVALID_OPT_VALUE;function Cq(r,e,t){return r.highWaterMark!=null?r.highWaterMark:e?r[t]:null}function Rq(r,e,t,n){var i=Cq(e,n,t);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var o=n?t:"highWaterMark";throw new Tq(o,i)}return Math.floor(i)}return r.objectMode?16:16*1024}ZP.exports={getHighWaterMark:Rq}});var Qu=ot((yte,cA)=>{Ne();Le();ke();typeof Object.create=="function"?cA.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:cA.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}});var QP=ot((_te,JP)=>{Ne();Le();ke();JP.exports=Dq;function Dq(r,e){if(fA("noDeprecation"))return r;var t=!1;function n(){if(!t){if(fA("throwDeprecation"))throw new Error(e);fA("traceDeprecation")?console.trace(e):console.warn(e),t=!0}return r.apply(this,arguments)}return n}function fA(r){try{if(!window.localStorage)return!1}catch{return!1}var e=window.localStorage[r];return e==null?!1:String(e).toLowerCase()==="true"}});var pA=ot((Ste,sB)=>{"use strict";Ne();Le();ke();sB.exports=kr;function tB(r){var e=this;this.next=null,this.entry=null,this.finish=function(){rH(e,r)}}var Eh;kr.WritableState=Ag;var Iq={deprecate:QP()},rB=sA(),iw=(ul(),Ir(Uf)).Buffer,Oq=(typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function Nq(r){return iw.from(r)}function kq(r){return iw.isBuffer(r)||r instanceof Oq}var dA=lA(),Lq=uA(),Pq=Lq.getHighWaterMark,xl=Ju().codes,Bq=xl.ERR_INVALID_ARG_TYPE,Mq=xl.ERR_METHOD_NOT_IMPLEMENTED,Fq=xl.ERR_MULTIPLE_CALLBACK,Uq=xl.ERR_STREAM_CANNOT_PIPE,jq=xl.ERR_STREAM_DESTROYED,$q=xl.ERR_STREAM_NULL_VALUES,zq=xl.ERR_STREAM_WRITE_AFTER_END,Wq=xl.ERR_UNKNOWN_ENCODING,Ah=dA.errorOrDestroy;Qu()(kr,rB);function qq(){}function Ag(r,e,t){Eh=Eh||ec(),r=r||{},typeof t!="boolean"&&(t=e instanceof Eh),this.objectMode=!!r.objectMode,t&&(this.objectMode=this.objectMode||!!r.writableObjectMode),this.highWaterMark=Pq(this,r,"writableHighWaterMark",t),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=r.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=r.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(i){Zq(e,i)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=r.emitClose!==!1,this.autoDestroy=!!r.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new tB(this)}Ag.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t};(function(){try{Object.defineProperty(Ag.prototype,"buffer",{get:Iq.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var nw;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(nw=Function.prototype[Symbol.hasInstance],Object.defineProperty(kr,Symbol.hasInstance,{value:function(e){return nw.call(this,e)?!0:this!==kr?!1:e&&e._writableState instanceof Ag}})):nw=function(e){return e instanceof this};function kr(r){Eh=Eh||ec();var e=this instanceof Eh;if(!e&&!nw.call(kr,this))return new kr(r);this._writableState=new Ag(r,this,e),this.writable=!0,r&&(typeof r.write=="function"&&(this._write=r.write),typeof r.writev=="function"&&(this._writev=r.writev),typeof r.destroy=="function"&&(this._destroy=r.destroy),typeof r.final=="function"&&(this._final=r.final)),rB.call(this)}kr.prototype.pipe=function(){Ah(this,new Uq)};function Hq(r,e){var t=new zq;Ah(r,t),process.nextTick(e,t)}function Gq(r,e,t,n){var i;return t===null?i=new $q:typeof t!="string"&&!e.objectMode&&(i=new Bq("chunk",["string","Buffer"],t)),i?(Ah(r,i),process.nextTick(n,i),!1):!0}kr.prototype.write=function(r,e,t){var n=this._writableState,i=!1,o=!n.objectMode&&kq(r);return o&&!iw.isBuffer(r)&&(r=Nq(r)),typeof e=="function"&&(t=e,e=null),o?e="buffer":e||(e=n.defaultEncoding),typeof t!="function"&&(t=qq),n.ending?Hq(this,t):(o||Gq(this,n,r,t))&&(n.pendingcb++,i=Yq(this,n,o,r,e,t)),i};kr.prototype.cork=function(){this._writableState.corked++};kr.prototype.uncork=function(){var r=this._writableState;r.corked&&(r.corked--,!r.writing&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&nB(this,r))};kr.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new Wq(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(kr.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Vq(r,e,t){return!r.objectMode&&r.decodeStrings!==!1&&typeof e=="string"&&(e=iw.from(e,t)),e}Object.defineProperty(kr.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Yq(r,e,t,n,i,o){if(!t){var s=Vq(e,n,i);n!==s&&(t=!0,i="buffer",n=s)}var a=e.objectMode?1:n.length;e.length+=a;var u=e.length<e.highWaterMark;if(u||(e.needDrain=!0),e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:t,callback:o,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else hA(r,e,!1,a,n,i,o);return u}function hA(r,e,t,n,i,o,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new jq("write")):t?r._writev(i,e.onwrite):r._write(i,o,e.onwrite),e.sync=!1}function Xq(r,e,t,n,i){--e.pendingcb,t?(process.nextTick(i,n),process.nextTick(Eg,r,e),r._writableState.errorEmitted=!0,Ah(r,n)):(i(n),r._writableState.errorEmitted=!0,Ah(r,n),Eg(r,e))}function Kq(r){r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0}function Zq(r,e){var t=r._writableState,n=t.sync,i=t.writecb;if(typeof i!="function")throw new Fq;if(Kq(t),e)Xq(r,t,n,e,i);else{var o=iB(t)||r.destroyed;!o&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&nB(r,t),n?process.nextTick(eB,r,t,o,i):eB(r,t,o,i)}}function eB(r,e,t,n){t||Jq(r,e),e.pendingcb--,n(),Eg(r,e)}function Jq(r,e){e.length===0&&e.needDrain&&(e.needDrain=!1,r.emit("drain"))}function nB(r,e){e.bufferProcessing=!0;var t=e.bufferedRequest;if(r._writev&&t&&t.next){var n=e.bufferedRequestCount,i=new Array(n),o=e.corkedRequestsFree;o.entry=t;for(var s=0,a=!0;t;)i[s]=t,t.isBuf||(a=!1),t=t.next,s+=1;i.allBuffers=a,hA(r,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new tB(e),e.bufferedRequestCount=0}else{for(;t;){var u=t.chunk,c=t.encoding,f=t.callback,h=e.objectMode?1:u.length;if(hA(r,e,!1,h,u,c,f),t=t.next,e.bufferedRequestCount--,e.writing)break}t===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=t,e.bufferProcessing=!1}kr.prototype._write=function(r,e,t){t(new Mq("_write()"))};kr.prototype._writev=null;kr.prototype.end=function(r,e,t){var n=this._writableState;return typeof r=="function"?(t=r,r=null,e=null):typeof e=="function"&&(t=e,e=null),r!=null&&this.write(r,e),n.corked&&(n.corked=1,this.uncork()),n.ending||tH(this,n,t),this};Object.defineProperty(kr.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function iB(r){return r.ending&&r.length===0&&r.bufferedRequest===null&&!r.finished&&!r.writing}function Qq(r,e){r._final(function(t){e.pendingcb--,t&&Ah(r,t),e.prefinished=!0,r.emit("prefinish"),Eg(r,e)})}function eH(r,e){!e.prefinished&&!e.finalCalled&&(typeof r._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,process.nextTick(Qq,r,e)):(e.prefinished=!0,r.emit("prefinish")))}function Eg(r,e){var t=iB(e);if(t&&(eH(r,e),e.pendingcb===0&&(e.finished=!0,r.emit("finish"),e.autoDestroy))){var n=r._readableState;(!n||n.autoDestroy&&n.endEmitted)&&r.destroy()}return t}function tH(r,e,t){e.ending=!0,Eg(r,e),t&&(e.finished?process.nextTick(t):r.once("finish",t)),e.ended=!0,r.writable=!1}function rH(r,e,t){var n=r.entry;for(r.entry=null;n;){var i=n.callback;e.pendingcb--,i(t),n=n.next}e.corkedRequestsFree.next=r}Object.defineProperty(kr.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}});kr.prototype.destroy=dA.destroy;kr.prototype._undestroy=dA.undestroy;kr.prototype._destroy=function(r,e){e(r)}});var ec=ot((Dte,aB)=>{"use strict";Ne();Le();ke();var nH=Object.keys||function(r){var e=[];for(var t in r)e.push(t);return e};aB.exports=co;var oB=yA(),mA=pA();Qu()(co,oB);for(gA=nH(mA.prototype),sw=0;sw<gA.length;sw++)ow=gA[sw],co.prototype[ow]||(co.prototype[ow]=mA.prototype[ow]);var gA,ow,sw;function co(r){if(!(this instanceof co))return new co(r);oB.call(this,r),mA.call(this,r),this.allowHalfOpen=!0,r&&(r.readable===!1&&(this.readable=!1),r.writable===!1&&(this.writable=!1),r.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",iH)))}Object.defineProperty(co.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(co.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(co.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function iH(){this._writableState.ended||process.nextTick(sH,this)}function sH(r){r.end()}Object.defineProperty(co.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var cB=ot((bA,uB)=>{Ne();Le();ke();var aw=(ul(),Ir(Uf)),ca=aw.Buffer;function lB(r,e){for(var t in r)e[t]=r[t]}ca.from&&ca.alloc&&ca.allocUnsafe&&ca.allocUnsafeSlow?uB.exports=aw:(lB(aw,bA),bA.Buffer=xh);function xh(r,e,t){return ca(r,e,t)}lB(ca,xh);xh.from=function(r,e,t){if(typeof r=="number")throw new TypeError("Argument must not be a number");return ca(r,e,t)};xh.alloc=function(r,e,t){if(typeof r!="number")throw new TypeError("Argument must be a number");var n=ca(r);return e!==void 0?typeof t=="string"?n.fill(e,t):n.fill(e):n.fill(0),n};xh.allocUnsafe=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return ca(r)};xh.allocUnsafeSlow=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return aw.SlowBuffer(r)}});var _A=ot(hB=>{"use strict";Ne();Le();ke();var vA=cB().Buffer,fB=vA.isEncoding||function(r){switch(r=""+r,r&&r.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function oH(r){if(!r)return"utf8";for(var e;;)switch(r){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return r;default:if(e)return;r=(""+r).toLowerCase(),e=!0}}function aH(r){var e=oH(r);if(typeof e!="string"&&(vA.isEncoding===fB||!fB(r)))throw new Error("Unknown encoding: "+r);return e||r}hB.StringDecoder=xg;function xg(r){this.encoding=aH(r);var e;switch(this.encoding){case"utf16le":this.text=dH,this.end=pH,e=4;break;case"utf8":this.fillLast=cH,e=4;break;case"base64":this.text=gH,this.end=mH,e=3;break;default:this.write=yH,this.end=bH;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=vA.allocUnsafe(e)}xg.prototype.write=function(r){if(r.length===0)return"";var e,t;if(this.lastNeed){if(e=this.fillLast(r),e===void 0)return"";t=this.lastNeed,this.lastNeed=0}else t=0;return t<r.length?e?e+this.text(r,t):this.text(r,t):e||""};xg.prototype.end=hH;xg.prototype.text=fH;xg.prototype.fillLast=function(r){if(this.lastNeed<=r.length)return r.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);r.copy(this.lastChar,this.lastTotal-this.lastNeed,0,r.length),this.lastNeed-=r.length};function wA(r){return r<=127?0:r>>5===6?2:r>>4===14?3:r>>3===30?4:r>>6===2?-1:-2}function lH(r,e,t){var n=e.length-1;if(n<t)return 0;var i=wA(e[n]);return i>=0?(i>0&&(r.lastNeed=i-1),i):--n<t||i===-2?0:(i=wA(e[n]),i>=0?(i>0&&(r.lastNeed=i-2),i):--n<t||i===-2?0:(i=wA(e[n]),i>=0?(i>0&&(i===2?i=0:r.lastNeed=i-3),i):0))}function uH(r,e,t){if((e[0]&192)!==128)return r.lastNeed=0,"\uFFFD";if(r.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return r.lastNeed=1,"\uFFFD";if(r.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return r.lastNeed=2,"\uFFFD"}}function cH(r){var e=this.lastTotal-this.lastNeed,t=uH(this,r,e);if(t!==void 0)return t;if(this.lastNeed<=r.length)return r.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);r.copy(this.lastChar,e,0,r.length),this.lastNeed-=r.length}function fH(r,e){var t=lH(this,r,e);if(!this.lastNeed)return r.toString("utf8",e);this.lastTotal=t;var n=r.length-(t-this.lastNeed);return r.copy(this.lastChar,0,n),r.toString("utf8",e,n)}function hH(r){var e=r&&r.length?this.write(r):"";return this.lastNeed?e+"\uFFFD":e}function dH(r,e){if((r.length-e)%2===0){var t=r.toString("utf16le",e);if(t){var n=t.charCodeAt(t.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=r[r.length-2],this.lastChar[1]=r[r.length-1],t.slice(0,-1)}return t}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=r[r.length-1],r.toString("utf16le",e,r.length-1)}function pH(r){var e=r&&r.length?this.write(r):"";if(this.lastNeed){var t=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,t)}return e}function gH(r,e){var t=(r.length-e)%3;return t===0?r.toString("base64",e):(this.lastNeed=3-t,this.lastTotal=3,t===1?this.lastChar[0]=r[r.length-1]:(this.lastChar[0]=r[r.length-2],this.lastChar[1]=r[r.length-1]),r.toString("base64",e,r.length-t))}function mH(r){var e=r&&r.length?this.write(r):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function yH(r){return r.toString(this.encoding)}function bH(r){return r&&r.length?this.write(r):""}});var lw=ot((jte,gB)=>{"use strict";Ne();Le();ke();var dB=Ju().codes.ERR_STREAM_PREMATURE_CLOSE;function wH(r){var e=!1;return function(){if(!e){e=!0;for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];r.apply(this,n)}}}function vH(){}function _H(r){return r.setHeader&&typeof r.abort=="function"}function pB(r,e,t){if(typeof e=="function")return pB(r,null,e);e||(e={}),t=wH(t||vH);var n=e.readable||e.readable!==!1&&r.readable,i=e.writable||e.writable!==!1&&r.writable,o=function(){r.writable||a()},s=r._writableState&&r._writableState.finished,a=function(){i=!1,s=!0,n||t.call(r)},u=r._readableState&&r._readableState.endEmitted,c=function(){n=!1,u=!0,i||t.call(r)},f=function(b){t.call(r,b)},h=function(){var b;if(n&&!u)return(!r._readableState||!r._readableState.ended)&&(b=new dB),t.call(r,b);if(i&&!s)return(!r._writableState||!r._writableState.ended)&&(b=new dB),t.call(r,b)},d=function(){r.req.on("finish",a)};return _H(r)?(r.on("complete",a),r.on("abort",h),r.req?d():r.on("request",d)):i&&!r._writableState&&(r.on("end",o),r.on("close",o)),r.on("end",c),r.on("finish",a),e.error!==!1&&r.on("error",f),r.on("close",h),function(){r.removeListener("complete",a),r.removeListener("abort",h),r.removeListener("request",d),r.req&&r.req.removeListener("finish",a),r.removeListener("end",o),r.removeListener("close",o),r.removeListener("finish",a),r.removeListener("end",c),r.removeListener("error",f),r.removeListener("close",h)}}gB.exports=pB});var yB=ot((qte,mB)=>{"use strict";Ne();Le();ke();var uw;function Sl(r,e,t){return e=EH(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function EH(r){var e=AH(r,"string");return typeof e=="symbol"?e:String(e)}function AH(r,e){if(typeof r!="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var xH=lw(),Tl=Symbol("lastResolve"),tc=Symbol("lastReject"),Sg=Symbol("error"),cw=Symbol("ended"),rc=Symbol("lastPromise"),EA=Symbol("handlePromise"),nc=Symbol("stream");function Cl(r,e){return{value:r,done:e}}function SH(r){var e=r[Tl];if(e!==null){var t=r[nc].read();t!==null&&(r[rc]=null,r[Tl]=null,r[tc]=null,e(Cl(t,!1)))}}function TH(r){process.nextTick(SH,r)}function CH(r,e){return function(t,n){r.then(function(){if(e[cw]){t(Cl(void 0,!0));return}e[EA](t,n)},n)}}var RH=Object.getPrototypeOf(function(){}),DH=Object.setPrototypeOf((uw={get stream(){return this[nc]},next:function(){var e=this,t=this[Sg];if(t!==null)return Promise.reject(t);if(this[cw])return Promise.resolve(Cl(void 0,!0));if(this[nc].destroyed)return new Promise(function(s,a){process.nextTick(function(){e[Sg]?a(e[Sg]):s(Cl(void 0,!0))})});var n=this[rc],i;if(n)i=new Promise(CH(n,this));else{var o=this[nc].read();if(o!==null)return Promise.resolve(Cl(o,!1));i=new Promise(this[EA])}return this[rc]=i,i}},Sl(uw,Symbol.asyncIterator,function(){return this}),Sl(uw,"return",function(){var e=this;return new Promise(function(t,n){e[nc].destroy(null,function(i){if(i){n(i);return}t(Cl(void 0,!0))})})}),uw),RH),IH=function(e){var t,n=Object.create(DH,(t={},Sl(t,nc,{value:e,writable:!0}),Sl(t,Tl,{value:null,writable:!0}),Sl(t,tc,{value:null,writable:!0}),Sl(t,Sg,{value:null,writable:!0}),Sl(t,cw,{value:e._readableState.endEmitted,writable:!0}),Sl(t,EA,{value:function(o,s){var a=n[nc].read();a?(n[rc]=null,n[Tl]=null,n[tc]=null,o(Cl(a,!1))):(n[Tl]=o,n[tc]=s)},writable:!0}),t));return n[rc]=null,xH(e,function(i){if(i&&i.code!=="ERR_STREAM_PREMATURE_CLOSE"){var o=n[tc];o!==null&&(n[rc]=null,n[Tl]=null,n[tc]=null,o(i)),n[Sg]=i;return}var s=n[Tl];s!==null&&(n[rc]=null,n[Tl]=null,n[tc]=null,s(Cl(void 0,!0))),n[cw]=!0}),e.on("readable",TH.bind(null,n)),n};mB.exports=IH});var wB=ot((Yte,bB)=>{Ne();Le();ke();bB.exports=function(){throw new Error("Readable.from is not available in the browser")}});var yA=ot((Qte,DB)=>{"use strict";Ne();Le();ke();DB.exports=Ut;var Sh;Ut.ReadableState=AB;var Jte=(bh(),Ir(cg)).EventEmitter,EB=function(e,t){return e.listeners(t).length},Cg=sA(),fw=(ul(),Ir(Uf)).Buffer,OH=(typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function NH(r){return fw.from(r)}function kH(r){return fw.isBuffer(r)||r instanceof OH}var AA=(yh(),Ir(ug)),Ot;AA&&AA.debuglog?Ot=AA.debuglog("stream"):Ot=function(){};var LH=HP(),IA=lA(),PH=uA(),BH=PH.getHighWaterMark,hw=Ju().codes,MH=hw.ERR_INVALID_ARG_TYPE,FH=hw.ERR_STREAM_PUSH_AFTER_EOF,UH=hw.ERR_METHOD_NOT_IMPLEMENTED,jH=hw.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Th,xA,SA;Qu()(Ut,Cg);var Tg=IA.errorOrDestroy,TA=["error","close","destroy","pause","resume"];function $H(r,e,t){if(typeof r.prependListener=="function")return r.prependListener(e,t);!r._events||!r._events[e]?r.on(e,t):Array.isArray(r._events[e])?r._events[e].unshift(t):r._events[e]=[t,r._events[e]]}function AB(r,e,t){Sh=Sh||ec(),r=r||{},typeof t!="boolean"&&(t=e instanceof Sh),this.objectMode=!!r.objectMode,t&&(this.objectMode=this.objectMode||!!r.readableObjectMode),this.highWaterMark=BH(this,r,"readableHighWaterMark",t),this.buffer=new LH,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=r.emitClose!==!1,this.autoDestroy=!!r.autoDestroy,this.destroyed=!1,this.defaultEncoding=r.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,r.encoding&&(Th||(Th=_A().StringDecoder),this.decoder=new Th(r.encoding),this.encoding=r.encoding)}function Ut(r){if(Sh=Sh||ec(),!(this instanceof Ut))return new Ut(r);var e=this instanceof Sh;this._readableState=new AB(r,this,e),this.readable=!0,r&&(typeof r.read=="function"&&(this._read=r.read),typeof r.destroy=="function"&&(this._destroy=r.destroy)),Cg.call(this)}Object.defineProperty(Ut.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}});Ut.prototype.destroy=IA.destroy;Ut.prototype._undestroy=IA.undestroy;Ut.prototype._destroy=function(r,e){e(r)};Ut.prototype.push=function(r,e){var t=this._readableState,n;return t.objectMode?n=!0:typeof r=="string"&&(e=e||t.defaultEncoding,e!==t.encoding&&(r=fw.from(r,e),e=""),n=!0),xB(this,r,e,!1,n)};Ut.prototype.unshift=function(r){return xB(this,r,null,!0,!1)};function xB(r,e,t,n,i){Ot("readableAddChunk",e);var o=r._readableState;if(e===null)o.reading=!1,qH(r,o);else{var s;if(i||(s=zH(o,e)),s)Tg(r,s);else if(o.objectMode||e&&e.length>0)if(typeof e!="string"&&!o.objectMode&&Object.getPrototypeOf(e)!==fw.prototype&&(e=NH(e)),n)o.endEmitted?Tg(r,new jH):CA(r,o,e,!0);else if(o.ended)Tg(r,new FH);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!t?(e=o.decoder.write(e),o.objectMode||e.length!==0?CA(r,o,e,!1):DA(r,o)):CA(r,o,e,!1)}else n||(o.reading=!1,DA(r,o))}return!o.ended&&(o.length<o.highWaterMark||o.length===0)}function CA(r,e,t,n){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,r.emit("data",t)):(e.length+=e.objectMode?1:t.length,n?e.buffer.unshift(t):e.buffer.push(t),e.needReadable&&dw(r)),DA(r,e)}function zH(r,e){var t;return!kH(e)&&typeof e!="string"&&e!==void 0&&!r.objectMode&&(t=new MH("chunk",["string","Buffer","Uint8Array"],e)),t}Ut.prototype.isPaused=function(){return this._readableState.flowing===!1};Ut.prototype.setEncoding=function(r){Th||(Th=_A().StringDecoder);var e=new Th(r);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var t=this._readableState.buffer.head,n="";t!==null;)n+=e.write(t.data),t=t.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var vB=1073741824;function WH(r){return r>=vB?r=vB:(r--,r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,r|=r>>>16,r++),r}function _B(r,e){return r<=0||e.length===0&&e.ended?0:e.objectMode?1:r!==r?e.flowing&&e.length?e.buffer.head.data.length:e.length:(r>e.highWaterMark&&(e.highWaterMark=WH(r)),r<=e.length?r:e.ended?e.length:(e.needReadable=!0,0))}Ut.prototype.read=function(r){Ot("read",r),r=parseInt(r,10);var e=this._readableState,t=r;if(r!==0&&(e.emittedReadable=!1),r===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return Ot("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?RA(this):dw(this),null;if(r=_B(r,e),r===0&&e.ended)return e.length===0&&RA(this),null;var n=e.needReadable;Ot("need readable",n),(e.length===0||e.length-r<e.highWaterMark)&&(n=!0,Ot("length less than watermark",n)),e.ended||e.reading?(n=!1,Ot("reading or ended",n)):n&&(Ot("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(r=_B(t,e)));var i;return r>0?i=CB(r,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,r=0):(e.length-=r,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),t!==r&&e.ended&&RA(this)),i!==null&&this.emit("data",i),i};function qH(r,e){if(Ot("onEofChunk"),!e.ended){if(e.decoder){var t=e.decoder.end();t&&t.length&&(e.buffer.push(t),e.length+=e.objectMode?1:t.length)}e.ended=!0,e.sync?dw(r):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,SB(r)))}}function dw(r){var e=r._readableState;Ot("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(Ot("emitReadable",e.flowing),e.emittedReadable=!0,process.nextTick(SB,r))}function SB(r){var e=r._readableState;Ot("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(r.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,OA(r)}function DA(r,e){e.readingMore||(e.readingMore=!0,process.nextTick(HH,r,e))}function HH(r,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var t=e.length;if(Ot("maybeReadMore read 0"),r.read(0),t===e.length)break}e.readingMore=!1}Ut.prototype._read=function(r){Tg(this,new UH("_read()"))};Ut.prototype.pipe=function(r,e){var t=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=r;break;case 1:n.pipes=[n.pipes,r];break;default:n.pipes.push(r);break}n.pipesCount+=1,Ot("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&r!==process.stdout&&r!==process.stderr,o=i?a:v;n.endEmitted?process.nextTick(o):t.once("end",o),r.on("unpipe",s);function s(w,y){Ot("onunpipe"),w===t&&y&&y.hasUnpiped===!1&&(y.hasUnpiped=!0,f())}function a(){Ot("onend"),r.end()}var u=GH(t);r.on("drain",u);var c=!1;function f(){Ot("cleanup"),r.removeListener("close",g),r.removeListener("finish",b),r.removeListener("drain",u),r.removeListener("error",d),r.removeListener("unpipe",s),t.removeListener("end",a),t.removeListener("end",v),t.removeListener("data",h),c=!0,n.awaitDrain&&(!r._writableState||r._writableState.needDrain)&&u()}t.on("data",h);function h(w){Ot("ondata");var y=r.write(w);Ot("dest.write",y),y===!1&&((n.pipesCount===1&&n.pipes===r||n.pipesCount>1&&RB(n.pipes,r)!==-1)&&!c&&(Ot("false write response, pause",n.awaitDrain),n.awaitDrain++),t.pause())}function d(w){Ot("onerror",w),v(),r.removeListener("error",d),EB(r,"error")===0&&Tg(r,w)}$H(r,"error",d);function g(){r.removeListener("finish",b),v()}r.once("close",g);function b(){Ot("onfinish"),r.removeListener("close",g),v()}r.once("finish",b);function v(){Ot("unpipe"),t.unpipe(r)}return r.emit("pipe",t),n.flowing||(Ot("pipe resume"),t.resume()),r};function GH(r){return function(){var t=r._readableState;Ot("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,t.awaitDrain===0&&EB(r,"data")&&(t.flowing=!0,OA(r))}}Ut.prototype.unpipe=function(r){var e=this._readableState,t={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return r&&r!==e.pipes?this:(r||(r=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,r&&r.emit("unpipe",this,t),this);if(!r){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=RB(e.pipes,r);return s===-1?this:(e.pipes.splice(s,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),r.emit("unpipe",this,t),this)};Ut.prototype.on=function(r,e){var t=Cg.prototype.on.call(this,r,e),n=this._readableState;return r==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):r==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,Ot("on readable",n.length,n.reading),n.length?dw(this):n.reading||process.nextTick(VH,this)),t};Ut.prototype.addListener=Ut.prototype.on;Ut.prototype.removeListener=function(r,e){var t=Cg.prototype.removeListener.call(this,r,e);return r==="readable"&&process.nextTick(TB,this),t};Ut.prototype.removeAllListeners=function(r){var e=Cg.prototype.removeAllListeners.apply(this,arguments);return(r==="readable"||r===void 0)&&process.nextTick(TB,this),e};function TB(r){var e=r._readableState;e.readableListening=r.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:r.listenerCount("data")>0&&r.resume()}function VH(r){Ot("readable nexttick read 0"),r.read(0)}Ut.prototype.resume=function(){var r=this._readableState;return r.flowing||(Ot("resume"),r.flowing=!r.readableListening,YH(this,r)),r.paused=!1,this};function YH(r,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick(XH,r,e))}function XH(r,e){Ot("resume",e.reading),e.reading||r.read(0),e.resumeScheduled=!1,r.emit("resume"),OA(r),e.flowing&&!e.reading&&r.read(0)}Ut.prototype.pause=function(){return Ot("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Ot("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function OA(r){var e=r._readableState;for(Ot("flow",e.flowing);e.flowing&&r.read()!==null;);}Ut.prototype.wrap=function(r){var e=this,t=this._readableState,n=!1;r.on("end",function(){if(Ot("wrapped end"),t.decoder&&!t.ended){var s=t.decoder.end();s&&s.length&&e.push(s)}e.push(null)}),r.on("data",function(s){if(Ot("wrapped data"),t.decoder&&(s=t.decoder.write(s)),!(t.objectMode&&s==null)&&!(!t.objectMode&&(!s||!s.length))){var a=e.push(s);a||(n=!0,r.pause())}});for(var i in r)this[i]===void 0&&typeof r[i]=="function"&&(this[i]=(function(a){return function(){return r[a].apply(r,arguments)}})(i));for(var o=0;o<TA.length;o++)r.on(TA[o],this.emit.bind(this,TA[o]));return this._read=function(s){Ot("wrapped _read",s),n&&(n=!1,r.resume())},this};typeof Symbol=="function"&&(Ut.prototype[Symbol.asyncIterator]=function(){return xA===void 0&&(xA=yB()),xA(this)});Object.defineProperty(Ut.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(Ut.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(Ut.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});Ut._fromList=CB;Object.defineProperty(Ut.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function CB(r,e){if(e.length===0)return null;var t;return e.objectMode?t=e.buffer.shift():!r||r>=e.length?(e.decoder?t=e.buffer.join(""):e.buffer.length===1?t=e.buffer.first():t=e.buffer.concat(e.length),e.buffer.clear()):t=e.buffer.consume(r,e.decoder),t}function RA(r){var e=r._readableState;Ot("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick(KH,e,r))}function KH(r,e){if(Ot("endReadableNT",r.endEmitted,r.length),!r.endEmitted&&r.length===0&&(r.endEmitted=!0,e.readable=!1,e.emit("end"),r.autoDestroy)){var t=e._writableState;(!t||t.autoDestroy&&t.finished)&&e.destroy()}}typeof Symbol=="function"&&(Ut.from=function(r,e){return SA===void 0&&(SA=wB()),SA(Ut,r,e)});function RB(r,e){for(var t=0,n=r.length;t<n;t++)if(r[t]===e)return t;return-1}});var NA=ot((nre,OB)=>{"use strict";Ne();Le();ke();OB.exports=fa;var pw=Ju().codes,ZH=pw.ERR_METHOD_NOT_IMPLEMENTED,JH=pw.ERR_MULTIPLE_CALLBACK,QH=pw.ERR_TRANSFORM_ALREADY_TRANSFORMING,eG=pw.ERR_TRANSFORM_WITH_LENGTH_0,gw=ec();Qu()(fa,gw);function tG(r,e){var t=this._transformState;t.transforming=!1;var n=t.writecb;if(n===null)return this.emit("error",new JH);t.writechunk=null,t.writecb=null,e!=null&&this.push(e),n(r);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function fa(r){if(!(this instanceof fa))return new fa(r);gw.call(this,r),this._transformState={afterTransform:tG.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,r&&(typeof r.transform=="function"&&(this._transform=r.transform),typeof r.flush=="function"&&(this._flush=r.flush)),this.on("prefinish",rG)}function rG(){var r=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,t){IB(r,e,t)}):IB(this,null,null)}fa.prototype.push=function(r,e){return this._transformState.needTransform=!1,gw.prototype.push.call(this,r,e)};fa.prototype._transform=function(r,e,t){t(new ZH("_transform()"))};fa.prototype._write=function(r,e,t){var n=this._transformState;if(n.writecb=t,n.writechunk=r,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};fa.prototype._read=function(r){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};fa.prototype._destroy=function(r,e){gw.prototype._destroy.call(this,r,function(t){e(t)})};function IB(r,e,t){if(e)return r.emit("error",e);if(t!=null&&r.push(t),r._writableState.length)throw new eG;if(r._transformState.transforming)throw new QH;return r.push(null)}});var LB=ot((are,kB)=>{"use strict";Ne();Le();ke();kB.exports=Rg;var NB=NA();Qu()(Rg,NB);function Rg(r){if(!(this instanceof Rg))return new Rg(r);NB.call(this,r)}Rg.prototype._transform=function(r,e,t){t(null,r)}});var UB=ot((fre,FB)=>{"use strict";Ne();Le();ke();var kA;function nG(r){var e=!1;return function(){e||(e=!0,r.apply(void 0,arguments))}}var MB=Ju().codes,iG=MB.ERR_MISSING_ARGS,sG=MB.ERR_STREAM_DESTROYED;function PB(r){if(r)throw r}function oG(r){return r.setHeader&&typeof r.abort=="function"}function aG(r,e,t,n){n=nG(n);var i=!1;r.on("close",function(){i=!0}),kA===void 0&&(kA=lw()),kA(r,{readable:e,writable:t},function(s){if(s)return n(s);i=!0,n()});var o=!1;return function(s){if(!i&&!o){if(o=!0,oG(r))return r.abort();if(typeof r.destroy=="function")return r.destroy();n(s||new sG("pipe"))}}}function BB(r){r()}function lG(r,e){return r.pipe(e)}function uG(r){return!r.length||typeof r[r.length-1]!="function"?PB:r.pop()}function cG(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];var n=uG(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new iG("streams");var i,o=e.map(function(s,a){var u=a<e.length-1,c=a>0;return aG(s,u,c,function(f){i||(i=f),f&&o.forEach(BB),!u&&(o.forEach(BB),n(i))})});return e.reduce(lG)}FB.exports=cG});var $B=ot((os,jB)=>{Ne();Le();ke();os=jB.exports=yA();os.Stream=os;os.Readable=os;os.Writable=pA();os.Duplex=ec();os.Transform=NA();os.PassThrough=LB();os.finished=lw();os.pipeline=UB()});var WB=ot((bre,zB)=>{Ne();Le();ke();var fG=Object.prototype.toString,LA=typeof Buffer<"u"&&typeof Buffer.alloc=="function"&&typeof Buffer.allocUnsafe=="function"&&typeof Buffer.from=="function";function hG(r){return fG.call(r).slice(8,-1)==="ArrayBuffer"}function dG(r,e,t){e>>>=0;var n=r.byteLength-e;if(n<0)throw new RangeError("'offset' is out of bounds");if(t===void 0)t=n;else if(t>>>=0,t>n)throw new RangeError("'length' is out of bounds");return LA?Buffer.from(r.slice(e,e+t)):new Buffer(new Uint8Array(r.slice(e,e+t)))}function pG(r,e){if((typeof e!="string"||e==="")&&(e="utf8"),!Buffer.isEncoding(e))throw new TypeError('"encoding" must be a valid string encoding');return LA?Buffer.from(r,e):new Buffer(r,e)}function gG(r,e,t){if(typeof r=="number")throw new TypeError('"value" argument must not be a number');return hG(r)?dG(r,e,t):typeof r=="string"?pG(r,e):LA?Buffer.from(r):new Buffer(r)}zB.exports=gG});var XB=ot(bt=>{Ne();Le();ke();var qB=void 0,mG=1e5,vr=(function(){var r=Object.prototype.toString,e=Object.prototype.hasOwnProperty;return{Class:function(t){return r.call(t).replace(/^\[object *|\]$/g,"")},HasProperty:function(t,n){return n in t},HasOwnProperty:function(t,n){return e.call(t,n)},IsCallable:function(t){return typeof t=="function"},ToInt32:function(t){return t>>0},ToUint32:function(t){return t>>>0}}})(),yG=Math.LN2,bG=Math.abs,mw=Math.floor,wG=Math.log,vG=Math.min,Ns=Math.pow,_G=Math.round;function PA(r){if(HB&&Ch){var e=HB(r),t;for(t=0;t<e.length;t+=1)Ch(r,e[t],{value:r[e[t]],writable:!1,enumerable:!1,configurable:!1})}}var Ch;Object.defineProperty&&(function(){try{return Object.defineProperty({},"x",{}),!0}catch{return!1}})()?Ch=Object.defineProperty:Ch=function(r,e,t){if(!r===Object(r))throw new TypeError("Object.defineProperty called on non-object");return vr.HasProperty(t,"get")&&Object.prototype.__defineGetter__&&Object.prototype.__defineGetter__.call(r,e,t.get),vr.HasProperty(t,"set")&&Object.prototype.__defineSetter__&&Object.prototype.__defineSetter__.call(r,e,t.set),vr.HasProperty(t,"value")&&(r[e]=t.value),r};var HB=Object.getOwnPropertyNames||function(r){if(r!==Object(r))throw new TypeError("Object.getOwnPropertyNames called on non-object");var e=[],t;for(t in r)vr.HasOwnProperty(r,t)&&e.push(t);return e};function EG(r){if(!Ch)return;if(r.length>mG)throw new RangeError("Array too large for polyfill");function e(n){Ch(r,n,{get:function(){return r._getter(n)},set:function(i){r._setter(n,i)},enumerable:!0,configurable:!1})}var t;for(t=0;t<r.length;t+=1)e(t)}function BA(r,e){var t=32-e;return r<<t>>t}function MA(r,e){var t=32-e;return r<<t>>>t}function AG(r){return[r&255]}function xG(r){return BA(r[0],8)}function SG(r){return[r&255]}function GB(r){return MA(r[0],8)}function TG(r){return r=_G(Number(r)),[r<0?0:r>255?255:r&255]}function CG(r){return[r>>8&255,r&255]}function RG(r){return BA(r[0]<<8|r[1],16)}function DG(r){return[r>>8&255,r&255]}function IG(r){return MA(r[0]<<8|r[1],16)}function OG(r){return[r>>24&255,r>>16&255,r>>8&255,r&255]}function NG(r){return BA(r[0]<<24|r[1]<<16|r[2]<<8|r[3],32)}function kG(r){return[r>>24&255,r>>16&255,r>>8&255,r&255]}function LG(r){return MA(r[0]<<24|r[1]<<16|r[2]<<8|r[3],32)}function VB(r,e,t){var n=(1<<e-1)-1,i,o,s,a,u,c,f,h;function d(g){var b=mw(g),v=g-b;return v<.5?b:v>.5||b%2?b+1:b}for(r!==r?(o=(1<<e)-1,s=Ns(2,t-1),i=0):r===1/0||r===-1/0?(o=(1<<e)-1,s=0,i=r<0?1:0):r===0?(o=0,s=0,i=1/r===-1/0?1:0):(i=r<0,r=bG(r),r>=Ns(2,1-n)?(o=vG(mw(wG(r)/yG),1023),s=d(r/Ns(2,o)*Ns(2,t)),s/Ns(2,t)>=2&&(o=o+1,s=1),o>n?(o=(1<<e)-1,s=0):(o=o+n,s=s-Ns(2,t))):(o=0,s=d(r/Ns(2,1-n-t)))),c=[],u=t;u;u-=1)c.push(s%2?1:0),s=mw(s/2);for(u=e;u;u-=1)c.push(o%2?1:0),o=mw(o/2);for(c.push(i?1:0),c.reverse(),f=c.join(""),h=[];f.length;)h.push(parseInt(f.substring(0,8),2)),f=f.substring(8);return h}function YB(r,e,t){var n=[],i,o,s,a,u,c,f,h;for(i=r.length;i;i-=1)for(s=r[i-1],o=8;o;o-=1)n.push(s%2?1:0),s=s>>1;return n.reverse(),a=n.join(""),u=(1<<e-1)-1,c=parseInt(a.substring(0,1),2)?-1:1,f=parseInt(a.substring(1,1+e),2),h=parseInt(a.substring(1+e),2),f===(1<<e)-1?h!==0?NaN:c*(1/0):f>0?c*Ns(2,f-u)*(1+h/Ns(2,t)):h!==0?c*Ns(2,-(u-1))*(h/Ns(2,t)):c<0?-0:0}function PG(r){return YB(r,11,52)}function BG(r){return VB(r,11,52)}function MG(r){return YB(r,8,23)}function FG(r){return VB(r,8,23)}(function(){var r=function(g){if(g=vr.ToInt32(g),g<0)throw new RangeError("ArrayBuffer size is not a small enough positive integer");this.byteLength=g,this._bytes=[],this._bytes.length=g;var b;for(b=0;b<this.byteLength;b+=1)this._bytes[b]=0;PA(this)};bt.ArrayBuffer=bt.ArrayBuffer||r;var e=function(){};function t(d,g,b){var v;return v=function(w,y,_){var E,S,A,L;if(!arguments.length||typeof arguments[0]=="number"){if(this.length=vr.ToInt32(arguments[0]),_<0)throw new RangeError("ArrayBufferView size is not a small enough positive integer");this.byteLength=this.length*this.BYTES_PER_ELEMENT,this.buffer=new r(this.byteLength),this.byteOffset=0}else if(typeof arguments[0]=="object"&&arguments[0].constructor===v)for(E=arguments[0],this.length=E.length,this.byteLength=this.length*this.BYTES_PER_ELEMENT,this.buffer=new r(this.byteLength),this.byteOffset=0,A=0;A<this.length;A+=1)this._setter(A,E._getter(A));else if(typeof arguments[0]=="object"&&!(arguments[0]instanceof r||vr.Class(arguments[0])==="ArrayBuffer"))for(S=arguments[0],this.length=vr.ToUint32(S.length),this.byteLength=this.length*this.BYTES_PER_ELEMENT,this.buffer=new r(this.byteLength),this.byteOffset=0,A=0;A<this.length;A+=1)L=S[A],this._setter(A,Number(L));else if(typeof arguments[0]=="object"&&(arguments[0]instanceof r||vr.Class(arguments[0])==="ArrayBuffer")){if(this.buffer=w,this.byteOffset=vr.ToUint32(y),this.byteOffset>this.buffer.byteLength)throw new RangeError("byteOffset out of range");if(this.byteOffset%this.BYTES_PER_ELEMENT)throw new RangeError("ArrayBuffer length minus the byteOffset is not a multiple of the element size.");if(arguments.length<3){if(this.byteLength=this.buffer.byteLength-this.byteOffset,this.byteLength%this.BYTES_PER_ELEMENT)throw new RangeError("length of buffer minus byteOffset not a multiple of the element size");this.length=this.byteLength/this.BYTES_PER_ELEMENT}else this.length=vr.ToUint32(_),this.byteLength=this.length*this.BYTES_PER_ELEMENT;if(this.byteOffset+this.byteLength>this.buffer.byteLength)throw new RangeError("byteOffset and length reference an area beyond the end of the buffer")}else throw new TypeError("Unexpected argument type(s)");this.constructor=v,PA(this),EG(this)},v.prototype=new e,v.prototype.BYTES_PER_ELEMENT=d,v.prototype._pack=g,v.prototype._unpack=b,v.BYTES_PER_ELEMENT=d,v.prototype._getter=function(w){if(arguments.length<1)throw new SyntaxError("Not enough arguments");if(w=vr.ToUint32(w),w>=this.length)return qB;var y=[],_,E;for(_=0,E=this.byteOffset+w*this.BYTES_PER_ELEMENT;_<this.BYTES_PER_ELEMENT;_+=1,E+=1)y.push(this.buffer._bytes[E]);return this._unpack(y)},v.prototype.get=v.prototype._getter,v.prototype._setter=function(w,y){if(arguments.length<2)throw new SyntaxError("Not enough arguments");if(w=vr.ToUint32(w),w>=this.length)return qB;var _=this._pack(y),E,S;for(E=0,S=this.byteOffset+w*this.BYTES_PER_ELEMENT;E<this.BYTES_PER_ELEMENT;E+=1,S+=1)this.buffer._bytes[S]=_[E]},v.prototype.set=function(w,y){if(arguments.length<1)throw new SyntaxError("Not enough arguments");var _,E,S,A,L,D,K,re,q,oe;if(typeof arguments[0]=="object"&&arguments[0].constructor===this.constructor){if(_=arguments[0],S=vr.ToUint32(arguments[1]),S+_.length>this.length)throw new RangeError("Offset plus length of array is out of range");if(re=this.byteOffset+S*this.BYTES_PER_ELEMENT,q=_.length*this.BYTES_PER_ELEMENT,_.buffer===this.buffer){for(oe=[],L=0,D=_.byteOffset;L<q;L+=1,D+=1)oe[L]=_.buffer._bytes[D];for(L=0,K=re;L<q;L+=1,K+=1)this.buffer._bytes[K]=oe[L]}else for(L=0,D=_.byteOffset,K=re;L<q;L+=1,D+=1,K+=1)this.buffer._bytes[K]=_.buffer._bytes[D]}else if(typeof arguments[0]=="object"&&typeof arguments[0].length<"u"){if(E=arguments[0],A=vr.ToUint32(E.length),S=vr.ToUint32(arguments[1]),S+A>this.length)throw new RangeError("Offset plus length of array is out of range");for(L=0;L<A;L+=1)D=E[L],this._setter(S+L,Number(D))}else throw new TypeError("Unexpected argument type(s)")},v.prototype.subarray=function(w,y){function _(S,A,L){return S<A?A:S>L?L:S}w=vr.ToInt32(w),y=vr.ToInt32(y),arguments.length<1&&(w=0),arguments.length<2&&(y=this.length),w<0&&(w=this.length+w),y<0&&(y=this.length+y),w=_(w,0,this.length),y=_(y,0,this.length);var E=y-w;return E<0&&(E=0),new this.constructor(this.buffer,this.byteOffset+w*this.BYTES_PER_ELEMENT,E)},v}var n=t(1,AG,xG),i=t(1,SG,GB),o=t(1,TG,GB),s=t(2,CG,RG),a=t(2,DG,IG),u=t(4,OG,NG),c=t(4,kG,LG),f=t(4,FG,MG),h=t(8,BG,PG);bt.Int8Array=bt.Int8Array||n,bt.Uint8Array=bt.Uint8Array||i,bt.Uint8ClampedArray=bt.Uint8ClampedArray||o,bt.Int16Array=bt.Int16Array||s,bt.Uint16Array=bt.Uint16Array||a,bt.Int32Array=bt.Int32Array||u,bt.Uint32Array=bt.Uint32Array||c,bt.Float32Array=bt.Float32Array||f,bt.Float64Array=bt.Float64Array||h})();(function(){function r(o,s){return vr.IsCallable(o.get)?o.get(s):o[s]}var e=(function(){var o=new bt.Uint16Array([4660]),s=new bt.Uint8Array(o.buffer);return r(s,0)===18})(),t=function(s,a,u){if(arguments.length===0)s=new bt.ArrayBuffer(0);else if(!(s instanceof bt.ArrayBuffer||vr.Class(s)==="ArrayBuffer"))throw new TypeError("TypeError");if(this.buffer=s||new bt.ArrayBuffer(0),this.byteOffset=vr.ToUint32(a),this.byteOffset>this.buffer.byteLength)throw new RangeError("byteOffset out of range");if(arguments.length<3?this.byteLength=this.buffer.byteLength-this.byteOffset:this.byteLength=vr.ToUint32(u),this.byteOffset+this.byteLength>this.buffer.byteLength)throw new RangeError("byteOffset and length reference an area beyond the end of the buffer");PA(this)};function n(o){return function(s,a){if(s=vr.ToUint32(s),s+o.BYTES_PER_ELEMENT>this.byteLength)throw new RangeError("Array index out of range");s+=this.byteOffset;var u=new bt.Uint8Array(this.buffer,s,o.BYTES_PER_ELEMENT),c=[],f;for(f=0;f<o.BYTES_PER_ELEMENT;f+=1)c.push(r(u,f));return!!a==!!e&&c.reverse(),r(new o(new bt.Uint8Array(c).buffer),0)}}t.prototype.getUint8=n(bt.Uint8Array),t.prototype.getInt8=n(bt.Int8Array),t.prototype.getUint16=n(bt.Uint16Array),t.prototype.getInt16=n(bt.Int16Array),t.prototype.getUint32=n(bt.Uint32Array),t.prototype.getInt32=n(bt.Int32Array),t.prototype.getFloat32=n(bt.Float32Array),t.prototype.getFloat64=n(bt.Float64Array);function i(o){return function(s,a,u){if(s=vr.ToUint32(s),s+o.BYTES_PER_ELEMENT>this.byteLength)throw new RangeError("Array index out of range");var c=new o([a]),f=new bt.Uint8Array(c.buffer),h=[],d,g;for(d=0;d<o.BYTES_PER_ELEMENT;d+=1)h.push(r(f,d));!!u==!!e&&h.reverse(),g=new bt.Uint8Array(this.buffer,s,o.BYTES_PER_ELEMENT),g.set(h)}}t.prototype.setUint8=i(bt.Uint8Array),t.prototype.setInt8=i(bt.Int8Array),t.prototype.setUint16=i(bt.Uint16Array),t.prototype.setInt16=i(bt.Int16Array),t.prototype.setUint32=i(bt.Uint32Array),t.prototype.setInt32=i(bt.Int32Array),t.prototype.setFloat32=i(bt.Float32Array),t.prototype.setFloat64=i(bt.Float64Array),bt.DataView=bt.DataView||t})()});var QB=ot((Tre,JB)=>{Ne();Le();ke();var KB=$B().Writable,UG=Qu(),Dg=WB();typeof Uint8Array>"u"?yw=XB().Uint8Array:yw=Uint8Array;var yw;function ic(r,e){if(!(this instanceof ic))return new ic(r,e);typeof r=="function"&&(e=r,r={}),r||(r={});var t=r.encoding,n=!1;t?(t=String(t).toLowerCase(),(t==="u8"||t==="uint8")&&(t="uint8array")):n=!0,KB.call(this,{objectMode:!0}),this.encoding=t,this.shouldInferEncoding=n,e&&this.on("finish",function(){e(this.getBody())}),this.body=[]}JB.exports=ic;UG(ic,KB);ic.prototype._write=function(r,e,t){this.body.push(r),t()};ic.prototype.inferEncoding=function(r){var e=r===void 0?this.body[0]:r;return Buffer.isBuffer(e)?"buffer":typeof Uint8Array<"u"&&e instanceof Uint8Array?"uint8array":Array.isArray(e)?"array":typeof e=="string"?"string":Object.prototype.toString.call(e)==="[object Object]"?"object":"buffer"};ic.prototype.getBody=function(){return!this.encoding&&this.body.length===0?[]:(this.shouldInferEncoding&&(this.encoding=this.inferEncoding()),this.encoding==="array"?WG(this.body):this.encoding==="string"?$G(this.body):this.encoding==="buffer"?zG(this.body):this.encoding==="uint8array"?qG(this.body):this.body)};function jG(r){return/Array\]$/.test(Object.prototype.toString.call(r))}function ZB(r){return typeof r=="string"||jG(r)||r&&typeof r.subarray=="function"}function $G(r){for(var e=[],t=!1,n=0;n<r.length;n++){var i=r[n];typeof i=="string"||Buffer.isBuffer(i)?e.push(i):ZB(i)?e.push(Dg(i)):e.push(Dg(String(i)))}return Buffer.isBuffer(r[0])?(e=Buffer.concat(e),e=e.toString("utf8")):e=e.join(""),e}function zG(r){for(var e=[],t=0;t<r.length;t++){var n=r[t];Buffer.isBuffer(n)?e.push(n):ZB(n)?e.push(Dg(n)):e.push(Dg(String(n)))}return Buffer.concat(e)}function WG(r){for(var e=[],t=0;t<r.length;t++)e.push.apply(e,r[t]);return e}function qG(r){for(var e=0,t=0;t<r.length;t++)typeof r[t]=="string"&&(r[t]=Dg(r[t])),e+=r[t].length;for(var n=new yw(e),t=0,i=0;t<r.length;t++)for(var o=r[t],s=0;s<o.length;s++)n[i++]=o[s];return n}});var S3={};Uo(S3,{AbortException:()=>Ys,AnnotationEditorLayer:()=>$v,AnnotationEditorParamsType:()=>Bt,AnnotationEditorType:()=>vt,AnnotationEditorUIManager:()=>_u,AnnotationLayer:()=>Lv,AnnotationMode:()=>Za,AnnotationType:()=>qr,CSSConstants:()=>cv,ColorPicker:()=>dm,DOMSVGFactory:()=>Of,DrawLayer:()=>zv,FeatureTest:()=>Ur,GlobalWorkerOptions:()=>_s,ImageKind:()=>rm,InvalidPDFException:()=>bp,MathClamp:()=>Wn,OPS:()=>yp,OutputScale:()=>Mo,PDFDataRangeTransport:()=>hm,PDFDateString:()=>Rf,PDFWorker:()=>_p,PasswordResponses:()=>SM,PermissionFlag:()=>xM,PixelsPerInch:()=>tl,RenderingCancelledException:()=>wp,ResponseException:()=>Df,SignatureExtractor:()=>Es,SupportedImageMimeTypes:()=>uv,TextLayer:()=>vp,TouchManager:()=>um,Util:()=>st,VerbosityLevel:()=>c0,XfaLayer:()=>am,applyOpacity:()=>NM,build:()=>NF,createValidAbsoluteUrl:()=>vT,fetchData:()=>Ep,findContrastColor:()=>kM,getDocument:()=>RF,getFilenameFromUrl:()=>DM,getPdfFilenameFromUrl:()=>IM,getRGB:()=>Ap,getUuid:()=>ET,getXfaPageViewport:()=>OM,isDataScheme:()=>h0,isPdfFile:()=>c_,isValidExplicitDest:()=>dF,noContextMenu:()=>Zi,normalizeUnicode:()=>CM,renderRichText:()=>AT,setLayerDimensions:()=>vu,shadow:()=>wt,stopEvent:()=>Cr,updateUrlHash:()=>_T,version:()=>OF});function GG(r){Number.isInteger(r)&&(l_=r)}function VG(){return l_}function u_(r){l_>=c0.INFOS&&console.info(`Info: ${r}`)}function _t(r){l_>=c0.WARNINGS&&console.warn(`Warning: ${r}`)}function dr(r){throw new Error(r)}function Mt(r,e){r||dr(e)}function YG(r){switch(r?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function vT(r,e=null,t=null){if(!r)return null;if(t&&typeof r=="string"&&(t.addDefaultProtocol&&r.startsWith("www.")&&r.match(/\./g)?.length>=2&&(r=`http://${r}`),t.tryConvertEncoding))try{r=JG(r)}catch{}let n=e?URL.parse(r,e):URL.parse(r);return YG(n)?n:null}function _T(r,e,t=!1){let n=URL.parse(r);return n?(n.hash=e,n.href):t&&vT(r,"http://example.com")?r.split("#",1)[0]+`${e?`#${e}`:""}`:""}function wt(r,e,t,n=!1){return Object.defineProperty(r,e,{value:t,enumerable:!n,configurable:!0,writable:!1}),t}function TM(r){(typeof r!="object"||r?.length===void 0)&&dr("Invalid argument for bytesToString");let e=r.length,t=8192;if(e<t)return String.fromCharCode.apply(null,r);let n=[];for(let i=0;i<e;i+=t){let o=Math.min(i+t,e),s=r.subarray(i,o);n.push(String.fromCharCode.apply(null,s))}return n.join("")}function f0(r){typeof r!="string"&&dr("Invalid argument for stringToBytes");let e=r.length,t=new Uint8Array(e);for(let n=0;n<e;++n)t[n]=r.charCodeAt(n)&255;return t}function XG(r){return String.fromCharCode(r>>24&255,r>>16&255,r>>8&255,r&255)}function KG(){let r=new Uint8Array(4);return r[0]=1,new Uint32Array(r.buffer,0,1)[0]===1}function ZG(){try{return new Function(""),!0}catch{return!1}}function JG(r){return decodeURIComponent(escape(r))}function CM(r){return UA||(UA=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,sM=new Map([["\uFB05","\u017Ft"]])),r.replaceAll(UA,(e,t,n)=>t?t.normalize("NFKC"):sM.get(n))}function ET(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();let r=new Uint8Array(32);return crypto.getRandomValues(r),TM(r)}function QG(r,e,t){if(!Array.isArray(t)||t.length<2)return!1;let[n,i,...o]=t;if(!r(n)&&!Number.isInteger(n)||!e(i))return!1;let s=o.length,a=!0;switch(i.name){case"XYZ":if(s<2||s>3)return!1;break;case"Fit":case"FitB":return s===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(s>1)return!1;break;case"FitR":if(s!==4)return!1;a=!1;break;default:return!1}for(let u of o)if(!(typeof u=="number"||a&&u===null))return!1;return!0}function Wn(r,e,t){return Math.min(Math.max(r,e),t)}function RM(r){return Uint8Array.prototype.toBase64?r.toBase64():btoa(TM(r))}function eV(r){return Uint8Array.fromBase64?Uint8Array.fromBase64(r):f0(atob(r))}async function Ep(r,e="text"){if(Pg(r,document.baseURI)){let t=await fetch(r);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,n)=>{let i=new XMLHttpRequest;i.open("GET",r,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(i.response);return}t(i.responseText);return}n(new Error(i.statusText))}},i.send(null)})}function h0(r){let e=r.length,t=0;for(;t<e&&r[t].trim()==="";)t++;return r.substring(t,t+5).toLowerCase()==="data:"}function c_(r){return typeof r=="string"&&/\.pdf$/i.test(r)}function DM(r){return[r]=r.split(/[#?]/,1),r.substring(r.lastIndexOf("/")+1)}function IM(r,e="document.pdf"){if(typeof r!="string")return e;if(h0(r))return _t('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;let n=(a=>{try{return new URL(a)}catch{try{return new URL(decodeURIComponent(a))}catch{try{return new URL(a,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(a),"https://foo.bar")}catch{return null}}}}})(r);if(!n)return e;let i=a=>{try{let u=decodeURIComponent(a);return u.includes("/")?(u=u.split("/").at(-1),u.test(/^\.pdf$/i)?u:a):u}catch{return a}},o=/\.pdf$/i,s=n.pathname.split("/").at(-1);if(o.test(s))return i(s);if(n.searchParams.size>0){let a=Array.from(n.searchParams.values()).reverse();for(let c of a)if(o.test(c))return i(c);let u=Array.from(n.searchParams.keys()).reverse();for(let c of u)if(o.test(c))return i(c)}if(n.hash){let u=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(n.hash);if(u)return i(u[0])}return e}function Pg(r,e){let t=e?URL.parse(r,e):URL.parse(r);return t?.protocol==="http:"||t?.protocol==="https:"}function Zi(r){r.preventDefault()}function Cr(r){r.preventDefault(),r.stopPropagation()}function tV(r){console.log("Deprecated API usage: "+r)}function OM(r,{scale:e=1,rotation:t=0}){let{width:n,height:i}=r.attributes.style,o=[0,0,parseInt(n),parseInt(i)];return new lm({viewBox:o,userUnit:1,scale:e,rotation:t})}function Ap(r){if(r.startsWith("#")){let e=parseInt(r.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return r.startsWith("rgb(")?r.slice(4,-1).split(",").map(e=>parseInt(e)):r.startsWith("rgba(")?r.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(_t(`Not a valid color format: "${r}"`),[0,0,0])}function rV(r){let e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(let t of r.keys()){e.style.color=t;let n=window.getComputedStyle(e).color;r.set(t,Ap(n))}e.remove()}function Tr(r){let{a:e,b:t,c:n,d:i,e:o,f:s}=r.getTransform();return[e,t,n,i,o,s]}function fo(r){let{a:e,b:t,c:n,d:i,e:o,f:s}=r.getTransform().invertSelf();return[e,t,n,i,o,s]}function vu(r,e,t=!1,n=!0){if(e instanceof lm){let{pageWidth:i,pageHeight:o}=e.rawDims,{style:s}=r,a=Ur.isCSSRoundSupported,u=`var(--total-scale-factor) * ${i}px`,c=`var(--total-scale-factor) * ${o}px`,f=a?`round(down, ${u}, var(--scale-round-x))`:`calc(${u})`,h=a?`round(down, ${c}, var(--scale-round-y))`:`calc(${c})`;!t||e.rotation%180===0?(s.width=f,s.height=h):(s.width=h,s.height=f)}n&&r.setAttribute("data-main-rotation",e.rotation)}function NM(r,e,t,n){n=Math.min(Math.max(n??1,0),1);let i=255*(1-n);return r=Math.round(r*n+i),e=Math.round(e*n+i),t=Math.round(t*n+i),[r,e,t]}function oM(r,e){let t=r[0]/255,n=r[1]/255,i=r[2]/255,o=Math.max(t,n,i),s=Math.min(t,n,i),a=(o+s)/2;if(o===s)e[0]=e[1]=0;else{let u=o-s;switch(e[1]=a<.5?u/(o+s):u/(2-o-s),o){case t:e[0]=((n-i)/u+(n<i?6:0))*60;break;case n:e[0]=((i-t)/u+2)*60;break;case i:e[0]=((t-n)/u+4)*60;break}}e[2]=a}function XA(r,e){let t=r[0],n=r[1],i=r[2],o=(1-Math.abs(2*i-1))*n,s=o*(1-Math.abs(t/60%2-1)),a=i-o/2;switch(Math.floor(t/60)){case 0:e[0]=o+a,e[1]=s+a,e[2]=a;break;case 1:e[0]=s+a,e[1]=o+a,e[2]=a;break;case 2:e[0]=a,e[1]=o+a,e[2]=s+a;break;case 3:e[0]=a,e[1]=s+a,e[2]=o+a;break;case 4:e[0]=s+a,e[1]=a,e[2]=o+a;break;case 5:case 6:e[0]=o+a,e[1]=a,e[2]=s+a;break}}function aM(r){return r<=.03928?r/12.92:((r+.055)/1.055)**2.4}function lM(r,e,t){XA(r,t),t.map(aM);let n=.2126*t[0]+.7152*t[1]+.0722*t[2];XA(e,t),t.map(aM);let i=.2126*t[0]+.7152*t[1]+.0722*t[2];return n>i?(n+.05)/(i+.05):(i+.05)/(n+.05)}function kM(r,e){let t=r[0]+r[1]*256+r[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776,n=uM.get(t);if(n)return n;let i=new Float32Array(9),o=i.subarray(0,3),s=i.subarray(3,6);oM(r,s);let a=i.subarray(6,9);oM(e,a);let u=a[2]<.5,c=u?12:4.5;if(s[2]=u?Math.sqrt(s[2]):1-Math.sqrt(1-s[2]),lM(s,a,o)<c){let f,h;u?(f=s[2],h=1):(f=0,h=s[2]);let d=.005;for(;h-f>d;){let g=s[2]=(f+h)/2;u===lM(s,a,o)<c?f=g:h=g}s[2]=u?h:f}return XA(s,o),n=st.makeHexColor(Math.round(o[0]*255),Math.round(o[1]*255),Math.round(o[2]*255)),uM.set(t,n),n}function AT({html:r,dir:e,className:t},n){let i=document.createDocumentFragment();if(typeof r=="string"){let o=document.createElement("p");o.dir=e||"auto";let s=r.split(/(?:\r\n?|\n)/);for(let a=0,u=s.length;a<u;++a){let c=s[a];o.append(document.createTextNode(c)),a<u-1&&o.append(document.createElement("br"))}i.append(o)}else am.render({xfaHtml:r,div:i,intent:"richText"});i.firstElementChild.classList.add("richText",t),n.append(i)}function LM(r){let e=new Path2D;if(!r)return e;for(let t=0,n=r.length;t<n;)switch(r[t++]){case Ig.moveTo:e.moveTo(r[t++],r[t++]);break;case Ig.lineTo:e.lineTo(r[t++],r[t++]);break;case Ig.curveTo:e.bezierCurveTo(r[t++],r[t++],r[t++],r[t++],r[t++],r[t++]);break;case Ig.quadraticCurveTo:e.quadraticCurveTo(r[t++],r[t++],r[t++],r[t++]);break;case Ig.closePath:e.closePath();break;default:_t(`Unrecognized drawing path operator: ${r[t-1]}`);break}return e}function jM(r,e,t){for(let n of t)e.addEventListener(n,r[n].bind(r))}function nV(r){if(r instanceof URL)return r.href;if(typeof r=="string"){if(Qn)return r;let e=URL.parse(r,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function iV(r){if(Qn&&typeof Buffer<"u"&&r instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength)return r;if(typeof r=="string")return f0(r);if(r instanceof ArrayBuffer||ArrayBuffer.isView(r)||typeof r=="object"&&!isNaN(r?.length))return new Uint8Array(r);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function bw(r){if(typeof r!="string")return null;if(r.endsWith("/"))return r;throw new Error(`Invalid factory url: "${r}" must include trailing slash.`)}function fM(){}function hi(r){if(r instanceof Ys||r instanceof bp||r instanceof av||r instanceof Df||r instanceof nm)return r;switch(r instanceof Error||typeof r=="object"&&r!==null||dr('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),r.name){case"AbortException":return new Ys(r.message);case"InvalidPDFException":return new bp(r.message);case"PasswordException":return new av(r.message,r.code);case"ResponseException":return new Df(r.message,r.status,r.missing);case"UnknownErrorException":return new nm(r.message,r.details)}return new nm(r.message,r.toString())}async function xT(r){let t=await process.getBuiltinModule("fs").promises.readFile(r);return new Uint8Array(t)}function vw(r,e,t,n,i,o){r[e*4+0]=Math.min(r[e*4+0],t),r[e*4+1]=Math.min(r[e*4+1],n),r[e*4+2]=Math.max(r[e*4+2],i),r[e*4+3]=Math.max(r[e*4+3],o)}function Mx(r,e){if(!e)return;let t=e[2]-e[0],n=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],t,n),r.clip(i)}function jA(r,e,t,n,i,o,s,a){let u=e.coords,c=e.colors,f=r.data,h=r.width*4,d;u[t+1]>u[n+1]&&(d=t,t=n,n=d,d=o,o=s,s=d),u[n+1]>u[i+1]&&(d=n,n=i,i=d,d=s,s=a,a=d),u[t+1]>u[n+1]&&(d=t,t=n,n=d,d=o,o=s,s=d);let g=(u[t]+e.offsetX)*e.scaleX,b=(u[t+1]+e.offsetY)*e.scaleY,v=(u[n]+e.offsetX)*e.scaleX,w=(u[n+1]+e.offsetY)*e.scaleY,y=(u[i]+e.offsetX)*e.scaleX,_=(u[i+1]+e.offsetY)*e.scaleY;if(b>=_)return;let E=c[o],S=c[o+1],A=c[o+2],L=c[s],D=c[s+1],K=c[s+2],re=c[a],q=c[a+1],oe=c[a+2],U=Math.round(b),H=Math.round(_),ue,Se,Ae,j,I,se,z,ie;for(let V=U;V<=H;V++){if(V<w){let M=V<b?0:(b-V)/(b-w);ue=g-(g-v)*M,Se=E-(E-L)*M,Ae=S-(S-D)*M,j=A-(A-K)*M}else{let M;V>_?M=1:w===_?M=0:M=(w-V)/(w-_),ue=v-(v-y)*M,Se=L-(L-re)*M,Ae=D-(D-q)*M,j=K-(K-oe)*M}let X;V<b?X=0:V>_?X=1:X=(b-V)/(b-_),I=g-(g-y)*X,se=E-(E-re)*X,z=S-(S-q)*X,ie=A-(A-oe)*X;let we=Math.round(Math.min(ue,I)),ve=Math.round(Math.max(ue,I)),de=h*V+we*4;for(let M=we;M<=ve;M++)X=(ue-M)/(ue-I),X<0?X=0:X>1&&(X=1),f[de++]=Se-(Se-se)*X|0,f[de++]=Ae-(Ae-z)*X|0,f[de++]=j-(j-ie)*X|0,f[de++]=255}}function oV(r,e,t){let n=e.coords,i=e.colors,o,s;switch(e.type){case HA.LATTICE:let a=e.verticesPerRow,u=Math.floor(n.length/a)-1,c=a-1;for(o=0;o<u;o++){let f=o*a;for(let h=0;h<c;h++,f++)jA(r,t,n[f],n[f+1],n[f+a],i[f],i[f+1],i[f+a]),jA(r,t,n[f+a+1],n[f+1],n[f+a],i[f+a+1],i[f+1],i[f+a])}break;case HA.TRIANGLES:for(o=0,s=n.length;o<s;o+=3)jA(r,t,n[o],n[o+1],n[o+2],i[o],i[o+1],i[o+2]);break;default:throw new Error("illegal figure")}}function aV(r){switch(r[0]){case"RadialAxial":return new Fx(r);case"Mesh":return new Ux(r);case"Dummy":return new jx}throw new Error(`Unknown IR type: ${r[0]}`)}function lV({src:r,srcPos:e=0,dest:t,width:n,height:i,nonBlackColor:o=4294967295,inverseDecode:s=!1}){let a=Ur.isLittleEndian?4278190080:255,[u,c]=s?[o,a]:[a,o],f=n>>3,h=n&7,d=r.length;t=new Uint32Array(t.buffer);let g=0;for(let b=0;b<i;b++){for(let w=e+f;e<w;e++){let y=e<d?r[e]:255;t[g++]=y&128?c:u,t[g++]=y&64?c:u,t[g++]=y&32?c:u,t[g++]=y&16?c:u,t[g++]=y&8?c:u,t[g++]=y&4?c:u,t[g++]=y&2?c:u,t[g++]=y&1?c:u}if(h===0)continue;let v=e<d?r[e++]:255;for(let w=0;w<h;w++)t[g++]=v&1<<7-w?c:u}return{srcPos:e,destPos:g}}function cV(r,e){if(r._removeMirroring)throw new Error("Context is already forwarding operations.");r.__originalSave=r.save,r.__originalRestore=r.restore,r.__originalRotate=r.rotate,r.__originalScale=r.scale,r.__originalTranslate=r.translate,r.__originalTransform=r.transform,r.__originalSetTransform=r.setTransform,r.__originalResetTransform=r.resetTransform,r.__originalClip=r.clip,r.__originalMoveTo=r.moveTo,r.__originalLineTo=r.lineTo,r.__originalBezierCurveTo=r.bezierCurveTo,r.__originalRect=r.rect,r.__originalClosePath=r.closePath,r.__originalBeginPath=r.beginPath,r._removeMirroring=()=>{r.save=r.__originalSave,r.restore=r.__originalRestore,r.rotate=r.__originalRotate,r.scale=r.__originalScale,r.translate=r.__originalTranslate,r.transform=r.__originalTransform,r.setTransform=r.__originalSetTransform,r.resetTransform=r.__originalResetTransform,r.clip=r.__originalClip,r.moveTo=r.__originalMoveTo,r.lineTo=r.__originalLineTo,r.bezierCurveTo=r.__originalBezierCurveTo,r.rect=r.__originalRect,r.closePath=r.__originalClosePath,r.beginPath=r.__originalBeginPath,delete r._removeMirroring},r.save=function(){e.save(),this.__originalSave()},r.restore=function(){e.restore(),this.__originalRestore()},r.translate=function(t,n){e.translate(t,n),this.__originalTranslate(t,n)},r.scale=function(t,n){e.scale(t,n),this.__originalScale(t,n)},r.transform=function(t,n,i,o,s,a){e.transform(t,n,i,o,s,a),this.__originalTransform(t,n,i,o,s,a)},r.setTransform=function(t,n,i,o,s,a){e.setTransform(t,n,i,o,s,a),this.__originalSetTransform(t,n,i,o,s,a)},r.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},r.rotate=function(t){e.rotate(t),this.__originalRotate(t)},r.clip=function(t){e.clip(t),this.__originalClip(t)},r.moveTo=function(t,n){e.moveTo(t,n),this.__originalMoveTo(t,n)},r.lineTo=function(t,n){e.lineTo(t,n),this.__originalLineTo(t,n)},r.bezierCurveTo=function(t,n,i,o,s,a){e.bezierCurveTo(t,n,i,o,s,a),this.__originalBezierCurveTo(t,n,i,o,s,a)},r.rect=function(t,n,i,o){e.rect(t,n,i,o),this.__originalRect(t,n,i,o)},r.closePath=function(){e.closePath(),this.__originalClosePath()},r.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}function Ew(r,e,t,n,i,o,s,a,u,c){let[f,h,d,g,b,v]=Tr(r);if(h===0&&d===0){let _=s*f+b,E=Math.round(_),S=a*g+v,A=Math.round(S),L=(s+u)*f+b,D=Math.abs(Math.round(L)-E)||1,K=(a+c)*g+v,re=Math.abs(Math.round(K)-A)||1;return r.setTransform(Math.sign(f),0,0,Math.sign(g),E,A),r.drawImage(e,t,n,i,o,0,0,D,re),r.setTransform(f,h,d,g,b,v),[D,re]}if(f===0&&g===0){let _=a*d+b,E=Math.round(_),S=s*h+v,A=Math.round(S),L=(a+c)*d+b,D=Math.abs(Math.round(L)-E)||1,K=(s+u)*h+v,re=Math.abs(Math.round(K)-A)||1;return r.setTransform(0,Math.sign(h),Math.sign(d),0,E,A),r.drawImage(e,t,n,i,o,0,0,re,D),r.setTransform(f,h,d,g,b,v),[re,D]}r.drawImage(e,t,n,i,o,s,a,u,c);let w=Math.hypot(f,h),y=Math.hypot(d,g);return[w*u,y*c]}function bM(r,e){if(e instanceof ImageData){r.putImageData(e,0,0);return}let t=e.height,n=e.width,i=t%vi,o=(t-i)/vi,s=i===0?o:o+1,a=r.createImageData(n,vi),u=0,c,f=e.data,h=a.data,d,g,b,v;if(e.kind===rm.GRAYSCALE_1BPP){let w=f.byteLength,y=new Uint32Array(h.buffer,0,h.byteLength>>2),_=y.length,E=n+7>>3,S=4294967295,A=Ur.isLittleEndian?4278190080:255;for(d=0;d<s;d++){for(b=d<o?vi:i,c=0,g=0;g<b;g++){let L=w-u,D=0,K=L>E?n:L*8-7,re=K&-8,q=0,oe=0;for(;D<re;D+=8)oe=f[u++],y[c++]=oe&128?S:A,y[c++]=oe&64?S:A,y[c++]=oe&32?S:A,y[c++]=oe&16?S:A,y[c++]=oe&8?S:A,y[c++]=oe&4?S:A,y[c++]=oe&2?S:A,y[c++]=oe&1?S:A;for(;D<K;D++)q===0&&(oe=f[u++],q=128),y[c++]=oe&q?S:A,q>>=1}for(;c<_;)y[c++]=0;r.putImageData(a,0,d*vi)}}else if(e.kind===rm.RGBA_32BPP){for(g=0,v=n*vi*4,d=0;d<o;d++)h.set(f.subarray(u,u+v)),u+=v,r.putImageData(a,0,g),g+=vi;d<s&&(v=n*i*4,h.set(f.subarray(u,u+v)),r.putImageData(a,0,g))}else if(e.kind===rm.RGB_24BPP)for(b=vi,v=n*b,d=0;d<s;d++){for(d>=o&&(b=i,v=n*b),c=0,g=v;g--;)h[c++]=f[u++],h[c++]=f[u++],h[c++]=f[u++],h[c++]=255;r.putImageData(a,0,d*vi)}else throw new Error(`bad image kind: ${e.kind}`)}function wM(r,e){if(e.bitmap){r.drawImage(e.bitmap,0,0);return}let t=e.height,n=e.width,i=t%vi,o=(t-i)/vi,s=i===0?o:o+1,a=r.createImageData(n,vi),u=0,c=e.data,f=a.data;for(let h=0;h<s;h++){let d=h<o?vi:i;({srcPos:u}=lV({src:c,srcPos:u,dest:f,width:n,height:d,nonBlackColor:0})),r.putImageData(a,0,h*vi)}}function Og(r,e){let t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(let n of t)r[n]!==void 0&&(e[n]=r[n]);r.setLineDash!==void 0&&(e.setLineDash(r.getLineDash()),e.lineDashOffset=r.lineDashOffset)}function Aw(r){r.strokeStyle=r.fillStyle="#000000",r.fillRule="nonzero",r.globalAlpha=1,r.lineWidth=1,r.lineCap="butt",r.lineJoin="miter",r.miterLimit=10,r.globalCompositeOperation="source-over",r.font="10px sans-serif",r.setLineDash!==void 0&&(r.setLineDash([]),r.lineDashOffset=0);let{filter:e}=r;e!=="none"&&e!==""&&(r.filter="none")}function vM(r,e){if(e)return!0;st.singularValueDecompose2dScale(r,Yi);let t=Math.fround(Mo.pixelRatio*tl.PDF_TO_CSS_UNITS);return Yi[0]<=t&&Yi[1]<=t}function pV(r){let e=!0,t=n("filename\\*","i").exec(r);if(t){t=t[1];let f=a(t);return f=unescape(f),f=u(f),f=c(f),o(f)}if(t=s(r),t){let f=c(t);return o(f)}if(t=n("filename","i").exec(r),t){t=t[1];let f=a(t);return f=c(f),o(f)}function n(f,h){return new RegExp("(?:^|;)\\s*"+f+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',h)}function i(f,h){if(f){if(!/^[\x00-\xFF]+$/.test(h))return h;try{let d=new TextDecoder(f,{fatal:!0}),g=f0(h);h=d.decode(g),e=!1}catch{}}return h}function o(f){return e&&/[\x80-\xff]/.test(f)&&(f=i("utf-8",f),e&&(f=i("iso-8859-1",f))),f}function s(f){let h=[],d,g=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(d=g.exec(f))!==null;){let[,v,w,y]=d;if(v=parseInt(v,10),v in h){if(v===0)break;continue}h[v]=[w,y]}let b=[];for(let v=0;v<h.length&&v in h;++v){let[w,y]=h[v];y=a(y),w&&(y=unescape(y),v===0&&(y=u(y))),b.push(y)}return b.join("")}function a(f){if(f.startsWith('"')){let h=f.slice(1).split('\\"');for(let d=0;d<h.length;++d){let g=h[d].indexOf('"');g!==-1&&(h[d]=h[d].slice(0,g),h.length=d+1),h[d]=h[d].replaceAll(/\\(.)/g,"$1")}f=h.join('"')}return f}function u(f){let h=f.indexOf("'");if(h===-1)return f;let d=f.slice(0,h),b=f.slice(h+1).replace(/^[^']*'/,"");return i(d,b)}function c(f){return!f.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(f)?f:f.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(h,d,g,b){if(g==="q"||g==="Q")return b=b.replaceAll("_"," "),b=b.replaceAll(/=([0-9a-fA-F]{2})/g,function(v,w){return String.fromCharCode(parseInt(w,16))}),i(d,b);try{b=atob(b)}catch{}return i(d,b)})}return""}function bF(r,e){let t=new Headers;if(!r||!e||typeof e!="object")return t;for(let n in e){let i=e[n];i!==void 0&&t.append(n,i)}return t}function f_(r){return URL.parse(r)?.origin??null}function wF({responseHeaders:r,isHttp:e,rangeChunkSize:t,disableRange:n}){let i={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(r.get("Content-Length"),10);return!Number.isInteger(o)||(i.suggestedLength=o,o<=2*t)||n||!e||r.get("Accept-Ranges")!=="bytes"||(r.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function vF(r){let e=r.get("Content-Disposition");if(e){let t=pV(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(c_(t))return t}return null}function d0(r,e){return new Df(`Unexpected server response (${r}) while retrieving PDF "${e}".`,r,r===404||r===0&&e.startsWith("file:"))}function _F(r){return r===200||r===206}function EF(r,e,t){return{method:"GET",headers:r,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function AF(r){return r instanceof Uint8Array?r.buffer:r instanceof ArrayBuffer?r:(_t(`getArrayBuffer - unexpected data format: ${r}`),new Uint8Array(r).buffer)}function gV(r){let e=r.response;return typeof e!="string"?e:f0(e).buffer}function yV(r){if(mV.test(r))return new URL(r);let e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(r))}function RF(r={}){typeof r=="string"||r instanceof URL?r={url:r}:(r instanceof ArrayBuffer||ArrayBuffer.isView(r))&&(r={data:r});let e=new hS,{docId:t}=e,n=r.url?nV(r.url):null,i=r.data?iV(r.data):null,o=r.httpHeaders||null,s=r.withCredentials===!0,a=r.password??null,u=r.range instanceof hm?r.range:null,c=Number.isInteger(r.rangeChunkSize)&&r.rangeChunkSize>0?r.rangeChunkSize:2**16,f=r.worker instanceof _p?r.worker:null,h=r.verbosity,d=typeof r.docBaseUrl=="string"&&!h0(r.docBaseUrl)?r.docBaseUrl:null,g=bw(r.cMapUrl),b=r.cMapPacked!==!1,v=r.CMapReaderFactory||(Qn?Ix:bv),w=bw(r.iccUrl),y=bw(r.standardFontDataUrl),_=r.StandardFontDataFactory||(Qn?Ox:_v),E=bw(r.wasmUrl),S=r.WasmFactory||(Qn?Nx:Av),A=r.stopAtErrors!==!0,L=Number.isInteger(r.maxImageSize)&&r.maxImageSize>-1?r.maxImageSize:-1,D=r.isEvalSupported!==!1,K=typeof r.isOffscreenCanvasSupported=="boolean"?r.isOffscreenCanvasSupported:!Qn,re=typeof r.isImageDecoderSupported=="boolean"?r.isImageDecoderSupported:!Qn&&(Ur.platform.isFirefox||!globalThis.chrome),q=Number.isInteger(r.canvasMaxAreaInBytes)?r.canvasMaxAreaInBytes:-1,oe=typeof r.disableFontFace=="boolean"?r.disableFontFace:Qn,U=r.fontExtraProperties===!0,H=r.enableXfa===!0,ue=r.ownerDocument||globalThis.document,Se=r.disableRange===!0,Ae=r.disableStream===!0,j=r.disableAutoFetch===!0,I=r.pdfBug===!0,se=r.CanvasFactory||(Qn?Dx:xx),z=r.FilterFactory||(Qn?Rx:Sx),ie=r.enableHWA===!0,V=r.useWasm!==!1,X=u?u.length:r.length??NaN,we=typeof r.useSystemFonts=="boolean"?r.useSystemFonts:!Qn&&!oe,ve=typeof r.useWorkerFetch=="boolean"?r.useWorkerFetch:!!(v===bv&&_===_v&&S===Av&&g&&y&&E&&Pg(g,document.baseURI)&&Pg(y,document.baseURI)&&Pg(E,document.baseURI)),de=null;GG(h);let M={canvasFactory:new se({ownerDocument:ue,enableHWA:ie}),filterFactory:new z({docId:t,ownerDocument:ue}),cMapReaderFactory:ve?null:new v({baseUrl:g,isCompressed:b}),standardFontDataFactory:ve?null:new _({baseUrl:y}),wasmFactory:ve?null:new S({baseUrl:E})};f||(f=_p.create({verbosity:h,port:_s.workerPort}),e._worker=f);let N={docId:t,apiVersion:"5.4.530",data:i,password:a,disableAutoFetch:j,rangeChunkSize:c,length:X,docBaseUrl:d,enableXfa:H,evaluatorOptions:{maxImageSize:L,disableFontFace:oe,ignoreErrors:A,isEvalSupported:D,isOffscreenCanvasSupported:K,isImageDecoderSupported:re,canvasMaxAreaInBytes:q,fontExtraProperties:U,useSystemFonts:we,useWasm:V,useWorkerFetch:ve,cMapUrl:g,iccUrl:w,standardFontDataUrl:y,wasmUrl:E}},$={ownerDocument:ue,pdfBug:I,styleElement:de,loadingParams:{disableAutoFetch:j,enableXfa:H}};return f.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");let ne=f.messageHandler.sendWithPromise("GetDocRequest",N,i?[i.buffer]:null),ye;if(u)ye=new Kx(u,{disableRange:Se,disableStream:Ae});else if(!i){if(!n)throw new Error("getDocument - no `url` parameter provided.");let P=Pg(n)?Qx:Qn?oS:nS;ye=new P({url:n,length:X,httpHeaders:o,withCredentials:s,rangeChunkSize:c,disableRange:Se,disableStream:Ae})}return ne.then(P=>{if(e.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");let C=new fc(t,P,f.port),F=new gS(C,e,ye,$,M,ie);e._transport=F,C.send("Ready",null)})}).catch(e._capability.reject),e}function AM(r){return Math.floor(Math.max(0,Math.min(1,r))*255).toString(16).padStart(2,"0")}function kg(r){return Math.max(0,Math.min(255,255*r))}var Tw,Qn,qA,Cw,HG,ene,Vi,Za,sm,vt,Bt,xM,HA,on,rm,qr,Dh,c0,yp,Ig,SM,l_,Lf,av,nm,bp,Df,GA,Ys,Ur,FA,Ja,Rw,VA,st,UA,sM,Mh,om,am,ha,lc,tl,lm,wp,lv,vm,Rf,Mo,uv,YA,cv,uM,Il,Ol,us,cs,_m,Nl,Hh,Gh,Em,Wv,PM,On,BM,MM,Ih,Bg,ga,KA,Am,hc,ya,nl,FM,UM,JA,ZA,dc,pc,Vh,gc,tr,Mn,qv,QA,Yh,xm,Fn,Xh,Dw,ST,ex,Hr,kl,Sm,Sr,tx,Hv,$M,If,Gv,rx,Kh,Ri,Zh,Lr,ln,Jh,fs,Qh,hs,Un,Ll,Pl,ed,Bl,go,ds,mc,Tm,Cm,td,Rm,mo,Ml,rd,Fl,yo,Vv,Ul,nd,Dm,jl,yc,id,$l,Im,Xr,Kt,ba,zl,Wl,Om,sd,Nm,ql,bo,wa,km,Lm,ps,it,Iw,nx,zM,WM,Mg,qM,HM,GM,ix,VM,YM,XM,KM,Yn,da,ZM,JM,sx,QM,Fg,ox,jh,_u,gn,wo,Ps,od,vo,Di,ad,_o,pi,va,bc,Eo,Hl,Vs,Ug,Ow,Xn,fv,xn,gs,wc,gr,Pm,vc,Bs,_c,Ec,Ac,Bm,ax,Fh,ld,xc,Mm,Fm,Um,jm,$m,_a,Sc,Ea,Tc,Aa,Eu,eF,tF,rF,TT,um,Cc,Ms,Er,cr,xa,ud,Gl,zm,Sn,Rc,Sa,ms,Vl,Wm,Dc,Ii,qm,Ic,Ta,Ao,cd,fd,ys,Oc,Hm,Yv,mt,lx,Gm,ux,Nw,nF,iF,cx,kw,fx,sF,oF,aF,hx,lF,dx,uF,cF,fF,px,jg,At,mr,gx,cM,as,ho,hv,mx,Nc,kc,Ca,Tn,Xv,hF,cm,Vm,dv,hd,yx,rr,bx,dd,pd,Ym,gd,Lw,$h,pv,Yl,xo,Lc,Pc,$g,zh,gv,md,yd,bd,wd,Oi,So,Xm,nr,Fr,ks,Pw,zg,St,wx,Km,Zm,Jm,Qm,ey,ty,ry,ny,pr,vx,vd,_x,Ex,sV,dF,Ra,Kv,Ax,ww,Yr,_d,xs,pF,gF,mF,Bw,fc,iy,mv,xx,yv,bv,wv,Bc,Ed,Da,Ia,jn,Mc,Fc,ut,Bn,Wg,Oh,Mw,Nh,yF,Tx,kh,qg,Hg,Cx,Gg,Sx,vv,_v,Ev,Av,Rx,Dx,Ix,Ox,Nx,Rh,hM,dM,kx,Ad,Xl,Lx,_w,gi,mi,Uc,Fs,jc,Oa,Zt,ir,Na,yi,sy,xd,$c,zc,ka,$n,To,oy,Bx,Px,fr,Pr,Us,Sd,Td,CT,xv,ls,Dn,fm,Fx,Ux,jx,pM,Zv,$x,gM,mM,uV,yM,vi,$A,Yi,Uh,zx,Sv,fV,hV,dV,_M,Xs,Wx,qx,Hx,RT,qh,ay,ly,_s,Cd,uy,Gx,Lh,cy,fy,hy,Rd,Vx,Kl,sr,Dd,Id,dy,Xx,Yx,Kx,Zx,Jx,Qx,eS,tS,zA,WA,rS,nS,iS,sS,mV,oS,aS,lS,Ng,Ni,py,uS,Tv,bV,EM,Zl,ki,gy,my,Wc,La,yy,by,qc,wy,Od,Jl,Nd,vy,kd,Hc,_y,Ey,Ld,Gc,Ay,Pd,Bd,il,xF,SF,cS,Ki,Fw,fS,TF,CF,An,vp,wV,Jv,Qv,hS,Vc,xy,Sy,Ty,Cy,hm,dS,Pa,Yc,Vg,pS,Ql,js,Ba,Xc,e_,Kc,Zc,ei,Uw,DF,IF,Yg,Md,jw,_r,_p,Ma,Co,Fd,Ud,Fa,Jc,Xg,gS,eu,mS,tu,Qc,uc,yS,OF,NF,Li,ef,jd,un,Ry,$d,Ua,Dy,ru,$s,Iy,or,bS,wS,vS,sc,kF,Dl,di,dm,Ro,Oy,zd,Ny,cc,Cv,Rv,_S,Of,vV,Nf,_V,im,tf,Wd,bs,ky,ES,DT,Rr,AS,Xi,oc,LF,PF,pm,xS,rl,SS,TS,CS,Dv,RS,DS,Ly,IS,gm,Pi,nu,t_,r_,qd,Hd,Br,Do,iu,rf,Gd,Vd,Io,Bi,ja,$a,Mr,za,su,Py,Wa,Yd,nf,ou,mn,au,Ct,$w,NS,kS,LS,zw,PS,BF,MF,FF,UF,Ww,qw,BS,OS,Iv,By,MS,My,FS,Fy,US,Uy,Ov,jS,$S,jy,sf,$y,zS,mm,Nv,WS,qS,HS,kv,zy,Wy,VS,GS,of,af,Xd,lu,qy,lf,Mi,Hy,Qa,Hw,YS,IT,Lv,xw,Fi,Gy,uf,Ui,Kr,jF,$F,zF,Gw,el,Vw,Yw,WF,KS,qF,wr,XS,lt,ji,zs,Kd,Zd,Oo,Nt,cf,ff,Vy,Yy,Jd,Qd,uu,Xy,n_,i_,cn,Kg,HF,GF,VF,YF,XF,KF,ma,Pv,ep,hf,qa,Ky,$i,Zy,Gr,s_,ZF,Bv,Jy,Qy,e0,cu,Ws,ti,JF,Xw,QF,e3,ZS,ym,t0,tp,JS,bm,QS,rp,r0,Ha,df,n0,bi,i0,s0,pf,zi,Wi,Cn,np,ip,zn,sp,ws,o0,Tt,eT,Kw,t3,r3,n3,tT,ac,As,Ph,i3,Zw,Jw,s3,o3,a3,l3,u3,qt,Mv,gf,Fv,qi,op,yn,mf,yf,jt,rT,nT,iT,Zg,c3,Qw,Jg,Bh,Pt,Uv,No,bn,wn,bf,ap,Kn,Rn,vs,wf,vf,_f,lp,ev,sT,Zn,a0,l0,Hi,ko,Lo,up,cp,Ef,In,pa,f3,h3,d3,kf,jv,o_,p3,Wh,oT,wm,Sw,Lg,Af,Vt,aT,qs,g3,m3,lT,tv,y3,b3,w3,uT,cT,v3,Es,fT,hT,fu,Po,hu,xf,Ci,dT,Ar,vn,du,Ga,pu,fp,Va,Sf,Bo,Gi,hp,$t,em,tm,rv,nv,iv,pT,sv,_3,Qg,Tf,dp,gu,mu,Ya,wi,yu,pp,gp,Hs,Xa,_n,Ka,bu,mp,ft,wu,hr,gT,E3,po,mT,yT,ov,Ls,$v,Gs,Jn,Cf,u0,a_,A3,Fo,bT,x3,wT,an,zv,T3=Jt(()=>{Ne();Le();ke();Tw={};Tw.d=(r,e)=>{for(var t in e)Tw.o(e,t)&&!Tw.o(r,t)&&Object.defineProperty(r,t,{enumerable:!0,get:e[t]})};Tw.o=(r,e)=>Object.prototype.hasOwnProperty.call(r,e);Qn=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),qA=[.001,0,0,.001,0,0],Cw=1.35,HG=.35,ene=HG/Cw,Vi={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Za={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},sm="pdfjs_internal_editor_",vt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},Bt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},xM={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},HA={TRIANGLES:1,LATTICE:2,PATCH:3},on={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},rm={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},qr={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Dh={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},c0={ERRORS:0,WARNINGS:1,INFOS:5},yp={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},Ig={moveTo:0,lineTo:1,curveTo:2,quadraticCurveTo:3,closePath:4},SM={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},l_=c0.WARNINGS;Lf=(function(){function e(t,n){this.message=t,this.name=n}return e.prototype=new Error,e.constructor=e,e})(),av=class extends Lf{constructor(e,t){super(e,"PasswordException"),this.code=t}},nm=class extends Lf{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}},bp=class extends Lf{constructor(e){super(e,"InvalidPDFException")}},Df=class extends Lf{constructor(e,t,n){super(e,"ResponseException"),this.status=t,this.missing=n}},GA=class extends Lf{constructor(e){super(e,"FormatError")}},Ys=class extends Lf{constructor(e){super(e,"AbortException")}};Ur=class{static get isLittleEndian(){return wt(this,"isLittleEndian",KG())}static get isEvalSupported(){return wt(this,"isEvalSupported",ZG())}static get isOffscreenCanvasSupported(){return wt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return wt(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get isFloat16ArraySupported(){return wt(this,"isFloat16ArraySupported",typeof Float16Array<"u")}static get isSanitizerSupported(){return wt(this,"isSanitizerSupported",typeof Sanitizer<"u")}static get platform(){let{platform:e,userAgent:t}=navigator;return wt(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){return wt(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}},FA=Array.from(Array(256).keys(),r=>r.toString(16).padStart(2,"0")),st=class{static makeHexColor(e,t,n){return`#${FA[e]}${FA[t]}${FA[n]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[1],t[1]=n,n=t[2],t[2]=t[3],t[3]=n,e[1]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static multiplyByDOMMatrix(e,t){return[e[0]*t.a+e[2]*t.b,e[1]*t.a+e[3]*t.b,e[0]*t.c+e[2]*t.d,e[1]*t.c+e[3]*t.d,e[0]*t.e+e[2]*t.f+e[4],e[1]*t.e+e[3]*t.f+e[5]]}static applyTransform(e,t,n=0){let i=e[n],o=e[n+1];e[n]=i*t[0]+o*t[2]+t[4],e[n+1]=i*t[1]+o*t[3]+t[5]}static applyTransformToBezier(e,t,n=0){let i=t[0],o=t[1],s=t[2],a=t[3],u=t[4],c=t[5];for(let f=0;f<6;f+=2){let h=e[n+f],d=e[n+f+1];e[n+f]=h*i+d*s+u,e[n+f+1]=h*o+d*a+c}}static applyInverseTransform(e,t){let n=e[0],i=e[1],o=t[0]*t[3]-t[1]*t[2];e[0]=(n*t[3]-i*t[2]+t[2]*t[5]-t[4]*t[3])/o,e[1]=(-n*t[1]+i*t[0]+t[4]*t[1]-t[5]*t[0])/o}static axialAlignedBoundingBox(e,t,n){let i=t[0],o=t[1],s=t[2],a=t[3],u=t[4],c=t[5],f=e[0],h=e[1],d=e[2],g=e[3],b=i*f+u,v=b,w=i*d+u,y=w,_=a*h+c,E=_,S=a*g+c,A=S;if(o!==0||s!==0){let L=o*f,D=o*d,K=s*h,re=s*g;b+=K,y+=K,w+=re,v+=re,_+=L,A+=L,S+=D,E+=D}n[0]=Math.min(n[0],b,w,v,y),n[1]=Math.min(n[1],_,S,E,A),n[2]=Math.max(n[2],b,w,v,y),n[3]=Math.max(n[3],_,S,E,A)}static inverseTransform(e){let t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){let n=e[0],i=e[1],o=e[2],s=e[3],a=n**2+i**2,u=n*o+i*s,c=o**2+s**2,f=(a+c)/2,h=Math.sqrt(f**2-(a*c-u**2));t[0]=Math.sqrt(f+h||1),t[1]=Math.sqrt(f-h||1)}static normalizeRect(e){let t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){let n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>i)return null;let o=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),s=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return o>s?null:[n,o,i,s]}static pointBoundingBox(e,t,n){n[0]=Math.min(n[0],e),n[1]=Math.min(n[1],t),n[2]=Math.max(n[2],e),n[3]=Math.max(n[3],t)}static rectBoundingBox(e,t,n,i,o){o[0]=Math.min(o[0],e,n),o[1]=Math.min(o[1],t,i),o[2]=Math.max(o[2],e,n),o[3]=Math.max(o[3],t,i)}static bezierBoundingBox(e,t,n,i,o,s,a,u,c){c[0]=Math.min(c[0],e,a),c[1]=Math.min(c[1],t,u),c[2]=Math.max(c[2],e,a),c[3]=Math.max(c[3],t,u),ee(this,Ja,VA).call(this,e,n,o,a,t,i,s,u,3*(-e+3*(n-o)+a),6*(e-2*n+o),3*(n-e),c),ee(this,Ja,VA).call(this,e,n,o,a,t,i,s,u,3*(-t+3*(i-s)+u),6*(t-2*i+s),3*(i-t),c)}};Ja=new WeakSet,Rw=function(e,t,n,i,o,s,a,u,c,f){if(c<=0||c>=1)return;let h=1-c,d=c*c,g=d*c,b=h*(h*(h*e+3*c*t)+3*d*n)+g*i,v=h*(h*(h*o+3*c*s)+3*d*a)+g*u;f[0]=Math.min(f[0],b),f[1]=Math.min(f[1],v),f[2]=Math.max(f[2],b),f[3]=Math.max(f[3],v)},VA=function(e,t,n,i,o,s,a,u,c,f,h,d){if(Math.abs(c)<1e-12){Math.abs(f)>=1e-12&&ee(this,Ja,Rw).call(this,e,t,n,i,o,s,a,u,-h/f,d);return}let g=f**2-4*h*c;if(g<0)return;let b=Math.sqrt(g),v=2*c;ee(this,Ja,Rw).call(this,e,t,n,i,o,s,a,u,(-f+b)/v,d),ee(this,Ja,Rw).call(this,e,t,n,i,o,s,a,u,(-f-b)/v,d)},Y(st,Ja);UA=null,sM=null;Mh="pdfjs_internal_id_";typeof Promise.try!="function"&&(Promise.try=function(r,...e){return new Promise(t=>{t(r(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(r){return r.reduce((e,t)=>e+t,0)});om=class r{static textContent(e){let t=[],n={items:t,styles:Object.create(null)};function i(o){if(!o)return;let s=null,a=o.name;if(a==="#text")s=o.value;else if(r.shouldBuildText(a))o?.attributes?.textContent?s=o.attributes.textContent:o.value&&(s=o.value);else return;if(s!==null&&t.push({str:s}),!!o.children)for(let u of o.children)i(u)}return i(e),n}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}},am=class{static setupStorage(e,t,n,i,o){let s=i.getValue(t,{value:null});switch(n.name){case"textarea":if(s.value!==null&&(e.textContent=s.value),o==="print")break;e.addEventListener("input",a=>{i.setValue(t,{value:a.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(s.value===n.attributes.xfaOn?e.setAttribute("checked",!0):s.value===n.attributes.xfaOff&&e.removeAttribute("checked"),o==="print")break;e.addEventListener("change",a=>{i.setValue(t,{value:a.target.checked?a.target.getAttribute("xfaOn"):a.target.getAttribute("xfaOff")})})}else{if(s.value!==null&&e.setAttribute("value",s.value),o==="print")break;e.addEventListener("input",a=>{i.setValue(t,{value:a.target.value})})}break;case"select":if(s.value!==null){e.setAttribute("value",s.value);for(let a of n.children)a.attributes.value===s.value?a.attributes.selected=!0:a.attributes.hasOwnProperty("selected")&&delete a.attributes.selected}e.addEventListener("input",a=>{let u=a.target.options,c=u.selectedIndex===-1?"":u[u.selectedIndex].value;i.setValue(t,{value:c})});break}}static setAttributes({html:e,element:t,storage:n=null,intent:i,linkService:o}){let{attributes:s}=t,a=e instanceof HTMLAnchorElement;s.type==="radio"&&(s.name=`${s.name}-${i}`);for(let[u,c]of Object.entries(s))if(c!=null)switch(u){case"class":c.length&&e.setAttribute(u,c.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",c);break;case"style":Object.assign(e.style,c);break;case"textContent":e.textContent=c;break;default:(!a||u!=="href"&&u!=="newWindow")&&e.setAttribute(u,c)}a&&o.addLinkAttributes(e,s.href,s.newWindow),n&&s.dataId&&this.setupStorage(e,s.dataId,t,n)}static render(e){let t=e.annotationStorage,n=e.linkService,i=e.xfaHtml,o=e.intent||"display",s=document.createElement(i.name);i.attributes&&this.setAttributes({html:s,element:i,intent:o,linkService:n});let a=o!=="richText",u=e.div;if(u.append(s),e.viewport){let h=`matrix(${e.viewport.transform.join(",")})`;u.style.transform=h}a&&u.setAttribute("class","xfaLayer xfaFont");let c=[];if(i.children.length===0){if(i.value){let h=document.createTextNode(i.value);s.append(h),a&&om.shouldBuildText(i.name)&&c.push(h)}return{textDivs:c}}let f=[[i,-1,s]];for(;f.length>0;){let[h,d,g]=f.at(-1);if(d+1===h.children.length){f.pop();continue}let b=h.children[++f.at(-1)[1]];if(b===null)continue;let{name:v}=b;if(v==="#text"){let y=document.createTextNode(b.value);c.push(y),g.append(y);continue}let w=b?.attributes?.xmlns?document.createElementNS(b.attributes.xmlns,v):document.createElement(v);if(g.append(w),b.attributes&&this.setAttributes({html:w,element:b,storage:t,intent:o,linkService:n}),b.children?.length>0)f.push([b,-1,w]);else if(b.value){let y=document.createTextNode(b.value);a&&om.shouldBuildText(v)&&c.push(y),w.append(y)}}for(let h of u.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))h.setAttribute("readOnly",!0);return{textDivs:c}}static update(e){let t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}},ha="http://www.w3.org/2000/svg",lc=class lc{};Qe(lc,"CSS",96),Qe(lc,"PDF",72),Qe(lc,"PDF_TO_CSS_UNITS",lc.CSS/lc.PDF);tl=lc;lm=class r{constructor({viewBox:e,userUnit:t,scale:n,rotation:i,offsetX:o=0,offsetY:s=0,dontFlip:a=!1}){this.viewBox=e,this.userUnit=t,this.scale=n,this.rotation=i,this.offsetX=o,this.offsetY=s,n*=t;let u=(e[2]+e[0])/2,c=(e[3]+e[1])/2,f,h,d,g;switch(i%=360,i<0&&(i+=360),i){case 180:f=-1,h=0,d=0,g=1;break;case 90:f=0,h=1,d=1,g=0;break;case 270:f=0,h=-1,d=-1,g=0;break;case 0:f=1,h=0,d=0,g=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}a&&(d=-d,g=-g);let b,v,w,y;f===0?(b=Math.abs(c-e[1])*n+o,v=Math.abs(u-e[0])*n+s,w=(e[3]-e[1])*n,y=(e[2]-e[0])*n):(b=Math.abs(u-e[0])*n+o,v=Math.abs(c-e[1])*n+s,w=(e[2]-e[0])*n,y=(e[3]-e[1])*n),this.transform=[f*n,h*n,d*n,g*n,b-f*n*u-d*n*c,v-h*n*u-g*n*c],this.width=w,this.height=y}get rawDims(){let e=this.viewBox;return wt(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:i=this.offsetY,dontFlip:o=!1}={}){return new r({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:i,dontFlip:o})}convertToViewportPoint(e,t){let n=[e,t];return st.applyTransform(n,this.transform),n}convertToViewportRectangle(e){let t=[e[0],e[1]];st.applyTransform(t,this.transform);let n=[e[2],e[3]];return st.applyTransform(n,this.transform),[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){let n=[e,t];return st.applyInverseTransform(n,this.transform),n}},wp=class extends Lf{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}};lv=class{constructor(){Qe(this,"started",Object.create(null));Qe(this,"times",[])}time(e){e in this.started&&_t(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||_t(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){let e=[],t=0;for(let{name:n}of this.times)t=Math.max(n.length,t);for(let{name:n,start:i,end:o}of this.times)e.push(`${n.padEnd(t)} ${o-i}ms
`);return e.join("")}};Rf=class{static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;l(this,vm)||k(this,vm,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));let t=l(this,vm).exec(e);if(!t)return null;let n=parseInt(t[1],10),i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let o=parseInt(t[3],10);o=o>=1&&o<=31?o:1;let s=parseInt(t[4],10);s=s>=0&&s<=23?s:0;let a=parseInt(t[5],10);a=a>=0&&a<=59?a:0;let u=parseInt(t[6],10);u=u>=0&&u<=59?u:0;let c=t[7]||"Z",f=parseInt(t[8],10);f=f>=0&&f<=23?f:0;let h=parseInt(t[9],10)||0;return h=h>=0&&h<=59?h:0,c==="-"?(s+=f,a+=h):c==="+"&&(s-=f,a-=h),new Date(Date.UTC(n,i,o,s,a,u))}};vm=new WeakMap,Y(Rf,vm);Mo=class r{constructor(){let{pixelRatio:e}=r;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,n,i,o=-1){let s=1/0,a=1/0,u=1/0;n=r.capPixels(n,o),n>0&&(s=Math.sqrt(n/(e*t))),i!==-1&&(a=i/e,u=i/t);let c=Math.min(s,a,u);return this.sx>c||this.sy>c?(this.sx=c,this.sy=c,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){let n=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,n):n}return e}},uv=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"],YA=class{static get isDarkMode(){return wt(this,"isDarkMode",!!window?.matchMedia?.("(prefers-color-scheme: dark)").matches)}},cv=class{static get commentForegroundColor(){let e=document.createElement("span");e.classList.add("comment","sidebar");let{style:t}=e;t.width=t.height="0",t.display="none",t.color="var(--comment-fg-color)",document.body.append(e);let{color:n}=window.getComputedStyle(e);return e.remove(),wt(this,"commentForegroundColor",Ap(n))}};uM=new Map;ga=class ga{constructor(e){Y(this,On);Y(this,Il,null);Y(this,Ol,null);Y(this,us);Y(this,cs,null);Y(this,_m,null);Y(this,Nl,null);Y(this,Hh,null);Y(this,Gh,null);k(this,us,e),l(ga,Em)||k(ga,Em,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){let e=k(this,Il,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");let t=l(this,us)._uiManager._signal;t instanceof AbortSignal&&!t.aborted&&(e.addEventListener("contextmenu",Zi,{signal:t}),e.addEventListener("pointerdown",ee(ga,Wv,PM),{signal:t}));let n=k(this,cs,document.createElement("div"));n.className="buttons",e.append(n);let i=l(this,us).toolbarPosition;if(i){let{style:o}=e,s=l(this,us)._uiManager.direction==="ltr"?1-i[0]:i[0];o.insetInlineEnd=`${100*s}%`,o.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return l(this,Il)}hide(){l(this,Il).classList.add("hidden"),l(this,Ol)?.hideDropdown()}show(){l(this,Il).classList.remove("hidden"),l(this,_m)?.shown(),l(this,Nl)?.shown()}addDeleteButton(){let{editorType:e,_uiManager:t}=l(this,us),n=document.createElement("button");n.classList.add("basic","deleteButton"),n.tabIndex=0,n.setAttribute("data-l10n-id",l(ga,Em)[e]),ee(this,On,Ih).call(this,n)&&n.addEventListener("click",i=>{t.delete()},{signal:t._signal}),l(this,cs).append(n)}async addAltText(e){let t=await e.render();ee(this,On,Ih).call(this,t),l(this,cs).append(t,l(this,On,Bg)),k(this,_m,e)}addComment(e,t=null){if(l(this,Nl))return;let n=e.renderForToolbar();if(!n)return;ee(this,On,Ih).call(this,n);let i=k(this,Hh,l(this,On,Bg));t?(l(this,cs).insertBefore(n,t),l(this,cs).insertBefore(i,t)):l(this,cs).append(n,i),k(this,Nl,e),e.toolbar=this}addColorPicker(e){if(l(this,Ol))return;k(this,Ol,e);let t=e.renderButton();ee(this,On,Ih).call(this,t),l(this,cs).append(t,l(this,On,Bg))}async addEditSignatureButton(e){let t=k(this,Gh,await e.renderEditButton(l(this,us)));ee(this,On,Ih).call(this,t),l(this,cs).append(t,l(this,On,Bg))}removeButton(e){e==="comment"&&(l(this,Nl)?.removeToolbarCommentButton(),k(this,Nl,null),l(this,Hh)?.remove(),k(this,Hh,null))}async addButton(e,t){switch(e){case"colorPicker":t&&this.addColorPicker(t);break;case"altText":t&&await this.addAltText(t);break;case"editSignature":t&&await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break;case"comment":t&&this.addComment(t);break}}async addButtonBefore(e,t,n){if(!t&&e==="comment")return;let i=l(this,cs).querySelector(n);i&&e==="comment"&&this.addComment(t,i)}updateEditSignatureButton(e){l(this,Gh)&&(l(this,Gh).title=e)}remove(){l(this,Il).remove(),l(this,Ol)?.destroy(),k(this,Ol,null)}};Il=new WeakMap,Ol=new WeakMap,us=new WeakMap,cs=new WeakMap,_m=new WeakMap,Nl=new WeakMap,Hh=new WeakMap,Gh=new WeakMap,Em=new WeakMap,Wv=new WeakSet,PM=function(e){e.stopPropagation()},On=new WeakSet,BM=function(e){l(this,us)._focusEventsAllowed=!1,Cr(e)},MM=function(e){l(this,us)._focusEventsAllowed=!0,Cr(e)},Ih=function(e){let t=l(this,us)._uiManager._signal;return!(t instanceof AbortSignal)||t.aborted?!1:(e.addEventListener("focusin",ee(this,On,BM).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",ee(this,On,MM).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Zi,{signal:t}),!0)},Bg=function(){let e=document.createElement("div");return e.className="divider",e},Y(ga,Wv),Y(ga,Em,null);KA=ga,ZA=class{constructor(e){Y(this,nl);Y(this,Am,null);Y(this,hc,null);Y(this,ya);k(this,ya,e)}show(e,t,n){let[i,o]=ee(this,nl,UM).call(this,t,n),{style:s}=l(this,hc)||k(this,hc,ee(this,nl,FM).call(this));e.append(l(this,hc)),s.insetInlineEnd=`${100*i}%`,s.top=`calc(${100*o}% + var(--editor-toolbar-vert-offset))`}hide(){l(this,hc).remove()}};Am=new WeakMap,hc=new WeakMap,ya=new WeakMap,nl=new WeakSet,FM=function(){let e=k(this,hc,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");let t=l(this,ya)._signal;t instanceof AbortSignal&&!t.aborted&&e.addEventListener("contextmenu",Zi,{signal:t});let n=k(this,Am,document.createElement("div"));return n.className="buttons",e.append(n),l(this,ya).hasCommentManager()&&ee(this,nl,JA).call(this,"commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{l(this,ya).commentSelection("floating_button")}),ee(this,nl,JA).call(this,"highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{l(this,ya).highlightSelection("floating_button")}),e},UM=function(e,t){let n=0,i=0;for(let o of e){let s=o.y+o.height;if(s<n)continue;let a=o.x+(t?o.width:0);if(s>n){i=a,n=s;continue}t?a>i&&(i=a):a<i&&(i=a)}return[t?1-i:i,n]},JA=function(e,t,n,i){let o=document.createElement("button");o.classList.add("basic",e),o.tabIndex=0,o.setAttribute("data-l10n-id",t);let s=document.createElement("span");o.append(s),s.className="visuallyHidden",s.setAttribute("data-l10n-id",n);let a=l(this,ya)._signal;a instanceof AbortSignal&&!a.aborted&&(o.addEventListener("contextmenu",Zi,{signal:a}),o.addEventListener("click",i,{signal:a})),l(this,Am).append(o)};tr=class tr{static initializeAndAddPointerId(e){(l(tr,pc)||k(tr,pc,new Set)).add(e)}static setPointer(e,t){l(tr,dc)||k(tr,dc,t),l(tr,gc)??k(tr,gc,e)}static setTimeStamp(e){k(tr,Vh,e)}static isSamePointerId(e){return l(tr,dc)===e}static isSamePointerIdOrRemove(e){return l(tr,dc)===e?!0:(l(tr,pc)?.delete(e),!1)}static isSamePointerType(e){return l(tr,gc)===e}static isInitializedAndDifferentPointerType(e){return l(tr,gc)!==null&&!tr.isSamePointerType(e)}static isSameTimeStamp(e){return l(tr,Vh)===e}static isUsingMultiplePointers(){return l(tr,pc)?.size>=1}static clearPointerType(){k(tr,gc,null)}static clearPointerIds(){k(tr,dc,NaN),k(tr,pc,null)}static clearTimeStamp(){k(tr,Vh,NaN)}};dc=new WeakMap,pc=new WeakMap,Vh=new WeakMap,gc=new WeakMap,Y(tr,dc,NaN),Y(tr,pc,null),Y(tr,Vh,NaN),Y(tr,gc,null);Mn=tr,QA=class{constructor(){Y(this,qv,0)}get id(){return`${sm}${tn(this,qv)._++}`}};qv=new WeakMap;ST=class ST{constructor(){Y(this,Xh);Y(this,Yh,ET());Y(this,xm,0);Y(this,Fn,null)}static get _isSVGFittingCanvas(){let e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;let o=i.decode().then(()=>(n.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return wt(this,"_isSVGFittingCanvas",o)}async getFromFile(e){let{lastModified:t,name:n,size:i,type:o}=e;return ee(this,Xh,Dw).call(this,`${t}_${n}_${i}_${o}`,e)}async getFromUrl(e){return ee(this,Xh,Dw).call(this,e,e)}async getFromBlob(e,t){let n=await t;return ee(this,Xh,Dw).call(this,e,n)}async getFromId(e){l(this,Fn)||k(this,Fn,new Map);let t=l(this,Fn).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){let{blobPromise:n}=t;return delete t.blobPromise,this.getFromBlob(t.id,n)}return this.getFromUrl(t.url)}getFromCanvas(e,t){l(this,Fn)||k(this,Fn,new Map);let n=l(this,Fn).get(e);if(n?.bitmap)return n.refCounter+=1,n;let i=new OffscreenCanvas(t.width,t.height);return i.getContext("2d").drawImage(t,0,0),n={bitmap:i.transferToImageBitmap(),id:`image_${l(this,Yh)}_${tn(this,xm)._++}`,refCounter:1,isSvg:!1},l(this,Fn).set(e,n),l(this,Fn).set(n.id,n),n}getSvgUrl(e){let t=l(this,Fn).get(e);return t?.isSvg?t.svgUrl:null}deleteId(e){l(this,Fn)||k(this,Fn,new Map);let t=l(this,Fn).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;let{bitmap:n}=t;if(!t.url&&!t.file){let i=new OffscreenCanvas(n.width,n.height);i.getContext("bitmaprenderer").transferFromImageBitmap(n),t.blobPromise=i.convertToBlob()}n.close?.(),t.bitmap=null}isValidId(e){return e.startsWith(`image_${l(this,Yh)}_`)}};Yh=new WeakMap,xm=new WeakMap,Fn=new WeakMap,Xh=new WeakSet,Dw=async function(e,t){l(this,Fn)||k(this,Fn,new Map);let n=l(this,Fn).get(e);if(n===null)return null;if(n?.bitmap)return n.refCounter+=1,n;try{n||(n={bitmap:null,id:`image_${l(this,Yh)}_${tn(this,xm)._++}`,refCounter:0,isSvg:!1});let i;if(typeof t=="string"?(n.url=t,i=await Ep(t,"blob")):t instanceof File?i=n.file=t:t instanceof Blob&&(i=t),i.type==="image/svg+xml"){let o=ST._isSVGFittingCanvas,s=new FileReader,a=new Image,u=new Promise((c,f)=>{a.onload=()=>{n.bitmap=a,n.isSvg=!0,c()},s.onload=async()=>{let h=n.svgUrl=s.result;a.src=await o?`${h}#svgView(preserveAspectRatio(none))`:h},a.onerror=s.onerror=f});s.readAsDataURL(i),await u}else n.bitmap=await createImageBitmap(i);n.refCounter=1}catch(i){_t(i),n=null}return l(this,Fn).set(e,n),n&&l(this,Fn).set(n.id,n),n};ex=ST,tx=class{constructor(e=128){Y(this,Hr,[]);Y(this,kl,!1);Y(this,Sm);Y(this,Sr,-1);k(this,Sm,e)}add({cmd:e,undo:t,post:n,mustExec:i,type:o=NaN,overwriteIfSameType:s=!1,keepUndo:a=!1}){if(i&&e(),l(this,kl))return;let u={cmd:e,undo:t,post:n,type:o};if(l(this,Sr)===-1){l(this,Hr).length>0&&(l(this,Hr).length=0),k(this,Sr,0),l(this,Hr).push(u);return}if(s&&l(this,Hr)[l(this,Sr)].type===o){a&&(u.undo=l(this,Hr)[l(this,Sr)].undo),l(this,Hr)[l(this,Sr)]=u;return}let c=l(this,Sr)+1;c===l(this,Sm)?l(this,Hr).splice(0,1):(k(this,Sr,c),c<l(this,Hr).length&&l(this,Hr).splice(c)),l(this,Hr).push(u)}undo(){if(l(this,Sr)===-1)return;k(this,kl,!0);let{undo:e,post:t}=l(this,Hr)[l(this,Sr)];e(),t?.(),k(this,kl,!1),k(this,Sr,l(this,Sr)-1)}redo(){if(l(this,Sr)<l(this,Hr).length-1){k(this,Sr,l(this,Sr)+1),k(this,kl,!0);let{cmd:e,post:t}=l(this,Hr)[l(this,Sr)];e(),t?.(),k(this,kl,!1)}}hasSomethingToUndo(){return l(this,Sr)!==-1}hasSomethingToRedo(){return l(this,Sr)<l(this,Hr).length-1}cleanType(e){if(l(this,Sr)!==-1){for(let t=l(this,Sr);t>=0;t--)if(l(this,Hr)[t].type!==e){l(this,Hr).splice(t+1,l(this,Sr)-t),k(this,Sr,t);return}l(this,Hr).length=0,k(this,Sr,-1)}}destroy(){k(this,Hr,null)}};Hr=new WeakMap,kl=new WeakMap,Sm=new WeakMap,Sr=new WeakMap;If=class{constructor(e){Y(this,Hv);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;let{isMac:t}=Ur.platform;for(let[n,i,o={}]of e)for(let s of n){let a=s.startsWith("mac+");t&&a?(this.callbacks.set(s.slice(4),{callback:i,options:o}),this.allKeys.add(s.split("+").at(-1))):!t&&!a&&(this.callbacks.set(s,{callback:i,options:o}),this.allKeys.add(s.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;let n=this.callbacks.get(ee(this,Hv,$M).call(this,t));if(!n)return;let{callback:i,options:{bubbles:o=!1,args:s=[],checker:a=null}}=n;a&&!a(e,t)||(i.bind(e,...s,t)(),o||Cr(t))}};Hv=new WeakSet,$M=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);let t=this.buffer.join("+");return this.buffer.length=0,t};Gv=class Gv{get _colors(){let e=new Map([["CanvasText",null],["Canvas",null]]);return rV(e),wt(this,"_colors",e)}convert(e){let t=Ap(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(let[n,i]of this._colors)if(i.every((o,s)=>o===t[s]))return Gv._colorsMapping.get(n);return t}getHexCode(e){let t=this._colors.get(e);return t?st.makeHexColor(...t):e}};Qe(Gv,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));rx=Gv,jh=class jh{constructor(e,t,n,i,o,s,a,u,c,f,h,d,g,b,v,w){Y(this,it);Y(this,Kh,new AbortController);Y(this,Ri,null);Y(this,Zh,null);Y(this,Lr,new Map);Y(this,ln,new Map);Y(this,Jh,null);Y(this,fs,null);Y(this,Qh,null);Y(this,hs,new tx);Y(this,Un,null);Y(this,Ll,null);Y(this,Pl,null);Y(this,ed,0);Y(this,Bl,new Set);Y(this,go,null);Y(this,ds,null);Y(this,mc,new Set);Qe(this,"_editorUndoBar",null);Y(this,Tm,!1);Y(this,Cm,!1);Y(this,td,!1);Y(this,Rm,null);Y(this,mo,null);Y(this,Ml,null);Y(this,rd,null);Y(this,Fl,!1);Y(this,yo,null);Y(this,Vv,new QA);Y(this,Ul,!1);Y(this,nd,!1);Y(this,Dm,!1);Y(this,jl,null);Y(this,yc,null);Y(this,id,null);Y(this,$l,null);Y(this,Im,null);Y(this,Xr,vt.NONE);Y(this,Kt,new Set);Y(this,ba,null);Y(this,zl,null);Y(this,Wl,null);Y(this,Om,null);Y(this,sd,null);Y(this,Nm,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});Y(this,ql,[0,0]);Y(this,bo,null);Y(this,wa,null);Y(this,km,null);Y(this,Lm,null);Y(this,ps,null);let y=this._signal=l(this,Kh).signal;k(this,wa,e),k(this,km,t),k(this,Lm,n),k(this,Jh,i),k(this,Un,o),k(this,zl,s),k(this,sd,u),this._eventBus=a,a._on("editingaction",this.onEditingAction.bind(this),{signal:y}),a._on("pagechanging",this.onPageChanging.bind(this),{signal:y}),a._on("scalechanging",this.onScaleChanging.bind(this),{signal:y}),a._on("rotationchanging",this.onRotationChanging.bind(this),{signal:y}),a._on("setpreference",this.onSetPreference.bind(this),{signal:y}),a._on("switchannotationeditorparams",_=>this.updateParams(_.type,_.value),{signal:y}),window.addEventListener("pointerdown",()=>{k(this,nd,!0)},{capture:!0,signal:y}),window.addEventListener("pointerup",()=>{k(this,nd,!1)},{capture:!0,signal:y}),ee(this,it,qM).call(this),ee(this,it,KM).call(this),ee(this,it,ix).call(this),k(this,fs,u.annotationStorage),k(this,Rm,u.filterFactory),k(this,Wl,c),k(this,rd,f||null),k(this,Tm,h),k(this,Cm,d),k(this,td,g),k(this,Im,b||null),this.viewParameters={realScale:tl.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=v||null,this._supportsPinchToZoom=w!==!1,o?.setSidebarUiManager(this)}static get _keyboardManager(){let e=jh.prototype,t=s=>l(s,wa).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&s.hasSomethingToControl(),n=(s,{target:a})=>{if(a instanceof HTMLInputElement){let{type:u}=a;return u!=="text"&&u!=="number"}return!0},i=this.TRANSLATE_SMALL,o=this.TRANSLATE_BIG;return wt(this,"_keyboardManager",new If([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(s,{target:a})=>!(a instanceof HTMLButtonElement)&&l(s,wa).contains(a)&&!s.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(s,{target:a})=>!(a instanceof HTMLButtonElement)&&l(s,wa).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-o,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[o,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-o],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,o],checker:t}]]))}destroy(){l(this,ps)?.resolve(),k(this,ps,null),l(this,Kh)?.abort(),k(this,Kh,null),this._signal=null;for(let e of l(this,ln).values())e.destroy();l(this,ln).clear(),l(this,Lr).clear(),l(this,mc).clear(),l(this,$l)?.clear(),k(this,Ri,null),l(this,Kt).clear(),l(this,hs).destroy(),l(this,Jh)?.destroy(),l(this,Un)?.destroy(),l(this,zl)?.destroy(),l(this,yo)?.hide(),k(this,yo,null),l(this,id)?.destroy(),k(this,id,null),k(this,Zh,null),l(this,mo)&&(clearTimeout(l(this,mo)),k(this,mo,null)),l(this,bo)&&(clearTimeout(l(this,bo)),k(this,bo,null)),this._editorUndoBar?.destroy(),k(this,sd,null)}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return l(this,Im)}get useNewAltTextFlow(){return l(this,Cm)}get useNewAltTextWhenAddingImage(){return l(this,td)}get hcmFilter(){return wt(this,"hcmFilter",l(this,Wl)?l(this,Rm).addHCMFilter(l(this,Wl).foreground,l(this,Wl).background):"none")}get direction(){return wt(this,"direction",getComputedStyle(l(this,wa)).direction)}get _highlightColors(){return wt(this,"_highlightColors",l(this,rd)?new Map(l(this,rd).split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){let{_highlightColors:e}=this;if(!e)return wt(this,"highlightColors",null);let t=new Map,n=!!l(this,Wl);for(let[i,o]of e){let s=i.endsWith("_HCM");if(n&&s){t.set(i.replace("_HCM",""),o);continue}!n&&!s&&t.set(i,o)}return wt(this,"highlightColors",t)}get highlightColorNames(){return wt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;let t=this.highlightColorNames.get(e);return this._highlightColors.get(t)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),k(this,Pl,e)}setMainHighlightColorPicker(e){k(this,id,e)}editAltText(e,t=!1){l(this,Jh)?.editAltText(this,e,t)}hasCommentManager(){return!!l(this,Un)}editComment(e,t,n,i){l(this,Un)?.showDialog(this,e,t,n,i)}selectComment(e,t){l(this,ln).get(e)?.getEditorByUID(t)?.toggleComment(!0,!0)}updateComment(e){l(this,Un)?.updateComment(e.getData())}updatePopupColor(e){l(this,Un)?.updatePopupColor(e)}removeComment(e){l(this,Un)?.removeComments([e.uid])}toggleComment(e,t,n=void 0){l(this,Un)?.toggleCommentPopup(e,t,n)}makeCommentColor(e,t){return e&&l(this,Un)?.makeCommentColor(e,t)||null}getCommentDialogElement(){return l(this,Un)?.dialogElement||null}async waitForEditorsRendered(e){if(l(this,ln).has(e-1))return;let{resolve:t,promise:n}=Promise.withResolvers(),i=o=>{o.pageNumber===e&&(this._eventBus._off("editorsrendered",i),t())};this._eventBus.on("editorsrendered",i),await n}getSignature(e){l(this,zl)?.getSignature({uiManager:this,editor:e})}get signatureManager(){return l(this,zl)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){e==="enableNewAltTextWhenAddingImage"&&k(this,td,t)}onPageChanging({pageNumber:e}){k(this,ed,e-1)}focusMainContainer(){l(this,wa).focus()}findParent(e,t){for(let n of l(this,ln).values()){let{x:i,y:o,width:s,height:a}=n.div.getBoundingClientRect();if(e>=i&&e<=i+s&&t>=o&&t<=o+a)return n}return null}disableUserSelect(e=!1){l(this,km).classList.toggle("noUserSelect",e)}addShouldRescale(e){l(this,mc).add(e)}removeShouldRescale(e){l(this,mc).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*tl.PDF_TO_CSS_UNITS;for(let t of l(this,mc))t.onScaleChanging();l(this,Pl)?.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e="",t=!1){let n=document.getSelection();if(!n||n.isCollapsed)return;let{anchorNode:i,anchorOffset:o,focusNode:s,focusOffset:a}=n,u=n.toString(),f=ee(this,it,Iw).call(this,n).closest(".textLayer"),h=this.getSelectionBoxes(f);if(!h)return;n.empty();let d=ee(this,it,nx).call(this,f),g=l(this,Xr)===vt.NONE,b=()=>{let v=d?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:h,anchorNode:i,anchorOffset:o,focusNode:s,focusOffset:a,text:u});g&&this.showAllEditors("highlight",!0,!0),t&&v?.editComment()};if(g){this.switchToMode(vt.HIGHLIGHT,b);return}b()}commentSelection(e=""){this.highlightSelection(e,!0)}getAndRemoveDataFromAnnotationStorage(e){if(!l(this,fs))return null;let t=`${sm}${e}`,n=l(this,fs).getRawValue(t);return n&&l(this,fs).remove(t),n}addToAnnotationStorage(e){!e.isEmpty()&&l(this,fs)&&!l(this,fs).has(e.id)&&l(this,fs).setValue(e.id,e)}a11yAlert(e,t=null){let n=l(this,Lm);n&&(n.setAttribute("data-l10n-id",e),t?n.setAttribute("data-l10n-args",JSON.stringify(t)):n.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,l(this,Fl)&&(k(this,Fl,!1),ee(this,it,Mg).call(this,"main_toolbar")),!this.hasSelection)return;let{activeElement:e}=document;for(let t of l(this,Kt))if(t.div.contains(e)){k(this,yc,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!l(this,yc))return;let[e,t]=l(this,yc);k(this,yc,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){ee(this,it,ix).call(this),this.setEditingState(!0)}removeEditListeners(){ee(this,it,VM).call(this),this.setEditingState(!1)}dragOver(e){for(let{type:t}of e.dataTransfer.items)for(let n of l(this,ds))if(n.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(let t of e.dataTransfer.items)for(let n of l(this,ds))if(n.isHandlingMimeForPasting(t.type)){n.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){if(e.preventDefault(),l(this,Ri)?.commitOrRemove(),!this.hasSelection)return;let t=[];for(let n of l(this,Kt)){let i=n.serialize(!0);i&&t.push(i)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();let{clipboardData:t}=e;for(let o of t.items)for(let s of l(this,ds))if(s.isHandlingMimeForPasting(o.type)){s.paste(o,this.currentLayer);return}let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(o){_t(`paste: "${o.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();let i=this.currentLayer;try{let o=[];for(let u of n){let c=await i.deserialize(u);if(!c)return;o.push(c)}let s=()=>{for(let u of o)ee(this,it,sx).call(this,u);ee(this,it,ox).call(this,o)},a=()=>{for(let u of o)u.remove()};this.addCommands({cmd:s,undo:a,mustExec:!0})}catch(o){_t(`paste: "${o.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),l(this,Xr)!==vt.NONE&&!this.isEditorHandlingKeyboard&&jh._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,l(this,Fl)&&(k(this,Fl,!1),ee(this,it,Mg).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}setEditingState(e){e?(ee(this,it,HM).call(this),ee(this,it,YM).call(this),ee(this,it,Yn).call(this,{isEditing:l(this,Xr)!==vt.NONE,isEmpty:ee(this,it,Fg).call(this),hasSomethingToUndo:l(this,hs).hasSomethingToUndo(),hasSomethingToRedo:l(this,hs).hasSomethingToRedo(),hasSelectedEditor:!1})):(ee(this,it,GM).call(this),ee(this,it,XM).call(this),ee(this,it,Yn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!l(this,ds)){k(this,ds,e);for(let t of l(this,ds))ee(this,it,da).call(this,t.defaultPropertiesToUpdate)}}getId(){return l(this,Vv).id}get currentLayer(){return l(this,ln).get(l(this,ed))}getLayer(e){return l(this,ln).get(e)}get currentPageIndex(){return l(this,ed)}addLayer(e){l(this,ln).set(e.pageIndex,e),l(this,Ul)?e.enable():e.disable()}removeLayer(e){l(this,ln).delete(e.pageIndex)}async updateMode(e,t=null,n=!1,i=!1,o=!1,s=!1){if(l(this,Xr)!==e&&!(l(this,ps)&&(await l(this,ps).promise,!l(this,ps)))){if(k(this,ps,Promise.withResolvers()),l(this,Pl)?.commitOrRemove(),l(this,Xr)===vt.POPUP&&l(this,Un)?.hideSidebar(),l(this,Un)?.destroyPopup(),k(this,Xr,e),e===vt.NONE){this.setEditingState(!1),ee(this,it,JM).call(this);for(let a of l(this,Lr).values())a.hideStandaloneCommentButton();this._editorUndoBar?.hide(),this.toggleComment(null),l(this,ps).resolve();return}for(let a of l(this,Lr).values())a.addStandaloneCommentButton();e===vt.SIGNATURE&&await l(this,zl)?.loadSignatures(),n&&Mn.clearPointerType(),this.setEditingState(!0),await ee(this,it,ZM).call(this),this.unselectAll();for(let a of l(this,ln).values())a.updateMode(e);if(e===vt.POPUP){l(this,Zh)||k(this,Zh,await l(this,sd).getAnnotationsByType(new Set(l(this,ds).map(c=>c._editorType))));let a=new Set,u=[];for(let c of l(this,Lr).values()){let{annotationElementId:f,hasComment:h,deleted:d}=c;f&&a.add(f),h&&!d&&u.push(c.getData())}for(let c of l(this,Zh)){let{id:f,popupRef:h,contentsObj:d}=c;h&&d?.str&&!a.has(f)&&!l(this,Bl).has(f)&&u.push(c)}l(this,Un)?.showSidebar(u)}if(!t){i&&this.addNewEditorFromKeyboard(),l(this,ps).resolve();return}for(let a of l(this,Lr).values())a.uid===t?(this.setSelected(a),s?a.editComment():o?a.enterInEditMode():a.focus()):a.unselect();l(this,ps).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==l(this,Xr)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){if(l(this,ds)){switch(e){case Bt.CREATE:this.currentLayer.addNewEditor(t);return;case Bt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(l(this,Om)||k(this,Om,new Map)).set(e,t),this.showAllEditors("highlight",t);break}if(this.hasSelection)for(let n of l(this,Kt))n.updateParams(e,t);else for(let n of l(this,ds))n.updateDefaultParams(e,t)}}showAllEditors(e,t,n=!1){for(let o of l(this,Lr).values())o.editorType===e&&o.show(t);(l(this,Om)?.get(Bt.HIGHLIGHT_SHOW_ALL)??!0)!==t&&ee(this,it,da).call(this,[[Bt.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(l(this,Dm)!==e){k(this,Dm,e);for(let t of l(this,ln).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}*getEditors(e){for(let t of l(this,Lr).values())t.pageIndex===e&&(yield t)}getEditor(e){return l(this,Lr).get(e)}addEditor(e){l(this,Lr).set(e.id,e)}removeEditor(e){e.div.contains(document.activeElement)&&(l(this,mo)&&clearTimeout(l(this,mo)),k(this,mo,setTimeout(()=>{this.focusMainContainer(),k(this,mo,null)},0))),l(this,Lr).delete(e.id),e.annotationElementId&&l(this,$l)?.delete(e.annotationElementId),this.unselect(e),(!e.annotationElementId||!l(this,Bl).has(e.annotationElementId))&&l(this,fs)?.remove(e.id)}addDeletedAnnotationElement(e){l(this,Bl).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return l(this,Bl).has(e)}removeDeletedAnnotationElement(e){l(this,Bl).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){l(this,Ri)!==e&&(k(this,Ri,e),e&&ee(this,it,da).call(this,e.propertiesToUpdate))}updateUI(e){l(this,it,QM)===e&&ee(this,it,da).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){ee(this,it,da).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(l(this,Kt).has(e)){l(this,Kt).delete(e),e.unselect(),ee(this,it,Yn).call(this,{hasSelectedEditor:this.hasSelection});return}l(this,Kt).add(e),e.select(),ee(this,it,da).call(this,e.propertiesToUpdate),ee(this,it,Yn).call(this,{hasSelectedEditor:!0})}setSelected(e){this.updateToolbar({mode:e.mode,editId:e.uid}),l(this,Pl)?.commitOrRemove();for(let t of l(this,Kt))t!==e&&t.unselect();l(this,Kt).clear(),l(this,Kt).add(e),e.select(),ee(this,it,da).call(this,e.propertiesToUpdate),ee(this,it,Yn).call(this,{hasSelectedEditor:!0})}isSelected(e){return l(this,Kt).has(e)}get firstSelectedEditor(){return l(this,Kt).values().next().value}unselect(e){e.unselect(),l(this,Kt).delete(e),ee(this,it,Yn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return l(this,Kt).size!==0}get isEnterHandled(){return l(this,Kt).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){l(this,hs).undo(),ee(this,it,Yn).call(this,{hasSomethingToUndo:l(this,hs).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:ee(this,it,Fg).call(this)}),this._editorUndoBar?.hide()}redo(){l(this,hs).redo(),ee(this,it,Yn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:l(this,hs).hasSomethingToRedo(),isEmpty:ee(this,it,Fg).call(this)})}addCommands(e){l(this,hs).add(e),ee(this,it,Yn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:ee(this,it,Fg).call(this)})}cleanUndoStack(e){l(this,hs).cleanType(e)}delete(){this.commitOrRemove();let e=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!e)return;let t=e?[e]:[...l(this,Kt)],n=()=>{this._editorUndoBar?.show(i,t.length===1?t[0].editorType:t.length);for(let o of t)o.remove()},i=()=>{for(let o of t)ee(this,it,sx).call(this,o)};this.addCommands({cmd:n,undo:i,mustExec:!0})}commitOrRemove(){l(this,Ri)?.commitOrRemove()}hasSomethingToControl(){return l(this,Ri)||this.hasSelection}selectAll(){for(let e of l(this,Kt))e.commit();ee(this,it,ox).call(this,l(this,Lr).values())}unselectAll(){if(!(l(this,Ri)&&(l(this,Ri).commitOrRemove(),l(this,Xr)!==vt.NONE))&&!l(this,Pl)?.commitOrRemove()&&this.hasSelection){for(let e of l(this,Kt))e.unselect();l(this,Kt).clear(),ee(this,it,Yn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;l(this,ql)[0]+=e,l(this,ql)[1]+=t;let[i,o]=l(this,ql),s=[...l(this,Kt)],a=1e3;l(this,bo)&&clearTimeout(l(this,bo)),k(this,bo,setTimeout(()=>{k(this,bo,null),l(this,ql)[0]=l(this,ql)[1]=0,this.addCommands({cmd:()=>{for(let u of s)l(this,Lr).has(u.id)&&(u.translateInPage(i,o),u.translationDone())},undo:()=>{for(let u of s)l(this,Lr).has(u.id)&&(u.translateInPage(-i,-o),u.translationDone())},mustExec:!1})},a));for(let u of s)u.translateInPage(e,t),u.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),k(this,go,new Map);for(let e of l(this,Kt))l(this,go).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!l(this,go))return!1;this.disableUserSelect(!1);let e=l(this,go);k(this,go,null);let t=!1;for(let[{x:i,y:o,pageIndex:s},a]of e)a.newX=i,a.newY=o,a.newPageIndex=s,t||(t=i!==a.savedX||o!==a.savedY||s!==a.savedPageIndex);if(!t)return!1;let n=(i,o,s,a)=>{if(l(this,Lr).has(i.id)){let u=l(this,ln).get(a);u?i._setParentAndPosition(u,o,s):(i.pageIndex=a,i.x=o,i.y=s)}};return this.addCommands({cmd:()=>{for(let[i,{newX:o,newY:s,newPageIndex:a}]of e)n(i,o,s,a)},undo:()=>{for(let[i,{savedX:o,savedY:s,savedPageIndex:a}]of e)n(i,o,s,a)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(l(this,go))for(let n of l(this,go).keys())n.drag(e,t)}rebuild(e){if(e.parent===null){let t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||l(this,Kt).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return l(this,Ri)===e}getActive(){return l(this,Ri)}getMode(){return l(this,Xr)}isEditingMode(){return l(this,Xr)!==vt.NONE}get imageManager(){return wt(this,"imageManager",new ex)}getSelectionBoxes(e){if(!e)return null;let t=document.getSelection();for(let c=0,f=t.rangeCount;c<f;c++)if(!e.contains(t.getRangeAt(c).commonAncestorContainer))return null;let{x:n,y:i,width:o,height:s}=e.getBoundingClientRect(),a;switch(e.getAttribute("data-main-rotation")){case"90":a=(c,f,h,d)=>({x:(f-i)/s,y:1-(c+h-n)/o,width:d/s,height:h/o});break;case"180":a=(c,f,h,d)=>({x:1-(c+h-n)/o,y:1-(f+d-i)/s,width:h/o,height:d/s});break;case"270":a=(c,f,h,d)=>({x:1-(f+d-i)/s,y:(c-n)/o,width:d/s,height:h/o});break;default:a=(c,f,h,d)=>({x:(c-n)/o,y:(f-i)/s,width:h/o,height:d/s});break}let u=[];for(let c=0,f=t.rangeCount;c<f;c++){let h=t.getRangeAt(c);if(!h.collapsed)for(let{x:d,y:g,width:b,height:v}of h.getClientRects())b===0||v===0||u.push(a(d,g,b,v))}return u.length===0?null:u}addChangedExistingAnnotation({annotationElementId:e,id:t}){(l(this,Qh)||k(this,Qh,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){l(this,Qh)?.delete(e)}renderAnnotationElement(e){let t=l(this,Qh)?.get(e.data.id);if(!t)return;let n=l(this,fs).getRawValue(t);n&&(l(this,Xr)===vt.NONE&&!n.hasBeenModified||n.renderAnnotationElement(e))}setMissingCanvas(e,t,n){let i=l(this,$l)?.get(e);i&&(i.setCanvas(t,n),l(this,$l).delete(e))}addMissingCanvas(e,t){(l(this,$l)||k(this,$l,new Map)).set(e,t)}};Kh=new WeakMap,Ri=new WeakMap,Zh=new WeakMap,Lr=new WeakMap,ln=new WeakMap,Jh=new WeakMap,fs=new WeakMap,Qh=new WeakMap,hs=new WeakMap,Un=new WeakMap,Ll=new WeakMap,Pl=new WeakMap,ed=new WeakMap,Bl=new WeakMap,go=new WeakMap,ds=new WeakMap,mc=new WeakMap,Tm=new WeakMap,Cm=new WeakMap,td=new WeakMap,Rm=new WeakMap,mo=new WeakMap,Ml=new WeakMap,rd=new WeakMap,Fl=new WeakMap,yo=new WeakMap,Vv=new WeakMap,Ul=new WeakMap,nd=new WeakMap,Dm=new WeakMap,jl=new WeakMap,yc=new WeakMap,id=new WeakMap,$l=new WeakMap,Im=new WeakMap,Xr=new WeakMap,Kt=new WeakMap,ba=new WeakMap,zl=new WeakMap,Wl=new WeakMap,Om=new WeakMap,sd=new WeakMap,Nm=new WeakMap,ql=new WeakMap,bo=new WeakMap,wa=new WeakMap,km=new WeakMap,Lm=new WeakMap,ps=new WeakMap,it=new WeakSet,Iw=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},nx=function(e){let{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(let n of l(this,ln).values())if(n.hasTextLayer(e))return n;return null},zM=function(){let e=document.getSelection();if(!e||e.isCollapsed)return;let n=ee(this,it,Iw).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(n);i&&(l(this,yo)||k(this,yo,new ZA(this)),l(this,yo).show(n,i,this.direction==="ltr"))},WM=function(){let e=document.getSelection();if(!e||e.isCollapsed){l(this,ba)&&(l(this,yo)?.hide(),k(this,ba,null),ee(this,it,Yn).call(this,{hasSelectedText:!1}));return}let{anchorNode:t}=e;if(t===l(this,ba))return;let i=ee(this,it,Iw).call(this,e).closest(".textLayer");if(!i){l(this,ba)&&(l(this,yo)?.hide(),k(this,ba,null),ee(this,it,Yn).call(this,{hasSelectedText:!1}));return}if(l(this,yo)?.hide(),k(this,ba,t),ee(this,it,Yn).call(this,{hasSelectedText:!0}),!(l(this,Xr)!==vt.HIGHLIGHT&&l(this,Xr)!==vt.NONE)&&(l(this,Xr)===vt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),k(this,Fl,this.isShiftKeyDown),!this.isShiftKeyDown)){let o=l(this,Xr)===vt.HIGHLIGHT?ee(this,it,nx).call(this,i):null;if(o?.toggleDrawing(),l(this,nd)){let s=new AbortController,a=this.combinedSignal(s),u=c=>{c.type==="pointerup"&&c.button!==0||(s.abort(),o?.toggleDrawing(!0),c.type==="pointerup"&&ee(this,it,Mg).call(this,"main_toolbar"))};window.addEventListener("pointerup",u,{signal:a}),window.addEventListener("blur",u,{signal:a})}else o?.toggleDrawing(!0),ee(this,it,Mg).call(this,"main_toolbar")}},Mg=function(e=""){l(this,Xr)===vt.HIGHLIGHT?this.highlightSelection(e):l(this,Tm)&&ee(this,it,zM).call(this)},qM=function(){document.addEventListener("selectionchange",ee(this,it,WM).bind(this),{signal:this._signal})},HM=function(){if(l(this,Ml))return;k(this,Ml,new AbortController);let e=this.combinedSignal(l(this,Ml));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},GM=function(){l(this,Ml)?.abort(),k(this,Ml,null)},ix=function(){if(l(this,jl))return;k(this,jl,new AbortController);let e=this.combinedSignal(l(this,jl));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},VM=function(){l(this,jl)?.abort(),k(this,jl,null)},YM=function(){if(l(this,Ll))return;k(this,Ll,new AbortController);let e=this.combinedSignal(l(this,Ll));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},XM=function(){l(this,Ll)?.abort(),k(this,Ll,null)},KM=function(){let e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},Yn=function(e){Object.entries(e).some(([n,i])=>l(this,Nm)[n]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(l(this,Nm),e)}),l(this,Xr)===vt.HIGHLIGHT&&e.hasSelectedEditor===!1&&ee(this,it,da).call(this,[[Bt.HIGHLIGHT_FREE,!0]]))},da=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},ZM=async function(){if(!l(this,Ul)){k(this,Ul,!0);let e=[];for(let t of l(this,ln).values())e.push(t.enable());await Promise.all(e);for(let t of l(this,Lr).values())t.enable()}},JM=function(){if(this.unselectAll(),l(this,Ul)){k(this,Ul,!1);for(let e of l(this,ln).values())e.disable();for(let e of l(this,Lr).values())e.disable()}},sx=function(e){let t=l(this,ln).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},QM=function(){let e=null;for(e of l(this,Kt));return e},Fg=function(){if(l(this,Lr).size===0)return!0;if(l(this,Lr).size===1)for(let e of l(this,Lr).values())return e.isEmpty();return!1},ox=function(e){for(let t of l(this,Kt))t.unselect();l(this,Kt).clear();for(let t of e)t.isEmpty()||(l(this,Kt).add(t),t.select());ee(this,it,Yn).call(this,{hasSelectedEditor:this.hasSelection})},Qe(jh,"TRANSLATE_SMALL",1),Qe(jh,"TRANSLATE_BIG",10);_u=jh,Xn=class Xn{constructor(e){Y(this,Vs);Y(this,gn,null);Y(this,wo,!1);Y(this,Ps,null);Y(this,od,null);Y(this,vo,null);Y(this,Di,null);Y(this,ad,!1);Y(this,_o,null);Y(this,pi,null);Y(this,va,null);Y(this,bc,null);Y(this,Eo,!1);k(this,pi,e),k(this,Eo,e._uiManager.useNewAltTextFlow),l(Xn,Hl)||k(Xn,Hl,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){Xn._l10n??(Xn._l10n=e)}async render(){let e=k(this,Ps,document.createElement("button"));e.className="altText",e.tabIndex="0";let t=k(this,od,document.createElement("span"));e.append(t),l(this,Eo)?(e.classList.add("new"),e.setAttribute("data-l10n-id",l(Xn,Hl).missing),t.setAttribute("data-l10n-id",l(Xn,Hl)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));let n=l(this,pi)._uiManager._signal;e.addEventListener("contextmenu",Zi,{signal:n}),e.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:n});let i=o=>{o.preventDefault(),l(this,pi)._uiManager.editAltText(l(this,pi)),l(this,Eo)&&l(this,pi)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:l(this,Vs,Ug)}})};return e.addEventListener("click",i,{capture:!0,signal:n}),e.addEventListener("keydown",o=>{o.target===e&&o.key==="Enter"&&(k(this,ad,!0),i(o))},{signal:n}),await ee(this,Vs,Ow).call(this),e}finish(){l(this,Ps)&&(l(this,Ps).focus({focusVisible:l(this,ad)}),k(this,ad,!1))}isEmpty(){return l(this,Eo)?l(this,gn)===null:!l(this,gn)&&!l(this,wo)}hasData(){return l(this,Eo)?l(this,gn)!==null||!!l(this,va):this.isEmpty()}get guessedText(){return l(this,va)}async setGuessedText(e){l(this,gn)===null&&(k(this,va,e),k(this,bc,await Xn._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),ee(this,Vs,Ow).call(this))}toggleAltTextBadge(e=!1){if(!l(this,Eo)||l(this,gn)){l(this,_o)?.remove(),k(this,_o,null);return}if(!l(this,_o)){let t=k(this,_o,document.createElement("div"));t.className="noAltTextBadge",l(this,pi).div.append(t)}l(this,_o).classList.toggle("hidden",!e)}serialize(e){let t=l(this,gn);return!e&&l(this,va)===t&&(t=l(this,bc)),{altText:t,decorative:l(this,wo),guessedText:l(this,va),textWithDisclaimer:l(this,bc)}}get data(){return{altText:l(this,gn),decorative:l(this,wo)}}set data({altText:e,decorative:t,guessedText:n,textWithDisclaimer:i,cancel:o=!1}){n&&(k(this,va,n),k(this,bc,i)),!(l(this,gn)===e&&l(this,wo)===t)&&(o||(k(this,gn,e),k(this,wo,t)),ee(this,Vs,Ow).call(this))}toggle(e=!1){l(this,Ps)&&(!e&&l(this,Di)&&(clearTimeout(l(this,Di)),k(this,Di,null)),l(this,Ps).disabled=!e)}shown(){l(this,pi)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:l(this,Vs,Ug)}})}destroy(){l(this,Ps)?.remove(),k(this,Ps,null),k(this,od,null),k(this,vo,null),l(this,_o)?.remove(),k(this,_o,null)}};gn=new WeakMap,wo=new WeakMap,Ps=new WeakMap,od=new WeakMap,vo=new WeakMap,Di=new WeakMap,ad=new WeakMap,_o=new WeakMap,pi=new WeakMap,va=new WeakMap,bc=new WeakMap,Eo=new WeakMap,Hl=new WeakMap,Vs=new WeakSet,Ug=function(){return l(this,gn)&&"added"||l(this,gn)===null&&this.guessedText&&"review"||"missing"},Ow=async function(){let e=l(this,Ps);if(!e)return;if(l(this,Eo)){if(e.classList.toggle("done",!!l(this,gn)),e.setAttribute("data-l10n-id",l(Xn,Hl)[l(this,Vs,Ug)]),l(this,od)?.setAttribute("data-l10n-id",l(Xn,Hl)[`${l(this,Vs,Ug)}-label`]),!l(this,gn)){l(this,vo)?.remove();return}}else{if(!l(this,gn)&&!l(this,wo)){e.classList.remove("done"),l(this,vo)?.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=l(this,vo);if(!t){k(this,vo,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${l(this,pi).id}`;let i=100,o=l(this,pi)._uiManager._signal;o.addEventListener("abort",()=>{clearTimeout(l(this,Di)),k(this,Di,null)},{once:!0}),e.addEventListener("mouseenter",()=>{k(this,Di,setTimeout(()=>{k(this,Di,null),l(this,vo).classList.add("show"),l(this,pi)._reportTelemetry({action:"alt_text_tooltip"})},i))},{signal:o}),e.addEventListener("mouseleave",()=>{l(this,Di)&&(clearTimeout(l(this,Di)),k(this,Di,null)),l(this,vo)?.classList.remove("show")},{signal:o})}l(this,wo)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=l(this,gn)),t.parentNode||e.append(t),l(this,pi).getElementForAltText()?.setAttribute("aria-describedby",t.id)},Y(Xn,Hl,null),Qe(Xn,"_l10n",null);fv=Xn,Fh=class{constructor(e){Y(this,Bm);Y(this,xn,null);Y(this,gs,null);Y(this,wc,!1);Y(this,gr,null);Y(this,Pm,null);Y(this,vc,null);Y(this,Bs,null);Y(this,_c,null);Y(this,Ec,!1);Y(this,Ac,null);k(this,gr,e)}renderForToolbar(){let e=k(this,gs,document.createElement("button"));return e.className="comment",ee(this,Bm,ax).call(this,e,!1)}renderForStandalone(){let e=k(this,xn,document.createElement("button"));e.className="annotationCommentButton";let t=l(this,gr).commentButtonPosition;if(t){let{style:n}=e;n.insetInlineEnd=`calc(${100*(l(this,gr)._uiManager.direction==="ltr"?1-t[0]:t[0])}% - var(--comment-button-dim))`,n.top=`calc(${100*t[1]}% - var(--comment-button-dim))`;let i=l(this,gr).commentButtonColor;i&&(n.backgroundColor=i)}return ee(this,Bm,ax).call(this,e,!0)}focusButton(){setTimeout(()=>{(l(this,xn)??l(this,gs))?.focus()},0)}onUpdatedColor(){if(!l(this,xn))return;let e=l(this,gr).commentButtonColor;e&&(l(this,xn).style.backgroundColor=e),l(this,gr)._uiManager.updatePopupColor(l(this,gr))}get commentButtonWidth(){return(l(this,xn)?.getBoundingClientRect().width??0)/l(this,gr).parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(l(this,Ac))return l(this,Ac);if(!l(this,xn))return null;let{x:e,y:t,height:n}=l(this,xn).getBoundingClientRect(),{x:i,y:o,width:s,height:a}=l(this,gr).parent.boundingClientRect;return[(e-i)/s,(t+n-o)/a]}set commentPopupPositionInLayer(e){k(this,Ac,e)}hasDefaultPopupPosition(){return l(this,Ac)===null}removeStandaloneCommentButton(){l(this,xn)?.remove(),k(this,xn,null)}removeToolbarCommentButton(){l(this,gs)?.remove(),k(this,gs,null)}setCommentButtonStates({selected:e,hasPopup:t}){l(this,xn)&&(l(this,xn).classList.toggle("selected",e),l(this,xn).ariaExpanded=t)}edit(e){let t=this.commentPopupPositionInLayer,n,i;if(t)[n,i]=t;else{[n,i]=l(this,gr).commentButtonPosition;let{width:f,height:h,x:d,y:g}=l(this,gr);n=d+n*f,i=g+i*h}let o=l(this,gr).parent.boundingClientRect,{x:s,y:a,width:u,height:c}=o;l(this,gr)._uiManager.editComment(l(this,gr),s+n*u,a+i*c,{...e,parentDimensions:o})}finish(){l(this,gs)&&(l(this,gs).focus({focusVisible:l(this,wc)}),k(this,wc,!1))}isDeleted(){return l(this,Ec)||l(this,Bs)===""}isEmpty(){return l(this,Bs)===null}hasBeenEdited(){return this.isDeleted()||l(this,Bs)!==l(this,Pm)}serialize(){return this.data}get data(){return{text:l(this,Bs),richText:l(this,vc),date:l(this,_c),deleted:this.isDeleted()}}set data(e){if(e!==l(this,Bs)&&k(this,vc,null),e===null){k(this,Bs,""),k(this,Ec,!0);return}k(this,Bs,e),k(this,_c,new Date),k(this,Ec,!1)}setInitialText(e,t=null){k(this,Pm,e),this.data=e,k(this,_c,null),k(this,vc,t)}shown(){}destroy(){l(this,gs)?.remove(),k(this,gs,null),l(this,xn)?.remove(),k(this,xn,null),k(this,Bs,""),k(this,vc,null),k(this,_c,null),k(this,gr,null),k(this,wc,!1),k(this,Ec,!1)}};xn=new WeakMap,gs=new WeakMap,wc=new WeakMap,gr=new WeakMap,Pm=new WeakMap,vc=new WeakMap,Bs=new WeakMap,_c=new WeakMap,Ec=new WeakMap,Ac=new WeakMap,Bm=new WeakSet,ax=function(e,t){if(!l(this,gr)._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",t?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[l(this,gr)._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-add-comment-button"));let n=l(this,gr)._uiManager._signal;if(!(n instanceof AbortSignal)||n.aborted)return e;e.addEventListener("contextmenu",Zi,{signal:n}),t&&(e.addEventListener("focusin",o=>{l(this,gr)._focusEventsAllowed=!1,Cr(o)},{capture:!0,signal:n}),e.addEventListener("focusout",o=>{l(this,gr)._focusEventsAllowed=!0,Cr(o)},{capture:!0,signal:n})),e.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:n});let i=o=>{o.preventDefault(),e===l(this,gs)?this.edit():l(this,gr).toggleComment(!0)};return e.addEventListener("click",i,{capture:!0,signal:n}),e.addEventListener("keydown",o=>{o.target===e&&o.key==="Enter"&&(k(this,wc,!0),i(o))},{signal:n}),e.addEventListener("pointerenter",()=>{l(this,gr).toggleComment(!1,!0)},{signal:n}),e.addEventListener("pointerleave",()=>{l(this,gr).toggleComment(!1,!1)},{signal:n}),e};TT=class TT{constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:n=null,onPinchStart:i=null,onPinching:o=null,onPinchEnd:s=null,signal:a}){Y(this,Eu);Y(this,ld);Y(this,xc,!1);Y(this,Mm,null);Y(this,Fm);Y(this,Um);Y(this,jm);Y(this,$m);Y(this,_a,null);Y(this,Sc);Y(this,Ea,null);Y(this,Tc);Y(this,Aa,null);k(this,ld,e),k(this,Mm,n),k(this,Fm,t),k(this,Um,i),k(this,jm,o),k(this,$m,s),k(this,Tc,new AbortController),k(this,Sc,AbortSignal.any([a,l(this,Tc).signal])),e.addEventListener("touchstart",ee(this,Eu,eF).bind(this),{passive:!1,signal:l(this,Sc)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Mo.pixelRatio}destroy(){l(this,Tc)?.abort(),k(this,Tc,null),l(this,_a)?.abort(),k(this,_a,null)}};ld=new WeakMap,xc=new WeakMap,Mm=new WeakMap,Fm=new WeakMap,Um=new WeakMap,jm=new WeakMap,$m=new WeakMap,_a=new WeakMap,Sc=new WeakMap,Ea=new WeakMap,Tc=new WeakMap,Aa=new WeakMap,Eu=new WeakSet,eF=function(e){var i,o,s;if((i=l(this,Fm))!=null&&i.call(this))return;if(e.touches.length===1){if(l(this,_a))return;let a=k(this,_a,new AbortController),u=AbortSignal.any([l(this,Sc),a.signal]),c=l(this,ld),f={capture:!0,signal:u,passive:!1},h=d=>{d.pointerType==="touch"&&(l(this,_a)?.abort(),k(this,_a,null))};c.addEventListener("pointerdown",d=>{d.pointerType==="touch"&&(Cr(d),h(d))},f),c.addEventListener("pointerup",h,f),c.addEventListener("pointercancel",h,f);return}if(!l(this,Aa)){k(this,Aa,new AbortController);let a=AbortSignal.any([l(this,Sc),l(this,Aa).signal]),u=l(this,ld),c={signal:a,capture:!1,passive:!1};u.addEventListener("touchmove",ee(this,Eu,tF).bind(this),c);let f=ee(this,Eu,rF).bind(this);u.addEventListener("touchend",f,c),u.addEventListener("touchcancel",f,c),c.capture=!0,u.addEventListener("pointerdown",Cr,c),u.addEventListener("pointermove",Cr,c),u.addEventListener("pointercancel",Cr,c),u.addEventListener("pointerup",Cr,c),(o=l(this,Um))==null||o.call(this)}if(Cr(e),e.touches.length!==2||(s=l(this,Mm))!=null&&s.call(this)){k(this,Ea,null);return}let[t,n]=e.touches;t.identifier>n.identifier&&([t,n]=[n,t]),k(this,Ea,{touch0X:t.screenX,touch0Y:t.screenY,touch1X:n.screenX,touch1Y:n.screenY})},tF=function(e){var S;if(!l(this,Ea)||e.touches.length!==2)return;Cr(e);let[t,n]=e.touches;t.identifier>n.identifier&&([t,n]=[n,t]);let{screenX:i,screenY:o}=t,{screenX:s,screenY:a}=n,u=l(this,Ea),{touch0X:c,touch0Y:f,touch1X:h,touch1Y:d}=u,g=h-c,b=d-f,v=s-i,w=a-o,y=Math.hypot(v,w)||1,_=Math.hypot(g,b)||1;if(!l(this,xc)&&Math.abs(_-y)<=TT.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(u.touch0X=i,u.touch0Y=o,u.touch1X=s,u.touch1Y=a,!l(this,xc)){k(this,xc,!0);return}let E=[(i+s)/2,(o+a)/2];(S=l(this,jm))==null||S.call(this,E,_,y)},rF=function(e){var t;e.touches.length>=2||(l(this,Aa)&&(l(this,Aa).abort(),k(this,Aa,null),(t=l(this,$m))==null||t.call(this)),l(this,Ea)&&(Cr(e),k(this,Ea,null),k(this,xc,!1)))};um=TT,At=class At{constructor(e){Y(this,mt);Y(this,Cc,null);Y(this,Ms,null);Y(this,Er,null);Y(this,cr,null);Y(this,xa,null);Y(this,ud,!1);Y(this,Gl,null);Y(this,zm,"");Y(this,Sn,null);Y(this,Rc,null);Y(this,Sa,null);Y(this,ms,null);Y(this,Vl,null);Y(this,Wm,"");Y(this,Dc,!1);Y(this,Ii,null);Y(this,qm,!1);Y(this,Ic,!1);Y(this,Ta,!1);Y(this,Ao,null);Y(this,cd,0);Y(this,fd,0);Y(this,ys,null);Y(this,Oc,null);Qe(this,"isSelected",!1);Qe(this,"_isCopy",!1);Qe(this,"_editToolbar",null);Qe(this,"_initialOptions",Object.create(null));Qe(this,"_initialData",null);Qe(this,"_isVisible",!0);Qe(this,"_uiManager",null);Qe(this,"_focusEventsAllowed",!0);Y(this,Hm,!1);Y(this,Yv,At._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null,this.canAddComment=!0;let{rotation:t,rawDims:{pageWidth:n,pageHeight:i,pageX:o,pageY:s}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,i],this.pageTranslation=[o,s];let[a,u]=this.parentDimensions;this.x=e.x/a,this.y=e.y/u,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){let e=At.prototype._resizeWithKeyboard,t=_u.TRANSLATE_SMALL,n=_u.TRANSLATE_BIG;return wt(this,"_resizerKeyboardManager",new If([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],At.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return wt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){let t=new gx({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(At._l10n??(At._l10n=e),At._l10nResizer||(At._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),At._borderLineWidth!==-1)return;let n=getComputedStyle(document.documentElement);At._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){dr("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return l(this,Hm)}set _isDraggable(e){k(this,Hm,e),this.div?.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){let[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=l(this,Yv)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(ee(this,mt,jg).call(this),l(this,ms)?.remove(),k(this,ms,null)),this.parent=e}focusin(e){this._focusEventsAllowed&&(l(this,Dc)?k(this,Dc,!1):this.parent.setSelected(this))}focusout(e){!this._focusEventsAllowed||!this.isAttachedToDOM||e.relatedTarget?.closest(`#${this.id}`)||(e.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,i){let[o,s]=this.parentDimensions;[n,i]=this.screenToPageTranslation(n,i),this.x=(e+n)/o,this.y=(t+i)/s,this.fixAndSetPosition()}_moveAfterPaste(e,t){let[n,i]=this.parentDimensions;this.setAt(e*n,t*i,this.width*n,this.height*i),this._onTranslated()}translate(e,t){ee(this,mt,lx).call(this,this.parentDimensions,e,t)}translateInPage(e,t){l(this,Ii)||k(this,Ii,[this.x,this.y,this.width,this.height]),ee(this,mt,lx).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){l(this,Ii)||k(this,Ii,[this.x,this.y,this.width,this.height]);let{div:n,parentDimensions:[i,o]}=this;if(this.x+=e/i,this.y+=t/o,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){let{x:h,y:d}=this.div.getBoundingClientRect();this.parent.findNewParent(this,h,d)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:a}=this,[u,c]=this.getBaseTranslation();s+=u,a+=c;let{style:f}=n;f.left=`${(100*s).toFixed(2)}%`,f.top=`${(100*a).toFixed(2)}%`,this._onTranslating(s,a),n.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!l(this,Ii)&&(l(this,Ii)[0]!==this.x||l(this,Ii)[1]!==this.y)}get _hasBeenResized(){return!!l(this,Ii)&&(l(this,Ii)[2]!==this.width||l(this,Ii)[3]!==this.height)}getBaseTranslation(){let[e,t]=this.parentDimensions,{_borderLineWidth:n}=At,i=n/e,o=n/t;switch(this.rotation){case 90:return[-i,o];case 180:return[i,o];case 270:return[i,-o];default:return[-i,-o]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){let{div:{style:t},pageDimensions:[n,i]}=this,{x:o,y:s,width:a,height:u}=this;if(a*=n,u*=i,o*=n,s*=i,this._mustFixPosition)switch(e){case 0:o=Wn(o,0,n-a),s=Wn(s,0,i-u);break;case 90:o=Wn(o,0,n-u),s=Wn(s,a,i);break;case 180:o=Wn(o,a,n),s=Wn(s,u,i);break;case 270:o=Wn(o,u,n),s=Wn(s,0,i-a);break}this.x=o/=n,this.y=s/=i;let[c,f]=this.getBaseTranslation();o+=c,s+=f,t.left=`${(100*o).toFixed(2)}%`,t.top=`${(100*s).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var n;return ee(n=At,Gm,ux).call(n,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var n;return ee(n=At,Gm,ux).call(n,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){let{parentScale:e,pageDimensions:[t,n]}=this;return[t*e,n*e]}setDims(){let{div:{style:e},width:t,height:n}=this;e.width=`${(100*t).toFixed(2)}%`,e.height=`${(100*n).toFixed(2)}%`}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){l(this,Er)?.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||l(this,Ic))return this._editToolbar;this._editToolbar=new KA(this),this.div.append(this._editToolbar.render());let{toolbarButtons:e}=this;if(e)for(let[t,n]of e)await this._editToolbar.addButton(t,n);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){this._editToolbar?.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){this._editToolbar?.removeButton("comment")}removeEditToolbar(){this._editToolbar?.remove(),this._editToolbar=null,l(this,Er)?.destroy()}addContainer(e){let t=this._editToolbar?.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return l(this,Er)||(fv.initialize(At._l10n),k(this,Er,new fv(this)),l(this,Cc)&&(l(this,Er).data=l(this,Cc),k(this,Cc,null))),l(this,Er)}get altTextData(){return l(this,Er)?.data}set altTextData(e){l(this,Er)&&(l(this,Er).data=e)}get guessedAltText(){return l(this,Er)?.guessedText}async setGuessedAltText(e){await l(this,Er)?.setGuessedText(e)}serializeAltText(e){return l(this,Er)?.serialize(e)}hasAltText(){return!!l(this,Er)&&!l(this,Er).isEmpty()}hasAltTextData(){return l(this,Er)?.hasData()??!1}focusCommentButton(){l(this,cr)?.focusButton()}addCommentButton(){return this.canAddComment?l(this,cr)||k(this,cr,new Fh(this)):null}addStandaloneCommentButton(){if(this._uiManager.hasCommentManager()){if(l(this,xa)){this._uiManager.isEditingMode()&&l(this,xa).classList.remove("hidden");return}this.hasComment&&(k(this,xa,l(this,cr).renderForStandalone()),this.div.append(l(this,xa)))}}removeStandaloneCommentButton(){l(this,cr).removeStandaloneCommentButton(),k(this,xa,null)}hideStandaloneCommentButton(){l(this,xa)?.classList.add("hidden")}get comment(){let{data:{richText:e,text:t,date:n,deleted:i}}=l(this,cr);return{text:t,richText:e,date:n,deleted:i,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){l(this,cr)||k(this,cr,new Fh(this)),l(this,cr).data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:t,richText:n}){if(!t||(l(this,cr)||k(this,cr,new Fh(this)),l(this,cr).setInitialText(e,n),!this.annotationElementId))return;let i=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);i&&this.updateFromAnnotationLayer(i)}get hasEditedComment(){return l(this,cr)?.hasBeenEdited()}get hasDeletedComment(){return l(this,cr)?.isDeleted()}get hasComment(){return!!l(this,cr)&&!l(this,cr).isEmpty()&&!l(this,cr).isDeleted()}async editComment(e){l(this,cr)||k(this,cr,new Fh(this)),l(this,cr).edit(e)}toggleComment(e,t=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,t)}setSelectedCommentButton(e){l(this,cr).setSelectedButton(e)}addComment(e){if(this.hasEditedComment){let[,,,i]=e.rect,[o]=this.pageDimensions,[s]=this.pageTranslation,a=s+o+1,u=i-100,c=a+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[a,u,c,i]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:t}}){l(this,cr).data=t?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){let e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=l(this,ud)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),ee(this,mt,dx).call(this);let[t,n]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*n/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/n).toFixed(2)}%`);let[i,o]=this.getInitialTranslation();return this.translate(i,o),jM(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(l(this,Oc)||k(this,Oc,new um({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:ee(this,mt,sF).bind(this),onPinching:ee(this,mt,oF).bind(this),onPinchEnd:ee(this,mt,aF).bind(this),signal:this._uiManager._signal}))),this.addStandaloneCommentButton(),this._uiManager._editorUndoBar?.hide(),e}pointerdown(e){let{isMac:t}=Ur.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(k(this,Dc,!0),this._isDraggable){ee(this,mt,lF).call(this,e);return}ee(this,mt,hx).call(this,e)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){l(this,Ao)&&clearTimeout(l(this,Ao)),k(this,Ao,setTimeout(()=>{k(this,Ao,null),this.parent?.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,n=this.rotation){let i=this.parentScale,[o,s]=this.pageDimensions,[a,u]=this.pageTranslation,c=e/i,f=t/i,h=this.x*o,d=this.y*s,g=this.width*o,b=this.height*s;switch(n){case 0:return[h+c+a,s-d-f-b+u,h+c+g+a,s-d-f+u];case 90:return[h+f+a,s-d+c+u,h+f+b+a,s-d+c+g+u];case 180:return[h-c-g+a,s-d+f+u,h-c+a,s-d+f+b+u];case 270:return[h-f-b+a,s-d-c-g+u,h-f+a,s-d-c+u];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){let[n,i,o,s]=e,a=o-n,u=s-i;switch(this.rotation){case 0:return[n,t-s,a,u];case 90:return[n,t-i,u,a];case 180:return[o,t-i,a,u];case 270:return[o,t-s,u,a];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&At._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){l(this,cr)?.onUpdatedColor()}getData(){let{comment:{text:e,color:t,date:n,opacity:i,deleted:o,richText:s},uid:a,pageIndex:u,creationDate:c,modificationDate:f}=this;return{id:a,pageIndex:u,rect:this.getPDFRect(),richText:s,contentsObj:{str:e},creationDate:c,modificationDate:n||f,popupRef:!o,color:t,opacity:i}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),k(this,Ic,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),k(this,Ic,!1),!0):!1}isInEditMode(){return l(this,Ic)}shouldGetKeyboardEvents(){return l(this,Ta)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){let{top:e,left:t,bottom:n,right:i}=this.getClientDimensions(),{innerHeight:o,innerWidth:s}=window;return t<s&&i>0&&e<o&&n>0}rebuild(){ee(this,mt,dx).call(this)}rotate(e){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(e=!1,t=null){return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:this._initialData?.popupRef||""}}static async deserialize(e,t,n){let i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});i.rotation=e.rotation,k(i,Cc,e.accessibilityData),i._isCopy=e.isCopy||!1;let[o,s]=i.pageDimensions,[a,u,c,f]=i.getRectInCurrentCoords(e.rect,s);return i.x=a/o,i.y=u/s,i.width=c/o,i.height=f/s,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(l(this,Vl)?.abort(),k(this,Vl,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.hideCommentPopup(),l(this,Ao)&&(clearTimeout(l(this,Ao)),k(this,Ao,null)),ee(this,mt,jg).call(this),this.removeEditToolbar(),l(this,ys)){for(let e of l(this,ys).values())clearTimeout(e);k(this,ys,null)}this.parent=null,l(this,Oc)?.destroy(),k(this,Oc,null),l(this,ms)?.remove(),k(this,ms,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(ee(this,mt,nF).call(this),l(this,Sn).classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){let{commentButtonPosition:[e,t]}=this,[n,i,o,s]=this.getPDFRect();return[At._round(n+(o-n)*e),At._round(i+(s-i)*(1-t))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return l(this,cr).commentPopupPositionInLayer}set commentPopupPosition(e){l(this,cr).commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return l(this,cr).hasDefaultPopupPosition()}get commentButtonWidth(){return l(this,cr).commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){l(this,cr)?.setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),k(this,Sa,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});let t=l(this,Sn).children;if(!l(this,Ms)){k(this,Ms,Array.from(t));let s=ee(this,mt,uF).bind(this),a=ee(this,mt,cF).bind(this),u=this._uiManager._signal;for(let c of l(this,Ms)){let f=c.getAttribute("data-resizer-name");c.setAttribute("role","spinbutton"),c.addEventListener("keydown",s,{signal:u}),c.addEventListener("blur",a,{signal:u}),c.addEventListener("focus",ee(this,mt,fF).bind(this,f),{signal:u}),c.setAttribute("data-l10n-id",At._l10nResizer[f])}}let n=l(this,Ms)[0],i=0;for(let s of t){if(s===n)break;i++}let o=(360-this.rotation+this.parentRotation)%360/90*(l(this,Ms).length/4);if(o!==i){if(o<i)for(let a=0;a<i-o;a++)l(this,Sn).append(l(this,Sn).firstElementChild);else if(o>i)for(let a=0;a<o-i;a++)l(this,Sn).firstElementChild.before(l(this,Sn).lastElementChild);let s=0;for(let a of t){let c=l(this,Ms)[s++].getAttribute("data-resizer-name");a.setAttribute("data-l10n-id",At._l10nResizer[c])}}ee(this,mt,px).call(this,0),k(this,Ta,!0),l(this,Sn).firstElementChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){l(this,Ta)&&ee(this,mt,fx).call(this,l(this,Wm),{deltaX:e,deltaY:t,fromKeyboard:!0})}_stopResizingWithKeyboard(){ee(this,mt,jg).call(this),this.div.focus()}select(){if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),l(this,Er)?.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>this.div?.focus({preventScroll:!0}),0)}unselect(){this.isSelected&&(this.isSelected=!1,l(this,Sn)?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),l(this,Er)?.toggleAltTextBadge(!0),this.hideCommentPopup())}hideCommentPopup(){this.hasComment&&this._uiManager.toggleComment(null)}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.uid}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return l(this,qm)}set isEditing(e){k(this,qm,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){l(this,ys)||k(this,ys,new Map);let{action:n}=e,i=l(this,ys).get(n);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),l(this,ys).delete(n),l(this,ys).size===0&&k(this,ys,null)},At._telemetryTimeout),l(this,ys).set(n,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),k(this,ud,!1)}disable(){this.div&&(this.div.tabIndex=-1),k(this,ud,!0)}updateFakeAnnotationElement(e){if(!l(this,ms)&&!this.deleted){k(this,ms,e.addFakeAnnotation(this));return}if(this.deleted){l(this,ms).remove(),k(this,ms,null);return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&l(this,ms).updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){let n=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),n.before(t)}return t}resetAnnotationElement(e){let{firstElementChild:t}=e.container;t?.nodeName==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};Cc=new WeakMap,Ms=new WeakMap,Er=new WeakMap,cr=new WeakMap,xa=new WeakMap,ud=new WeakMap,Gl=new WeakMap,zm=new WeakMap,Sn=new WeakMap,Rc=new WeakMap,Sa=new WeakMap,ms=new WeakMap,Vl=new WeakMap,Wm=new WeakMap,Dc=new WeakMap,Ii=new WeakMap,qm=new WeakMap,Ic=new WeakMap,Ta=new WeakMap,Ao=new WeakMap,cd=new WeakMap,fd=new WeakMap,ys=new WeakMap,Oc=new WeakMap,Hm=new WeakMap,Yv=new WeakMap,mt=new WeakSet,lx=function([e,t],n,i){[n,i]=this.screenToPageTranslation(n,i),this.x+=n/e,this.y+=i/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},Gm=new WeakSet,ux=function(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},Nw=function(e){switch(e){case 90:{let[t,n]=this.pageDimensions;return[0,-t/n,n/t,0]}case 180:return[-1,0,0,-1];case 270:{let[t,n]=this.pageDimensions;return[0,t/n,-n/t,0]}default:return[1,0,0,1]}},nF=function(){if(l(this,Sn))return;k(this,Sn,document.createElement("div")),l(this,Sn).classList.add("resizers");let e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(let n of e){let i=document.createElement("div");l(this,Sn).append(i),i.classList.add("resizer",n),i.setAttribute("data-resizer-name",n),i.addEventListener("pointerdown",ee(this,mt,iF).bind(this,n),{signal:t}),i.addEventListener("contextmenu",Zi,{signal:t}),i.tabIndex=-1}this.div.prepend(l(this,Sn))},iF=function(e,t){t.preventDefault();let{isMac:n}=Ur.platform;if(t.button!==0||t.ctrlKey&&n)return;l(this,Er)?.toggle(!1);let i=this._isDraggable;this._isDraggable=!1,k(this,Rc,[t.screenX,t.screenY]);let o=new AbortController,s=this._uiManager.combinedSignal(o);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",ee(this,mt,fx).bind(this,e),{passive:!0,capture:!0,signal:s}),window.addEventListener("touchmove",Cr,{passive:!1,signal:s}),window.addEventListener("contextmenu",Zi,{signal:s}),k(this,Sa,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});let a=this.parent.div.style.cursor,u=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;let c=()=>{o.abort(),this.parent.togglePointerEvents(!0),l(this,Er)?.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=a,this.div.style.cursor=u,ee(this,mt,kw).call(this)};window.addEventListener("pointerup",c,{signal:s}),window.addEventListener("blur",c,{signal:s})},cx=function(e,t,n,i){this.width=n,this.height=i,this.x=e,this.y=t,this.setDims(),this.fixAndSetPosition(),this._onResized()},kw=function(){if(!l(this,Sa))return;let{savedX:e,savedY:t,savedWidth:n,savedHeight:i}=l(this,Sa);k(this,Sa,null);let o=this.x,s=this.y,a=this.width,u=this.height;o===e&&s===t&&a===n&&u===i||this.addCommands({cmd:ee(this,mt,cx).bind(this,o,s,a,u),undo:ee(this,mt,cx).bind(this,e,t,n,i),mustExec:!0})},fx=function(e,t){let[n,i]=this.parentDimensions,o=this.x,s=this.y,a=this.width,u=this.height,c=At.MIN_SIZE/n,f=At.MIN_SIZE/i,h=ee(this,mt,Nw).call(this,this.rotation),d=(Ae,j)=>[h[0]*Ae+h[2]*j,h[1]*Ae+h[3]*j],g=ee(this,mt,Nw).call(this,360-this.rotation),b=(Ae,j)=>[g[0]*Ae+g[2]*j,g[1]*Ae+g[3]*j],v,w,y=!1,_=!1;switch(e){case"topLeft":y=!0,v=(Ae,j)=>[0,0],w=(Ae,j)=>[Ae,j];break;case"topMiddle":v=(Ae,j)=>[Ae/2,0],w=(Ae,j)=>[Ae/2,j];break;case"topRight":y=!0,v=(Ae,j)=>[Ae,0],w=(Ae,j)=>[0,j];break;case"middleRight":_=!0,v=(Ae,j)=>[Ae,j/2],w=(Ae,j)=>[0,j/2];break;case"bottomRight":y=!0,v=(Ae,j)=>[Ae,j],w=(Ae,j)=>[0,0];break;case"bottomMiddle":v=(Ae,j)=>[Ae/2,j],w=(Ae,j)=>[Ae/2,0];break;case"bottomLeft":y=!0,v=(Ae,j)=>[0,j],w=(Ae,j)=>[Ae,0];break;case"middleLeft":_=!0,v=(Ae,j)=>[0,j/2],w=(Ae,j)=>[Ae,j/2];break}let E=v(a,u),S=w(a,u),A=d(...S),L=At._round(o+A[0]),D=At._round(s+A[1]),K=1,re=1,q,oe;if(t.fromKeyboard)({deltaX:q,deltaY:oe}=t);else{let{screenX:Ae,screenY:j}=t,[I,se]=l(this,Rc);[q,oe]=this.screenToPageTranslation(Ae-I,j-se),l(this,Rc)[0]=Ae,l(this,Rc)[1]=j}if([q,oe]=b(q/n,oe/i),y){let Ae=Math.hypot(a,u);K=re=Math.max(Math.min(Math.hypot(S[0]-E[0]-q,S[1]-E[1]-oe)/Ae,1/a,1/u),c/a,f/u)}else _?K=Wn(Math.abs(S[0]-E[0]-q),c,1)/a:re=Wn(Math.abs(S[1]-E[1]-oe),f,1)/u;let U=At._round(a*K),H=At._round(u*re);A=d(...w(U,H));let ue=L-A[0],Se=D-A[1];l(this,Ii)||k(this,Ii,[this.x,this.y,this.width,this.height]),this.width=U,this.height=H,this.x=ue,this.y=Se,this.setDims(),this.fixAndSetPosition(),this._onResizing()},sF=function(){k(this,Sa,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),l(this,Er)?.toggle(!1),this.parent.togglePointerEvents(!1)},oF=function(e,t,n){let o=.7*(n/t)+1-.7;if(o===1)return;let s=ee(this,mt,Nw).call(this,this.rotation),a=(L,D)=>[s[0]*L+s[2]*D,s[1]*L+s[3]*D],[u,c]=this.parentDimensions,f=this.x,h=this.y,d=this.width,g=this.height,b=At.MIN_SIZE/u,v=At.MIN_SIZE/c;o=Math.max(Math.min(o,1/d,1/g),b/d,v/g);let w=At._round(d*o),y=At._round(g*o);if(w===d&&y===g)return;l(this,Ii)||k(this,Ii,[f,h,d,g]);let _=a(d/2,g/2),E=At._round(f+_[0]),S=At._round(h+_[1]),A=a(w/2,y/2);this.x=E-A[0],this.y=S-A[1],this.width=w,this.height=y,this.setDims(),this.fixAndSetPosition(),this._onResizing()},aF=function(){l(this,Er)?.toggle(!0),this.parent.togglePointerEvents(!0),ee(this,mt,kw).call(this)},hx=function(e){let{isMac:t}=Ur.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},lF=function(e){let{isSelected:t}=this;this._uiManager.setUpDragSession();let n=!1,i=new AbortController,o=this._uiManager.combinedSignal(i),s={capture:!0,passive:!1,signal:o},a=c=>{i.abort(),k(this,Gl,null),k(this,Dc,!1),this._uiManager.endDragSession()||ee(this,mt,hx).call(this,c),n&&this._onStopDragging()};t&&(k(this,cd,e.clientX),k(this,fd,e.clientY),k(this,Gl,e.pointerId),k(this,zm,e.pointerType),window.addEventListener("pointermove",c=>{n||(n=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());let{clientX:f,clientY:h,pointerId:d}=c;if(d!==l(this,Gl)){Cr(c);return}let[g,b]=this.screenToPageTranslation(f-l(this,cd),h-l(this,fd));k(this,cd,f),k(this,fd,h),this._uiManager.dragSelectedEditors(g,b)},s),window.addEventListener("touchmove",Cr,s),window.addEventListener("pointerdown",c=>{c.pointerType===l(this,zm)&&(l(this,Oc)||c.isPrimary)&&a(c),Cr(c)},s));let u=c=>{if(!l(this,Gl)||l(this,Gl)===c.pointerId){a(c);return}Cr(c)};window.addEventListener("pointerup",u,{signal:o}),window.addEventListener("blur",u,{signal:o})},dx=function(){if(l(this,Vl)||!this.div)return;k(this,Vl,new AbortController);let e=this._uiManager.combinedSignal(l(this,Vl));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},uF=function(e){At._resizerKeyboardManager.exec(this,e)},cF=function(e){l(this,Ta)&&e.relatedTarget?.parentNode!==l(this,Sn)&&ee(this,mt,jg).call(this)},fF=function(e){k(this,Wm,l(this,Ta)?e:"")},px=function(e){if(l(this,Ms))for(let t of l(this,Ms))t.tabIndex=e},jg=function(){k(this,Ta,!1),ee(this,mt,px).call(this,-1),ee(this,mt,kw).call(this)},Y(At,Gm),Qe(At,"_l10n",null),Qe(At,"_l10nResizer",null),Qe(At,"_borderLineWidth",-1),Qe(At,"_colorManager",new rx),Qe(At,"_zIndex",1),Qe(At,"_telemetryTimeout",1e3);mr=At,gx=class extends mr{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}},cM=3285377520,as=4294901760,ho=65535,hv=class{constructor(e){this.h1=e?e&4294967295:cM,this.h2=e?e&4294967295:cM}update(e){let t,n;if(typeof e=="string"){t=new Uint8Array(e.length*2),n=0;for(let v=0,w=e.length;v<w;v++){let y=e.charCodeAt(v);y<=255?t[n++]=y:(t[n++]=y>>>8,t[n++]=y&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),n=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");let i=n>>2,o=n-i*4,s=new Uint32Array(t.buffer,0,i),a=0,u=0,c=this.h1,f=this.h2,h=3432918353,d=461845907,g=h&ho,b=d&ho;for(let v=0;v<i;v++)v&1?(a=s[v],a=a*h&as|a*g&ho,a=a<<15|a>>>17,a=a*d&as|a*b&ho,c^=a,c=c<<13|c>>>19,c=c*5+3864292196):(u=s[v],u=u*h&as|u*g&ho,u=u<<15|u>>>17,u=u*d&as|u*b&ho,f^=u,f=f<<13|f>>>19,f=f*5+3864292196);switch(a=0,o){case 3:a^=t[i*4+2]<<16;case 2:a^=t[i*4+1]<<8;case 1:a^=t[i*4],a=a*h&as|a*g&ho,a=a<<15|a>>>17,a=a*d&as|a*b&ho,i&1?c^=a:f^=a}this.h1=c,this.h2=f}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&as|e*36045&ho,t=t*4283543511&as|((t<<16|e>>>16)*2950163797&as)>>>16,e^=t>>>1,e=e*444984403&as|e*60499&ho,t=t*3301882366&as|((t<<16|e>>>16)*3120437893&as)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}},mx=Object.freeze({map:null,hash:"",transfer:void 0}),cm=class{constructor(){Y(this,Xv);Y(this,Nc,!1);Y(this,kc,null);Y(this,Ca,null);Y(this,Tn,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){let n=l(this,Tn).get(e);return n===void 0?t:Object.assign(t,n)}getRawValue(e){return l(this,Tn).get(e)}remove(e){let t=l(this,Tn).get(e);if(t!==void 0&&(t instanceof mr&&l(this,Ca).delete(t.annotationElementId),l(this,Tn).delete(e),l(this,Tn).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(let n of l(this,Tn).values())if(n instanceof mr)return;this.onAnnotationEditor(null)}}setValue(e,t){let n=l(this,Tn).get(e),i=!1;if(n!==void 0)for(let[o,s]of Object.entries(t))n[o]!==s&&(i=!0,n[o]=s);else i=!0,l(this,Tn).set(e,t);i&&ee(this,Xv,hF).call(this),t instanceof mr&&((l(this,Ca)||k(this,Ca,new Map)).set(t.annotationElementId,t),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type))}has(e){return l(this,Tn).has(e)}get size(){return l(this,Tn).size}resetModified(){l(this,Nc)&&(k(this,Nc,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new dv(this)}get serializable(){if(l(this,Tn).size===0)return mx;let e=new Map,t=new hv,n=[],i=Object.create(null),o=!1;for(let[s,a]of l(this,Tn)){let u=a instanceof mr?a.serialize(!1,i):a;u&&(e.set(s,u),t.update(`${s}:${JSON.stringify(u)}`),o||(o=!!u.bitmap))}if(o)for(let s of e.values())s.bitmap&&n.push(s.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:n}:mx}get editorStats(){let e=null,t=new Map,n=0,i=0;for(let o of l(this,Tn).values()){if(!(o instanceof mr)){o.popup&&(o.popup.deleted?i+=1:n+=1);continue}o.isCommentDeleted?i+=1:o.hasEditedComment&&(n+=1);let s=o.telemetryFinalData;if(!s)continue;let{type:a}=s;t.has(a)||t.set(a,Object.getPrototypeOf(o).constructor),e||(e=Object.create(null));let u=e[a]||(e[a]=new Map);for(let[c,f]of Object.entries(s)){if(c==="type")continue;let h=u.get(c);h||(h=new Map,u.set(c,h));let d=h.get(f)??0;h.set(f,d+1)}}if((i>0||n>0)&&(e||(e=Object.create(null)),e.comments={deleted:i,edited:n}),!e)return null;for(let[o,s]of t)e[o]=s.computeTelemetryFinalData(e[o]);return e}resetModifiedIds(){k(this,kc,null)}updateEditor(e,t){let n=l(this,Ca)?.get(e);return n?(n.updateFromAnnotationLayer(t),!0):!1}getEditor(e){return l(this,Ca)?.get(e)||null}get modifiedIds(){if(l(this,kc))return l(this,kc);let e=[];if(l(this,Ca))for(let t of l(this,Ca).values())t.serialize()&&e.push(t.annotationElementId);return k(this,kc,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return l(this,Tn).entries()}};Nc=new WeakMap,kc=new WeakMap,Ca=new WeakMap,Tn=new WeakMap,Xv=new WeakSet,hF=function(){l(this,Nc)||(k(this,Nc,!0),typeof this.onSetModified=="function"&&this.onSetModified())};dv=class extends cm{constructor(t){super();Y(this,Vm);let{map:n,hash:i,transfer:o}=t.serializable,s=structuredClone(n,o?{transfer:o}:null);k(this,Vm,{map:s,hash:i,transfer:o})}get print(){dr("Should not call PrintAnnotationStorage.print")}get serializable(){return l(this,Vm)}get modifiedIds(){return wt(this,"modifiedIds",{ids:new Set,hash:""})}};Vm=new WeakMap;yx=class{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){Y(this,hd,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));let t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(let e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),l(this,hd).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:n}){if(!(!e||l(this,hd).has(e.loadedName))){if(Mt(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){let{loadedName:i,src:o,style:s}=e,a=new FontFace(i,o,s);this.addNativeFontFace(a);try{await a.load(),l(this,hd).add(i),n?.(e)}catch{_t(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(a)}return}dr("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){let n=e.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(i){throw _t(`Failed to load font '${n.family}': '${i}'.`),e.disableFontFace=!0,i}}return}let t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(n=>{let i=this._queueLoadingCallback(n);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){let e=!!this._document?.fonts;return wt(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return wt(this,"isSyncFontLoadingSupported",Qn||Ur.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(Mt(!i.done,"completeRequest() cannot be called twice."),i.done=!0;n.length>0&&n[0].done;){let o=n.shift();setTimeout(o.callback,0)}}let{loadingRequests:n}=this,i={done:!1,complete:t,callback:e};return n.push(i),i}get _loadTestFont(){let e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return wt(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function n(S,A){return S.charCodeAt(A)<<24|S.charCodeAt(A+1)<<16|S.charCodeAt(A+2)<<8|S.charCodeAt(A+3)&255}function i(S,A,L,D){let K=S.substring(0,A),re=S.substring(A+L);return K+D+re}let o,s,a=this._document.createElement("canvas");a.width=1,a.height=1;let u=a.getContext("2d"),c=0;function f(S,A){if(++c>30){_t("Load test font never loaded."),A();return}if(u.font="30px "+S,u.fillText(".",0,20),u.getImageData(0,0,1,1).data[3]>0){A();return}setTimeout(f.bind(null,S,A))}let h=`lt${Date.now()}${this.loadTestFontId++}`,d=this._loadTestFont;d=i(d,976,h.length,h);let b=16,v=1482184792,w=n(d,b);for(o=0,s=h.length-3;o<s;o+=4)w=w-v+n(h,o)|0;o<h.length&&(w=w-v+n(h+"XXX",o)|0),d=i(d,b,4,XG(w));let y=`url(data:font/opentype;base64,${btoa(d)});`,_=`@font-face {font-family:"${h}";src:${y}}`;this.insertRule(_);let E=this._document.createElement("div");E.style.visibility="hidden",E.style.width=E.style.height="10px",E.style.position="absolute",E.style.top=E.style.left="0px";for(let S of[e.loadedName,h]){let A=this._document.createElement("span");A.textContent="Hi",A.style.fontFamily=S,E.append(A)}this._document.body.append(E),f(h,()=>{E.remove(),t.complete()})}};hd=new WeakMap;bx=class{constructor(e,t=null,n,i){Y(this,rr);this.compiledGlyphs=Object.create(null),k(this,rr,e),this._inspectFont=t,n&&Object.assign(this,n),i&&(this.charProcOperatorList=i)}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{let t={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(t.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,t)}return this._inspectFont?.(this),e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;let e=`url(data:${this.mimetype};base64,${RM(this.data)});`,t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let n=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(n+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${n}src:${e}}`}return this._inspectFont?.(this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];let n=this.loadedName+"_path_"+t,i;try{i=e.get(n)}catch(s){_t(`getPathGenerator - ignoring character: "${s}".`)}let o=LM(i?.path);return this.fontExtraProperties||e.delete(n),this.compiledGlyphs[t]=o}get black(){return l(this,rr).black}get bold(){return l(this,rr).bold}get disableFontFace(){return l(this,rr).disableFontFace??!1}set disableFontFace(e){wt(this,"disableFontFace",!!e)}get fontExtraProperties(){return l(this,rr).fontExtraProperties??!1}get isInvalidPDFjsFont(){return l(this,rr).isInvalidPDFjsFont}get isType3Font(){return l(this,rr).isType3Font}get italic(){return l(this,rr).italic}get missingFile(){return l(this,rr).missingFile}get remeasure(){return l(this,rr).remeasure}get vertical(){return l(this,rr).vertical}get ascent(){return l(this,rr).ascent}get defaultWidth(){return l(this,rr).defaultWidth}get descent(){return l(this,rr).descent}get bbox(){return l(this,rr).bbox}set bbox(e){wt(this,"bbox",e)}get fontMatrix(){return l(this,rr).fontMatrix}get fallbackName(){return l(this,rr).fallbackName}get loadedName(){return l(this,rr).loadedName}get mimetype(){return l(this,rr).mimetype}get name(){return l(this,rr).name}get data(){return l(this,rr).data}clearData(){l(this,rr).clearData()}get cssFontInfo(){return l(this,rr).cssFontInfo}get systemFontInfo(){return l(this,rr).systemFontInfo}get defaultVMetrics(){return l(this,rr).defaultVMetrics}};rr=new WeakMap;$h=class $h{constructor(e){Y(this,gd);Y(this,dd);Y(this,pd);Y(this,Ym);k(this,dd,e),k(this,pd,new DataView(l(this,dd))),k(this,Ym,new TextDecoder)}static write(e){let t=new TextEncoder,n={},i=0;for(let c of $h.strings){let f=t.encode(e[c]);n[c]=f,i+=4+f.length}let o=new ArrayBuffer(i),s=new Uint8Array(o),a=new DataView(o),u=0;for(let c of $h.strings){let f=n[c],h=f.length;a.setUint32(u,h),s.set(f,u+4),u+=4+h}return Mt(u===o.byteLength,"CssFontInfo.write: Buffer overflow"),o}get fontFamily(){return ee(this,gd,Lw).call(this,0)}get fontWeight(){return ee(this,gd,Lw).call(this,1)}get italicAngle(){return ee(this,gd,Lw).call(this,2)}};dd=new WeakMap,pd=new WeakMap,Ym=new WeakMap,gd=new WeakSet,Lw=function(e){Mt(e<$h.strings.length,"Invalid string index");let t=0;for(let i=0;i<e;i++)t+=l(this,pd).getUint32(t)+4;let n=l(this,pd).getUint32(t);return l(this,Ym).decode(new Uint8Array(l(this,dd),t+4,n))},Qe($h,"strings",["fontFamily","fontWeight","italicAngle"]);pv=$h,zh=class zh{constructor(e){Y(this,Pc);Y(this,Yl);Y(this,xo);Y(this,Lc);k(this,Yl,e),k(this,xo,new DataView(l(this,Yl))),k(this,Lc,new TextDecoder)}static write(e){let t=new TextEncoder,n={},i=0;for(let d of zh.strings){let g=t.encode(e[d]);n[d]=g,i+=4+g.length}i+=4;let o,s,a=1+i;e.style&&(o=t.encode(e.style.style),s=t.encode(e.style.weight),a+=4+o.length+4+s.length);let u=new ArrayBuffer(a),c=new Uint8Array(u),f=new DataView(u),h=0;f.setUint8(h++,e.guessFallback?1:0),f.setUint32(h,0),h+=4,i=0;for(let d of zh.strings){let g=n[d],b=g.length;i+=4+b,f.setUint32(h,b),c.set(g,h+4),h+=4+b}return f.setUint32(h-i-4,i),e.style&&(f.setUint32(h,o.length),c.set(o,h+4),h+=4+o.length,f.setUint32(h,s.length),c.set(s,h+4),h+=4+s.length),Mt(h<=u.byteLength,"SubstitionInfo.write: Buffer overflow"),u.transferToFixedLength(h)}get guessFallback(){return l(this,xo).getUint8(0)!==0}get css(){return ee(this,Pc,$g).call(this,0)}get loadedName(){return ee(this,Pc,$g).call(this,1)}get baseFontName(){return ee(this,Pc,$g).call(this,2)}get src(){return ee(this,Pc,$g).call(this,3)}get style(){let e=1;e+=4+l(this,xo).getUint32(e);let t=l(this,xo).getUint32(e),n=l(this,Lc).decode(new Uint8Array(l(this,Yl),e+4,t));e+=4+t;let i=l(this,xo).getUint32(e),o=l(this,Lc).decode(new Uint8Array(l(this,Yl),e+4,i));return{style:n,weight:o}}};Yl=new WeakMap,xo=new WeakMap,Lc=new WeakMap,Pc=new WeakSet,$g=function(e){Mt(e<zh.strings.length,"Invalid string index");let t=5;for(let i=0;i<e;i++)t+=l(this,xo).getUint32(t)+4;let n=l(this,xo).getUint32(t);return l(this,Lc).decode(new Uint8Array(l(this,Yl),t+4,n))},Qe(zh,"strings",["css","loadedName","baseFontName","src"]);gv=zh,St=class St{constructor({data:e,extra:t}){Y(this,Fr);Y(this,So);Y(this,Xm);Y(this,nr);k(this,So,e),k(this,Xm,new TextDecoder),k(this,nr,new DataView(l(this,So))),t&&Object.assign(this,t)}get black(){return ee(this,Fr,ks).call(this,0)}get bold(){return ee(this,Fr,ks).call(this,1)}get disableFontFace(){return ee(this,Fr,ks).call(this,2)}get fontExtraProperties(){return ee(this,Fr,ks).call(this,3)}get isInvalidPDFjsFont(){return ee(this,Fr,ks).call(this,4)}get isType3Font(){return ee(this,Fr,ks).call(this,5)}get italic(){return ee(this,Fr,ks).call(this,6)}get missingFile(){return ee(this,Fr,ks).call(this,7)}get remeasure(){return ee(this,Fr,ks).call(this,8)}get vertical(){return ee(this,Fr,ks).call(this,9)}get ascent(){return ee(this,Fr,Pw).call(this,0)}get defaultWidth(){return ee(this,Fr,Pw).call(this,1)}get descent(){return ee(this,Fr,Pw).call(this,2)}get bbox(){let e=l(St,yd);if(l(this,nr).getUint8(e)===0)return;e+=1;let n=[];for(let i=0;i<4;i++)n.push(l(this,nr).getInt16(e,!0)),e+=2;return n}get fontMatrix(){let e=l(St,bd);if(l(this,nr).getUint8(e)===0)return;e+=1;let n=[];for(let i=0;i<6;i++)n.push(l(this,nr).getFloat64(e,!0)),e+=8;return n}get defaultVMetrics(){let e=l(St,wd);if(l(this,nr).getUint8(e)===0)return;e+=1;let n=[];for(let i=0;i<3;i++)n.push(l(this,nr).getInt16(e,!0)),e+=2;return n}get fallbackName(){return ee(this,Fr,zg).call(this,0)}get loadedName(){return ee(this,Fr,zg).call(this,1)}get mimetype(){return ee(this,Fr,zg).call(this,2)}get name(){return ee(this,Fr,zg).call(this,3)}get data(){let e=l(St,Oi),t=l(this,nr).getUint32(e);e+=4+t;let n=l(this,nr).getUint32(e);e+=4+n;let i=l(this,nr).getUint32(e);e+=4+i;let o=l(this,nr).getUint32(e);if(o!==0)return new Uint8Array(l(this,So),e+4,o)}clearData(){let e=l(St,Oi),t=l(this,nr).getUint32(e);e+=4+t;let n=l(this,nr).getUint32(e);e+=4+n;let i=l(this,nr).getUint32(e);e+=4+i;let o=l(this,nr).getUint32(e);new Uint8Array(l(this,So),e+4,o).fill(0),l(this,nr).setUint32(e,0)}get cssFontInfo(){let e=l(St,Oi),t=l(this,nr).getUint32(e);e+=4+t;let n=l(this,nr).getUint32(e);e+=4+n;let i=l(this,nr).getUint32(e);if(i===0)return null;let o=new Uint8Array(i);return o.set(new Uint8Array(l(this,So),e+4,i)),new pv(o.buffer)}get systemFontInfo(){let e=l(St,Oi),t=l(this,nr).getUint32(e);e+=4+t;let n=l(this,nr).getUint32(e);if(n===0)return null;let i=new Uint8Array(n);return i.set(new Uint8Array(l(this,So),e+4,n)),new gv(i.buffer)}static write(e){let t=e.systemFontInfo?gv.write(e.systemFontInfo):null,n=e.cssFontInfo?pv.write(e.cssFontInfo):null,i=new TextEncoder,o={},s=0;for(let v of St.strings)o[v]=i.encode(e[v]),s+=4+o[v].length;let a=l(St,Oi)+4+s+4+(t?t.byteLength:0)+4+(n?n.byteLength:0)+4+(e.data?e.data.length:0),u=new ArrayBuffer(a),c=new Uint8Array(u),f=new DataView(u),h=0,d=St.bools.length,g=0,b=0;for(let v=0;v<d;v++){let w=e[St.bools[v]];g|=(w===void 0?0:w?2:1)<<b,b+=2,(b===8||v===d-1)&&(f.setUint8(h++,g),g=0,b=0)}Mt(h===l(St,md),"FontInfo.write: Boolean properties offset mismatch");for(let v of St.numbers)f.setFloat64(h,e[v]),h+=8;if(Mt(h===l(St,yd),"FontInfo.write: Number properties offset mismatch"),e.bbox){f.setUint8(h++,4);for(let v of e.bbox)f.setInt16(h,v,!0),h+=2}else f.setUint8(h++,0),h+=8;if(Mt(h===l(St,bd),"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){f.setUint8(h++,6);for(let v of e.fontMatrix)f.setFloat64(h,v,!0),h+=8}else f.setUint8(h++,0),h+=48;if(Mt(h===l(St,wd),"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){f.setUint8(h++,1);for(let v of e.defaultVMetrics)f.setInt16(h,v,!0),h+=2}else f.setUint8(h++,0),h+=6;Mt(h===l(St,Oi),"FontInfo.write: DefaultVMetrics properties offset mismatch"),f.setUint32(l(St,Oi),0),h+=4;for(let v of St.strings){let w=o[v],y=w.length;f.setUint32(h,y),c.set(w,h+4),h+=4+y}if(f.setUint32(l(St,Oi),h-l(St,Oi)-4),!t)f.setUint32(h,0),h+=4;else{let v=t.byteLength;f.setUint32(h,v),Mt(h+4+v<=u.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),c.set(new Uint8Array(t),h+4),h+=4+v}if(!n)f.setUint32(h,0),h+=4;else{let v=n.byteLength;f.setUint32(h,v),Mt(h+4+v<=u.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),c.set(new Uint8Array(n),h+4),h+=4+v}return e.data===void 0?(f.setUint32(h,0),h+=4):(f.setUint32(h,e.data.length),c.set(e.data,h+4),h+=4+e.data.length),Mt(h<=u.byteLength,"FontInfo.write: Buffer overflow"),u.transferToFixedLength(h)}};md=new WeakMap,yd=new WeakMap,bd=new WeakMap,wd=new WeakMap,Oi=new WeakMap,So=new WeakMap,Xm=new WeakMap,nr=new WeakMap,Fr=new WeakSet,ks=function(e){Mt(e<St.bools.length,"Invalid boolean index");let t=Math.floor(e/4),n=e*2%8,i=l(this,nr).getUint8(t)>>n&3;return i===0?void 0:i===2},Pw=function(e){return Mt(e<St.numbers.length,"Invalid number index"),l(this,nr).getFloat64(l(St,md)+e*8)},zg=function(e){Mt(e<St.strings.length,"Invalid string index");let t=l(St,Oi)+4;for(let o=0;o<e;o++)t+=l(this,nr).getUint32(t)+4;let n=l(this,nr).getUint32(t),i=new Uint8Array(n);return i.set(new Uint8Array(l(this,So),t+4,n)),l(this,Xm).decode(i)},Qe(St,"bools",["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"]),Qe(St,"numbers",["ascent","defaultWidth","descent"]),Qe(St,"strings",["fallbackName","loadedName","mimetype","name"]),Y(St,md,Math.ceil(St.bools.length*2/8)),Y(St,yd,l(St,md)+St.numbers.length*8),Y(St,bd,l(St,yd)+1+8),Y(St,wd,l(St,bd)+1+48),Y(St,Oi,l(St,wd)+1+6);wx=St,pr=class pr{constructor(e){this.buffer=e,this.view=new DataView(e),this.data=new Uint8Array(e)}static write(e){let t,n=null,i=[],o=[],s=[],a=[],u=null,c=null;switch(e[0]){case"RadialAxial":t=e[1]==="axial"?1:2,n=e[2],s=e[3],t===1?i.push(...e[4],...e[5]):i.push(e[4][0],e[4][1],e[6],e[5][0],e[5][1],e[7]);break;case"Mesh":t=3,u=e[1],i=e[2],o=e[3],a=e[4]||[],n=e[6],c=e[7];break;default:throw new Error(`Unsupported pattern type: ${e[0]}`)}let f=Math.floor(i.length/2),h=Math.floor(o.length/3),d=s.length,g=a.length,b=0;for(let A of a)b+=1,b=Math.ceil(b/4)*4,b+=4+A.coords.length*4,b+=4+A.colors.length*4,A.verticesPerRow!==void 0&&(b+=4);let v=20+f*8+h*3+d*8+(n?16:0)+(c?3:0)+b,w=new ArrayBuffer(v),y=new DataView(w),_=new Uint8Array(w);y.setUint8(l(pr,Km),t),y.setUint8(l(pr,Zm),n?1:0),y.setUint8(l(pr,Jm),c?1:0),y.setUint8(l(pr,Qm),u),y.setUint32(l(pr,ey),f,!0),y.setUint32(l(pr,ty),h,!0),y.setUint32(l(pr,ry),d,!0),y.setUint32(l(pr,ny),g,!0);let E=20;new Float32Array(w,E,f*2).set(i),E+=f*8,_.set(o,E),E+=h*3;for(let[A,L]of s)y.setFloat32(E,A,!0),E+=4,y.setUint32(E,parseInt(L.slice(1),16),!0),E+=4;if(n)for(let A of n)y.setFloat32(E,A,!0),E+=4;c&&(_.set(c,E),E+=3);for(let A=0;A<a.length;A++){let L=a[A];y.setUint8(E,L.type),E+=1,E=Math.ceil(E/4)*4,y.setUint32(E,L.coords.length,!0),E+=4,new Int32Array(w,E,L.coords.length).set(L.coords),E+=L.coords.length*4,y.setUint32(E,L.colors.length,!0),E+=4,new Int32Array(w,E,L.colors.length).set(L.colors),E+=L.colors.length*4,L.verticesPerRow!==void 0&&(y.setUint32(E,L.verticesPerRow,!0),E+=4)}return w}getIR(){let e=this.view,t=this.data[l(pr,Km)],n=!!this.data[l(pr,Zm)],i=!!this.data[l(pr,Jm)],o=e.getUint32(l(pr,ey),!0),s=e.getUint32(l(pr,ty),!0),a=e.getUint32(l(pr,ry),!0),u=e.getUint32(l(pr,ny),!0),c=20,f=new Float32Array(this.buffer,c,o*2);c+=o*8;let h=new Uint8Array(this.buffer,c,s*3);c+=s*3;let d=[];for(let w=0;w<a;++w){let y=e.getFloat32(c,!0);c+=4;let _=e.getUint32(c,!0);c+=4,d.push([y,`#${_.toString(16).padStart(6,"0")}`])}let g=null;if(n){g=[];for(let w=0;w<4;++w)g.push(e.getFloat32(c,!0)),c+=4}let b=null;i&&(b=new Uint8Array(this.buffer,c,3),c+=3);let v=[];for(let w=0;w<u;++w){let y=e.getUint8(c);c+=1,c=Math.ceil(c/4)*4;let _=e.getUint32(c,!0);c+=4;let E=new Int32Array(this.buffer,c,_);c+=_*4;let S=e.getUint32(c,!0);c+=4;let A=new Int32Array(this.buffer,c,S);c+=S*4;let L={type:y,coords:E,colors:A};y===HA.LATTICE&&(L.verticesPerRow=e.getUint32(c,!0),c+=4),v.push(L)}if(t===1)return["RadialAxial","axial",g,d,Array.from(f.slice(0,2)),Array.from(f.slice(2,4)),null,null];if(t===2)return["RadialAxial","radial",g,d,[f[0],f[1]],[f[3],f[4]],f[2],f[5]];if(t===3){let w=this.data[l(pr,Qm)],y=null;if(f.length>0){let _=f[0],E=f[0],S=f[1],A=f[1];for(let L=0;L<f.length;L+=2){let D=f[L],K=f[L+1];_=_>D?D:_,S=S>K?K:S,E=E<D?D:E,A=A<K?K:A}y=[_,S,E,A]}return["Mesh",w,f,h,v,y,g,b]}throw new Error(`Unsupported pattern kind: ${t}`)}};Km=new WeakMap,Zm=new WeakMap,Jm=new WeakMap,Qm=new WeakMap,ey=new WeakMap,ty=new WeakMap,ry=new WeakMap,ny=new WeakMap,Y(pr,Km,0),Y(pr,Zm,1),Y(pr,Jm,2),Y(pr,Qm,3),Y(pr,ey,4),Y(pr,ty,8),Y(pr,ry,12),Y(pr,ny,16);vx=pr,_x=class{constructor(e){Y(this,vd);k(this,vd,e)}static write(e){let t,n;return Ur.isFloat16ArraySupported?(n=new ArrayBuffer(e.length*2),t=new Float16Array(n)):(n=new ArrayBuffer(e.length*4),t=new Float32Array(n)),t.set(e),n}get path(){return Ur.isFloat16ArraySupported?new Float16Array(l(this,vd)):new Float32Array(l(this,vd))}};vd=new WeakMap;Ex=r=>typeof r=="object"&&Number.isInteger(r?.num)&&r.num>=0&&Number.isInteger(r?.gen)&&r.gen>=0,sV=r=>typeof r=="object"&&typeof r?.name=="string",dF=QG.bind(null,Ex,sV),Ax=class{constructor(){Y(this,Ra,new Map);Y(this,Kv,Promise.resolve())}postMessage(e,t){let n={data:structuredClone(e,t?{transfer:t}:null)};l(this,Kv).then(()=>{for(let[i]of l(this,Ra))i.call(this,n)})}addEventListener(e,t,n=null){let i=null;if(n?.signal instanceof AbortSignal){let{signal:o}=n;if(o.aborted){_t("LoopbackPort - cannot use an `aborted` signal.");return}let s=()=>this.removeEventListener(e,t);i=()=>o.removeEventListener("abort",s),o.addEventListener("abort",s)}l(this,Ra).set(t,i)}removeEventListener(e,t){l(this,Ra).get(t)?.(),l(this,Ra).delete(t)}terminate(){for(let[,e]of l(this,Ra))e?.();l(this,Ra).clear()}};Ra=new WeakMap,Kv=new WeakMap;ww={DATA:1,ERROR:2},Yr={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};fc=class{constructor(e,t,n){Y(this,xs);Y(this,_d,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",ee(this,xs,pF).bind(this),{signal:l(this,_d).signal})}on(e,t){let n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){let i=this.callbackId++,o=Promise.withResolvers();this.callbackCapabilities[i]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},n)}catch(s){o.reject(s)}return o.promise}sendWithStream(e,t,n,i){let o=this.streamId++,s=this.sourceName,a=this.targetName,u=this.comObj;return new ReadableStream({start:c=>{let f=Promise.withResolvers();return this.streamControllers[o]={controller:c,startCall:f,pullCall:null,cancelCall:null,isClosed:!1},u.postMessage({sourceName:s,targetName:a,action:e,streamId:o,data:t,desiredSize:c.desiredSize},i),f.promise},pull:c=>{let f=Promise.withResolvers();return this.streamControllers[o].pullCall=f,u.postMessage({sourceName:s,targetName:a,stream:Yr.PULL,streamId:o,desiredSize:c.desiredSize}),f.promise},cancel:c=>{Mt(c instanceof Error,"cancel must have a valid reason");let f=Promise.withResolvers();return this.streamControllers[o].cancelCall=f,this.streamControllers[o].isClosed=!0,u.postMessage({sourceName:s,targetName:a,stream:Yr.CANCEL,streamId:o,reason:hi(c)}),f.promise}},n)}destroy(){l(this,_d)?.abort(),k(this,_d,null)}};_d=new WeakMap,xs=new WeakSet,pF=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){ee(this,xs,mF).call(this,e);return}if(e.callback){let n=e.callbackId,i=this.callbackCapabilities[n];if(!i)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],e.callback===ww.DATA)i.resolve(e.data);else if(e.callback===ww.ERROR)i.reject(hi(e.reason));else throw new Error("Unexpected callback case");return}let t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){let n=this.sourceName,i=e.sourceName,o=this.comObj;Promise.try(t,e.data).then(function(s){o.postMessage({sourceName:n,targetName:i,callback:ww.DATA,callbackId:e.callbackId,data:s})},function(s){o.postMessage({sourceName:n,targetName:i,callback:ww.ERROR,callbackId:e.callbackId,reason:hi(s)})});return}if(e.streamId){ee(this,xs,gF).call(this,e);return}t(e.data)},gF=function(e){let t=e.streamId,n=this.sourceName,i=e.sourceName,o=this.comObj,s=this,a=this.actionHandler[e.action],u={enqueue(c,f=1,h){if(this.isCancelled)return;let d=this.desiredSize;this.desiredSize-=f,d>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:n,targetName:i,stream:Yr.ENQUEUE,streamId:t,chunk:c},h)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:n,targetName:i,stream:Yr.CLOSE,streamId:t}),delete s.streamSinks[t])},error(c){Mt(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,o.postMessage({sourceName:n,targetName:i,stream:Yr.ERROR,streamId:t,reason:hi(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};u.sinkCapability.resolve(),u.ready=u.sinkCapability.promise,this.streamSinks[t]=u,Promise.try(a,e.data,u).then(function(){o.postMessage({sourceName:n,targetName:i,stream:Yr.START_COMPLETE,streamId:t,success:!0})},function(c){o.postMessage({sourceName:n,targetName:i,stream:Yr.START_COMPLETE,streamId:t,reason:hi(c)})})},mF=function(e){let t=e.streamId,n=this.sourceName,i=e.sourceName,o=this.comObj,s=this.streamControllers[t],a=this.streamSinks[t];switch(e.stream){case Yr.START_COMPLETE:e.success?s.startCall.resolve():s.startCall.reject(hi(e.reason));break;case Yr.PULL_COMPLETE:e.success?s.pullCall.resolve():s.pullCall.reject(hi(e.reason));break;case Yr.PULL:if(!a){o.postMessage({sourceName:n,targetName:i,stream:Yr.PULL_COMPLETE,streamId:t,success:!0});break}a.desiredSize<=0&&e.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=e.desiredSize,Promise.try(a.onPull||fM).then(function(){o.postMessage({sourceName:n,targetName:i,stream:Yr.PULL_COMPLETE,streamId:t,success:!0})},function(c){o.postMessage({sourceName:n,targetName:i,stream:Yr.PULL_COMPLETE,streamId:t,reason:hi(c)})});break;case Yr.ENQUEUE:if(Mt(s,"enqueue should have stream controller"),s.isClosed)break;s.controller.enqueue(e.chunk);break;case Yr.CLOSE:if(Mt(s,"close should have stream controller"),s.isClosed)break;s.isClosed=!0,s.controller.close(),ee(this,xs,Bw).call(this,s,t);break;case Yr.ERROR:Mt(s,"error should have stream controller"),s.controller.error(hi(e.reason)),ee(this,xs,Bw).call(this,s,t);break;case Yr.CANCEL_COMPLETE:e.success?s.cancelCall.resolve():s.cancelCall.reject(hi(e.reason)),ee(this,xs,Bw).call(this,s,t);break;case Yr.CANCEL:if(!a)break;let u=hi(e.reason);Promise.try(a.onCancel||fM,u).then(function(){o.postMessage({sourceName:n,targetName:i,stream:Yr.CANCEL_COMPLETE,streamId:t,success:!0})},function(c){o.postMessage({sourceName:n,targetName:i,stream:Yr.CANCEL_COMPLETE,streamId:t,reason:hi(c)})}),a.sinkCapability.reject(u),a.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},Bw=async function(e,t){await Promise.allSettled([e.startCall?.promise,e.pullCall?.promise,e.cancelCall?.promise]),delete this.streamControllers[t]};mv=class{constructor({enableHWA:e=!1}){Y(this,iy,!1);k(this,iy,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");let n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!l(this,iy)})}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){dr("Abstract method `_createCanvas` called.")}};iy=new WeakMap;xx=class extends mv{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){let n=this._document.createElement("canvas");return n.width=e,n.height=t,n}},yv=class{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");let t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){dr("Abstract method `_fetch` called.")}},bv=class extends yv{async _fetch(e){let t=await Ep(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):f0(t)}},wv=class{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,n,i,o){return"none"}destroy(e=!1){}},Sx=class extends wv{constructor({docId:t,ownerDocument:n=globalThis.document}){super();Y(this,ut);Y(this,Bc);Y(this,Ed);Y(this,Da);Y(this,Ia);Y(this,jn);Y(this,Mc);Y(this,Fc,0);k(this,Ia,t),k(this,jn,n)}addFilter(t){if(!t)return"none";let n=l(this,ut,Bn).get(t);if(n)return n;let[i,o,s]=ee(this,ut,Mw).call(this,t),a=t.length===1?i:`${i}${o}${s}`;if(n=l(this,ut,Bn).get(a),n)return l(this,ut,Bn).set(t,n),n;let u=`g_${l(this,Ia)}_transfer_map_${tn(this,Fc)._++}`,c=ee(this,ut,Nh).call(this,u);l(this,ut,Bn).set(t,c),l(this,ut,Bn).set(a,c);let f=ee(this,ut,kh).call(this,u);return ee(this,ut,Hg).call(this,i,o,s,f),c}addHCMFilter(t,n){let i=`${t}-${n}`,o="base",s=l(this,ut,Wg).get(o);if(s?.key===i||(s?(s.filter?.remove(),s.key=i,s.url="none",s.filter=null):(s={key:i,url:"none",filter:null},l(this,ut,Wg).set(o,s)),!t||!n))return s.url;let a=ee(this,ut,Gg).call(this,t);t=st.makeHexColor(...a);let u=ee(this,ut,Gg).call(this,n);if(n=st.makeHexColor(...u),l(this,ut,Oh).style.color="",t==="#000000"&&n==="#ffffff"||t===n)return s.url;let c=new Array(256);for(let b=0;b<=255;b++){let v=b/255;c[b]=v<=.03928?v/12.92:((v+.055)/1.055)**2.4}let f=c.join(","),h=`g_${l(this,Ia)}_hcm_filter`,d=s.filter=ee(this,ut,kh).call(this,h);ee(this,ut,Hg).call(this,f,f,f,d),ee(this,ut,Tx).call(this,d);let g=(b,v)=>{let w=a[b]/255,y=u[b]/255,_=new Array(v+1);for(let E=0;E<=v;E++)_[E]=w+E/v*(y-w);return _.join(",")};return ee(this,ut,Hg).call(this,g(0,5),g(1,5),g(2,5),d),s.url=ee(this,ut,Nh).call(this,h),s.url}addAlphaFilter(t){let n=l(this,ut,Bn).get(t);if(n)return n;let[i]=ee(this,ut,Mw).call(this,[t]),o=`alpha_${i}`;if(n=l(this,ut,Bn).get(o),n)return l(this,ut,Bn).set(t,n),n;let s=`g_${l(this,Ia)}_alpha_map_${tn(this,Fc)._++}`,a=ee(this,ut,Nh).call(this,s);l(this,ut,Bn).set(t,a),l(this,ut,Bn).set(o,a);let u=ee(this,ut,kh).call(this,s);return ee(this,ut,Cx).call(this,i,u),a}addLuminosityFilter(t){let n=l(this,ut,Bn).get(t||"luminosity");if(n)return n;let i,o;if(t?([i]=ee(this,ut,Mw).call(this,[t]),o=`luminosity_${i}`):o="luminosity",n=l(this,ut,Bn).get(o),n)return l(this,ut,Bn).set(t,n),n;let s=`g_${l(this,Ia)}_luminosity_map_${tn(this,Fc)._++}`,a=ee(this,ut,Nh).call(this,s);l(this,ut,Bn).set(t,a),l(this,ut,Bn).set(o,a);let u=ee(this,ut,kh).call(this,s);return ee(this,ut,yF).call(this,u),t&&ee(this,ut,Cx).call(this,i,u),a}addHighlightHCMFilter(t,n,i,o,s){let a=`${n}-${i}-${o}-${s}`,u=l(this,ut,Wg).get(t);if(u?.key===a||(u?(u.filter?.remove(),u.key=a,u.url="none",u.filter=null):(u={key:a,url:"none",filter:null},l(this,ut,Wg).set(t,u)),!n||!i))return u.url;let[c,f]=[n,i].map(ee(this,ut,Gg).bind(this)),h=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),d=Math.round(.2126*f[0]+.7152*f[1]+.0722*f[2]),[g,b]=[o,s].map(ee(this,ut,Gg).bind(this));d<h&&([h,d,g,b]=[d,h,b,g]),l(this,ut,Oh).style.color="";let v=(_,E,S)=>{let A=new Array(256),L=(d-h)/S,D=_/255,K=(E-_)/(255*S),re=0;for(let q=0;q<=S;q++){let oe=Math.round(h+q*L),U=D+q*K;for(let H=re;H<=oe;H++)A[H]=U;re=oe+1}for(let q=re;q<256;q++)A[q]=A[re-1];return A.join(",")},w=`g_${l(this,Ia)}_hcm_${t}_filter`,y=u.filter=ee(this,ut,kh).call(this,w);return ee(this,ut,Tx).call(this,y),ee(this,ut,Hg).call(this,v(g[0],b[0],5),v(g[1],b[1],5),v(g[2],b[2],5),y),u.url=ee(this,ut,Nh).call(this,w),u.url}destroy(t=!1){t&&l(this,Mc)?.size||(l(this,Da)?.parentNode.parentNode.remove(),k(this,Da,null),l(this,Ed)?.clear(),k(this,Ed,null),l(this,Mc)?.clear(),k(this,Mc,null),k(this,Fc,0))}};Bc=new WeakMap,Ed=new WeakMap,Da=new WeakMap,Ia=new WeakMap,jn=new WeakMap,Mc=new WeakMap,Fc=new WeakMap,ut=new WeakSet,Bn=function(){return l(this,Ed)||k(this,Ed,new Map)},Wg=function(){return l(this,Mc)||k(this,Mc,new Map)},Oh=function(){if(!l(this,Da)){let t=l(this,jn).createElement("div"),{style:n}=t;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;let i=l(this,jn).createElementNS(ha,"svg");i.setAttribute("width",0),i.setAttribute("height",0),k(this,Da,l(this,jn).createElementNS(ha,"defs")),t.append(i),i.append(l(this,Da)),l(this,jn).body.append(t)}return l(this,Da)},Mw=function(t){if(t.length===1){let c=t[0],f=new Array(256);for(let d=0;d<256;d++)f[d]=c[d]/255;let h=f.join(",");return[h,h,h]}let[n,i,o]=t,s=new Array(256),a=new Array(256),u=new Array(256);for(let c=0;c<256;c++)s[c]=n[c]/255,a[c]=i[c]/255,u[c]=o[c]/255;return[s.join(","),a.join(","),u.join(",")]},Nh=function(t){if(l(this,Bc)===void 0){k(this,Bc,"");let n=l(this,jn).URL;n!==l(this,jn).baseURI&&(h0(n)?_t('#createUrl: ignore "data:"-URL for performance reasons.'):k(this,Bc,_T(n,"")))}return`url(${l(this,Bc)}#${t})`},yF=function(t){let n=l(this,jn).createElementNS(ha,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(n)},Tx=function(t){let n=l(this,jn).createElementNS(ha,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(n)},kh=function(t){let n=l(this,jn).createElementNS(ha,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",t),l(this,ut,Oh).append(n),n},qg=function(t,n,i){let o=l(this,jn).createElementNS(ha,n);o.setAttribute("type","discrete"),o.setAttribute("tableValues",i),t.append(o)},Hg=function(t,n,i,o){let s=l(this,jn).createElementNS(ha,"feComponentTransfer");o.append(s),ee(this,ut,qg).call(this,s,"feFuncR",t),ee(this,ut,qg).call(this,s,"feFuncG",n),ee(this,ut,qg).call(this,s,"feFuncB",i)},Cx=function(t,n){let i=l(this,jn).createElementNS(ha,"feComponentTransfer");n.append(i),ee(this,ut,qg).call(this,i,"feFuncA",t)},Gg=function(t){return l(this,ut,Oh).style.color=t,Ap(getComputedStyle(l(this,ut,Oh)).getPropertyValue("color"))};vv=class{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");let t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){dr("Abstract method `_fetch` called.")}},_v=class extends vv{async _fetch(e){let t=await Ep(e,"arraybuffer");return new Uint8Array(t)}},Ev=class{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");let t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){dr("Abstract method `_fetch` called.")}},Av=class extends Ev{async _fetch(e){let t=await Ep(e,"arraybuffer");return new Uint8Array(t)}};Qn&&_t("Please use the `legacy` build in Node.js environments.");Rx=class extends wv{},Dx=class extends mv{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire("")("@napi-rs/canvas").createCanvas(e,t)}},Ix=class extends yv{async _fetch(e){return xT(e)}},Ox=class extends vv{async _fetch(e){return xT(e)}},Nx=class extends Ev{async _fetch(e){return xT(e)}},Rh="__forcedDependency",{floor:hM,ceil:dM}=Math;kx=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0],Lx=class{constructor(e,t){Y(this,Ad);Y(this,Xl);k(this,Ad,e),k(this,Xl,t)}get length(){return l(this,Ad).length}isEmpty(e){return l(this,Ad)[e]===kx}minX(e){return l(this,Xl)[e*4+0]/256}minY(e){return l(this,Xl)[e*4+1]/256}maxX(e){return(l(this,Xl)[e*4+2]+1)/256}maxY(e){return(l(this,Xl)[e*4+3]+1)/256}};Ad=new WeakMap,Xl=new WeakMap;_w=(r,e)=>{if(!r)return;let t=r.get(e);return t||(t={dependencies:new Set,isRenderingOperation:!1},r.set(e,t)),t},Px=class{constructor(e,t,n=!1){Y(this,oy);Y(this,gi,{__proto__:null});Y(this,mi,{__proto__:null,transform:[],moveText:[],sameLineText:[],[Rh]:[]});Y(this,Uc,new Map);Y(this,Fs,[]);Y(this,jc,[]);Y(this,Oa,[[1,0,0,1,0,0]]);Y(this,Zt,[-1/0,-1/0,1/0,1/0]);Y(this,ir,new Float64Array([1/0,1/0,-1/0,-1/0]));Y(this,Na,-1);Y(this,yi,new Set);Y(this,sy,new Map);Y(this,xd,new Map);Y(this,$c);Y(this,zc);Y(this,ka);Y(this,$n);Y(this,To);k(this,$c,e.width),k(this,zc,e.height),ee(this,oy,Bx).call(this,t),n&&k(this,To,new Map)}growOperationsCount(e){e>=l(this,$n).length&&ee(this,oy,Bx).call(this,e,l(this,$n))}save(e){return k(this,gi,{__proto__:l(this,gi)}),k(this,mi,{__proto__:l(this,mi),transform:{__proto__:l(this,mi).transform},moveText:{__proto__:l(this,mi).moveText},sameLineText:{__proto__:l(this,mi).sameLineText},[Rh]:{__proto__:l(this,mi)[Rh]}}),k(this,Zt,{__proto__:l(this,Zt)}),l(this,Fs).push(e),this}restore(e){let t=Object.getPrototypeOf(l(this,gi));if(t===null)return this;k(this,gi,t),k(this,mi,Object.getPrototypeOf(l(this,mi))),k(this,Zt,Object.getPrototypeOf(l(this,Zt)));let n=l(this,Fs).pop();return n!==void 0&&(_w(l(this,To),e)?.dependencies.add(n),l(this,$n)[e]=l(this,$n)[n]),this}recordOpenMarker(e){return l(this,Fs).push(e),this}getOpenMarker(){return l(this,Fs).length===0?null:l(this,Fs).at(-1)}recordCloseMarker(e){let t=l(this,Fs).pop();return t!==void 0&&(_w(l(this,To),e)?.dependencies.add(t),l(this,$n)[e]=l(this,$n)[t]),this}beginMarkedContent(e){return l(this,jc).push(e),this}endMarkedContent(e){let t=l(this,jc).pop();return t!==void 0&&(_w(l(this,To),e)?.dependencies.add(t),l(this,$n)[e]=l(this,$n)[t]),this}pushBaseTransform(e){return l(this,Oa).push(st.multiplyByDOMMatrix(l(this,Oa).at(-1),e.getTransform())),this}popBaseTransform(){return l(this,Oa).length>1&&l(this,Oa).pop(),this}recordSimpleData(e,t){return l(this,gi)[e]=t,this}recordIncrementalData(e,t){return l(this,mi)[e].push(t),this}resetIncrementalData(e,t){return l(this,mi)[e].length=0,this}recordNamedData(e,t){return l(this,Uc).set(e,t),this}recordSimpleDataFromNamed(e,t,n){l(this,gi)[e]=l(this,Uc).get(t)??n}recordFutureForcedDependency(e,t){return this.recordIncrementalData(Rh,t),this}inheritSimpleDataAsFutureForcedDependencies(e){for(let t of e)t in l(this,gi)&&this.recordFutureForcedDependency(t,l(this,gi)[t]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(let e of l(this,yi))this.recordFutureForcedDependency(Rh,e);return this}resetBBox(e){return l(this,Na)!==e&&(k(this,Na,e),l(this,ir)[0]=1/0,l(this,ir)[1]=1/0,l(this,ir)[2]=-1/0,l(this,ir)[3]=-1/0),this}recordClipBox(e,t,n,i,o,s){let a=st.multiplyByDOMMatrix(l(this,Oa).at(-1),t.getTransform()),u=[1/0,1/0,-1/0,-1/0];st.axialAlignedBoundingBox([n,o,i,s],a,u);let c=st.intersect(l(this,Zt),u);return c?(l(this,Zt)[0]=c[0],l(this,Zt)[1]=c[1],l(this,Zt)[2]=c[2],l(this,Zt)[3]=c[3]):(l(this,Zt)[0]=l(this,Zt)[1]=1/0,l(this,Zt)[2]=l(this,Zt)[3]=-1/0),this}recordBBox(e,t,n,i,o,s){let a=l(this,Zt);if(a[0]===1/0)return this;let u=st.multiplyByDOMMatrix(l(this,Oa).at(-1),t.getTransform());if(a[0]===-1/0)return st.axialAlignedBoundingBox([n,o,i,s],u,l(this,ir)),this;let c=[1/0,1/0,-1/0,-1/0];return st.axialAlignedBoundingBox([n,o,i,s],u,c),l(this,ir)[0]=Math.min(l(this,ir)[0],Math.max(c[0],a[0])),l(this,ir)[1]=Math.min(l(this,ir)[1],Math.max(c[1],a[1])),l(this,ir)[2]=Math.max(l(this,ir)[2],Math.min(c[2],a[2])),l(this,ir)[3]=Math.max(l(this,ir)[3],Math.min(c[3],a[3])),this}recordCharacterBBox(e,t,n,i=1,o=0,s=0,a){let u=n.bbox,c,f;if(u&&(c=u[2]!==u[0]&&u[3]!==u[1]&&l(this,xd).get(n),c!==!1&&(f=[0,0,0,0],st.axialAlignedBoundingBox(u,n.fontMatrix,f),(i!==1||o!==0||s!==0)&&st.scaleMinMax([i,0,0,-i,o,s],f),c)))return this.recordBBox(e,t,f[0],f[2],f[1],f[3]);if(!a)return this.recordFullPageBBox(e);let h=a();return u&&f&&c===void 0&&(c=f[0]<=o-h.actualBoundingBoxLeft&&f[2]>=o+h.actualBoundingBoxRight&&f[1]<=s-h.actualBoundingBoxAscent&&f[3]>=s+h.actualBoundingBoxDescent,l(this,xd).set(n,c),c)?this.recordBBox(e,t,f[0],f[2],f[1],f[3]):this.recordBBox(e,t,o-h.actualBoundingBoxLeft,o+h.actualBoundingBoxRight,s-h.actualBoundingBoxAscent,s+h.actualBoundingBoxDescent)}recordFullPageBBox(e){return l(this,ir)[0]=Math.max(0,l(this,Zt)[0]),l(this,ir)[1]=Math.max(0,l(this,Zt)[1]),l(this,ir)[2]=Math.min(l(this,$c),l(this,Zt)[2]),l(this,ir)[3]=Math.min(l(this,zc),l(this,Zt)[3]),this}getSimpleIndex(e){return l(this,gi)[e]}recordDependencies(e,t){let n=l(this,yi),i=l(this,gi),o=l(this,mi);for(let s of t)s in l(this,gi)?n.add(i[s]):s in o&&o[s].forEach(n.add,n);return this}recordNamedDependency(e,t){return l(this,Uc).has(t)&&l(this,yi).add(l(this,Uc).get(t)),this}recordOperation(e,t=!1){if(this.recordDependencies(e,[Rh]),l(this,To)){let n=_w(l(this,To),e),{dependencies:i}=n;l(this,yi).forEach(i.add,i),l(this,Fs).forEach(i.add,i),l(this,jc).forEach(i.add,i),i.delete(e),n.isRenderingOperation=!0}if(l(this,Na)===e){let n=hM(l(this,ir)[0]*256/l(this,$c)),i=hM(l(this,ir)[1]*256/l(this,zc)),o=dM(l(this,ir)[2]*256/l(this,$c)),s=dM(l(this,ir)[3]*256/l(this,zc));vw(l(this,ka),e,n,i,o,s);for(let a of l(this,yi))a!==e&&vw(l(this,ka),a,n,i,o,s);for(let a of l(this,Fs))a!==e&&vw(l(this,ka),a,n,i,o,s);for(let a of l(this,jc))a!==e&&vw(l(this,ka),a,n,i,o,s);t||(l(this,yi).clear(),k(this,Na,-1))}return this}recordShowTextOperation(e,t=!1){let n=Array.from(l(this,yi));this.recordOperation(e,t),this.recordIncrementalData("sameLineText",e);for(let i of n)this.recordIncrementalData("sameLineText",i);return this}bboxToClipBoxDropOperation(e,t=!1){return l(this,Na)===e&&(k(this,Na,-1),l(this,Zt)[0]=Math.max(l(this,Zt)[0],l(this,ir)[0]),l(this,Zt)[1]=Math.max(l(this,Zt)[1],l(this,ir)[1]),l(this,Zt)[2]=Math.min(l(this,Zt)[2],l(this,ir)[2]),l(this,Zt)[3]=Math.min(l(this,Zt)[3],l(this,ir)[3]),t||l(this,yi).clear()),this}_takePendingDependencies(){let e=l(this,yi);return k(this,yi,new Set),e}_extractOperation(e){let t=l(this,sy).get(e);return l(this,sy).delete(e),t}_pushPendingDependencies(e){for(let t of e)l(this,yi).add(t)}take(){return l(this,xd).clear(),new Lx(l(this,$n),l(this,ka))}takeDebugMetadata(){return l(this,To)}};gi=new WeakMap,mi=new WeakMap,Uc=new WeakMap,Fs=new WeakMap,jc=new WeakMap,Oa=new WeakMap,Zt=new WeakMap,ir=new WeakMap,Na=new WeakMap,yi=new WeakMap,sy=new WeakMap,xd=new WeakMap,$c=new WeakMap,zc=new WeakMap,ka=new WeakMap,$n=new WeakMap,To=new WeakMap,oy=new WeakSet,Bx=function(e,t){let n=new ArrayBuffer(e*4);k(this,ka,new Uint8ClampedArray(n)),k(this,$n,new Uint32Array(n)),t&&t.length>0?(l(this,$n).set(t),l(this,$n).fill(kx,t.length)):l(this,$n).fill(kx)};CT=class CT{constructor(e,t,n){Y(this,fr);Y(this,Pr);Y(this,Us);Y(this,Sd,0);Y(this,Td,0);if(e instanceof CT&&l(e,Us)===!!n)return e;k(this,fr,e),k(this,Pr,t),k(this,Us,!!n)}growOperationsCount(){throw new Error("Unreachable")}save(e){return tn(this,Td)._++,l(this,fr).save(l(this,Pr)),this}restore(e){return l(this,Td)>0&&(l(this,fr).restore(l(this,Pr)),tn(this,Td)._--),this}recordOpenMarker(e){return tn(this,Sd)._++,this}getOpenMarker(){return l(this,Sd)>0?l(this,Pr):l(this,fr).getOpenMarker()}recordCloseMarker(e){return tn(this,Sd)._--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return l(this,fr).pushBaseTransform(e),this}popBaseTransform(){return l(this,fr).popBaseTransform(),this}recordSimpleData(e,t){return l(this,fr).recordSimpleData(e,l(this,Pr)),this}recordIncrementalData(e,t){return l(this,fr).recordIncrementalData(e,l(this,Pr)),this}resetIncrementalData(e,t){return l(this,fr).resetIncrementalData(e,l(this,Pr)),this}recordNamedData(e,t){return this}recordSimpleDataFromNamed(e,t,n){return l(this,fr).recordSimpleDataFromNamed(e,t,l(this,Pr)),this}recordFutureForcedDependency(e,t){return l(this,fr).recordFutureForcedDependency(e,l(this,Pr)),this}inheritSimpleDataAsFutureForcedDependencies(e){return l(this,fr).inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return l(this,fr).inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return l(this,Us)||l(this,fr).resetBBox(l(this,Pr)),this}recordClipBox(e,t,n,i,o,s){return l(this,Us)||l(this,fr).recordClipBox(l(this,Pr),t,n,i,o,s),this}recordBBox(e,t,n,i,o,s){return l(this,Us)||l(this,fr).recordBBox(l(this,Pr),t,n,i,o,s),this}recordCharacterBBox(e,t,n,i,o,s,a){return l(this,Us)||l(this,fr).recordCharacterBBox(l(this,Pr),t,n,i,o,s,a),this}recordFullPageBBox(e){return l(this,Us)||l(this,fr).recordFullPageBBox(l(this,Pr)),this}getSimpleIndex(e){return l(this,fr).getSimpleIndex(e)}recordDependencies(e,t){return l(this,fr).recordDependencies(l(this,Pr),t),this}recordNamedDependency(e,t){return l(this,fr).recordNamedDependency(l(this,Pr),t),this}recordOperation(e){return l(this,fr).recordOperation(l(this,Pr),!0),this}recordShowTextOperation(e){return l(this,fr).recordShowTextOperation(l(this,Pr),!0),this}bboxToClipBoxDropOperation(e){return l(this,Us)||l(this,fr).bboxToClipBoxDropOperation(l(this,Pr),!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}};fr=new WeakMap,Pr=new WeakMap,Us=new WeakMap,Sd=new WeakMap,Td=new WeakMap;xv=CT,ls={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},Dn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};fm=class{isModifyingCurrentTransform(){return!1}getPattern(){dr("Abstract method `getPattern` called.")}},Fx=class extends fm{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}isOriginBased(){return this._p0[0]===0&&this._p0[1]===0&&(!this.isRadial()||this._p1[0]===0&&this._p1[1]===0)}isRadial(){return this._type==="radial"}_createGradient(e,t=null){let n,i=this._p0,o=this._p1;if(t&&(i=i.slice(),o=o.slice(),st.applyTransform(i,t),st.applyTransform(o,t)),this._type==="axial")n=e.createLinearGradient(i[0],i[1],o[0],o[1]);else if(this._type==="radial"){let s=this._r0,a=this._r1;if(t){let u=new Float32Array(2);st.singularValueDecompose2dScale(t,u),s*=u[0],a*=u[0]}n=e.createRadialGradient(i[0],i[1],s,o[0],o[1],a)}for(let s of this._colorStops)n.addColorStop(s[0],s[1]);return n}getPattern(e,t,n,i){let o;if(i===Dn.STROKE||i===Dn.FILL){if(this.isOriginBased()){let d=st.transform(n,t.baseTransform);this.matrix&&(d=st.transform(d,this.matrix));let g=.001,b=Math.hypot(d[0],d[1]),v=Math.hypot(d[2],d[3]),w=(d[0]*d[2]+d[1]*d[3])/(b*v);if(Math.abs(w)<g)if(this.isRadial()){if(Math.abs(b-v)<g)return this._createGradient(e,d)}else return this._createGradient(e,d)}let s=t.current.getClippedPathBoundingBox(i,Tr(e))||[0,0,0,0],a=Math.ceil(s[2]-s[0])||1,u=Math.ceil(s[3]-s[1])||1,c=t.cachedCanvases.getCanvas("pattern",a,u),f=c.context;f.clearRect(0,0,f.canvas.width,f.canvas.height),f.beginPath(),f.rect(0,0,f.canvas.width,f.canvas.height),f.translate(-s[0],-s[1]),n=st.transform(n,[1,0,0,1,s[0],s[1]]),f.transform(...t.baseTransform),this.matrix&&f.transform(...this.matrix),Mx(f,this._bbox),f.fillStyle=this._createGradient(f),f.fill(),o=e.createPattern(c.canvas,"no-repeat");let h=new DOMMatrix(n);o.setTransform(h)}else Mx(e,this._bbox),o=this._createGradient(e);return o}};Ux=class extends fm{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,n){let a=Math.floor(this._bounds[0]),u=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-a,f=Math.ceil(this._bounds[3])-u,h=Math.min(Math.ceil(Math.abs(c*e[0]*1.1)),3e3),d=Math.min(Math.ceil(Math.abs(f*e[1]*1.1)),3e3),g=c/h,b=f/d,v={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-u,scaleX:1/g,scaleY:1/b},w=h+4,y=d+4,_=n.getCanvas("mesh",w,y),E=_.context,S=E.createImageData(h,d);if(t){let L=S.data;for(let D=0,K=L.length;D<K;D+=4)L[D]=t[0],L[D+1]=t[1],L[D+2]=t[2],L[D+3]=255}for(let L of this._figures)oV(S,L,v);return E.putImageData(S,2,2),{canvas:_.canvas,offsetX:a-2*g,offsetY:u-2*b,scaleX:g,scaleY:b}}isModifyingCurrentTransform(){return!0}getPattern(e,t,n,i){Mx(e,this._bbox);let o=new Float32Array(2);if(i===Dn.SHADING)st.singularValueDecompose2dScale(Tr(e),o);else if(this.matrix){st.singularValueDecompose2dScale(this.matrix,o);let[a,u]=o;st.singularValueDecompose2dScale(t.baseTransform,o),o[0]*=a,o[1]*=u}else st.singularValueDecompose2dScale(t.baseTransform,o);let s=this._createMeshCanvas(o,i===Dn.SHADING?null:this._background,t.cachedCanvases);return i!==Dn.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(s.offsetX,s.offsetY),e.scale(s.scaleX,s.scaleY),e.createPattern(s.canvas,"no-repeat")}},jx=class extends fm{getPattern(){return"hotpink"}};pM={COLORED:1,UNCOLORED:2},Zv=class Zv{constructor(e,t,n,i){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=n,this.baseTransform=i}createPatternCanvas(e,t){let{bbox:n,operatorList:i,paintType:o,tilingType:s,color:a,canvasGraphicsFactory:u}=this,{xstep:c,ystep:f}=this;c=Math.abs(c),f=Math.abs(f),u_("TilingType: "+s);let h=n[0],d=n[1],g=n[2],b=n[3],v=g-h,w=b-d,y=new Float32Array(2);st.singularValueDecompose2dScale(this.matrix,y);let[_,E]=y;st.singularValueDecompose2dScale(this.baseTransform,y);let S=_*y[0],A=E*y[1],L=v,D=w,K=!1,re=!1,q=Math.ceil(c*S),oe=Math.ceil(f*A),U=Math.ceil(v*S),H=Math.ceil(w*A);q>=U?L=c:K=!0,oe>=H?D=f:re=!0;let ue=this.getSizeAndScale(L,this.ctx.canvas.width,S),Se=this.getSizeAndScale(D,this.ctx.canvas.height,A),Ae=e.cachedCanvases.getCanvas("pattern",ue.size,Se.size),j=Ae.context,I=u.createCanvasGraphics(j,t);if(I.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(I,o,a),j.translate(-ue.scale*h,-Se.scale*d),I.transform(0,ue.scale,0,0,Se.scale,0,0),j.save(),I.dependencyTracker?.save(),this.clipBbox(I,h,d,g,b),I.baseTransform=Tr(I.ctx),I.executeOperatorList(i),I.endDrawing(),I.dependencyTracker?.restore(),j.restore(),K||re){let se=Ae.canvas;K&&(L=c),re&&(D=f);let z=this.getSizeAndScale(L,this.ctx.canvas.width,S),ie=this.getSizeAndScale(D,this.ctx.canvas.height,A),V=z.size,X=ie.size,we=e.cachedCanvases.getCanvas("pattern-workaround",V,X),ve=we.context,de=K?Math.floor(v/c):0,M=re?Math.floor(w/f):0;for(let N=0;N<=de;N++)for(let $=0;$<=M;$++)ve.drawImage(se,V*N,X*$,V,X,0,0,V,X);return{canvas:we.canvas,scaleX:z.scale,scaleY:ie.scale,offsetX:h,offsetY:d}}return{canvas:Ae.canvas,scaleX:ue.scale,scaleY:Se.scale,offsetX:h,offsetY:d}}getSizeAndScale(e,t,n){let i=Math.max(Zv.MAX_PATTERN_SIZE,t),o=Math.ceil(e*n);return o>=i?o=i:n=o/e,{scale:n,size:o}}clipBbox(e,t,n,i,o){let s=i-t,a=o-n;e.ctx.rect(t,n,s,a),st.axialAlignedBoundingBox([t,n,i,o],Tr(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){let i=e.ctx,o=e.current;switch(t){case pM.COLORED:let{fillStyle:s,strokeStyle:a}=this.ctx;i.fillStyle=o.fillColor=s,i.strokeStyle=o.strokeColor=a;break;case pM.UNCOLORED:i.fillStyle=i.strokeStyle=n,o.fillColor=o.strokeColor=n;break;default:throw new GA(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,n,i,o){let s=n;i!==Dn.SHADING&&(s=st.transform(s,t.baseTransform),this.matrix&&(s=st.transform(s,this.matrix)));let a=this.createPatternCanvas(t,o),u=new DOMMatrix(s);u=u.translate(a.offsetX,a.offsetY),u=u.scale(1/a.scaleX,1/a.scaleY);let c=e.createPattern(a.canvas,"repeat");return c.setTransform(u),c}};Qe(Zv,"MAX_PATTERN_SIZE",3e3);$x=Zv;gM=16,mM=100,uV=15,yM=10,vi=16,$A=new DOMMatrix,Yi=new Float32Array(2),Uh=new Float32Array([1/0,1/0,-1/0,-1/0]);zx=class{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,t,n)):(i=this.canvasFactory.create(t,n),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(let e in this.cache){let t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}};Sv=class{constructor(e,t,n){Qe(this,"alphaIsShape",!1);Qe(this,"fontSize",0);Qe(this,"fontSizeScale",1);Qe(this,"textMatrix",null);Qe(this,"textMatrixScale",1);Qe(this,"fontMatrix",qA);Qe(this,"leading",0);Qe(this,"x",0);Qe(this,"y",0);Qe(this,"lineX",0);Qe(this,"lineY",0);Qe(this,"charSpacing",0);Qe(this,"wordSpacing",0);Qe(this,"textHScale",1);Qe(this,"textRenderingMode",on.FILL);Qe(this,"textRise",0);Qe(this,"fillColor","#000000");Qe(this,"strokeColor","#000000");Qe(this,"patternFill",!1);Qe(this,"patternStroke",!1);Qe(this,"fillAlpha",1);Qe(this,"strokeAlpha",1);Qe(this,"lineWidth",1);Qe(this,"activeSMask",null);Qe(this,"transferMaps","none");n?.(this),this.clipBox=new Float32Array([0,0,e,t]),this.minMax=Uh.slice()}clone(){let e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=Dn.FILL,t=null){let n=this.minMax.slice();if(e===Dn.STROKE){t||dr("Stroke bounding box must include transform."),st.singularValueDecompose2dScale(t,Yi);let i=Yi[0]*this.lineWidth/2,o=Yi[1]*this.lineWidth/2;n[0]-=i,n[1]-=o,n[2]+=i,n[3]+=o}return n}updateClipFromPath(){let e=st.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(Uh,0)}getClippedPathBoundingBox(e=Dn.FILL,t=null){return st.intersect(this.clipBox,this.getPathBoundingBox(e,t))}};fV=["butt","round","square"],hV=["miter","round","bevel"],dV={},_M={},RT=class RT{constructor(e,t,n,i,o,{optionalContentConfig:s,markedContentStack:a=null},u,c,f){Y(this,Xs);this.ctx=e,this.current=new Sv(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=i,this.filterFactory=o,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=a||[],this.optionalContentConfig=s,this.cachedCanvases=new zx(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=u,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=f??null}getObject(e,t,n=null){return typeof t=="string"?(this.dependencyTracker?.recordNamedDependency(e,t),t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t)):n}beginDrawing({transform:e,viewport:t,transparency:n=!1,background:i=null}){let o=this.ctx.canvas.width,s=this.ctx.canvas.height,a=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,o,s),this.ctx.fillStyle=a,n){let u=this.cachedCanvases.getCanvas("transparent",o,s);this.compositeCtx=this.ctx,this.transparentCanvas=u.canvas,this.ctx=u.context,this.ctx.save(),this.ctx.transform(...Tr(this.compositeCtx))}this.ctx.save(),Aw(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=Tr(this.ctx)}executeOperatorList(e,t,n,i,o){let s=e.argsArray,a=e.fnArray,u=t||0,c=s.length;if(c===u)return u;let f=c-u>yM&&typeof n=="function",h=f?Date.now()+uV:0,d=0,g=this.commonObjs,b=this.objs,v,w;for(;;){if(i!==void 0&&u===i.nextBreakPoint)return i.breakIt(u,n),u;if(!o||o(u))if(v=a[u],w=s[u]??null,v!==yp.dependency)w===null?this[v](u):this[v](u,...w);else for(let y of w){this.dependencyTracker?.recordNamedData(y,u);let _=y.startsWith("g_")?g:b;if(!_.has(y))return _.get(y,n),u}if(u++,u===c)return u;if(f&&++d>yM){if(Date.now()>h)return n(),u;d=0}}}endDrawing(){ee(this,Xs,Wx).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(let e of this._cachedBitmapsMap.values()){for(let t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),ee(this,Xs,qx).call(this)}_scaleImage(e,t){let n=e.width??e.displayWidth,i=e.height??e.displayHeight,o=Math.max(Math.hypot(t[0],t[1]),1),s=Math.max(Math.hypot(t[2],t[3]),1),a=n,u=i,c="prescale1",f,h;for(;o>2&&a>1||s>2&&u>1;){let d=a,g=u;o>2&&a>1&&(d=a>=16384?Math.floor(a/2)-1||1:Math.ceil(a/2),o/=a/d),s>2&&u>1&&(g=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u)/2,s/=u/g),f=this.cachedCanvases.getCanvas(c,d,g),h=f.context,h.clearRect(0,0,d,g),h.drawImage(e,0,0,a,u,0,0,d,g),e=f.canvas,a=d,u=g,c=c==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:a,paintHeight:u}}_createMaskCanvas(e,t){let n=this.ctx,{width:i,height:o}=t,s=this.current.fillColor,a=this.current.patternFill,u=Tr(n),c,f,h,d;if((t.bitmap||t.data)&&t.count>1){let q=t.bitmap||t.data.buffer;f=JSON.stringify(a?u:[u.slice(0,4),s]),c=this._cachedBitmapsMap.get(q),c||(c=new Map,this._cachedBitmapsMap.set(q,c));let oe=c.get(f);if(oe&&!a){let U=Math.round(Math.min(u[0],u[2])+u[4]),H=Math.round(Math.min(u[1],u[3])+u[5]);return this.dependencyTracker?.recordDependencies(e,ls.transformAndFill),{canvas:oe,offsetX:U,offsetY:H}}h=oe}h||(d=this.cachedCanvases.getCanvas("maskCanvas",i,o),wM(d.context,t));let g=st.transform(u,[1/i,0,0,-1/o,0,0]);g=st.transform(g,[1,0,0,1,0,-o]);let b=Uh.slice();st.axialAlignedBoundingBox([0,0,i,o],g,b);let[v,w,y,_]=b,E=Math.round(y-v)||1,S=Math.round(_-w)||1,A=this.cachedCanvases.getCanvas("fillCanvas",E,S),L=A.context,D=v,K=w;L.translate(-D,-K),L.transform(...g),h||(h=this._scaleImage(d.canvas,fo(L)),h=h.img,c&&a&&c.set(f,h)),L.imageSmoothingEnabled=vM(Tr(L),t.interpolate),Ew(L,h,0,0,h.width,h.height,0,0,i,o),L.globalCompositeOperation="source-in";let re=st.transform(fo(L),[1,0,0,1,-D,-K]);return L.fillStyle=a?s.getPattern(n,this,re,Dn.FILL,e):s,L.fillRect(0,0,i,o),c&&!a&&(this.cachedCanvases.delete("fillCanvas"),c.set(f,A.canvas)),this.dependencyTracker?.recordDependencies(e,ls.transformAndFill),{canvas:A.canvas,offsetX:Math.round(D),offsetY:Math.round(K)}}setLineWidth(e,t){this.dependencyTracker?.recordSimpleData("lineWidth",e),t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(e,t){this.dependencyTracker?.recordSimpleData("lineCap",e),this.ctx.lineCap=fV[t]}setLineJoin(e,t){this.dependencyTracker?.recordSimpleData("lineJoin",e),this.ctx.lineJoin=hV[t]}setMiterLimit(e,t){this.dependencyTracker?.recordSimpleData("miterLimit",e),this.ctx.miterLimit=t}setDash(e,t,n){this.dependencyTracker?.recordSimpleData("dash",e);let i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(t),i.lineDashOffset=n)}setRenderingIntent(e,t){}setFlatness(e,t){}setGState(e,t){for(let[n,i]of t)switch(n){case"LW":this.setLineWidth(e,i);break;case"LC":this.setLineCap(e,i);break;case"LJ":this.setLineJoin(e,i);break;case"ML":this.setMiterLimit(e,i);break;case"D":this.setDash(e,i[0],i[1]);break;case"RI":this.setRenderingIntent(e,i);break;case"FL":this.setFlatness(e,i);break;case"Font":this.setFont(e,i[0],i[1]);break;case"CA":this.dependencyTracker?.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=i;break;case"ca":this.dependencyTracker?.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=i;break;case"BM":this.dependencyTracker?.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=i;break;case"SMask":this.dependencyTracker?.recordSimpleData("SMask",e),this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.dependencyTracker?.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){let e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");let t=this.ctx.canvas.width,n=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,o=this.cachedCanvases.getCanvas(i,t,n);this.suspendedCtx=this.ctx;let s=this.ctx=o.context;s.setTransform(this.suspendedCtx.getTransform()),Og(this.suspendedCtx,s),cV(s,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Og(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];let t=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,n,i){let o=i[0],s=i[1],a=i[2]-o,u=i[3]-s;a===0||u===0||(this.genericComposeSMask(t.context,n,a,u,t.subtype,t.backdrop,t.transferMap,o,s,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,t,n,i,o,s,a,u,c,f,h){let d=e.canvas,g=u-f,b=c-h;if(s)if(g<0||b<0||g+n>d.width||b+i>d.height){let w=this.cachedCanvases.getCanvas("maskExtension",n,i),y=w.context;y.drawImage(d,-g,-b),y.globalCompositeOperation="destination-atop",y.fillStyle=s,y.fillRect(0,0,n,i),y.globalCompositeOperation="source-over",d=w.canvas,g=b=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);let w=new Path2D;w.rect(g,b,n,i),e.clip(w),e.globalCompositeOperation="destination-atop",e.fillStyle=s,e.fillRect(g,b,n,i),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),o==="Alpha"&&a?t.filter=this.filterFactory.addAlphaFilter(a):o==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(a));let v=new Path2D;v.rect(u,c,n,i),t.clip(v),t.globalCompositeOperation="destination-in",t.drawImage(d,g,b,n,i,u,c,n,i),t.restore()}save(e){this.inSMaskMode&&Og(this.ctx,this.suspendedCtx),this.ctx.save();let t=this.current;this.stateStack.push(t),this.current=t.clone(),this.dependencyTracker?.save(e)}restore(e){if(this.dependencyTracker?.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Og(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,n,i,o,s,a){this.dependencyTracker?.recordIncrementalData("transform",e),this.ctx.transform(t,n,i,o,s,a),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n,i){let[o]=n;if(!i){o||(o=n[0]=new Path2D),this[t](e,o);return}if(this.dependencyTracker!==null){let s=t===yp.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,i[0]-s,i[2]+s,i[1]-s,i[3]+s).recordDependencies(e,["transform"])}o instanceof Path2D||(o=n[0]=LM(o)),st.axialAlignedBoundingBox(i,Tr(this.ctx),this.current.minMax),this[t](e,o),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,t,n=!0){let i=this.ctx,o=this.current.strokeColor;if(i.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof o=="object"&&o?.getPattern){let s=o.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.strokeStyle=o.getPattern(i,this,fo(i),Dn.STROKE,e),s){let a=new Path2D;a.addPath(t,i.getTransform().invertSelf().multiplySelf(s)),t=a}this.rescaleAndStroke(t,!1),i.restore()}else this.rescaleAndStroke(t,!0);this.dependencyTracker?.recordDependencies(e,ls.stroke),n&&this.consumePath(e,t,this.current.getClippedPathBoundingBox(Dn.STROKE,Tr(this.ctx))),i.globalAlpha=this.current.fillAlpha}closeStroke(e,t){this.stroke(e,t)}fill(e,t,n=!0){let i=this.ctx,o=this.current.fillColor,s=this.current.patternFill,a=!1;if(s){let c=o.isModifyingCurrentTransform()?i.getTransform():null;if(this.dependencyTracker?.save(e),i.save(),i.fillStyle=o.getPattern(i,this,fo(i),Dn.FILL,e),c){let f=new Path2D;f.addPath(t,i.getTransform().invertSelf().multiplySelf(c)),t=f}a=!0}let u=this.current.getClippedPathBoundingBox();this.contentVisible&&u!==null&&(this.pendingEOFill?(i.fill(t,"evenodd"),this.pendingEOFill=!1):i.fill(t)),this.dependencyTracker?.recordDependencies(e,ls.fill),a&&(i.restore(),this.dependencyTracker?.restore(e)),n&&this.consumePath(e,t,u)}eoFill(e,t){this.pendingEOFill=!0,this.fill(e,t)}fillStroke(e,t){this.fill(e,t,!1),this.stroke(e,t,!1),this.consumePath(e,t)}eoFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}closeFillStroke(e,t){this.fillStroke(e,t)}closeEOFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}endPath(e,t){this.consumePath(e,t)}rawFillPath(e,t){this.ctx.fill(t),this.dependencyTracker?.recordDependencies(e,ls.rawFillPath).recordOperation(e)}clip(e){this.dependencyTracker?.recordFutureForcedDependency("clipMode",e),this.pendingClip=dV}eoClip(e){this.dependencyTracker?.recordFutureForcedDependency("clipMode",e),this.pendingClip=_M}beginText(e){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,this.dependencyTracker?.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){let t=this.pendingTextPaths,n=this.ctx;if(this.dependencyTracker){let{dependencyTracker:i}=this;t!==void 0&&i.recordFutureForcedDependency("textClip",i.getOpenMarker()).recordFutureForcedDependency("textClip",e),i.recordCloseMarker(e)}if(t!==void 0){let i=new Path2D,o=n.getTransform().invertSelf();for(let{transform:s,x:a,y:u,fontSize:c,path:f}of t)f&&i.addPath(f,new DOMMatrix(s).preMultiplySelf(o).translate(a,u).scale(c,-c));n.clip(i)}delete this.pendingTextPaths}setCharSpacing(e,t){this.dependencyTracker?.recordSimpleData("charSpacing",e),this.current.charSpacing=t}setWordSpacing(e,t){this.dependencyTracker?.recordSimpleData("wordSpacing",e),this.current.wordSpacing=t}setHScale(e,t){this.dependencyTracker?.recordSimpleData("hScale",e),this.current.textHScale=t/100}setLeading(e,t){this.dependencyTracker?.recordSimpleData("leading",e),this.current.leading=-t}setFont(e,t,n){this.dependencyTracker?.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",t,e);let i=this.commonObjs.get(t),o=this.current;if(!i)throw new Error(`Can't find font for ${t}`);if(o.fontMatrix=i.fontMatrix||qA,(o.fontMatrix[0]===0||o.fontMatrix[3]===0)&&_t("Invalid font matrix for font "+t),n<0?(n=-n,o.fontDirection=-1):o.fontDirection=1,this.current.font=i,this.current.fontSize=n,i.isType3Font)return;let s=i.loadedName||"sans-serif",a=i.systemFontInfo?.css||`"${s}", ${i.fallbackName}`,u="normal";i.black?u="900":i.bold&&(u="bold");let c=i.italic?"italic":"normal",f=n;n<gM?f=gM:n>mM&&(f=mM),this.current.fontSizeScale=n/f,this.ctx.font=`${c} ${u} ${f}px ${a}`}setTextRenderingMode(e,t){this.dependencyTracker?.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=t}setTextRise(e,t){this.dependencyTracker?.recordSimpleData("textRise",e),this.current.textRise=t}moveText(e,t,n){this.dependencyTracker?.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=n}setLeadingMoveText(e,t,n){this.setLeading(e,-n),this.moveText(e,t,n)}setTextMatrix(e,t){this.dependencyTracker?.resetIncrementalData("sameLineText").recordSimpleData("textMatrix",e);let{current:n}=this;n.textMatrix=t,n.textMatrixScale=Math.hypot(t[0],t[1]),n.x=n.lineX=0,n.y=n.lineY=0}nextLine(e){this.moveText(e,0,this.current.leading),this.dependencyTracker?.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}paintChar(e,t,n,i,o,s){let a=this.ctx,u=this.current,c=u.font,f=u.textRenderingMode,h=u.fontSize/u.fontSizeScale,d=f&on.FILL_STROKE_MASK,g=!!(f&on.ADD_TO_PATH_FLAG),b=u.patternFill&&!c.missingFile,v=u.patternStroke&&!c.missingFile,w;if((c.disableFontFace||g||b||v)&&!c.missingFile&&(w=c.getPathGenerator(this.commonObjs,t)),w&&(c.disableFontFace||b||v)){a.save(),a.translate(n,i),a.scale(h,-h),this.dependencyTracker?.recordCharacterBBox(e,a,c);let y;if(d===on.FILL||d===on.FILL_STROKE)if(o){y=a.getTransform(),a.setTransform(...o);let _=ee(this,Xs,Hx).call(this,w,y,o);a.fill(_)}else a.fill(w);if(d===on.STROKE||d===on.FILL_STROKE)if(s){y||(y=a.getTransform()),a.setTransform(...s);let{a:_,b:E,c:S,d:A}=y,L=st.inverseTransform(s),D=st.transform([_,E,S,A,0,0],L);st.singularValueDecompose2dScale(D,Yi),a.lineWidth*=Math.max(Yi[0],Yi[1])/h,a.stroke(ee(this,Xs,Hx).call(this,w,y,s))}else a.lineWidth/=h,a.stroke(w);a.restore()}else(d===on.FILL||d===on.FILL_STROKE)&&(a.fillText(t,n,i),this.dependencyTracker?.recordCharacterBBox(e,a,c,h,n,i,()=>a.measureText(t))),(d===on.STROKE||d===on.FILL_STROKE)&&(this.dependencyTracker&&this.dependencyTracker?.recordCharacterBBox(e,a,c,h,n,i,()=>a.measureText(t)).recordDependencies(e,ls.stroke),a.strokeText(t,n,i));g&&((this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Tr(a),x:n,y:i,fontSize:h,path:w}),this.dependencyTracker?.recordCharacterBBox(e,a,c,h,n,i))}get isFontSubpixelAAEnabled(){let{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);let t=e.getImageData(0,0,10,10).data,n=!1;for(let i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){n=!0;break}return wt(this,"isFontSubpixelAAEnabled",n)}showText(e,t){this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,ls.showText).resetBBox(e),this.current.textRenderingMode&on.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());let n=this.current,i=n.font;if(i.isType3Font){this.showType3Text(e,t),this.dependencyTracker?.recordShowTextOperation(e);return}let o=n.fontSize;if(o===0){this.dependencyTracker?.recordOperation(e);return}let s=this.ctx,a=n.fontSizeScale,u=n.charSpacing,c=n.wordSpacing,f=n.fontDirection,h=n.textHScale*f,d=t.length,g=i.vertical,b=g?1:-1,v=i.defaultVMetrics,w=o*n.fontMatrix[0],y=n.textRenderingMode===on.FILL&&!i.disableFontFace&&!n.patternFill;s.save(),n.textMatrix&&s.transform(...n.textMatrix),s.translate(n.x,n.y+n.textRise),f>0?s.scale(h,-1):s.scale(h,1);let _,E,S=n.textRenderingMode&on.FILL_STROKE_MASK,A=S===on.FILL||S===on.FILL_STROKE,L=S===on.STROKE||S===on.FILL_STROKE;if(A&&n.patternFill){s.save();let oe=n.fillColor.getPattern(s,this,fo(s),Dn.FILL,e);_=Tr(s),s.restore(),s.fillStyle=oe}if(L&&n.patternStroke){s.save();let oe=n.strokeColor.getPattern(s,this,fo(s),Dn.STROKE,e);E=Tr(s),s.restore(),s.strokeStyle=oe}let D=n.lineWidth,K=n.textMatrixScale;if(K===0||D===0?L&&(D=this.getSinglePixelWidth()):D/=K,a!==1&&(s.scale(a,a),D/=a),s.lineWidth=D,i.isInvalidPDFjsFont){let oe=[],U=0;for(let ue of t)oe.push(ue.unicode),U+=ue.width;let H=oe.join("");if(s.fillText(H,0,0),this.dependencyTracker!==null){let ue=s.measureText(H);this.dependencyTracker.recordBBox(e,this.ctx,-ue.actualBoundingBoxLeft,ue.actualBoundingBoxRight,-ue.actualBoundingBoxAscent,ue.actualBoundingBoxDescent).recordShowTextOperation(e)}n.x+=U*w*h,s.restore(),this.compose();return}let re=0,q;for(q=0;q<d;++q){let oe=t[q];if(typeof oe=="number"){re+=b*oe*o/1e3;continue}let U=!1,H=(oe.isSpace?c:0)+u,ue=oe.fontChar,Se=oe.accent,Ae,j,I=oe.width;if(g){let ie=oe.vmetric||v,V=-(oe.vmetric?ie[1]:I*.5)*w,X=ie[2]*w;I=ie?-ie[0]:I,Ae=V/a,j=(re+X)/a}else Ae=re/a,j=0;let se;if(i.remeasure&&I>0){se=s.measureText(ue);let ie=se.width*1e3/o*a;if(I<ie&&this.isFontSubpixelAAEnabled){let V=I/ie;U=!0,s.save(),s.scale(V,1),Ae/=V}else I!==ie&&(Ae+=(I-ie)/2e3*o/a)}if(this.contentVisible&&(oe.isInFont||i.missingFile)){if(y&&!Se)s.fillText(ue,Ae,j),this.dependencyTracker?.recordCharacterBBox(e,s,se?{bbox:null}:i,o/a,Ae,j,()=>se??s.measureText(ue));else if(this.paintChar(e,ue,Ae,j,_,E),Se){let ie=Ae+o*Se.offset.x/a,V=j-o*Se.offset.y/a;this.paintChar(e,Se.fontChar,ie,V,_,E)}}let z=g?I*w-H*f:I*w+H*f;re+=z,U&&s.restore()}g?n.y-=re:n.x+=re*h,s.restore(),this.compose(),this.dependencyTracker?.recordShowTextOperation(e)}showType3Text(e,t){let n=this.ctx,i=this.current,o=i.font,s=i.fontSize,a=i.fontDirection,u=o.vertical?1:-1,c=i.charSpacing,f=i.wordSpacing,h=i.textHScale*a,d=i.fontMatrix||qA,g=t.length,b=i.textRenderingMode===on.INVISIBLE,v,w,y,_;if(b||s===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,n.save(),i.textMatrix&&n.transform(...i.textMatrix),n.translate(i.x,i.y+i.textRise),n.scale(h,a);let E=this.dependencyTracker;for(this.dependencyTracker=E?new xv(E,e):null,v=0;v<g;++v){if(w=t[v],typeof w=="number"){_=u*w*s/1e3,this.ctx.translate(_,0),i.x+=_*h;continue}let S=(w.isSpace?f:0)+c,A=o.charProcOperatorList[w.operatorListId];A?this.contentVisible&&(this.save(),n.scale(s,s),n.transform(...d),this.executeOperatorList(A),this.restore()):_t(`Type3 character "${w.operatorListId}" is not available.`);let L=[w.width,0];st.applyTransform(L,d),y=L[0]*s+S,n.translate(y,0),i.x+=y*h}n.restore(),E&&(this.dependencyTracker=E)}setCharWidth(e,t,n){}setCharWidthAndBounds(e,t,n,i,o,s,a){let u=new Path2D;u.rect(i,o,s-i,a-o),this.ctx.clip(u),this.dependencyTracker?.recordBBox(e,this.ctx,i,s,o,a).recordClipBox(e,this.ctx,i,s,o,a),this.endPath(e)}getColorN_Pattern(e,t){let n;if(t[0]==="TilingPattern"){let i=this.baseTransform||Tr(this.ctx),o={createCanvasGraphics:(s,a)=>new RT(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new xv(this.dependencyTracker,a,!0):null)};n=new $x(t,this.ctx,o,i)}else n=this._getPattern(e,t[1],t[2]);return n}setStrokeColorN(e,...t){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,t),this.current.patternStroke=!0}setFillColorN(e,...t){this.dependencyTracker?.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,t),this.current.patternFill=!0}setStrokeRGBColor(e,t){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(e){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,t){this.dependencyTracker?.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(e){this.dependencyTracker?.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t,n=null){let i;return this.cachedPatterns.has(t)?i=this.cachedPatterns.get(t):(i=aV(this.getObject(e,t)),this.cachedPatterns.set(t,i)),n&&(i.matrix=n),i}shadingFill(e,t){if(!this.contentVisible)return;let n=this.ctx;this.save(e);let i=this._getPattern(e,t);n.fillStyle=i.getPattern(n,this,fo(n),Dn.SHADING,e);let o=fo(n);if(o){let{width:s,height:a}=n.canvas,u=Uh.slice();st.axialAlignedBoundingBox([0,0,s,a],o,u);let[c,f,h,d]=u;this.ctx.fillRect(c,f,h-c,d-f)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.dependencyTracker?.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,ls.transform).recordDependencies(e,ls.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){dr("Should not call beginInlineImage")}beginImageData(){dr("Should not call beginImageData")}paintFormXObjectBegin(e,t,n){if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),t&&this.transform(e,...t),this.baseTransform=Tr(this.ctx),n)){st.axialAlignedBoundingBox(n,this.baseTransform,this.current.minMax);let[i,o,s,a]=n,u=new Path2D;u.rect(i,o,s-i,a-o),this.ctx.clip(u),this.dependencyTracker?.recordClipBox(e,this.ctx,i,s,o,a),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,t){if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);let n=this.ctx;t.isolated||u_("TODO: Support non-isolated groups."),t.knockout&&_t("Knockout groups not supported.");let i=Tr(n);if(t.matrix&&n.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let o=Uh.slice();st.axialAlignedBoundingBox(t.bbox,Tr(n),o);let s=[0,0,n.canvas.width,n.canvas.height];o=st.intersect(o,s)||[0,0,0,0];let a=Math.floor(o[0]),u=Math.floor(o[1]),c=Math.max(Math.ceil(o[2])-a,1),f=Math.max(Math.ceil(o[3])-u,1);this.current.startNewPathAndClipBox([0,0,c,f]);let h="groupAt"+this.groupLevel;t.smask&&(h+="_smask_"+this.smaskCounter++%2);let d=this.cachedCanvases.getCanvas(h,c,f),g=d.context;g.translate(-a,-u),g.transform(...i);let b=new Path2D,[v,w,y,_]=t.bbox;if(b.rect(v,w,y-v,_-w),t.matrix){let E=new Path2D;E.addPath(b,new DOMMatrix(t.matrix)),b=E}g.clip(b),t.smask&&this.smaskStack.push({canvas:d.canvas,context:g,offsetX:a,offsetY:u,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}),(!t.smask||this.dependencyTracker)&&(n.setTransform(1,0,0,1,0,0),n.translate(a,u),n.save()),Og(n,g),this.ctx=g,this.dependencyTracker?.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(n),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++}endGroup(e,t){if(!this.contentVisible)return;this.groupLevel--;let n=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,this.dependencyTracker?.popBaseTransform(),t.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();let o=Tr(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...o);let s=Uh.slice();st.axialAlignedBoundingBox([0,0,n.canvas.width,n.canvas.height],o,s),this.ctx.drawImage(n.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(e,t,n,i,o,s){if(ee(this,Xs,Wx).call(this),Aw(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),n){let a=n[2]-n[0],u=n[3]-n[1];if(s&&this.annotationCanvasMap){i=i.slice(),i[4]-=n[0],i[5]-=n[1],n=n.slice(),n[0]=n[1]=0,n[2]=a,n[3]=u,st.singularValueDecompose2dScale(Tr(this.ctx),Yi);let{viewportScale:c}=this,f=Math.ceil(a*this.outputScaleX*c),h=Math.ceil(u*this.outputScaleY*c);this.annotationCanvas=this.canvasFactory.create(f,h);let{canvas:d,context:g}=this.annotationCanvas;this.annotationCanvasMap.set(t,d),this.annotationCanvas.savedCtx=this.ctx,this.ctx=g,this.ctx.save(),this.ctx.setTransform(Yi[0],0,0,-Yi[1],0,u*Yi[1]),Aw(this.ctx)}else{Aw(this.ctx),this.endPath(e);let c=new Path2D;c.rect(n[0],n[1],a,u),this.ctx.clip(c)}}this.current=new Sv(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...i),this.transform(e,...o)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),ee(this,Xs,qx).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,t){if(!this.contentVisible)return;let n=t.count;t=this.getObject(e,t.data,t),t.count=n;let i=this.ctx,o=this._createMaskCanvas(e,t),s=o.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(s,o.offsetX,o.offsetY),this.dependencyTracker?.resetBBox(e).recordBBox(e,this.ctx,o.offsetX,o.offsetX+s.width,o.offsetY,o.offsetY+s.height).recordOperation(e),i.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,n,i=0,o=0,s,a){if(!this.contentVisible)return;t=this.getObject(e,t.data,t);let u=this.ctx;u.save();let c=Tr(u);u.transform(n,i,o,s,0,0);let f=this._createMaskCanvas(e,t);u.setTransform(1,0,0,1,f.offsetX-c[4],f.offsetY-c[5]),this.dependencyTracker?.resetBBox(e);for(let h=0,d=a.length;h<d;h+=2){let g=st.transform(c,[n,i,o,s,a[h],a[h+1]]);u.drawImage(f.canvas,g[4],g[5]),this.dependencyTracker?.recordBBox(e,this.ctx,g[4],g[4]+f.canvas.width,g[5],g[5]+f.canvas.height)}u.restore(),this.compose(),this.dependencyTracker?.recordOperation(e)}paintImageMaskXObjectGroup(e,t){if(!this.contentVisible)return;let n=this.ctx,i=this.current.fillColor,o=this.current.patternFill;this.dependencyTracker?.resetBBox(e).recordDependencies(e,ls.transformAndFill);for(let s of t){let{data:a,width:u,height:c,transform:f}=s,h=this.cachedCanvases.getCanvas("maskCanvas",u,c),d=h.context;d.save();let g=this.getObject(e,a,s);wM(d,g),d.globalCompositeOperation="source-in",d.fillStyle=o?i.getPattern(d,this,fo(n),Dn.FILL,e):i,d.fillRect(0,0,u,c),d.restore(),n.save(),n.transform(...f),n.scale(1,-1),Ew(n,h.canvas,0,0,u,c,0,-1,1,1),this.dependencyTracker?.recordBBox(e,n,0,u,0,c),n.restore()}this.compose(),this.dependencyTracker?.recordOperation(e)}paintImageXObject(e,t){if(!this.contentVisible)return;let n=this.getObject(e,t);if(!n){_t("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,n)}paintImageXObjectRepeat(e,t,n,i,o){if(!this.contentVisible)return;let s=this.getObject(e,t);if(!s){_t("Dependent image isn't ready yet");return}let a=s.width,u=s.height,c=[];for(let f=0,h=o.length;f<h;f+=2)c.push({transform:[n,0,0,i,o[f],o[f+1]],x:0,y:0,w:a,h:u});this.paintInlineImageXObjectGroup(e,s,c)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;let{bitmap:t,width:n,height:i}=e,o=this.cachedCanvases.getCanvas("inlineImage",n,i),s=o.context;return s.filter=this.current.transferMaps,s.drawImage(t,0,0),s.filter="none",o.canvas}paintInlineImageXObject(e,t){if(!this.contentVisible)return;let n=t.width,i=t.height,o=this.ctx;this.save(e);let{filter:s}=o;s!=="none"&&s!==""&&(o.filter="none"),o.scale(1/n,-1/i);let a;if(t.bitmap)a=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)a=t;else{let f=this.cachedCanvases.getCanvas("inlineImage",n,i).context;bM(f,t),a=this.applyTransferMapsToCanvas(f)}let u=this._scaleImage(a,fo(o));o.imageSmoothingEnabled=vM(Tr(o),t.interpolate),this.dependencyTracker?.resetBBox(e).recordBBox(e,o,0,n,-i,0).recordDependencies(e,ls.imageXObject).recordOperation(e),Ew(o,u.img,0,0,u.paintWidth,u.paintHeight,0,-i,n,i),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,t,n){if(!this.contentVisible)return;let i=this.ctx,o;if(t.bitmap)o=t.bitmap;else{let s=t.width,a=t.height,c=this.cachedCanvases.getCanvas("inlineImage",s,a).context;bM(c,t),o=this.applyTransferMapsToCanvas(c)}this.dependencyTracker?.resetBBox(e);for(let s of n)i.save(),i.transform(...s.transform),i.scale(1,-1),Ew(i,o,s.x,s.y,s.w,s.h,0,-1,1,1),this.dependencyTracker?.recordBBox(e,i,0,1,-1,0),i.restore();this.dependencyTracker?.recordOperation(e),this.compose()}paintSolidColorImageMask(e){this.contentVisible&&(this.dependencyTracker?.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,ls.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,t){}markPointProps(e,t,n){}beginMarkedContent(e,t){this.dependencyTracker?.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t,n){this.dependencyTracker?.beginMarkedContent(e),t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){this.dependencyTracker?.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,t,n){let i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(n);let o=this.ctx;this.pendingClip?(i||(this.pendingClip===_M?o.clip(t,"evenodd"):o.clip(t)),this.pendingClip=null,this.dependencyTracker?.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):this.dependencyTracker?.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){let e=Tr(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{let t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){let{lineWidth:e}=this.current,{a:t,b:n,c:i,d:o}=this.ctx.getTransform(),s,a;if(n===0&&i===0){let u=Math.abs(t),c=Math.abs(o);if(u===c)if(e===0)s=a=1/u;else{let f=u*e;s=a=f<1?1/f:1}else if(e===0)s=1/u,a=1/c;else{let f=u*e,h=c*e;s=f<1?1/f:1,a=h<1?1/h:1}}else{let u=Math.abs(t*o-n*i),c=Math.hypot(t,n),f=Math.hypot(i,o);if(e===0)s=f/u,a=c/u;else{let h=e*u;s=f>h?f/h:1,a=c>h?c/h:1}}this._cachedScaleForStroking[0]=s,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(e,t){let{ctx:n,current:{lineWidth:i}}=this,[o,s]=this.getScaleForStroking();if(o===s){n.lineWidth=(i||1)*o,n.stroke(e);return}let a=n.getLineDash();t&&n.save(),n.scale(o,s),$A.a=1/o,$A.d=1/s;let u=new Path2D;if(u.addPath(e,$A),a.length>0){let c=Math.max(o,s);n.setLineDash(a.map(f=>f/c)),n.lineDashOffset/=c}n.lineWidth=i||1,n.stroke(u),t&&n.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Xs=new WeakSet,Wx=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},qx=function(){if(this.pageColors){let e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){let t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}},Hx=function(e,t,n){let i=new Path2D;return i.addPath(e,new DOMMatrix(n).invertSelf().multiplySelf(t)),i};qh=RT;for(let r in yp)qh.prototype[r]!==void 0&&(qh.prototype[yp[r]]=qh.prototype[r]);_s=class{static get workerPort(){return l(this,ay)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");k(this,ay,e)}static get workerSrc(){return l(this,ly)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");k(this,ly,e)}};ay=new WeakMap,ly=new WeakMap,Y(_s,ay,null),Y(_s,ly,"");Gx=class{constructor({parsedData:e,rawData:t}){Y(this,Cd);Y(this,uy);k(this,Cd,e),k(this,uy,t)}getRaw(){return l(this,uy)}get(e){return l(this,Cd).get(e)??null}[Symbol.iterator](){return l(this,Cd).entries()}};Cd=new WeakMap,uy=new WeakMap;Lh=Symbol("INTERNAL"),Vx=class{constructor(e,{name:t,intent:n,usage:i,rbGroups:o}){Y(this,cy,!1);Y(this,fy,!1);Y(this,hy,!1);Y(this,Rd,!0);k(this,cy,!!(e&Vi.DISPLAY)),k(this,fy,!!(e&Vi.PRINT)),this.name=t,this.intent=n,this.usage=i,this.rbGroups=o}get visible(){if(l(this,hy))return l(this,Rd);if(!l(this,Rd))return!1;let{print:e,view:t}=this.usage;return l(this,cy)?t?.viewState!=="OFF":l(this,fy)?e?.printState!=="OFF":!0}_setVisible(e,t,n=!1){e!==Lh&&dr("Internal method `_setVisible` called."),k(this,hy,n),k(this,Rd,t)}};cy=new WeakMap,fy=new WeakMap,hy=new WeakMap,Rd=new WeakMap;Yx=class{constructor(e,t=Vi.DISPLAY){Y(this,dy);Y(this,Kl,null);Y(this,sr,new Map);Y(this,Dd,null);Y(this,Id,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,k(this,Id,e.order);for(let n of e.groups)l(this,sr).set(n.id,new Vx(t,n));if(e.baseState==="OFF")for(let n of l(this,sr).values())n._setVisible(Lh,!1);for(let n of e.on)l(this,sr).get(n)._setVisible(Lh,!0);for(let n of e.off)l(this,sr).get(n)._setVisible(Lh,!1);k(this,Dd,this.getHash())}}isVisible(e){if(l(this,sr).size===0)return!0;if(!e)return u_("Optional content group not defined."),!0;if(e.type==="OCG")return l(this,sr).has(e.id)?l(this,sr).get(e.id).visible:(_t(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return ee(this,dy,Xx).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(let t of e.ids){if(!l(this,sr).has(t))return _t(`Optional content group not found: ${t}`),!0;if(l(this,sr).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(let t of e.ids){if(!l(this,sr).has(t))return _t(`Optional content group not found: ${t}`),!0;if(!l(this,sr).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(let t of e.ids){if(!l(this,sr).has(t))return _t(`Optional content group not found: ${t}`),!0;if(!l(this,sr).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(let t of e.ids){if(!l(this,sr).has(t))return _t(`Optional content group not found: ${t}`),!0;if(l(this,sr).get(t).visible)return!1}return!0}return _t(`Unknown optional content policy ${e.policy}.`),!0}return _t(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,n=!0){let i=l(this,sr).get(e);if(!i){_t(`Optional content group not found: ${e}`);return}if(n&&t&&i.rbGroups.length)for(let o of i.rbGroups)for(let s of o)s!==e&&l(this,sr).get(s)?._setVisible(Lh,!1,!0);i._setVisible(Lh,!!t,!0),k(this,Kl,null)}setOCGState({state:e,preserveRB:t}){let n;for(let i of e){switch(i){case"ON":case"OFF":case"Toggle":n=i;continue}let o=l(this,sr).get(i);if(o)switch(n){case"ON":this.setVisibility(i,!0,t);break;case"OFF":this.setVisibility(i,!1,t);break;case"Toggle":this.setVisibility(i,!o.visible,t);break}}k(this,Kl,null)}get hasInitialVisibility(){return l(this,Dd)===null||this.getHash()===l(this,Dd)}getOrder(){return l(this,sr).size?l(this,Id)?l(this,Id).slice():[...l(this,sr).keys()]:null}getGroup(e){return l(this,sr).get(e)||null}getHash(){if(l(this,Kl)!==null)return l(this,Kl);let e=new hv;for(let[t,n]of l(this,sr))e.update(`${t}:${n.visible}`);return k(this,Kl,e.hexdigest())}[Symbol.iterator](){return l(this,sr).entries()}};Kl=new WeakMap,sr=new WeakMap,Dd=new WeakMap,Id=new WeakMap,dy=new WeakSet,Xx=function(e){let t=e.length;if(t<2)return!0;let n=e[0];for(let i=1;i<t;i++){let o=e[i],s;if(Array.isArray(o))s=ee(this,dy,Xx).call(this,o);else if(l(this,sr).has(o))s=l(this,sr).get(o).visible;else return _t(`Optional content group not found: ${o}`),!0;switch(n){case"And":if(!s)return!1;break;case"Or":if(s)return!0;break;case"Not":return!s;default:return!0}}return n==="And"};Kx=class{constructor(e,{disableRange:t=!1,disableStream:n=!1}){Mt(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');let{length:i,initialData:o,progressiveDone:s,contentDispositionFilename:a}=e;if(this._queuedChunks=[],this._progressiveDone=s,this._contentDispositionFilename=a,o?.length>0){let u=o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer;this._queuedChunks.push(u)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!n,this._isRangeSupported=!t,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((u,c)=>{this._onReceiveData({begin:u,chunk:c})}),e.addProgressListener((u,c)=>{this._onProgress({loaded:u,total:c})}),e.addProgressiveReadListener(u=>{this._onReceiveData({chunk:u})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){let n=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{let i=this._rangeReaders.some(function(o){return o._begin!==e?!1:(o._enqueue(n),!0)});Mt(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(e){e.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:e.loaded}):this._fullRequestReader?.onProgress?.({loaded:e.loaded,total:e.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){let t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Mt(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");let e=this._queuedChunks;return this._queuedChunks=null,new Zx(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;let n=new Jx(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(let t of this._rangeReaders.slice(0))t.cancel(e);this._pdfDataRangeTransport.abort()}},Zx=class{constructor(e,t,n=!1,i=null){this._stream=e,this._done=n||!1,this._filename=c_(i)?i:null,this._queuedChunks=t||[],this._loaded=0;for(let o of this._queuedChunks)this._loaded+=o.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};let e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(let t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}},Jx=class{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(let n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){let t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};let e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(let t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}};Qx=class{constructor(e){Qe(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=bF(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Mt(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new eS(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;let n=new tS(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(let t of this._rangeRequestReaders.slice(0))t.cancel(e)}},eS=class{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;let t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;let n=new Headers(e.headers),i=t.url;fetch(i,EF(n,this._withCredentials,this._abortController)).then(o=>{if(e._responseOrigin=f_(o.url),!_F(o.status))throw d0(o.status,i);this._reader=o.body.getReader(),this._headersCapability.resolve();let s=o.headers,{allowRangeRequests:a,suggestedLength:u}=wF({responseHeaders:s,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=u||this._contentLength,this._filename=vF(s),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Ys("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;let{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:AF(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}},tS=class{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;let i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;let o=new Headers(e.headers);o.append("Range",`bytes=${t}-${n-1}`);let s=i.url;fetch(s,EF(o,this._withCredentials,this._abortController)).then(a=>{let u=f_(a.url);if(u!==e._responseOrigin)throw new Error(`Expected range response-origin "${u}" to match "${e._responseOrigin}".`);if(!_F(a.status))throw d0(a.status,s);this._readCapability.resolve(),this._reader=a.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;let{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded}),{value:AF(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}},zA=200,WA=206;rS=class{constructor({url:e,httpHeaders:t,withCredentials:n}){Qe(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=bF(this.isHttp,t),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){let t=new XMLHttpRequest,n=this.currXhrId++,i=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(let[o,s]of this.headers)t.setRequestHeader(o,s);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=WA):i.expectedStatus=zA,t.responseType="arraybuffer",Mt(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){let n=this.pendingRequests[e];n&&n.onProgress?.(t)}onStateChange(e,t){let n=this.pendingRequests[e];if(!n)return;let i=n.xhr;if(i.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){n.onError(i.status);return}let o=i.status||zA;if(!(o===zA&&n.expectedStatus===WA)&&o!==n.expectedStatus){n.onError(i.status);return}let a=gV(i);if(o===WA){let u=i.getResponseHeader("Content-Range"),c=/bytes (\d+)-(\d+)\/(\d+)/.exec(u);c?n.onDone({begin:parseInt(c[1],10),chunk:a}):(_t('Missing or invalid "Content-Range" header.'),n.onError(0))}else a?n.onDone({begin:0,chunk:a}):n.onError(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){let t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}},nS=class{constructor(e){this._source=e,this._manager=new rS(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){let t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Mt(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new iS(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){let n=new sS(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(let t of this._rangeRequestReaders.slice(0))t.cancel(e)}},iS=class{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){let e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=f_(t.responseURL);let n=t.getAllResponseHeaders(),i=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(a=>{let[u,...c]=a.split(": ");return[u,c.join(": ")]}):[]),{allowRangeRequests:o,suggestedLength:s}=wF({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});o&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=vF(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(let t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=d0(e,this._url),this._headersCapability.reject(this._storedError);for(let t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){this.onProgress?.({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};let e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(let t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}},sS=class{constructor(e,t,n){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){let e=f_(this._manager.getRequestXhr(this._requestId)?.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(e){let t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(let n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=d0(e,this._url));for(let t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){this.isStreamingSupported||this.onProgress?.({loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){let t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};let e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(let t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}},mV=/^[a-z][a-z0-9\-+.]+:/i;oS=class{constructor(e){this.source=e,this.url=yV(e.url),Mt(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Mt(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new aS(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;let n=new lS(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(let t of this._rangeRequestReaders.slice(0))t.cancel(e)}},aS=class{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;let t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();let n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=d0(0,this._url.href)),this._storedError=i,this._headersCapability.reject(i)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;let e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Ys("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}},lS=class{constructor(e,t,n){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();let i=e.source;this._isStreamingSupported=!i.disableStream;let o=process.getBuiltinModule("fs");this._setReadableStream(o.createReadStream(this._url,{start:t,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;let e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}},Ng=Symbol("INITIAL_DATA"),Tv=class{constructor(){Y(this,py);Y(this,Ni,Object.create(null))}get(e,t=null){if(t){let i=ee(this,py,uS).call(this,e);return i.promise.then(()=>t(i.data)),null}let n=l(this,Ni)[e];if(!n||n.data===Ng)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){let t=l(this,Ni)[e];return!!t&&t.data!==Ng}delete(e){let t=l(this,Ni)[e];return!t||t.data===Ng?!1:(delete l(this,Ni)[e],!0)}resolve(e,t=null){let n=ee(this,py,uS).call(this,e);n.data=t,n.resolve()}clear(){for(let e in l(this,Ni)){let{data:t}=l(this,Ni)[e];t?.bitmap?.close()}k(this,Ni,Object.create(null))}*[Symbol.iterator](){for(let e in l(this,Ni)){let{data:t}=l(this,Ni)[e];t!==Ng&&(yield[e,t])}}};Ni=new WeakMap,py=new WeakSet,uS=function(e){var t;return(t=l(this,Ni))[e]||(t[e]={...Promise.withResolvers(),data:Ng})};bV=1e5,EM=30,An=class An{constructor({textContentSource:e,container:t,viewport:n}){Y(this,il);Y(this,Zl,Promise.withResolvers());Y(this,ki,null);Y(this,gy,!1);Y(this,my,!!globalThis.FontInspector?.enabled);Y(this,Wc,null);Y(this,La,null);Y(this,yy,0);Y(this,by,0);Y(this,qc,null);Y(this,wy,null);Y(this,Od,0);Y(this,Jl,0);Y(this,Nd,Object.create(null));Y(this,vy,[]);Y(this,kd,null);Y(this,Hc,[]);Y(this,_y,new WeakMap);Y(this,Ey,null);var u;if(e instanceof ReadableStream)k(this,kd,e);else if(typeof e=="object")k(this,kd,new ReadableStream({start(c){c.enqueue(e),c.close()}}));else throw new Error('No "textContentSource" parameter specified.');k(this,ki,k(this,wy,t)),k(this,Jl,n.scale*Mo.pixelRatio),k(this,Od,n.rotation),k(this,La,{div:null,properties:null,ctx:null});let{pageWidth:i,pageHeight:o,pageX:s,pageY:a}=n.rawDims;k(this,Ey,[1,0,0,-1,-s,a+o]),k(this,by,i),k(this,yy,o),ee(u=An,Ki,TF).call(u),t.style.setProperty("--min-font-size",l(An,Pd)),vu(t,n),l(this,Zl).promise.finally(()=>{l(An,Bd).delete(this),k(this,La,null),k(this,Nd,null)}).catch(()=>{})}static get fontFamilyMap(){let{isWindows:e,isFirefox:t}=Ur.platform;return wt(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){let e=()=>{l(this,qc).read().then(({value:t,done:n})=>{if(n){l(this,Zl).resolve();return}l(this,Wc)??k(this,Wc,t.lang),Object.assign(l(this,Nd),t.styles),ee(this,il,xF).call(this,t.items),e()},l(this,Zl).reject)};return k(this,qc,l(this,kd).getReader()),l(An,Bd).add(this),e(),l(this,Zl).promise}update({viewport:e,onBefore:t=null}){var o;let n=e.scale*Mo.pixelRatio,i=e.rotation;if(i!==l(this,Od)&&(t?.(),k(this,Od,i),vu(l(this,wy),{rotation:i})),n!==l(this,Jl)){t?.(),k(this,Jl,n);let s={div:null,properties:null,ctx:ee(o=An,Ki,Fw).call(o,l(this,Wc))};for(let a of l(this,Hc))s.properties=l(this,_y).get(a),s.div=a,ee(this,il,cS).call(this,s)}}cancel(){let e=new Ys("TextLayer task cancelled.");l(this,qc)?.cancel(e).catch(()=>{}),k(this,qc,null),l(this,Zl).reject(e)}get textDivs(){return l(this,Hc)}get textContentItemsStr(){return l(this,vy)}static cleanup(){if(!(l(this,Bd).size>0)){l(this,Ld).clear();for(let{canvas:e}of l(this,Gc).values())e.remove();l(this,Gc).clear()}}};Zl=new WeakMap,ki=new WeakMap,gy=new WeakMap,my=new WeakMap,Wc=new WeakMap,La=new WeakMap,yy=new WeakMap,by=new WeakMap,qc=new WeakMap,wy=new WeakMap,Od=new WeakMap,Jl=new WeakMap,Nd=new WeakMap,vy=new WeakMap,kd=new WeakMap,Hc=new WeakMap,_y=new WeakMap,Ey=new WeakMap,Ld=new WeakMap,Gc=new WeakMap,Ay=new WeakMap,Pd=new WeakMap,Bd=new WeakMap,il=new WeakSet,xF=function(e){var i,o;if(l(this,gy))return;(o=l(this,La)).ctx??(o.ctx=ee(i=An,Ki,Fw).call(i,l(this,Wc)));let t=l(this,Hc),n=l(this,vy);for(let s of e){if(t.length>bV){_t("Ignoring additional textDivs for performance reasons."),k(this,gy,!0);return}if(s.str===void 0){if(s.type==="beginMarkedContentProps"||s.type==="beginMarkedContent"){let a=l(this,ki);k(this,ki,document.createElement("span")),l(this,ki).classList.add("markedContent"),s.id&&l(this,ki).setAttribute("id",`${s.id}`),a.append(l(this,ki))}else s.type==="endMarkedContent"&&k(this,ki,l(this,ki).parentNode);continue}n.push(s.str),ee(this,il,SF).call(this,s)}},SF=function(e){var b;let t=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};l(this,Hc).push(t);let i=st.transform(l(this,Ey),e.transform),o=Math.atan2(i[1],i[0]),s=l(this,Nd)[e.fontName];s.vertical&&(o+=Math.PI/2);let a=l(this,my)&&s.fontSubstitution||s.fontFamily;a=An.fontFamilyMap.get(a)||a;let u=Math.hypot(i[2],i[3]),c=u*ee(b=An,Ki,CF).call(b,a,s,l(this,Wc)),f,h;o===0?(f=i[4],h=i[5]-c):(f=i[4]+c*Math.sin(o),h=i[5]-c*Math.cos(o));let d=t.style;d.left=`${(100*f/l(this,by)).toFixed(2)}%`,d.top=`${(100*h/l(this,yy)).toFixed(2)}%`,d.setProperty("--font-height",`${u.toFixed(2)}px`),d.fontFamily=a,n.fontSize=u,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,l(this,my)&&(t.dataset.fontName=s.fontSubstitutionLoadedName||e.fontName),o!==0&&(n.angle=o*(180/Math.PI));let g=!1;if(e.str.length>1)g=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){let v=Math.abs(e.transform[0]),w=Math.abs(e.transform[3]);v!==w&&Math.max(v,w)/Math.min(v,w)>1.5&&(g=!0)}if(g&&(n.canvasWidth=s.vertical?e.height:e.width),l(this,_y).set(t,n),l(this,La).div=t,l(this,La).properties=n,ee(this,il,cS).call(this,l(this,La)),n.hasText&&l(this,ki).append(t),n.hasEOL){let v=document.createElement("br");v.setAttribute("role","presentation"),l(this,ki).append(v)}},cS=function(e){var s;let{div:t,properties:n,ctx:i}=e,{style:o}=t;if(n.canvasWidth!==0&&n.hasText){let{fontFamily:a}=o,{canvasWidth:u,fontSize:c}=n;ee(s=An,Ki,fS).call(s,i,c*l(this,Jl),a);let{width:f}=i.measureText(t.textContent);f>0&&o.setProperty("--scale-x",u*l(this,Jl)/f)}n.angle!==0&&o.setProperty("--rotate",`${n.angle}deg`)},Ki=new WeakSet,Fw=function(e=null){let t=l(this,Gc).get(e||(e=""));if(!t){let n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),t=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),l(this,Gc).set(e,t),l(this,Ay).set(t,{size:0,family:""})}return t},fS=function(e,t,n){let i=l(this,Ay).get(e);t===i.size&&n===i.family||(e.font=`${t}px ${n}`,i.size=t,i.family=n)},TF=function(){if(l(this,Pd)!==null)return;let e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),k(this,Pd,e.getBoundingClientRect().height),e.remove()},CF=function(e,t,n){let i=l(this,Ld).get(e);if(i)return i;let o=ee(this,Ki,Fw).call(this,n);o.canvas.width=o.canvas.height=EM,ee(this,Ki,fS).call(this,o,EM,e);let s=o.measureText(""),a=s.fontBoundingBoxAscent,u=Math.abs(s.fontBoundingBoxDescent);o.canvas.width=o.canvas.height=0;let c=.8;return a?c=a/(a+u):(Ur.platform.isFirefox&&_t("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?c=t.ascent:t.descent&&(c=1+t.descent)),l(this,Ld).set(e,c),c},Y(An,Ki),Y(An,Ld,new Map),Y(An,Gc,new Map),Y(An,Ay,new WeakMap),Y(An,Pd,null),Y(An,Bd,new Set);vp=An,wV=100;Qv=class Qv{constructor(){Qe(this,"_capability",Promise.withResolvers());Qe(this,"_transport",null);Qe(this,"_worker",null);Qe(this,"docId",`d${tn(Qv,Jv)._++}`);Qe(this,"destroyed",!1);Qe(this,"onPassword",null);Qe(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(e){throw this._worker?.port&&delete this._worker._pendingDestroy,e}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}};Jv=new WeakMap,Y(Qv,Jv,0);hS=Qv,hm=class{constructor(e,t,n=!1,i=null){Y(this,Vc,Promise.withResolvers());Y(this,xy,[]);Y(this,Sy,[]);Y(this,Ty,[]);Y(this,Cy,[]);this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=i}addRangeListener(e){l(this,Cy).push(e)}addProgressListener(e){l(this,Ty).push(e)}addProgressiveReadListener(e){l(this,Sy).push(e)}addProgressiveDoneListener(e){l(this,xy).push(e)}onDataRange(e,t){for(let n of l(this,Cy))n(e,t)}onDataProgress(e,t){l(this,Vc).promise.then(()=>{for(let n of l(this,Ty))n(e,t)})}onDataProgressiveRead(e){l(this,Vc).promise.then(()=>{for(let t of l(this,Sy))t(e)})}onDataProgressiveDone(){l(this,Vc).promise.then(()=>{for(let e of l(this,xy))e()})}transportReady(){l(this,Vc).resolve()}requestDataRange(e,t){dr("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};Vc=new WeakMap,xy=new WeakMap,Sy=new WeakMap,Ty=new WeakMap,Cy=new WeakMap;dS=class{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return wt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,t){return this._transport.getAnnotationsByType(e,t)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){let{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}extractPages(e){return this._transport.extractPages(e)}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}},pS=class{constructor(e,t,n,i=!1){Y(this,Yc);Y(this,Pa,!1);this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=i?new lv:null,this._pdfBug=i,this.commonObjs=n.commonObjs,this.objs=new Tv,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:i=0,dontFlip:o=!1}={}){return new lm({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:i,dontFlip:o})}getAnnotations({intent:e="display"}={}){let{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return wt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:e,canvas:t=e.canvas,viewport:n,intent:i="display",annotationMode:o=Za.ENABLE,transform:s=null,background:a=null,optionalContentConfigPromise:u=null,annotationCanvasMap:c=null,pageColors:f=null,printAnnotationStorage:h=null,isEditing:d=!1,recordOperations:g=!1,operationsFilter:b=null}){this._stats?.time("Overall");let v=this._transport.getRenderingIntent(i,o,h,d),{renderingIntent:w,cacheKey:y}=v;k(this,Pa,!1),u||(u=this._transport.getOptionalContentConfig(w));let _=this._intentStates.get(y);_||(_=Object.create(null),this._intentStates.set(y,_)),_.streamReaderCancelTimeout&&(clearTimeout(_.streamReaderCancelTimeout),_.streamReaderCancelTimeout=null);let E=!!(w&Vi.PRINT);_.displayReadyCapability||(_.displayReadyCapability=Promise.withResolvers(),_.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(v));let S=!!(this._pdfBug&&globalThis.StepperManager?.enabled),A=!this.recordedBBoxes&&(g||S),L=re=>{if(_.renderTasks.delete(D),A){let q=D.gfx?.dependencyTracker.take();q&&(D.stepper&&D.stepper.setOperatorBBoxes(q,D.gfx.dependencyTracker.takeDebugMetadata()),g&&(this.recordedBBoxes=q))}E&&k(this,Pa,!0),ee(this,Yc,Vg).call(this),re?(D.capability.reject(re),this._abortOperatorList({intentState:_,reason:re instanceof Error?re:new Error(re)})):D.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},D=new yS({callback:L,params:{canvas:t,canvasContext:e,dependencyTracker:A?new Px(t,_.operatorList.length,S):null,viewport:n,transform:s,background:a},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:c,operatorList:_.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!E,pdfBug:this._pdfBug,pageColors:f,enableHWA:this._transport.enableHWA,operationsFilter:b});(_.renderTasks||(_.renderTasks=new Set)).add(D);let K=D.task;return Promise.all([_.displayReadyCapability.promise,u]).then(([re,q])=>{if(this.destroyed){L();return}if(this._stats?.time("Rendering"),!(q.renderingIntent&w))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");D.initializeGraphics({transparency:re,optionalContentConfig:q}),D.operatorListChanged()}).catch(L),K}getOperatorList({intent:e="display",annotationMode:t=Za.ENABLE,printAnnotationStorage:n=null,isEditing:i=!1}={}){function o(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(u))}let s=this._transport.getRenderingIntent(e,t,n,i,!0),a=this._intentStates.get(s.cacheKey);a||(a=Object.create(null),this._intentStates.set(s.cacheKey,a));let u;return a.opListReadCapability||(u=Object.create(null),u.operatorListChanged=o,a.opListReadCapability=Promise.withResolvers(),(a.renderTasks||(a.renderTasks=new Set)).add(u),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(s)),a.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>om.textContent(n));let t=this.streamTextContent(e);return new Promise(function(n,i){function o(){s.read().then(function({value:u,done:c}){if(c){n(a);return}a.lang??(a.lang=u.lang),Object.assign(a.styles,u.styles),a.items.push(...u.items),o()},i)}let s=t.getReader(),a={items:[],styles:Object.create(null),lang:null};o()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;let e=[];for(let t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(let n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),k(this,Pa,!1),Promise.all(e)}cleanup(e=!1){k(this,Pa,!0);let t=ee(this,Yc,Vg).call(this);return e&&t&&this._stats&&(this._stats=new lv),t}_startRenderPage(e,t){let n=this._intentStates.get(t);n&&(this._stats?.timeEnd("Page Request"),n.displayReadyCapability?.resolve(e))}_renderPageChunk(e,t){for(let n=0,i=e.length;n<i;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(let n of t.renderTasks)n.operatorListChanged();e.lastChunk&&ee(this,Yc,Vg).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:n,modifiedIds:i}){let{map:o,transfer:s}=n,u=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:o,modifiedIds:i},s).getReader(),c=this._intentStates.get(t);c.streamReader=u;let f=()=>{u.read().then(({value:h,done:d})=>{if(d){c.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,c),f())},h=>{if(c.streamReader=null,!this._transport.destroyed){if(c.operatorList){c.operatorList.lastChunk=!0;for(let d of c.renderTasks)d.operatorListChanged();ee(this,Yc,Vg).call(this)}if(c.displayReadyCapability)c.displayReadyCapability.reject(h);else if(c.opListReadCapability)c.opListReadCapability.reject(h);else throw h}})};f()}_abortOperatorList({intentState:e,reason:t,force:n=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!n){if(e.renderTasks.size>0)return;if(t instanceof wp){let i=wV;t.extraDelay>0&&t.extraDelay<1e3&&(i+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},i);return}}if(e.streamReader.cancel(new Ys(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(let[i,o]of this._intentStates)if(o===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}};Pa=new WeakMap,Yc=new WeakSet,Vg=function(){if(!l(this,Pa)||this.destroyed)return!1;for(let{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),k(this,Pa,!1),!0};_r=class _r{constructor({name:e=null,port:t=null,verbosity:n=VG()}={}){Y(this,ei);Y(this,Ql,Promise.withResolvers());Y(this,js,null);Y(this,Ba,null);Y(this,Xc,null);if(this.name=e,this.destroyed=!1,this.verbosity=n,t){if(l(_r,Zc).has(t))throw new Error("Cannot use more than one PDFWorker per port.");l(_r,Zc).set(t,this),ee(this,ei,DF).call(this,t)}else ee(this,ei,IF).call(this)}get promise(){return l(this,Ql).promise}get port(){return l(this,Ba)}get messageHandler(){return l(this,js)}destroy(){this.destroyed=!0,l(this,Xc)?.terminate(),k(this,Xc,null),l(_r,Zc).delete(l(this,Ba)),k(this,Ba,null),l(this,js)?.destroy(),k(this,js,null)}static create(e){let t=l(this,Zc).get(e?.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new _r(e)}static get workerSrc(){if(_s.workerSrc)return _s.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return wt(this,"_setupFakeWorkerGlobal",(async()=>l(this,Md,jw)?l(this,Md,jw):(await import(this.workerSrc)).WorkerMessageHandler)())}};Ql=new WeakMap,js=new WeakMap,Ba=new WeakMap,Xc=new WeakMap,e_=new WeakMap,Kc=new WeakMap,Zc=new WeakMap,ei=new WeakSet,Uw=function(){l(this,Ql).resolve(),l(this,js).send("configure",{verbosity:this.verbosity})},DF=function(e){k(this,Ba,e),k(this,js,new fc("main","worker",e)),l(this,js).on("ready",()=>{}),ee(this,ei,Uw).call(this)},IF=function(){if(l(_r,Kc)||l(_r,Md,jw)){ee(this,ei,Yg).call(this);return}let{workerSrc:e}=_r;try{_r._isSameOrigin(window.location,e)||(e=_r._createCDNWrapper(new URL(e,window.location).href));let t=new Worker(e,{type:"module"}),n=new fc("main","worker",t),i=()=>{o.abort(),n.destroy(),t.terminate(),this.destroyed?l(this,Ql).reject(new Error("Worker was destroyed")):ee(this,ei,Yg).call(this)},o=new AbortController;t.addEventListener("error",()=>{l(this,Xc)||i()},{signal:o.signal}),n.on("test",a=>{if(o.abort(),this.destroyed||!a){i();return}k(this,js,n),k(this,Ba,t),k(this,Xc,t),ee(this,ei,Uw).call(this)}),n.on("ready",a=>{if(o.abort(),this.destroyed){i();return}try{s()}catch{ee(this,ei,Yg).call(this)}});let s=()=>{let a=new Uint8Array;n.send("test",a,[a.buffer])};s();return}catch{u_("The worker has been disabled.")}ee(this,ei,Yg).call(this)},Yg=function(){l(_r,Kc)||(_t("Setting up fake worker."),k(_r,Kc,!0)),_r._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){l(this,Ql).reject(new Error("Worker was destroyed"));return}let t=new Ax;k(this,Ba,t);let n=`fake${tn(_r,e_)._++}`,i=new fc(n+"_worker",n,t);e.setup(i,t),k(this,js,new fc(n,n+"_worker",t)),ee(this,ei,Uw).call(this)}).catch(e=>{l(this,Ql).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},Md=new WeakSet,jw=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},Y(_r,Md),Y(_r,e_,0),Y(_r,Kc,!1),Y(_r,Zc,new WeakMap),Qn&&(k(_r,Kc,!0),_s.workerSrc||(_s.workerSrc="./pdf.worker.mjs")),_r._isSameOrigin=(e,t)=>{let n=URL.parse(e);if(!n?.origin||n.origin==="null")return!1;let i=new URL(t,n);return n.origin===i.origin},_r._createCDNWrapper=e=>{let t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},_r.fromPort=e=>{if(tV("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!e?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return _r.create(e)};_p=_r,gS=class{constructor(e,t,n,i,o,s){Y(this,Jc);Y(this,Ma,new Map);Y(this,Co,new Map);Y(this,Fd,new Map);Y(this,Ud,new Map);Y(this,Fa,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new Tv,this.fontLoader=new yx({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=o.canvasFactory,this.filterFactory=o.filterFactory,this.cMapReaderFactory=o.cMapReaderFactory,this.standardFontDataFactory=o.standardFontDataFactory,this.wasmFactory=o.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=s,this.setupMessageHandler()}get annotationStorage(){return wt(this,"annotationStorage",new cm)}getRenderingIntent(e,t=Za.ENABLE,n=null,i=!1,o=!1){let s=Vi.DISPLAY,a=mx;switch(e){case"any":s=Vi.ANY;break;case"display":break;case"print":s=Vi.PRINT;break;default:_t(`getRenderingIntent - invalid intent: ${e}`)}let u=s&Vi.PRINT&&n instanceof dv?n:this.annotationStorage;switch(t){case Za.DISABLE:s+=Vi.ANNOTATIONS_DISABLE;break;case Za.ENABLE:break;case Za.ENABLE_FORMS:s+=Vi.ANNOTATIONS_FORMS;break;case Za.ENABLE_STORAGE:s+=Vi.ANNOTATIONS_STORAGE,a=u.serializable;break;default:_t(`getRenderingIntent - invalid annotationMode: ${t}`)}i&&(s+=Vi.IS_EDITING),o&&(s+=Vi.OPLIST);let{ids:c,hash:f}=u.modifiedIds,h=[s,a.hash,f];return{renderingIntent:s,cacheKey:h.join("_"),annotationStorageSerializable:a,modifiedIds:c}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),l(this,Fa)?.reject(new Error("Worker was destroyed during onPassword callback"));let e=[];for(let n of l(this,Co).values())e.push(n._destroy());l(this,Co).clear(),l(this,Fd).clear(),l(this,Ud).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();let t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),l(this,Ma).clear(),this.filterFactory.destroy(),vp.cleanup(),this._networkStream?.cancelAllRequests(new Ys("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){let{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(n,i)=>{Mt(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=o=>{this._lastProgress={loaded:o.loaded,total:o.total}},i.onPull=()=>{this._fullReader.read().then(function({value:o,done:s}){if(s){i.close();return}Mt(o instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{i.error(o)})},i.onCancel=o=>{this._fullReader.cancel(o),i.ready.catch(s=>{if(!this.destroyed)throw s})}}),e.on("ReaderHeadersReady",async n=>{await this._fullReader.headersReady;let{isStreamingSupported:i,isRangeSupported:o,contentLength:s}=this._fullReader;return(!i||!o)&&(this._lastProgress&&t.onProgress?.(this._lastProgress),this._fullReader.onProgress=a=>{t.onProgress?.({loaded:a.loaded,total:a.total})}),{isStreamingSupported:i,isRangeSupported:o,contentLength:s}}),e.on("GetRangeReader",(n,i)=>{Mt(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");let o=this._networkStream.getRangeReader(n.begin,n.end);if(!o){i.close();return}i.onPull=()=>{o.read().then(function({value:s,done:a}){if(a){i.close();return}Mt(s instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{o.cancel(s),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new dS(n,this))}),e.on("DocException",n=>{t._capability.reject(hi(n))}),e.on("PasswordRequest",n=>{k(this,Fa,Promise.withResolvers());try{if(!t.onPassword)throw hi(n);let i=o=>{o instanceof Error?l(this,Fa).reject(o):l(this,Fa).resolve({password:o})};t.onPassword(i,n.code)}catch(i){l(this,Fa).reject(i)}return l(this,Fa).promise}),e.on("DataLoaded",n=>{t.onProgress?.({loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),e.on("StartRenderPage",n=>{if(this.destroyed)return;l(this,Co).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),e.on("commonobj",([n,i,o])=>{if(this.destroyed||this.commonObjs.has(n))return null;switch(i){case"Font":if("error"in o){let h=o.error;_t(`Error during font loading: ${h}`),this.commonObjs.resolve(n,h);break}let s=new wx(o),a=this._params.pdfBug&&globalThis.FontInspector?.enabled?(h,d)=>globalThis.FontInspector.fontAdded(h,d):null,u=new bx(s,a,o.extra,o.charProcOperatorList);this.fontLoader.bind(u).catch(()=>e.sendWithPromise("FontFallback",{id:n})).finally(()=>{!u.fontExtraProperties&&u.data&&u.clearData(),this.commonObjs.resolve(n,u)});break;case"CopyLocalImage":let{imageRef:c}=o;Mt(c,"The imageRef must be defined.");for(let h of l(this,Co).values())for(let[,d]of h.objs)if(d?.ref===c)return d.dataLen?(this.commonObjs.resolve(n,structuredClone(d)),d.dataLen):null;break;case"FontPath":this.commonObjs.resolve(n,new _x(o));break;case"Image":this.commonObjs.resolve(n,o);break;case"Pattern":let f=new vx(o);this.commonObjs.resolve(n,f.getIR());break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([n,i,o,s])=>{if(this.destroyed)return;let a=l(this,Co).get(i);if(!a.objs.has(n)){if(a._intentStates.size===0){s?.bitmap?.close();return}switch(o){case"Image":case"Pattern":a.objs.resolve(n,s);break;default:throw new Error(`Got unknown object type ${o}`)}}}),e.on("DocProgress",n=>{this.destroyed||t.onProgress?.({loaded:n.loaded,total:n.total})}),e.on("FetchBinaryData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");let i=this[n.type];if(!i)throw new Error(`${n.type} not initialized, see the \`useWorkerFetch\` parameter.`);return i.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&_t("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");let{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:this._fullReader?.filename??null},t).finally(()=>{this.annotationStorage.resetModified()})}extractPages(e){return this.messageHandler.sendWithPromise("ExtractPages",{pageInfos:e})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));let t=e-1,n=l(this,Fd).get(t);if(n)return n;let i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(o=>{if(this.destroyed)throw new Error("Transport destroyed");o.refStr&&l(this,Ud).set(o.refStr,e);let s=new pS(t,o,this,this._params.pdfBug);return l(this,Co).set(t,s),s});return l(this,Fd).set(t,i),i}getPageIndex(e){return Ex(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return ee(this,Jc,Xg).call(this,"GetFieldObjects")}hasJSActions(){return ee(this,Jc,Xg).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,t){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:t})}getDocJSActions(){return ee(this,Jc,Xg).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return ee(this,Jc,Xg).call(this,"GetOptionalContentConfig").then(t=>new Yx(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){let e="GetMetadata",t=l(this,Ma).get(e);if(t)return t;let n=this.messageHandler.sendWithPromise(e,null).then(i=>({info:i[0],metadata:i[1]?new Gx(i[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null,hasStructTree:i[2]}));return l(this,Ma).set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(let t of l(this,Co).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),l(this,Ma).clear(),this.filterFactory.destroy(!0),vp.cleanup()}}cachedPageNumber(e){if(!Ex(e))return null;let t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return l(this,Ud).get(t)??null}};Ma=new WeakMap,Co=new WeakMap,Fd=new WeakMap,Ud=new WeakMap,Fa=new WeakMap,Jc=new WeakSet,Xg=function(e,t=null){let n=l(this,Ma).get(e);if(n)return n;let i=this.messageHandler.sendWithPromise(e,t);return l(this,Ma).set(e,i),i};mS=class{constructor(e){Y(this,eu,null);Qe(this,"onContinue",null);Qe(this,"onError",null);k(this,eu,e)}get promise(){return l(this,eu).capability.promise}cancel(e=0){l(this,eu).cancel(null,e)}get separateAnnots(){let{separateAnnots:e}=l(this,eu).operatorList;if(!e)return!1;let{annotationCanvasMap:t}=l(this,eu);return e.form||e.canvas&&t?.size>0}};eu=new WeakMap;uc=class uc{constructor({callback:e,params:t,objs:n,commonObjs:i,annotationCanvasMap:o,operatorList:s,pageIndex:a,canvasFactory:u,filterFactory:c,useRequestAnimationFrame:f=!1,pdfBug:h=!1,pageColors:d=null,enableHWA:g=!1,operationsFilter:b=null}){Y(this,tu,null);this.callback=e,this.params=t,this.objs=n,this.commonObjs=i,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=s,this._pageIndex=a,this.canvasFactory=u,this.filterFactory=c,this._pdfBug=h,this.pageColors=d,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=f===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new mS(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvas,this._canvasContext=t.canvas?null:t.canvasContext,this._enableHWA=g,this._dependencyTracker=t.dependencyTracker,this._operationsFilter=b}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){if(this.cancelled)return;if(this._canvas){if(l(uc,Qc).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");l(uc,Qc).add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());let{viewport:n,transform:i,background:o,dependencyTracker:s}=this.params,a=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new qh(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors,s),this.gfx.beginDrawing({transform:i,viewport:n,transparency:e,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(e=null,t=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),l(this,tu)&&(window.cancelAnimationFrame(l(this,tu)),k(this,tu,null)),l(uc,Qc).delete(this._canvas),e||(e=new wp(`Rendering cancelled, page ${this._pageIndex+1}`,t)),this.callback(e),this.task.onError?.(e)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}this.gfx.dependencyTracker?.growOperationsCount(this.operatorList.fnArray.length),this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?k(this,tu,window.requestAnimationFrame(()=>{k(this,tu,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),l(uc,Qc).delete(this._canvas),this.callback())))}};tu=new WeakMap,Qc=new WeakMap,Y(uc,Qc,new WeakSet);yS=uc,OF="5.4.530",NF="50cc4adac",di=class di{constructor({editor:e=null,uiManager:t=null}){Y(this,or);Y(this,Li,null);Y(this,ef,null);Y(this,jd);Y(this,un,null);Y(this,Ry,!1);Y(this,$d,!1);Y(this,Ua,null);Y(this,Dy);Y(this,ru,null);Y(this,$s,null);e?(k(this,$d,!1),k(this,Ua,e)):k(this,$d,!0),k(this,$s,e?._uiManager||t),k(this,Dy,l(this,$s)._eventBus),k(this,jd,e?.color?.toUpperCase()||l(this,$s)?.highlightColors.values().next().value||"#FFFF98"),l(di,Iy)||k(di,Iy,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return wt(this,"_keyboardManager",new If([[["Escape","mac+Escape"],di.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],di.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],di.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],di.prototype._moveToPrevious],[["Home","mac+Home"],di.prototype._moveToBeginning],[["End","mac+End"],di.prototype._moveToEnd]]))}renderButton(){let e=k(this,Li,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",l(this,Ua)&&(e.ariaControls=`${l(this,Ua).id}_colorpicker_dropdown`);let t=l(this,$s)._signal;e.addEventListener("click",ee(this,or,sc).bind(this),{signal:t}),e.addEventListener("keydown",ee(this,or,vS).bind(this),{signal:t});let n=k(this,ef,document.createElement("span"));return n.className="swatch",n.ariaHidden="true",n.style.backgroundColor=l(this,jd),e.append(n),e}renderMainDropdown(){let e=k(this,un,ee(this,or,bS).call(this));return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}_colorSelectFromKeyboard(e){if(e.target===l(this,Li)){ee(this,or,sc).call(this,e);return}let t=e.target.getAttribute("data-color");t&&ee(this,or,wS).call(this,t,e)}_moveToNext(e){if(!l(this,or,Dl)){ee(this,or,sc).call(this,e);return}if(e.target===l(this,Li)){l(this,un).firstElementChild?.focus();return}e.target.nextSibling?.focus()}_moveToPrevious(e){if(e.target===l(this,un)?.firstElementChild||e.target===l(this,Li)){l(this,or,Dl)&&this._hideDropdownFromKeyboard();return}l(this,or,Dl)||ee(this,or,sc).call(this,e),e.target.previousSibling?.focus()}_moveToBeginning(e){if(!l(this,or,Dl)){ee(this,or,sc).call(this,e);return}l(this,un).firstElementChild?.focus()}_moveToEnd(e){if(!l(this,or,Dl)){ee(this,or,sc).call(this,e);return}l(this,un).lastElementChild?.focus()}hideDropdown(){l(this,un)?.classList.add("hidden"),l(this,Li).ariaExpanded="false",l(this,ru)?.abort(),k(this,ru,null)}_hideDropdownFromKeyboard(){if(!l(this,$d)){if(!l(this,or,Dl)){l(this,Ua)?.unselect();return}this.hideDropdown(),l(this,Li).focus({preventScroll:!0,focusVisible:l(this,Ry)})}}updateColor(e){if(l(this,ef)&&(l(this,ef).style.backgroundColor=e),!l(this,un))return;let t=l(this,$s).highlightColors.values();for(let n of l(this,un).children)n.ariaSelected=t.next().value===e.toUpperCase()}destroy(){l(this,Li)?.remove(),k(this,Li,null),k(this,ef,null),l(this,un)?.remove(),k(this,un,null)}};Li=new WeakMap,ef=new WeakMap,jd=new WeakMap,un=new WeakMap,Ry=new WeakMap,$d=new WeakMap,Ua=new WeakMap,Dy=new WeakMap,ru=new WeakMap,$s=new WeakMap,Iy=new WeakMap,or=new WeakSet,bS=function(){let e=document.createElement("div"),t=l(this,$s)._signal;e.addEventListener("contextmenu",Zi,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),l(this,Ua)&&(e.id=`${l(this,Ua).id}_colorpicker_dropdown`);for(let[n,i]of l(this,$s).highlightColors){let o=document.createElement("button");o.tabIndex="0",o.role="option",o.setAttribute("data-color",i),o.title=n,o.setAttribute("data-l10n-id",l(di,Iy)[n]);let s=document.createElement("span");o.append(s),s.className="swatch",s.style.backgroundColor=i,o.ariaSelected=i===l(this,jd),o.addEventListener("click",ee(this,or,wS).bind(this,i),{signal:t}),e.append(o)}return e.addEventListener("keydown",ee(this,or,vS).bind(this),{signal:t}),e},wS=function(e,t){t.stopPropagation(),l(this,Dy).dispatch("switchannotationeditorparams",{source:this,type:Bt.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)},vS=function(e){di._keyboardManager.exec(this,e)},sc=function(e){if(l(this,or,Dl)){this.hideDropdown();return}if(k(this,Ry,e.detail===0),l(this,ru)||(k(this,ru,new AbortController),window.addEventListener("pointerdown",ee(this,or,kF).bind(this),{signal:l(this,$s).combinedSignal(l(this,ru))})),l(this,Li).ariaExpanded="true",l(this,un)){l(this,un).classList.remove("hidden");return}let t=k(this,un,ee(this,or,bS).call(this));l(this,Li).append(t)},kF=function(e){l(this,un)?.contains(e.target)||this.hideDropdown()},Dl=function(){return l(this,un)&&!l(this,un).classList.contains("hidden")},Y(di,Iy,null);dm=di,cc=class cc{constructor(e){Y(this,Ro,null);Y(this,Oy,null);Y(this,zd,null);k(this,Oy,e),k(this,zd,e._uiManager),l(cc,Ny)||k(cc,Ny,Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if(l(this,Ro))return l(this,Ro);let{editorType:e,colorType:t,color:n}=l(this,Oy),i=k(this,Ro,document.createElement("input"));return i.type="color",i.value=n||"#000000",i.className="basicColorPicker",i.tabIndex=0,i.setAttribute("data-l10n-id",l(cc,Ny)[e]),i.addEventListener("input",()=>{l(this,zd).updateParams(t,i.value)},{signal:l(this,zd)._signal}),i}update(e){l(this,Ro)&&(l(this,Ro).value=e)}destroy(){l(this,Ro)?.remove(),k(this,Ro,null)}hideDropdown(){}};Ro=new WeakMap,Oy=new WeakMap,zd=new WeakMap,Ny=new WeakMap,Y(cc,Ny,null);Cv=cc;Rv=class{static CMYK_G([e,t,n,i]){return["G",1-Math.min(1,.3*e+.59*n+.11*t+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=kg(e),[e,e,e]}static G_HTML([e]){let t=AM(e);return`#${t}${t}${t}`}static RGB_G([e,t,n]){return["G",.3*e+.59*t+.11*n]}static RGB_rgb(e){return e.map(kg)}static RGB_HTML(e){return`#${e.map(AM).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,n,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,n+i),1-Math.min(1,t+i)]}static CMYK_rgb([e,t,n,i]){return[kg(1-Math.min(1,e+i)),kg(1-Math.min(1,n+i)),kg(1-Math.min(1,t+i))]}static CMYK_HTML(e){let t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,n]){let i=1-e,o=1-t,s=1-n,a=Math.min(i,o,s);return["CMYK",i,o,s,a]}},_S=class{create(e,t,n=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");let i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),n||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${t}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${t}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){dr("Abstract method `_createSVG` called.")}},Of=class extends _S{_createSVG(e){return document.createElementNS(ha,e)}},vV=9,Nf=new WeakSet,_V=new Date().getTimezoneOffset()*60*1e3,im=class{static create(e){switch(e.data.annotationType){case qr.LINK:return new pm(e);case qr.TEXT:return new xS(e);case qr.WIDGET:switch(e.data.fieldType){case"Tx":return new SS(e);case"Btn":return e.data.radioButton?new Dv(e):e.data.checkBox?new CS(e):new RS(e);case"Ch":return new DS(e);case"Sig":return new TS(e)}return new rl(e);case qr.POPUP:return new gm(e);case qr.FREETEXT:return new Iv(e);case qr.LINE:return new MS(e);case qr.SQUARE:return new FS(e);case qr.CIRCLE:return new US(e);case qr.POLYLINE:return new Ov(e);case qr.CARET:return new $S(e);case qr.INK:return new mm(e);case qr.POLYGON:return new jS(e);case qr.HIGHLIGHT:return new Nv(e);case qr.UNDERLINE:return new WS(e);case qr.SQUIGGLY:return new qS(e);case qr.STRIKEOUT:return new HS(e);case qr.STAMP:return new kv(e);case qr.FILEATTACHMENT:return new GS(e);default:return new Rr(e)}}},DT=class DT{constructor(e,{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:i=!1}={}){Y(this,ky);Y(this,tf,null);Y(this,Wd,!1);Y(this,bs,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,this.hasOwnCommentButton=!1,t&&(this.contentElement=this.container=this._createContainer(n)),i&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e?.str||t?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return DT._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){let{data:e}=this,t=this.annotationStorage?.getEditor(e.id);return t?t.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){let e=this.annotationStorage?.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;let{quadPoints:t,inkLists:n,rect:i}=this.data,o=-1/0,s=-1/0;if(t?.length>=8){for(let a=0;a<t.length;a+=8)t[a+1]>s?(s=t[a+1],o=t[a+2]):t[a+1]===s&&(o=Math.max(o,t[a+2]));return[o,s]}if(n?.length>=1){for(let a of n)for(let u=0,c=a.length;u<c;u+=2)a[u+1]>s?(s=a[u+1],o=a[u]):a[u+1]===s&&(o=Math.max(o,a[u]));if(o!==1/0)return[o,s]}return i?[i[2],i[3]]:null}_normalizePoint(e){let{page:{view:t},viewport:{rawDims:{pageWidth:n,pageHeight:i,pageX:o,pageY:s}}}=this.parent;return e[1]=t[3]-e[1]+t[1],e[0]=100*(e[0]-o)/n,e[1]=100*(e[1]-s)/i,e}get commentText(){let{data:e}=this;return this.annotationStorage.getRawValue(`${sm}${e.id}`)?.popup?.contents||e.contentsObj?.str||""}set commentText(e){let{data:t}=this,n={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(t.id,{popup:n})||this.annotationStorage.setValue(`${sm}${t.id}`,{id:t.id,annotationType:t.annotationType,pageIndex:this.parent.page._pageIndex,popup:n,popupRef:t.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){(l(this,bs)?.popup||this.popup)?.remove(),k(this,bs,this.popup=null)}updateEdited(e){if(!this.container)return;e.rect&&(l(this,tf)||k(this,tf,{rect:this.data.rect.slice(0)}));let{rect:t,popup:n}=e;t&&ee(this,ky,ES).call(this,t);let i=l(this,bs)?.popup||this.popup;!i&&n?.text&&(this._createPopup(n),i=l(this,bs).popup),i&&(i.updateEdited(e),n?.deleted&&(i.remove(),k(this,bs,null),this.popup=null))}resetEdited(){l(this,tf)&&(ee(this,ky,ES).call(this,l(this,tf).rect),l(this,bs)?.popup.resetEdited(),k(this,tf,null))}_createContainer(e){let{data:t,parent:{page:n,viewport:i}}=this,o=document.createElement("section");o.setAttribute("data-annotation-id",t.id),!(this instanceof rl)&&!(this instanceof pm)&&(o.tabIndex=0);let{style:s}=o;if(s.zIndex=this.parent.zIndex,this.parent.zIndex+=2,t.alternativeText&&(o.title=t.alternativeText),t.noRotate&&o.classList.add("norotate"),!t.rect||this instanceof gm){let{rotation:v}=t;return!t.hasOwnCanvas&&v!==0&&this.setRotation(v,o),o}let{width:a,height:u}=this;if(!e&&t.borderStyle.width>0){s.borderWidth=`${t.borderStyle.width}px`;let v=t.borderStyle.horizontalCornerRadius,w=t.borderStyle.verticalCornerRadius;if(v>0||w>0){let _=`calc(${v}px * var(--total-scale-factor)) / calc(${w}px * var(--total-scale-factor))`;s.borderRadius=_}else if(this instanceof Dv){let _=`calc(${a}px * var(--total-scale-factor)) / calc(${u}px * var(--total-scale-factor))`;s.borderRadius=_}switch(t.borderStyle.style){case Dh.SOLID:s.borderStyle="solid";break;case Dh.DASHED:s.borderStyle="dashed";break;case Dh.BEVELED:_t("Unimplemented border style: beveled");break;case Dh.INSET:_t("Unimplemented border style: inset");break;case Dh.UNDERLINE:s.borderBottomStyle="solid";break;default:break}let y=t.borderColor||null;y?(k(this,Wd,!0),s.borderColor=st.makeHexColor(y[0]|0,y[1]|0,y[2]|0)):s.borderWidth=0}let c=st.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]),{pageWidth:f,pageHeight:h,pageX:d,pageY:g}=i.rawDims;s.left=`${100*(c[0]-d)/f}%`,s.top=`${100*(c[1]-g)/h}%`;let{rotation:b}=t;return t.hasOwnCanvas||b===0?(s.width=`${100*a/f}%`,s.height=`${100*u/h}%`):this.setRotation(b,o),o}setRotation(e,t=this.container){if(!this.data.rect)return;let{pageWidth:n,pageHeight:i}=this.parent.viewport.rawDims,{width:o,height:s}=this;e%180!==0&&([o,s]=[s,o]),t.style.width=`${100*o/n}%`,t.style.height=`${100*s/i}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){let e=(t,n,i)=>{let o=i.detail[t],s=o[0],a=o.slice(1);i.target.style[n]=Rv[`${s}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[n]:Rv[`${s}_rgb`](a)})};return wt(this,"_commonActions",{display:t=>{let{display:n}=t.detail,i=n%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:n===1||n===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{let{hidden:n}=t.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{let n=t.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(e,t){let n=this._commonActions;for(let i of Object.keys(t.detail))(e[i]||n[i])?.(t)}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;let t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;let n=this._commonActions;for(let[i,o]of Object.entries(t)){let s=n[i];if(s){let a={detail:{[i]:o},target:e};s(a),delete t[i]}}}_createQuadrilaterals(){if(!this.container)return;let{quadPoints:e}=this.data;if(!e)return;let[t,n,i,o]=this.data.rect.map(v=>Math.fround(v));if(e.length===8){let[v,w,y,_]=e.subarray(2,6);if(i===v&&o===w&&t===y&&n===_)return}let{style:s}=this.container,a;if(l(this,Wd)){let{borderColor:v,borderWidth:w}=s;s.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${v}" stroke-width="${w}">`],this.container.classList.add("hasBorder")}let u=i-t,c=o-n,{svgFactory:f}=this,h=f.createElement("svg");h.classList.add("quadrilateralsContainer"),h.setAttribute("width",0),h.setAttribute("height",0),h.role="none";let d=f.createElement("defs");h.append(d);let g=f.createElement("clipPath"),b=`clippath_${this.data.id}`;g.setAttribute("id",b),g.setAttribute("clipPathUnits","objectBoundingBox"),d.append(g);for(let v=2,w=e.length;v<w;v+=8){let y=e[v],_=e[v+1],E=e[v+2],S=e[v+3],A=f.createElement("rect"),L=(E-t)/u,D=(o-_)/c,K=(y-E)/u,re=(_-S)/c;A.setAttribute("x",L),A.setAttribute("y",D),A.setAttribute("width",K),A.setAttribute("height",re),g.append(A),a?.push(`<rect vector-effect="non-scaling-stroke" x="${L}" y="${D}" width="${K}" height="${re}"/>`)}l(this,Wd)&&(a.push("</g></svg>')"),s.backgroundImage=a.join("")),this.container.append(h),this.container.style.clipPath=`url(#${b})`}_createPopup(e=null){let{data:t}=this,n,i;e?(n={str:e.text},i=e.date):(n=t.contentsObj,i=t.modificationDate),k(this,bs,new gm({data:{color:t.color,titleObj:t.titleObj,modificationDate:i,contentsObj:n,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}))}get hasPopupElement(){return!!(l(this,bs)||this.popup||this.data.popupRef)}get extraPopupElement(){return l(this,bs)}render(){dr("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){let n=[];if(this._fieldObjects){let i=this._fieldObjects[e];if(i)for(let{page:o,id:s,exportValues:a}of i){if(o===-1||s===t)continue;let u=typeof a=="string"?a:null,c=document.querySelector(`[data-element-id="${s}"]`);if(c&&!Nf.has(c)){_t(`_getElementsByName - element not allowed: ${s}`);continue}n.push({id:s,exportValue:u,domElement:c})}return n}for(let i of document.getElementsByName(e)){let{exportValue:o}=i,s=i.getAttribute("data-element-id");s!==t&&Nf.has(i)&&n.push({id:s,exportValue:o,domElement:i})}return n}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){let e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(let t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;let{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};tf=new WeakMap,Wd=new WeakMap,bs=new WeakMap,ky=new WeakSet,ES=function(e){let{container:{style:t},data:{rect:n,rotation:i},parent:{viewport:{rawDims:{pageWidth:o,pageHeight:s,pageX:a,pageY:u}}}}=this;n?.splice(0,4,...e),t.left=`${100*(e[0]-a)/o}%`,t.top=`${100*(s-e[3]+u)/s}%`,i===0?(t.width=`${100*(e[2]-e[0])/o}%`,t.height=`${100*(e[3]-e[1])/s}%`):this.setRotation(i)};Rr=DT,AS=class extends Rr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){let{editor:e}=this;e.hasComment&&this._createPopup(e.comment)}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.parent.removeAnnotation(this.data.id),this.container.remove(),this.container=null,this.removePopup()}},pm=class extends Rr{constructor(t,n=null){super(t,{isRenderable:!0,ignoreBorder:!!n?.ignoreBorder,createQuadrilaterals:!0});Y(this,Xi);this.isTooltipOnly=t.data.isTooltipOnly}render(){let{data:t,linkService:n}=this,i=document.createElement("a");i.setAttribute("data-element-id",t.id);let o=!1;return t.url?(n.addLinkAttributes(i,t.url,t.newWindow),o=!0):t.action?(this._bindNamedAction(i,t.action,t.overlaidText),o=!0):t.attachment?(ee(this,Xi,LF).call(this,i,t.attachment,t.overlaidText,t.attachmentDest),o=!0):t.setOCGState?(ee(this,Xi,PF).call(this,i,t.setOCGState,t.overlaidText),o=!0):t.dest?(this._bindLink(i,t.dest,t.overlaidText),o=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,t),o=!0),t.resetForm?(this._bindResetFormAction(i,t.resetForm),o=!0):this.isTooltipOnly&&!o&&(this._bindLink(i,""),o=!0)),this.container.classList.add("linkAnnotation"),o&&(this.contentElement=i,this.container.append(i)),this.container}_bindLink(t,n,i=""){t.href=this.linkService.getDestinationHash(n),t.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&ee(this,Xi,oc).call(this),i&&(t.title=i)}_bindNamedAction(t,n,i=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(n),!1),i&&(t.title=i),ee(this,Xi,oc).call(this)}_bindJSAction(t,n){t.href=this.linkService.getAnchorUrl("");let i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(let o of Object.keys(n.actions)){let s=i.get(o);s&&(t[s]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:o}}),!1))}n.overlaidText&&(t.title=n.overlaidText),t.onclick||(t.onclick=()=>!1),ee(this,Xi,oc).call(this)}_bindResetFormAction(t,n){let i=t.onclick;if(i||(t.href=this.linkService.getAnchorUrl("")),ee(this,Xi,oc).call(this),!this._fieldObjects){_t('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(t.onclick=()=>!1);return}t.onclick=()=>{i?.();let{fields:o,refs:s,include:a}=n,u=[];if(o.length!==0||s.length!==0){let h=new Set(s);for(let d of o){let g=this._fieldObjects[d]||[];for(let{id:b}of g)h.add(b)}for(let d of Object.values(this._fieldObjects))for(let g of d)h.has(g.id)===a&&u.push(g)}else for(let h of Object.values(this._fieldObjects))u.push(...h);let c=this.annotationStorage,f=[];for(let h of u){let{id:d}=h;switch(f.push(d),h.type){case"text":{let b=h.defaultValue||"";c.setValue(d,{value:b});break}case"checkbox":case"radiobutton":{let b=h.defaultValue===h.exportValues;c.setValue(d,{value:b});break}case"combobox":case"listbox":{let b=h.defaultValue||"";c.setValue(d,{value:b});break}default:continue}let g=document.querySelector(`[data-element-id="${d}"]`);if(g){if(!Nf.has(g)){_t(`_bindResetFormAction - element not allowed: ${d}`);continue}}else continue;g.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:f,name:"ResetForm"}}),!1}}};Xi=new WeakSet,oc=function(){this.container.setAttribute("data-internal-link","")},LF=function(t,n,i="",o=null){t.href=this.linkService.getAnchorUrl(""),n.description?t.title=n.description:i&&(t.title=i),t.onclick=()=>(this.downloadManager?.openOrDownloadData(n.content,n.filename,o),!1),ee(this,Xi,oc).call(this)},PF=function(t,n,i=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(n),!1),i&&(t.title=i),ee(this,Xi,oc).call(this)};xS=class extends Rr{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");let e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(e),this.container}},rl=class extends Rr{render(){return this.container}showElementAndHideCanvas(e){this.data.hasOwnCanvas&&(e.previousSibling?.nodeName==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Ur.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,n,i,o){n.includes("mouse")?e.addEventListener(n,s=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:o(s),shift:s.shiftKey,modifier:this._getKeyModifier(s)}})}):e.addEventListener(n,s=>{if(n==="blur"){if(!t.focused||!s.relatedTarget)return;t.focused=!1}else if(n==="focus"){if(t.focused)return;t.focused=!0}o&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:o(s)}})})}_setEventListeners(e,t,n,i){for(let[o,s]of n)(s==="Action"||this.data.actions?.[s])&&((s==="Focus"||s==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,o,s,i),s==="Focus"&&!this.data.actions?.Blur?this._setEventListener(e,t,"blur","Blur",null):s==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){let t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":st.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){let t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||vV,o=e.style,s,a=2,u=c=>Math.round(10*c)/10;if(this.data.multiLine){let c=Math.abs(this.data.rect[3]-this.data.rect[1]-a),f=Math.round(c/(Cw*i))||1,h=c/f;s=Math.min(i,u(h/Cw))}else{let c=Math.abs(this.data.rect[3]-this.data.rect[1]-a);s=Math.min(i,u(c/Cw))}o.fontSize=`calc(${s}px * var(--total-scale-factor))`,o.color=st.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(o.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}},SS=class extends rl{constructor(e){let t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,n,i){let o=this.annotationStorage;for(let s of this._getElementsByName(e.name,e.id))s.domElement&&(s.domElement[t]=n),o.setValue(s.id,{[i]:n})}render(){let e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){let i=e.getValue(t,{value:this.data.fieldValue}),o=i.value||"",s=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;s&&o.length>s&&(o=o.slice(0,s));let a=i.formattedValue||this.data.textContent?.join(`
`)||null;a&&this.data.comb&&(a=a.replaceAll(/\s+/g,""));let u={userValue:o,formattedValue:a,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=a??o,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type=this.data.password?"password":"text",n.setAttribute("value",a??o),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),Nf.add(n),this.contentElement=n,n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=0;let{datetimeFormat:c,datetimeType:f,timeStep:h}=this.data,d=!!f&&this.enableScripting;c&&(n.title=c),this._setRequired(n,this.data.required),s&&(n.maxLength=s),n.addEventListener("input",b=>{e.setValue(t,{value:b.target.value}),this.setPropertyOnSiblings(n,"value",b.target.value,"value"),u.formattedValue=null}),n.addEventListener("resetform",b=>{let v=this.data.defaultFieldValue??"";n.value=u.userValue=v,u.formattedValue=null});let g=b=>{let{formattedValue:v}=u;v!=null&&(b.target.value=v),b.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",v=>{if(u.focused)return;let{target:w}=v;if(d&&(w.type=f,h&&(w.step=h)),u.userValue){let y=u.userValue;if(d)if(f==="time"){let _=new Date(y),E=[_.getHours(),_.getMinutes(),_.getSeconds()];w.value=E.map(S=>S.toString().padStart(2,"0")).join(":")}else w.value=new Date(y-_V).toISOString().split(f==="date"?"T":".",1)[0];else w.value=y}u.lastCommittedValue=w.value,u.commitKey=1,this.data.actions?.Focus||(u.focused=!0)}),n.addEventListener("updatefromsandbox",v=>{this.showElementAndHideCanvas(v.target);let w={value(y){u.userValue=y.detail.value??"",d||e.setValue(t,{value:u.userValue.toString()}),y.target.value=u.userValue},formattedValue(y){let{formattedValue:_}=y.detail;u.formattedValue=_,_!=null&&y.target!==document.activeElement&&(y.target.value=_);let E={formattedValue:_};d&&(E.value=_),e.setValue(t,E)},selRange(y){y.target.setSelectionRange(...y.detail.selRange)},charLimit:y=>{let{charLimit:_}=y.detail,{target:E}=y;if(_===0){E.removeAttribute("maxLength");return}E.setAttribute("maxLength",_);let S=u.userValue;!S||S.length<=_||(S=S.slice(0,_),E.value=u.userValue=S,e.setValue(t,{value:S}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:S,willCommit:!0,commitKey:1,selStart:E.selectionStart,selEnd:E.selectionEnd}}))}};this._dispatchEventFromSandbox(w,v)}),n.addEventListener("keydown",v=>{u.commitKey=1;let w=-1;if(v.key==="Escape"?w=0:v.key==="Enter"&&!this.data.multiLine?w=2:v.key==="Tab"&&(u.commitKey=3),w===-1)return;let{value:y}=v.target;u.lastCommittedValue!==y&&(u.lastCommittedValue=y,u.userValue=y,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:y,willCommit:!0,commitKey:w,selStart:v.target.selectionStart,selEnd:v.target.selectionEnd}}))});let b=g;g=null,n.addEventListener("blur",v=>{if(!u.focused||!v.relatedTarget)return;this.data.actions?.Blur||(u.focused=!1);let{target:w}=v,{value:y}=w;if(d){if(y&&f==="time"){let _=y.split(":").map(E=>parseInt(E,10));y=new Date(2e3,0,1,_[0],_[1],_[2]||0).valueOf(),w.step=""}else y.includes("T")||(y=`${y}T00:00`),y=new Date(y).valueOf();w.type="text"}u.userValue=y,u.lastCommittedValue!==y&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:y,willCommit:!0,commitKey:u.commitKey,selStart:v.target.selectionStart,selEnd:v.target.selectionEnd}}),b(v)}),this.data.actions?.Keystroke&&n.addEventListener("beforeinput",v=>{u.lastCommittedValue=null;let{data:w,target:y}=v,{value:_,selectionStart:E,selectionEnd:S}=y,A=E,L=S;switch(v.inputType){case"deleteWordBackward":{let D=_.substring(0,E).match(/\w*[^\w]*$/);D&&(A-=D[0].length);break}case"deleteWordForward":{let D=_.substring(E).match(/^[^\w]*\w*/);D&&(L+=D[0].length);break}case"deleteContentBackward":E===S&&(A-=1);break;case"deleteContentForward":E===S&&(L+=1);break}v.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:_,change:w||"",willCommit:!1,selStart:A,selEnd:L}})}),this._setEventListeners(n,u,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],v=>v.target.value)}if(g&&n.addEventListener("blur",g),this.data.comb){let v=(this.data.rect[2]-this.data.rect[0])/s;n.classList.add("comb"),n.style.letterSpacing=`calc(${v}px * var(--total-scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}},TS=class extends rl{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}},CS=class extends rl{constructor(e){super(e,{isRenderable:e.renderForms})}render(){let e=this.annotationStorage,t=this.data,n=t.id,i=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(n,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");let o=document.createElement("input");return Nf.add(o),o.setAttribute("data-element-id",n),o.disabled=t.readOnly,this._setRequired(o,this.data.required),o.type="checkbox",o.name=t.fieldName,i&&o.setAttribute("checked",!0),o.setAttribute("exportValue",t.exportValue),o.tabIndex=0,o.addEventListener("change",s=>{let{name:a,checked:u}=s.target;for(let c of this._getElementsByName(a,n)){let f=u&&c.exportValue===t.exportValue;c.domElement&&(c.domElement.checked=f),e.setValue(c.id,{value:f})}e.setValue(n,{value:u})}),o.addEventListener("resetform",s=>{let a=t.defaultFieldValue||"Off";s.target.checked=a===t.exportValue}),this.enableScripting&&this.hasJSActions&&(o.addEventListener("updatefromsandbox",s=>{let a={value(u){u.target.checked=u.detail.value!=="Off",e.setValue(n,{value:u.target.checked})}};this._dispatchEventFromSandbox(a,s)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],s=>s.target.checked)),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}},Dv=class extends rl{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");let e=this.annotationStorage,t=this.data,n=t.id,i=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;if(typeof i=="string"&&(i=i!==t.buttonValue,e.setValue(n,{value:i})),i)for(let s of this._getElementsByName(t.fieldName,n))e.setValue(s.id,{value:!1});let o=document.createElement("input");if(Nf.add(o),o.setAttribute("data-element-id",n),o.disabled=t.readOnly,this._setRequired(o,this.data.required),o.type="radio",o.name=t.fieldName,i&&o.setAttribute("checked",!0),o.tabIndex=0,o.addEventListener("change",s=>{let{name:a,checked:u}=s.target;for(let c of this._getElementsByName(a,n))e.setValue(c.id,{value:!1});e.setValue(n,{value:u})}),o.addEventListener("resetform",s=>{let a=t.defaultFieldValue;s.target.checked=a!=null&&a===t.buttonValue}),this.enableScripting&&this.hasJSActions){let s=t.buttonValue;o.addEventListener("updatefromsandbox",a=>{let u={value:c=>{let f=s===c.detail.value;for(let h of this._getElementsByName(c.target.name)){let d=f&&h.id===n;h.domElement&&(h.domElement.checked=d),e.setValue(h.id,{value:d})}}};this._dispatchEventFromSandbox(u,a)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)}return this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}},RS=class extends pm{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){let e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");let t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),e}},DS=class extends rl{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");let e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");Nf.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=0;let o=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",f=>{let h=this.data.defaultFieldValue;for(let d of i.options)d.selected=d.value===h});for(let f of this.data.options){let h=document.createElement("option");h.textContent=f.displayValue,h.value=f.exportValue,n.value.includes(f.exportValue)&&(h.setAttribute("selected",!0),o=!1),i.append(h)}let s=null;if(o){let f=document.createElement("option");f.value=" ",f.setAttribute("hidden",!0),f.setAttribute("selected",!0),i.prepend(f),s=()=>{f.remove(),i.removeEventListener("input",s),s=null},i.addEventListener("input",s)}let a=f=>{let h=f?"value":"textContent",{options:d,multiple:g}=i;return g?Array.prototype.filter.call(d,b=>b.selected).map(b=>b[h]):d.selectedIndex===-1?null:d[d.selectedIndex][h]},u=a(!1),c=f=>{let h=f.target.options;return Array.prototype.map.call(h,d=>({displayValue:d.textContent,exportValue:d.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",f=>{let h={value(d){s?.();let g=d.detail.value,b=new Set(Array.isArray(g)?g:[g]);for(let v of i.options)v.selected=b.has(v.value);e.setValue(t,{value:a(!0)}),u=a(!1)},multipleSelection(d){i.multiple=!0},remove(d){let g=i.options,b=d.detail.remove;g[b].selected=!1,i.remove(b),g.length>0&&Array.prototype.findIndex.call(g,w=>w.selected)===-1&&(g[0].selected=!0),e.setValue(t,{value:a(!0),items:c(d)}),u=a(!1)},clear(d){for(;i.length!==0;)i.remove(0);e.setValue(t,{value:null,items:[]}),u=a(!1)},insert(d){let{index:g,displayValue:b,exportValue:v}=d.detail.insert,w=i.children[g],y=document.createElement("option");y.textContent=b,y.value=v,w?w.before(y):i.append(y),e.setValue(t,{value:a(!0),items:c(d)}),u=a(!1)},items(d){let{items:g}=d.detail;for(;i.length!==0;)i.remove(0);for(let b of g){let{displayValue:v,exportValue:w}=b,y=document.createElement("option");y.textContent=v,y.value=w,i.append(y)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:a(!0),items:c(d)}),u=a(!1)},indices(d){let g=new Set(d.detail.indices);for(let b of d.target.options)b.selected=g.has(b.index);e.setValue(t,{value:a(!0)}),u=a(!1)},editable(d){d.target.disabled=!d.detail.editable}};this._dispatchEventFromSandbox(h,f)}),i.addEventListener("input",f=>{let h=a(!0),d=a(!1);e.setValue(t,{value:h}),f.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:u,change:d,changeEx:h,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],f=>f.target.value)):i.addEventListener("input",function(f){e.setValue(t,{value:a(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}},gm=class extends Rr{constructor(t){let{data:n,elements:i,parent:o}=t,s=!!o._commentManager;super(t,{isRenderable:!s&&Rr._hasPopupData(n)});Y(this,Ly);if(this.elements=i,s&&Rr._hasPopupData(n)){let a=this.popup=ee(this,Ly,IS).call(this);for(let u of i)u.popup=a}else this.popup=null}render(){let{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";let n=this.popup=ee(this,Ly,IS).call(this),i=[];for(let o of this.elements)o.popup=n,o.container.ariaHasPopup="dialog",i.push(o.data.id),o.addHighlightArea();return this.container.setAttribute("aria-controls",i.map(o=>`${Mh}${o}`).join(",")),this.container}};Ly=new WeakSet,IS=function(){return new OS({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})};OS=class{constructor({container:e,color:t,elements:n,titleObj:i,modificationDate:o,contentsObj:s,richText:a,parent:u,rect:c,parentRect:f,open:h,commentManager:d=null}){Y(this,Ct);Y(this,Pi,null);Y(this,nu,ee(this,Ct,FF).bind(this));Y(this,t_,ee(this,Ct,BS).bind(this));Y(this,r_,ee(this,Ct,qw).bind(this));Y(this,qd,ee(this,Ct,Ww).bind(this));Y(this,Hd,null);Y(this,Br,null);Y(this,Do,null);Y(this,iu,null);Y(this,rf,null);Y(this,Gd,null);Y(this,Vd,null);Y(this,Io,!1);Y(this,Bi,null);Y(this,ja,null);Y(this,$a,null);Y(this,Mr,null);Y(this,za,null);Y(this,su,null);Y(this,Py,null);Y(this,Wa,null);Y(this,Yd,null);Y(this,nf,null);Y(this,ou,!1);Y(this,mn,null);Y(this,au,null);k(this,Br,e),k(this,Yd,i),k(this,Do,s),k(this,Wa,a),k(this,Gd,u),k(this,Hd,t),k(this,Py,c),k(this,Vd,f),k(this,rf,n),k(this,Pi,d),k(this,mn,n[0]),k(this,iu,Rf.toDateObject(o)),this.trigger=n.flatMap(g=>g.getElementsToTriggerPopup()),d||(ee(this,Ct,$w).call(this),l(this,Br).hidden=!0,h&&ee(this,Ct,Ww).call(this))}renderCommentButton(){if(l(this,Mr)){l(this,Mr).parentNode||l(this,mn).container.after(l(this,Mr));return}if(l(this,za)||ee(this,Ct,NS).call(this),!l(this,za))return;let{signal:e}=k(this,ja,new AbortController),t=l(this,mn).hasOwnCommentButton,n=()=>{l(this,Pi).toggleCommentPopup(this,!0,void 0,!t)},i=()=>{l(this,Pi).toggleCommentPopup(this,!1,!0,!t)},o=()=>{l(this,Pi).toggleCommentPopup(this,!1,!1)};if(t){k(this,Mr,l(this,mn).container);for(let s of this.trigger)s.ariaHasPopup="dialog",s.ariaControls="commentPopup",s.addEventListener("keydown",l(this,nu),{signal:e}),s.addEventListener("click",n,{signal:e}),s.addEventListener("pointerenter",i,{signal:e}),s.addEventListener("pointerleave",o,{signal:e}),s.classList.add("popupTriggerArea")}else{let s=k(this,Mr,document.createElement("button"));s.className="annotationCommentButton";let a=l(this,mn).container;s.style.zIndex=a.style.zIndex+1,s.tabIndex=0,s.ariaHasPopup="dialog",s.ariaControls="commentPopup",s.setAttribute("data-l10n-id","pdfjs-show-comment-button"),ee(this,Ct,LS).call(this),ee(this,Ct,kS).call(this),s.addEventListener("keydown",l(this,nu),{signal:e}),s.addEventListener("click",n,{signal:e}),s.addEventListener("pointerenter",i,{signal:e}),s.addEventListener("pointerleave",o,{signal:e}),a.after(s)}}get commentButtonColor(){let{color:e,opacity:t}=l(this,mn).commentData;return e?l(this,Gd)._commentManager.makeCommentColor(e,t):null}focusCommentButton(){setTimeout(()=>{l(this,Mr)?.focus()},0)}getData(){let{richText:e,color:t,opacity:n,creationDate:i,modificationDate:o}=l(this,mn).commentData;return{contentsObj:{str:this.comment},richText:e,color:t,opacity:n,creationDate:i,modificationDate:o}}get elementBeforePopup(){return l(this,Mr)}get comment(){return l(this,au)||k(this,au,l(this,mn).commentText),l(this,au)}set comment(e){e!==this.comment&&(l(this,mn).commentText=k(this,au,e))}focus(){l(this,mn).container?.focus()}get parentBoundingClientRect(){return l(this,mn).layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:t}){l(this,Mr)&&(l(this,Mr).classList.toggle("selected",e),l(this,Mr).ariaExpanded=t)}setSelectedCommentButton(e){l(this,Mr).classList.toggle("selected",e)}get commentPopupPosition(){if(l(this,su))return l(this,su);let{x:e,y:t,height:n}=l(this,Mr).getBoundingClientRect(),{x:i,y:o,width:s,height:a}=l(this,mn).layer.getBoundingClientRect();return[(e-i)/s,(t+n-o)/a]}set commentPopupPosition(e){k(this,su,e)}hasDefaultPopupPosition(){return l(this,su)===null}get commentButtonPosition(){return l(this,za)}get commentButtonWidth(){return l(this,Mr).getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){let[t,n]=l(this,su)||this.commentButtonPosition.map(c=>c/100),i=this.parentBoundingClientRect,{x:o,y:s,width:a,height:u}=i;l(this,Pi).showDialog(null,this,o+t*a,s+n*u,{...e,parentDimensions:i})}render(){if(l(this,Bi))return;let e=k(this,Bi,document.createElement("div"));if(e.className="popup",l(this,Hd)){let n=e.style.outlineColor=st.makeHexColor(...l(this,Hd));e.style.backgroundColor=`color-mix(in srgb, ${n} 30%, white)`}let t=document.createElement("span");if(t.className="header",l(this,Yd)?.str){let n=document.createElement("span");n.className="title",t.append(n),{dir:n.dir,str:n.textContent}=l(this,Yd)}if(e.append(t),l(this,iu)){let n=document.createElement("time");n.className="popupDate",n.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),n.setAttribute("data-l10n-args",JSON.stringify({dateObj:l(this,iu).valueOf()})),n.dateTime=l(this,iu).toISOString(),t.append(n)}AT({html:l(this,Ct,zw)||l(this,Do).str,dir:l(this,Do)?.dir,className:"popupContent"},e),l(this,Br).append(e)}updateEdited({rect:e,popup:t,deleted:n}){if(l(this,Pi)){n?(this.remove(),k(this,au,null)):t&&(t.deleted?this.remove():(ee(this,Ct,LS).call(this),k(this,au,t.text))),e&&(k(this,za,null),ee(this,Ct,NS).call(this),ee(this,Ct,kS).call(this));return}if(n||t?.deleted){this.remove();return}ee(this,Ct,$w).call(this),l(this,nf)||k(this,nf,{contentsObj:l(this,Do),richText:l(this,Wa)}),e&&k(this,$a,null),t&&t.text&&(k(this,Wa,ee(this,Ct,MF).call(this,t.text)),k(this,iu,Rf.toDateObject(t.date)),k(this,Do,null)),l(this,Bi)?.remove(),k(this,Bi,null)}resetEdited(){l(this,nf)&&({contentsObj:tn(this,Do)._,richText:tn(this,Wa)._}=l(this,nf),k(this,nf,null),l(this,Bi)?.remove(),k(this,Bi,null),k(this,$a,null))}remove(){if(l(this,ja)?.abort(),k(this,ja,null),l(this,Bi)?.remove(),k(this,Bi,null),k(this,ou,!1),k(this,Io,!1),l(this,Mr)?.remove(),k(this,Mr,null),this.trigger)for(let e of this.trigger)e.classList.remove("popupTriggerArea")}forceHide(){k(this,ou,this.isVisible),l(this,ou)&&(l(this,Br).hidden=!0)}maybeShow(){l(this,Pi)||(ee(this,Ct,$w).call(this),l(this,ou)&&(l(this,Bi)||ee(this,Ct,qw).call(this),k(this,ou,!1),l(this,Br).hidden=!1))}get isVisible(){return l(this,Pi)?!1:l(this,Br).hidden===!1}};Pi=new WeakMap,nu=new WeakMap,t_=new WeakMap,r_=new WeakMap,qd=new WeakMap,Hd=new WeakMap,Br=new WeakMap,Do=new WeakMap,iu=new WeakMap,rf=new WeakMap,Gd=new WeakMap,Vd=new WeakMap,Io=new WeakMap,Bi=new WeakMap,ja=new WeakMap,$a=new WeakMap,Mr=new WeakMap,za=new WeakMap,su=new WeakMap,Py=new WeakMap,Wa=new WeakMap,Yd=new WeakMap,nf=new WeakMap,ou=new WeakMap,mn=new WeakMap,au=new WeakMap,Ct=new WeakSet,$w=function(){if(l(this,ja))return;k(this,ja,new AbortController);let{signal:e}=l(this,ja);for(let t of this.trigger)t.addEventListener("click",l(this,qd),{signal:e}),t.addEventListener("pointerenter",l(this,r_),{signal:e}),t.addEventListener("pointerleave",l(this,t_),{signal:e}),t.classList.add("popupTriggerArea");for(let t of l(this,rf))t.container?.addEventListener("keydown",l(this,nu),{signal:e})},NS=function(){let e=l(this,rf).find(t=>t.hasCommentButton);e&&k(this,za,e._normalizePoint(e.commentButtonPosition))},kS=function(){if(l(this,mn).extraPopupElement&&!l(this,mn).editor)return;l(this,Mr)||this.renderCommentButton();let[e,t]=l(this,za),{style:n}=l(this,Mr);n.left=`calc(${e}%)`,n.top=`calc(${t}% - var(--comment-button-dim))`},LS=function(){l(this,mn).extraPopupElement||(l(this,Mr)||this.renderCommentButton(),l(this,Mr).style.backgroundColor=this.commentButtonColor||"")},zw=function(){let e=l(this,Wa),t=l(this,Do);return e?.str&&(!t?.str||t.str===e.str)&&l(this,Wa).html||null},PS=function(){return l(this,Ct,zw)?.attributes?.style?.fontSize||0},BF=function(){return l(this,Ct,zw)?.attributes?.style?.color||null},MF=function(e){let t=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},i={style:{color:l(this,Ct,BF),fontSize:l(this,Ct,PS)?`calc(${l(this,Ct,PS)}px * var(--total-scale-factor))`:""}};for(let o of e.split(`
`))t.push({name:"span",value:o,attributes:i});return n},FF=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&l(this,Io))&&ee(this,Ct,Ww).call(this)},UF=function(){if(l(this,$a)!==null)return;let{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:i,pageY:o}}}=l(this,Gd),s=!!l(this,Vd),a=s?l(this,Vd):l(this,Py);for(let b of l(this,rf))if(!a||st.intersect(b.data.rect,a)!==null){a=b.data.rect,s=!0;break}let u=st.normalizeRect([a[0],e[3]-a[1]+e[1],a[2],e[3]-a[3]+e[1]]),f=s?a[2]-a[0]+5:0,h=u[0]+f,d=u[1];k(this,$a,[100*(h-i)/t,100*(d-o)/n]);let{style:g}=l(this,Br);g.left=`${l(this,$a)[0]}%`,g.top=`${l(this,$a)[1]}%`},Ww=function(){if(l(this,Pi)){l(this,Pi).toggleCommentPopup(this,!1);return}k(this,Io,!l(this,Io)),l(this,Io)?(ee(this,Ct,qw).call(this),l(this,Br).addEventListener("click",l(this,qd)),l(this,Br).addEventListener("keydown",l(this,nu))):(ee(this,Ct,BS).call(this),l(this,Br).removeEventListener("click",l(this,qd)),l(this,Br).removeEventListener("keydown",l(this,nu)))},qw=function(){l(this,Bi)||this.render(),this.isVisible?l(this,Io)&&l(this,Br).classList.add("focused"):(ee(this,Ct,UF).call(this),l(this,Br).hidden=!1,l(this,Br).style.zIndex=parseInt(l(this,Br).style.zIndex)+1e3)},BS=function(){l(this,Br).classList.remove("focused"),!(l(this,Io)||!this.isVisible)&&(l(this,Br).hidden=!0,l(this,Br).style.zIndex=parseInt(l(this,Br).style.zIndex)-1e3)};Iv=class extends Rr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=vt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){let e=this.contentElement=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(let t of this.textContent){let n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}},MS=class extends Rr{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});Y(this,By,null)}render(){this.container.classList.add("lineAnnotation");let{data:t,width:n,height:i}=this,o=this.svgFactory.create(n,i,!0),s=k(this,By,this.svgFactory.createElement("svg:line"));return s.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),s.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),s.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),s.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),s.setAttribute("stroke-width",t.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),o.append(s),this.container.append(o),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return l(this,By)}addHighlightArea(){this.container.classList.add("highlightArea")}};By=new WeakMap;FS=class extends Rr{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});Y(this,My,null)}render(){this.container.classList.add("squareAnnotation");let{data:t,width:n,height:i}=this,o=this.svgFactory.create(n,i,!0),s=t.borderStyle.width,a=k(this,My,this.svgFactory.createElement("svg:rect"));return a.setAttribute("x",s/2),a.setAttribute("y",s/2),a.setAttribute("width",n-s),a.setAttribute("height",i-s),a.setAttribute("stroke-width",s||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),o.append(a),this.container.append(o),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return l(this,My)}addHighlightArea(){this.container.classList.add("highlightArea")}};My=new WeakMap;US=class extends Rr{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});Y(this,Fy,null)}render(){this.container.classList.add("circleAnnotation");let{data:t,width:n,height:i}=this,o=this.svgFactory.create(n,i,!0),s=t.borderStyle.width,a=k(this,Fy,this.svgFactory.createElement("svg:ellipse"));return a.setAttribute("cx",n/2),a.setAttribute("cy",i/2),a.setAttribute("rx",n/2-s/2),a.setAttribute("ry",i/2-s/2),a.setAttribute("stroke-width",s||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),o.append(a),this.container.append(o),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return l(this,Fy)}addHighlightArea(){this.container.classList.add("highlightArea")}};Fy=new WeakMap;Ov=class extends Rr{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});Y(this,Uy,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);let{data:{rect:t,vertices:n,borderStyle:i,popupRef:o},width:s,height:a}=this;if(!n)return this.container;let u=this.svgFactory.create(s,a,!0),c=[];for(let h=0,d=n.length;h<d;h+=2){let g=n[h]-t[0],b=t[3]-n[h+1];c.push(`${g},${b}`)}c=c.join(" ");let f=k(this,Uy,this.svgFactory.createElement(this.svgElementName));return f.setAttribute("points",c),f.setAttribute("stroke-width",i.width||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),u.append(f),this.container.append(u),!o&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return l(this,Uy)}addHighlightArea(){this.container.classList.add("highlightArea")}};Uy=new WeakMap;jS=class extends Ov{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}},$S=class extends Rr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}},mm=class extends Rr{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});Y(this,$y);Y(this,jy,null);Y(this,sf,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?vt.HIGHLIGHT:vt.INK}render(){this.container.classList.add(this.containerClassName);let{data:{rect:t,rotation:n,inkLists:i,borderStyle:o,popupRef:s}}=this,{transform:a,width:u,height:c}=ee(this,$y,zS).call(this,n,t),f=this.svgFactory.create(u,c,!0),h=k(this,jy,this.svgFactory.createElement("svg:g"));f.append(h),h.setAttribute("stroke-width",o.width||1),h.setAttribute("stroke-linecap","round"),h.setAttribute("stroke-linejoin","round"),h.setAttribute("stroke-miterlimit",10),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),h.setAttribute("transform",a);for(let d=0,g=i.length;d<g;d++){let b=this.svgFactory.createElement(this.svgElementName);l(this,sf).push(b),b.setAttribute("points",i[d].join(",")),h.append(b)}return!s&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(f),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);let{thickness:n,points:i,rect:o}=t,s=l(this,jy);if(n>=0&&s.setAttribute("stroke-width",n||1),i)for(let a=0,u=l(this,sf).length;a<u;a++)l(this,sf)[a].setAttribute("points",i[a].join(","));if(o){let{transform:a,width:u,height:c}=ee(this,$y,zS).call(this,this.data.rotation,o);s.parentElement.setAttribute("viewBox",`0 0 ${u} ${c}`),s.setAttribute("transform",a)}}getElementsToTriggerPopup(){return l(this,sf)}addHighlightArea(){this.container.classList.add("highlightArea")}};jy=new WeakMap,sf=new WeakMap,$y=new WeakSet,zS=function(t,n){switch(t){case 90:return{transform:`rotate(90) translate(${-n[0]},${n[1]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};case 180:return{transform:`rotate(180) translate(${-n[2]},${n[1]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]};case 270:return{transform:`rotate(270) translate(${-n[2]},${n[3]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};default:return{transform:`translate(${-n[0]},${n[3]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]}}};Nv=class extends Rr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=vt.HIGHLIGHT}render(){let{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){let n=document.createElement("mark");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}},WS=class extends Rr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){let{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("underlineAnnotation"),e){let n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}},qS=class extends Rr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){let{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("squigglyAnnotation"),e){let n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}},HS=class extends Rr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){let{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("strikeoutAnnotation"),e){let n=document.createElement("s");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}},kv=class extends Rr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=vt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}},GS=class extends Rr{constructor(t){super(t,{isRenderable:!0});Y(this,Wy);Y(this,zy,null);let{file:n}=this.data;this.filename=n.filename,this.content=n.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");let{container:t,data:n}=this,i;n.hasAppearance||n.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),i.addEventListener("dblclick",ee(this,Wy,VS).bind(this)),k(this,zy,i);let{isMac:o}=Ur.platform;return t.addEventListener("keydown",s=>{s.key==="Enter"&&(o?s.metaKey:s.ctrlKey)&&ee(this,Wy,VS).call(this)}),!n.popupRef&&this.hasPopupData?(this.hasOwnCommentButton=!0,this._createPopup()):i.classList.add("popupTriggerArea"),t.append(i),t}getElementsToTriggerPopup(){return l(this,zy)}addHighlightArea(){this.container.classList.add("highlightArea")}};zy=new WeakMap,Wy=new WeakSet,VS=function(){this.downloadManager?.openOrDownloadData(this.content,this.filename)};IT=class IT{constructor({div:e,accessibilityManager:t,annotationCanvasMap:n,annotationEditorUIManager:i,page:o,viewport:s,structTreeLayer:a,commentManager:u,linkService:c,annotationStorage:f}){Y(this,Qa);Y(this,of,null);Y(this,af,null);Y(this,Xd,null);Y(this,lu,new Map);Y(this,qy,null);Y(this,lf,null);Y(this,Mi,[]);Y(this,Hy,!1);this.div=e,k(this,of,t),k(this,af,n),k(this,qy,a||null),k(this,lf,c||null),k(this,Xd,f||new cm),this.page=o,this.viewport=s,this.zIndex=0,this._annotationEditorUIManager=i,this._commentManager=u||null}hasEditableAnnotations(){return l(this,lu).size>0}async render(e){let{annotations:t}=e,n=this.div;vu(n,this.viewport);let i=new Map,o=[],s={data:null,layer:n,linkService:l(this,lf),downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new Of,annotationStorage:l(this,Xd),enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(let a of t){if(a.noHTML)continue;let u=a.annotationType===qr.POPUP;if(u){let h=i.get(a.id);if(!h)continue;if(!this._commentManager){o.push(a);continue}s.elements=h}else if(a.rect[2]===a.rect[0]||a.rect[3]===a.rect[1])continue;s.data=a;let c=im.create(s);if(!c.isRenderable)continue;if(!u&&(l(this,Mi).push(c),a.popupRef)){let h=i.get(a.popupRef);h?h.push(c):i.set(a.popupRef,[c])}let f=c.render();a.hidden&&(f.style.visibility="hidden"),c._isEditable&&(l(this,lu).set(c.data.id,c),this._annotationEditorUIManager?.renderAnnotationElement(c))}await ee(this,Qa,Hw).call(this);for(let a of o){let u=s.elements=i.get(a.id);s.data=a;let c=im.create(s);if(!c.isRenderable)continue;let f=c.render();c.contentElement.id=`${Mh}${a.id}`,a.hidden&&(f.style.visibility="hidden"),u.at(-1).container.after(f)}ee(this,Qa,YS).call(this)}async addLinkAnnotations(e){let t={data:null,layer:this.div,linkService:l(this,lf),svgFactory:new Of,parent:this};for(let n of e){n.borderStyle||(n.borderStyle=IT._defaultBorderStyle),t.data=n;let i=im.create(t);i.isRenderable&&(i.render(),i.contentElement.id=`${Mh}${n.id}`,l(this,Mi).push(i))}await ee(this,Qa,Hw).call(this)}update({viewport:e}){let t=this.div;this.viewport=e,vu(t,{rotation:e.rotation}),ee(this,Qa,YS).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(l(this,lu).values())}getEditableAnnotation(e){return l(this,lu).get(e)}addFakeAnnotation(e){let{div:t}=this,{id:n,rotation:i}=e,o=new AS({data:{id:n,rect:e.getPDFRect(),rotation:i},editor:e,layer:t,parent:this,enableComment:!!this._commentManager,linkService:l(this,lf),annotationStorage:l(this,Xd)});return o.render(),o.contentElement.id=`${Mh}${n}`,o.createOrUpdatePopup(),l(this,Mi).push(o),o}removeAnnotation(e){let t=l(this,Mi).findIndex(i=>i.data.id===e);if(t<0)return;let[n]=l(this,Mi).splice(t,1);l(this,of)?.removePointerInTextLayer(n.contentElement)}updateFakeAnnotations(e){if(e.length!==0){for(let t of e)t.updateFakeAnnotationElement(this);ee(this,Qa,Hw).call(this)}}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}static get _defaultBorderStyle(){return wt(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Dh.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};of=new WeakMap,af=new WeakMap,Xd=new WeakMap,lu=new WeakMap,qy=new WeakMap,lf=new WeakMap,Mi=new WeakMap,Hy=new WeakMap,Qa=new WeakSet,Hw=async function(){if(l(this,Mi).length===0)return;this.div.replaceChildren();let e=[];if(!l(this,Hy)){k(this,Hy,!0);for(let{contentElement:n,data:{id:i}}of l(this,Mi)){let o=n.id=`${Mh}${i}`;e.push(l(this,qy)?.getAriaAttributes(o).then(s=>{if(s)for(let[a,u]of s)n.setAttribute(a,u)}))}}l(this,Mi).sort(({data:{rect:[n,i,o,s]}},{data:{rect:[a,u,c,f]}})=>{if(n===o&&i===s)return 1;if(a===c&&u===f)return-1;let h=s,d=i,g=(i+s)/2,b=f,v=u,w=(u+f)/2;if(g>=b&&w<=d)return-1;if(w>=h&&g<=v)return 1;let y=(n+o)/2,_=(a+c)/2;return y-_});let t=document.createDocumentFragment();for(let n of l(this,Mi))t.append(n.container),this._commentManager?(n.extraPopupElement?.popup||n.popup)?.renderCommentButton():n.extraPopupElement&&t.append(n.extraPopupElement.render());if(this.div.append(t),await Promise.all(e),l(this,of))for(let n of l(this,Mi))l(this,of).addPointerInTextLayer(n.contentElement,!1)},YS=function(){if(!l(this,af))return;let e=this.div;for(let[t,n]of l(this,af)){let i=e.querySelector(`[data-annotation-id="${t}"]`);if(!i)continue;n.className="annotationContent";let{firstChild:o}=i;o?o.nodeName==="CANVAS"?o.replaceWith(n):o.classList.contains("annotationContent")?o.after(n):o.before(n):i.append(n);let s=l(this,lu).get(t);s&&(s._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(t,i.id,n),s._hasNoCanvas=!1):s.canvas=n)}l(this,af).clear()};Lv=IT,xw=/\r\n?|\n/g,wr=class wr extends mr{constructor(t){super({...t,name:"freeTextEditor"});Y(this,Kr);Y(this,Fi,"");Y(this,Gy,`${this.id}-editor`);Y(this,uf,null);Y(this,Ui);Qe(this,"_colorPicker",null);this.color=t.color||wr._defaultColor||mr._defaultLineColor,k(this,Ui,t.fontSize||wr._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert"),this.canAddComment=!1}static get _keyboardManager(){let t=wr.prototype,n=s=>s.isEmpty(),i=_u.TRANSLATE_SMALL,o=_u.TRANSLATE_BIG;return wt(this,"_keyboardManager",new If([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-o,0],checker:n}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[i,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[o,0],checker:n}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-o],checker:n}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,i],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,o],checker:n}]]))}static initialize(t,n){mr.initialize(t,n);let i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,n){switch(t){case Bt.FREETEXT_SIZE:wr._defaultFontSize=n;break;case Bt.FREETEXT_COLOR:wr._defaultColor=n;break}}updateParams(t,n){switch(t){case Bt.FREETEXT_SIZE:ee(this,Kr,jF).call(this,n);break;case Bt.FREETEXT_COLOR:ee(this,Kr,$F).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Bt.FREETEXT_SIZE,wr._defaultFontSize],[Bt.FREETEXT_COLOR,wr._defaultColor||mr._defaultLineColor]]}get propertiesToUpdate(){return[[Bt.FREETEXT_SIZE,l(this,Ui)],[Bt.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new Cv(this)),[["colorPicker",this._colorPicker]]}get colorType(){return Bt.FREETEXT_COLOR}onUpdatedColor(){this.editorDiv.style.color=this.color,this._colorPicker?.update(this.color),super.onUpdatedColor()}_translateEmpty(t,n){this._uiManager.translateSelectedEditors(t,n,!0)}getInitialTranslation(){let t=this.parentScale;return[-wr._internalPadding*t,-(wr._internalPadding+l(this,Ui))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),k(this,uf,new AbortController);let t=this._uiManager.combinedSignal(l(this,uf));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",l(this,Gy)),this._isDraggable=!0,l(this,uf)?.abort(),k(this,uf,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();let t=l(this,Fi),n=k(this,Fi,ee(this,Kr,zF).call(this).trimEnd());if(t===n)return;let i=o=>{if(k(this,Fi,o),!o){this.remove();return}ee(this,Kr,Yw).call(this),this._uiManager.rebuild(this),ee(this,Kr,Gw).call(this)};this.addCommands({cmd:()=>{i(n)},undo:()=>{i(t)},mustExec:!1}),ee(this,Kr,Gw).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){wr._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,n;(this._isCopy||this.annotationElementId)&&(t=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",l(this,Gy)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;let{style:i}=this.editorDiv;if(i.fontSize=`calc(${l(this,Ui)}px * var(--total-scale-factor))`,i.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){let[o,s]=this.parentDimensions;if(this.annotationElementId){let{position:a}=this._initialData,[u,c]=this.getInitialTranslation();[u,c]=this.pageTranslationToScreen(u,c);let[f,h]=this.pageDimensions,[d,g]=this.pageTranslation,b,v;switch(this.rotation){case 0:b=t+(a[0]-d)/f,v=n+this.height-(a[1]-g)/h;break;case 90:b=t+(a[0]-d)/f,v=n-(a[1]-g)/h,[u,c]=[c,-u];break;case 180:b=t-this.width+(a[0]-d)/f,v=n-(a[1]-g)/h,[u,c]=[-u,-c];break;case 270:b=t+(a[0]-d-this.height*h)/f,v=n+(a[1]-g-this.width*f)/h,[u,c]=[-c,u];break}this.setAt(b*o,v*s,u,c)}else this._moveAfterPaste(t,n);ee(this,Kr,Yw).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var b,v,w;let n=t.clipboardData||window.clipboardData,{types:i}=n;if(i.length===1&&i[0]==="text/plain")return;t.preventDefault();let o=ee(b=wr,el,KS).call(b,n.getData("text")||"").replaceAll(xw,`
`);if(!o)return;let s=window.getSelection();if(!s.rangeCount)return;this.editorDiv.normalize(),s.deleteFromDocument();let a=s.getRangeAt(0);if(!o.includes(`
`)){a.insertNode(document.createTextNode(o)),this.editorDiv.normalize(),s.collapseToStart();return}let{startContainer:u,startOffset:c}=a,f=[],h=[];if(u.nodeType===Node.TEXT_NODE){let y=u.parentElement;if(h.push(u.nodeValue.slice(c).replaceAll(xw,"")),y!==this.editorDiv){let _=f;for(let E of this.editorDiv.childNodes){if(E===y){_=h;continue}_.push(ee(v=wr,el,Vw).call(v,E))}}f.push(u.nodeValue.slice(0,c).replaceAll(xw,""))}else if(u===this.editorDiv){let y=f,_=0;for(let E of this.editorDiv.childNodes)_++===c&&(y=h),y.push(ee(w=wr,el,Vw).call(w,E))}k(this,Fi,`${f.join(`
`)}${o}${h.join(`
`)}`),ee(this,Kr,Yw).call(this);let d=new Range,g=Math.sumPrecise(f.map(y=>y.length));for(let{firstChild:y}of this.editorDiv.childNodes)if(y.nodeType===Node.TEXT_NODE){let _=y.nodeValue.length;if(g<=_){d.setStart(y,g),d.setEnd(y,g);break}g-=_}s.removeAllRanges(),s.addRange(d)}get contentDiv(){return this.editorDiv}getPDFRect(){let t=wr._internalPadding*this.parentScale;return this.getRect(t,t)}static async deserialize(t,n,i){var a;let o=null;if(t instanceof Iv){let{data:{defaultAppearanceData:{fontSize:u,fontColor:c},rect:f,rotation:h,id:d,popupRef:g,richText:b,contentsObj:v,creationDate:w,modificationDate:y},textContent:_,textPosition:E,parent:{page:{pageNumber:S}}}=t;if(!_||_.length===0)return null;o=t={annotationType:vt.FREETEXT,color:Array.from(c),fontSize:u,value:_.join(`
`),position:E,pageIndex:S-1,rect:f.slice(0),rotation:h,annotationElementId:d,id:d,deleted:!1,popupRef:g,comment:v?.str||null,richText:b,creationDate:w,modificationDate:y}}let s=await super.deserialize(t,n,i);return k(s,Ui,t.fontSize),s.color=st.makeHexColor(...t.color),k(s,Fi,ee(a=wr,el,KS).call(a,t.value)),s._initialData=o,t.comment&&s.setCommentData(t),s}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();let n=mr._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),i=Object.assign(super.serialize(t),{color:n,fontSize:l(this,Ui),value:ee(this,Kr,WF).call(this)});return this.addComment(i),t?(i.isCopy=!0,i):this.annotationElementId&&!ee(this,Kr,qF).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(t){let n=super.renderAnnotationElement(t);if(!n)return null;let{style:i}=n;i.fontSize=`calc(${l(this,Ui)}px * var(--total-scale-factor))`,i.color=this.color,n.replaceChildren();for(let o of l(this,Fi).split(`
`)){let s=document.createElement("div");s.append(o?document.createTextNode(o):document.createElement("br")),n.append(s)}return t.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:l(this,Fi)}}),n}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};Fi=new WeakMap,Gy=new WeakMap,uf=new WeakMap,Ui=new WeakMap,Kr=new WeakSet,jF=function(t){let n=o=>{this.editorDiv.style.fontSize=`calc(${o}px * var(--total-scale-factor))`,this.translate(0,-(o-l(this,Ui))*this.parentScale),k(this,Ui,o),ee(this,Kr,Gw).call(this)},i=l(this,Ui);this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Bt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},$F=function(t){let n=o=>{this.color=o,this.onUpdatedColor()},i=this.color;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Bt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},zF=function(){var i;let t=[];this.editorDiv.normalize();let n=null;for(let o of this.editorDiv.childNodes)n?.nodeType===Node.TEXT_NODE&&o.nodeName==="BR"||(t.push(ee(i=wr,el,Vw).call(i,o)),n=o);return t.join(`
`)},Gw=function(){let[t,n]=this.parentDimensions,i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{let{currentLayer:o,div:s}=this,a=s.style.display,u=s.classList.contains("hidden");s.classList.remove("hidden"),s.style.display="hidden",o.div.append(this.div),i=s.getBoundingClientRect(),s.remove(),s.style.display=a,s.classList.toggle("hidden",u)}this.rotation%180===this.parentRotation%180?(this.width=i.width/t,this.height=i.height/n):(this.width=i.height/t,this.height=i.width/n),this.fixAndSetPosition()},el=new WeakSet,Vw=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(xw,"")},Yw=function(){if(this.editorDiv.replaceChildren(),!!l(this,Fi))for(let t of l(this,Fi).split(`
`)){let n=document.createElement("div");n.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(n)}},WF=function(){return l(this,Fi).replaceAll("\xA0"," ")},KS=function(t){return t.replaceAll(" ","\xA0")},qF=function(t){let{value:n,fontSize:i,color:o,pageIndex:s}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||t.value!==n||t.fontSize!==i||t.color.some((a,u)=>a!==o[u])||t.pageIndex!==s},Y(wr,el),Qe(wr,"_freeTextDefaultContent",""),Qe(wr,"_internalPadding",0),Qe(wr,"_defaultColor",null),Qe(wr,"_defaultFontSize",10),Qe(wr,"_type","freetext"),Qe(wr,"_editorType",vt.FREETEXT);XS=wr,lt=class{toSVGPath(){dr("Abstract method `toSVGPath` must be implemented.")}get box(){dr("Abstract getter `box` must be implemented.")}serialize(e,t){dr("Abstract method `serialize` must be implemented.")}static _rescale(e,t,n,i,o,s){s||(s=new Float32Array(e.length));for(let a=0,u=e.length;a<u;a+=2)s[a]=t+e[a]*i,s[a+1]=n+e[a+1]*o;return s}static _rescaleAndSwap(e,t,n,i,o,s){s||(s=new Float32Array(e.length));for(let a=0,u=e.length;a<u;a+=2)s[a]=t+e[a+1]*i,s[a+1]=n+e[a]*o;return s}static _translate(e,t,n,i){i||(i=new Float32Array(e.length));for(let o=0,s=e.length;o<s;o+=2)i[o]=t+e[o],i[o+1]=n+e[o+1];return i}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,n,i,o){switch(o){case 90:return[1-t/n,e/i];case 180:return[1-e/n,1-t/i];case 270:return[t/n,1-e/i];default:return[e/n,t/i]}}static _normalizePagePoint(e,t,n){switch(n){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,n,i,o,s){return[(e+5*n)/6,(t+5*i)/6,(5*n+o)/6,(5*i+s)/6,(n+o)/2,(i+s)/2]}};Qe(lt,"PRECISION",1e-4);ma=class ma{constructor({x:e,y:t},n,i,o,s,a=0){Y(this,cn);Y(this,ji);Y(this,zs,[]);Y(this,Kd);Y(this,Zd);Y(this,Oo,[]);Y(this,Nt,new Float32Array(18));Y(this,cf);Y(this,ff);Y(this,Vy);Y(this,Yy);Y(this,Jd);Y(this,Qd);Y(this,uu,[]);k(this,ji,n),k(this,Qd,o*i),k(this,Zd,s),l(this,Nt).set([NaN,NaN,NaN,NaN,e,t],6),k(this,Kd,a),k(this,Yy,l(ma,Xy)*i),k(this,Vy,l(ma,i_)*i),k(this,Jd,i),l(this,uu).push(e,t)}isEmpty(){return isNaN(l(this,Nt)[8])}add({x:e,y:t}){k(this,cf,e),k(this,ff,t);let[n,i,o,s]=l(this,ji),[a,u,c,f]=l(this,Nt).subarray(8,12),h=e-c,d=t-f,g=Math.hypot(h,d);if(g<l(this,Vy))return!1;let b=g-l(this,Yy),v=b/g,w=v*h,y=v*d,_=a,E=u;a=c,u=f,c+=w,f+=y,l(this,uu)?.push(e,t);let S=-y/b,A=w/b,L=S*l(this,Qd),D=A*l(this,Qd);return l(this,Nt).set(l(this,Nt).subarray(2,8),0),l(this,Nt).set([c+L,f+D],4),l(this,Nt).set(l(this,Nt).subarray(14,18),12),l(this,Nt).set([c-L,f-D],16),isNaN(l(this,Nt)[6])?(l(this,Oo).length===0&&(l(this,Nt).set([a+L,u+D],2),l(this,Oo).push(NaN,NaN,NaN,NaN,(a+L-n)/o,(u+D-i)/s),l(this,Nt).set([a-L,u-D],14),l(this,zs).push(NaN,NaN,NaN,NaN,(a-L-n)/o,(u-D-i)/s)),l(this,Nt).set([_,E,a,u,c,f],6),!this.isEmpty()):(l(this,Nt).set([_,E,a,u,c,f],6),Math.abs(Math.atan2(E-u,_-a)-Math.atan2(y,w))<Math.PI/2?([a,u,c,f]=l(this,Nt).subarray(2,6),l(this,Oo).push(NaN,NaN,NaN,NaN,((a+c)/2-n)/o,((u+f)/2-i)/s),[a,u,_,E]=l(this,Nt).subarray(14,18),l(this,zs).push(NaN,NaN,NaN,NaN,((_+a)/2-n)/o,((E+u)/2-i)/s),!0):([_,E,a,u,c,f]=l(this,Nt).subarray(0,6),l(this,Oo).push(((_+5*a)/6-n)/o,((E+5*u)/6-i)/s,((5*a+c)/6-n)/o,((5*u+f)/6-i)/s,((a+c)/2-n)/o,((u+f)/2-i)/s),[c,f,a,u,_,E]=l(this,Nt).subarray(12,18),l(this,zs).push(((_+5*a)/6-n)/o,((E+5*u)/6-i)/s,((5*a+c)/6-n)/o,((5*u+f)/6-i)/s,((a+c)/2-n)/o,((u+f)/2-i)/s),!0))}toSVGPath(){if(this.isEmpty())return"";let e=l(this,Oo),t=l(this,zs);if(isNaN(l(this,Nt)[6])&&!this.isEmpty())return ee(this,cn,HF).call(this);let n=[];n.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?n.push(`L${e[i+4]} ${e[i+5]}`):n.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);ee(this,cn,VF).call(this,n);for(let i=t.length-6;i>=6;i-=6)isNaN(t[i])?n.push(`L${t[i+4]} ${t[i+5]}`):n.push(`C${t[i]} ${t[i+1]} ${t[i+2]} ${t[i+3]} ${t[i+4]} ${t[i+5]}`);return ee(this,cn,GF).call(this,n),n.join(" ")}newFreeDrawOutline(e,t,n,i,o,s){return new Bv(e,t,n,i,o,s)}getOutlines(){let e=l(this,Oo),t=l(this,zs),n=l(this,Nt),[i,o,s,a]=l(this,ji),u=new Float32Array((l(this,uu)?.length??0)+2);for(let h=0,d=u.length-2;h<d;h+=2)u[h]=(l(this,uu)[h]-i)/s,u[h+1]=(l(this,uu)[h+1]-o)/a;if(u[u.length-2]=(l(this,cf)-i)/s,u[u.length-1]=(l(this,ff)-o)/a,isNaN(n[6])&&!this.isEmpty())return ee(this,cn,YF).call(this,u);let c=new Float32Array(l(this,Oo).length+24+l(this,zs).length),f=e.length;for(let h=0;h<f;h+=2){if(isNaN(e[h])){c[h]=c[h+1]=NaN;continue}c[h]=e[h],c[h+1]=e[h+1]}f=ee(this,cn,KF).call(this,c,f);for(let h=t.length-6;h>=6;h-=6)for(let d=0;d<6;d+=2){if(isNaN(t[h+d])){c[f]=c[f+1]=NaN,f+=2;continue}c[f]=t[h+d],c[f+1]=t[h+d+1],f+=2}return ee(this,cn,XF).call(this,c,f),this.newFreeDrawOutline(c,u,l(this,ji),l(this,Jd),l(this,Kd),l(this,Zd))}};ji=new WeakMap,zs=new WeakMap,Kd=new WeakMap,Zd=new WeakMap,Oo=new WeakMap,Nt=new WeakMap,cf=new WeakMap,ff=new WeakMap,Vy=new WeakMap,Yy=new WeakMap,Jd=new WeakMap,Qd=new WeakMap,uu=new WeakMap,Xy=new WeakMap,n_=new WeakMap,i_=new WeakMap,cn=new WeakSet,Kg=function(){let e=l(this,Nt).subarray(4,6),t=l(this,Nt).subarray(16,18),[n,i,o,s]=l(this,ji);return[(l(this,cf)+(e[0]-t[0])/2-n)/o,(l(this,ff)+(e[1]-t[1])/2-i)/s,(l(this,cf)+(t[0]-e[0])/2-n)/o,(l(this,ff)+(t[1]-e[1])/2-i)/s]},HF=function(){let[e,t,n,i]=l(this,ji),[o,s,a,u]=ee(this,cn,Kg).call(this);return`M${(l(this,Nt)[2]-e)/n} ${(l(this,Nt)[3]-t)/i} L${(l(this,Nt)[4]-e)/n} ${(l(this,Nt)[5]-t)/i} L${o} ${s} L${a} ${u} L${(l(this,Nt)[16]-e)/n} ${(l(this,Nt)[17]-t)/i} L${(l(this,Nt)[14]-e)/n} ${(l(this,Nt)[15]-t)/i} Z`},GF=function(e){let t=l(this,zs);e.push(`L${t[4]} ${t[5]} Z`)},VF=function(e){let[t,n,i,o]=l(this,ji),s=l(this,Nt).subarray(4,6),a=l(this,Nt).subarray(16,18),[u,c,f,h]=ee(this,cn,Kg).call(this);e.push(`L${(s[0]-t)/i} ${(s[1]-n)/o} L${u} ${c} L${f} ${h} L${(a[0]-t)/i} ${(a[1]-n)/o}`)},YF=function(e){let t=l(this,Nt),[n,i,o,s]=l(this,ji),[a,u,c,f]=ee(this,cn,Kg).call(this),h=new Float32Array(36);return h.set([NaN,NaN,NaN,NaN,(t[2]-n)/o,(t[3]-i)/s,NaN,NaN,NaN,NaN,(t[4]-n)/o,(t[5]-i)/s,NaN,NaN,NaN,NaN,a,u,NaN,NaN,NaN,NaN,c,f,NaN,NaN,NaN,NaN,(t[16]-n)/o,(t[17]-i)/s,NaN,NaN,NaN,NaN,(t[14]-n)/o,(t[15]-i)/s],0),this.newFreeDrawOutline(h,e,l(this,ji),l(this,Jd),l(this,Kd),l(this,Zd))},XF=function(e,t){let n=l(this,zs);return e.set([NaN,NaN,NaN,NaN,n[4],n[5]],t),t+=6},KF=function(e,t){let n=l(this,Nt).subarray(4,6),i=l(this,Nt).subarray(16,18),[o,s,a,u]=l(this,ji),[c,f,h,d]=ee(this,cn,Kg).call(this);return e.set([NaN,NaN,NaN,NaN,(n[0]-o)/a,(n[1]-s)/u,NaN,NaN,NaN,NaN,c,f,NaN,NaN,NaN,NaN,h,d,NaN,NaN,NaN,NaN,(i[0]-o)/a,(i[1]-s)/u],t),t+=24},Y(ma,Xy,8),Y(ma,n_,2),Y(ma,i_,l(ma,Xy)+l(ma,n_));Pv=ma,Bv=class extends lt{constructor(t,n,i,o,s,a){super();Y(this,s_);Y(this,ep);Y(this,hf,new Float32Array(4));Y(this,qa);Y(this,Ky);Y(this,$i);Y(this,Zy);Y(this,Gr);k(this,Gr,t),k(this,$i,n),k(this,ep,i),k(this,Zy,o),k(this,qa,s),k(this,Ky,a),this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],ee(this,s_,ZF).call(this,a);let[u,c,f,h]=l(this,hf);for(let d=0,g=t.length;d<g;d+=2)t[d]=(t[d]-u)/f,t[d+1]=(t[d+1]-c)/h;for(let d=0,g=n.length;d<g;d+=2)n[d]=(n[d]-u)/f,n[d+1]=(n[d+1]-c)/h}toSVGPath(){let t=[`M${l(this,Gr)[4]} ${l(this,Gr)[5]}`];for(let n=6,i=l(this,Gr).length;n<i;n+=6){if(isNaN(l(this,Gr)[n])){t.push(`L${l(this,Gr)[n+4]} ${l(this,Gr)[n+5]}`);continue}t.push(`C${l(this,Gr)[n]} ${l(this,Gr)[n+1]} ${l(this,Gr)[n+2]} ${l(this,Gr)[n+3]} ${l(this,Gr)[n+4]} ${l(this,Gr)[n+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,n,i,o],s){let a=i-t,u=o-n,c,f;switch(s){case 0:c=lt._rescale(l(this,Gr),t,o,a,-u),f=lt._rescale(l(this,$i),t,o,a,-u);break;case 90:c=lt._rescaleAndSwap(l(this,Gr),t,n,a,u),f=lt._rescaleAndSwap(l(this,$i),t,n,a,u);break;case 180:c=lt._rescale(l(this,Gr),i,n,-a,u),f=lt._rescale(l(this,$i),i,n,-a,u);break;case 270:c=lt._rescaleAndSwap(l(this,Gr),i,o,-a,-u),f=lt._rescaleAndSwap(l(this,$i),i,o,-a,-u);break}return{outline:Array.from(c),points:[Array.from(f)]}}get box(){return l(this,hf)}newOutliner(t,n,i,o,s,a=0){return new Pv(t,n,i,o,s,a)}getNewOutline(t,n){let[i,o,s,a]=l(this,hf),[u,c,f,h]=l(this,ep),d=s*f,g=a*h,b=i*f+u,v=o*h+c,w=this.newOutliner({x:l(this,$i)[0]*d+b,y:l(this,$i)[1]*g+v},l(this,ep),l(this,Zy),t,l(this,Ky),n??l(this,qa));for(let y=2;y<l(this,$i).length;y+=2)w.add({x:l(this,$i)[y]*d+b,y:l(this,$i)[y+1]*g+v});return w.getOutlines()}};ep=new WeakMap,hf=new WeakMap,qa=new WeakMap,Ky=new WeakMap,$i=new WeakMap,Zy=new WeakMap,Gr=new WeakMap,s_=new WeakSet,ZF=function(t){let n=l(this,Gr),i=n[4],o=n[5],s=[i,o,i,o],a=i,u=o,c=i,f=o,h=t?Math.max:Math.min,d=new Float32Array(4);for(let b=6,v=n.length;b<v;b+=6){let w=n[b+4],y=n[b+5];isNaN(n[b])?(st.pointBoundingBox(w,y,s),u>y?(a=w,u=y):u===y&&(a=h(a,w)),f<y?(c=w,f=y):f===y&&(c=h(c,w))):(d[0]=d[1]=1/0,d[2]=d[3]=-1/0,st.bezierBoundingBox(i,o,...n.slice(b,b+6),d),st.rectBoundingBox(d[0],d[1],d[2],d[3],s),u>d[1]?(a=d[0],u=d[1]):u===d[1]&&(a=h(a,d[0])),f<d[3]?(c=d[2],f=d[3]):f===d[3]&&(c=h(c,d[2]))),i=w,o=y}let g=l(this,hf);g[0]=s[0]-l(this,qa),g[1]=s[1]-l(this,qa),g[2]=s[2]-s[0]+2*l(this,qa),g[3]=s[3]-s[1]+2*l(this,qa),this.firstPoint=[a,u],this.lastPoint=[c,f]};ym=class{constructor(e,t=0,n=0,i=!0){Y(this,ti);Y(this,Jy);Y(this,Qy);Y(this,e0);Y(this,cu,[]);Y(this,Ws,[]);let o=[1/0,1/0,-1/0,-1/0],a=10**-4;for(let{x:w,y,width:_,height:E}of e){let S=Math.floor((w-t)/a)*a,A=Math.ceil((w+_+t)/a)*a,L=Math.floor((y-t)/a)*a,D=Math.ceil((y+E+t)/a)*a,K=[S,L,D,!0],re=[A,L,D,!1];l(this,cu).push(K,re),st.rectBoundingBox(S,L,A,D,o)}let u=o[2]-o[0]+2*n,c=o[3]-o[1]+2*n,f=o[0]-n,h=o[1]-n,d=i?-1/0:1/0,g=1/0,b=l(this,cu).at(i?-1:-2),v=[b[0],b[2]];for(let w of l(this,cu)){let[y,_,E,S]=w;!S&&i?_<g?(g=_,d=y):_===g&&(d=Math.max(d,y)):S&&!i&&(_<g?(g=_,d=y):_===g&&(d=Math.min(d,y))),w[0]=(y-f)/u,w[1]=(_-h)/c,w[2]=(E-h)/c}k(this,Jy,new Float32Array([f,h,u,c])),k(this,Qy,[d,g]),k(this,e0,v)}getOutlines(){l(this,cu).sort((t,n)=>t[0]-n[0]||t[1]-n[1]||t[2]-n[2]);let e=[];for(let t of l(this,cu))t[3]?(e.push(...ee(this,ti,ZS).call(this,t)),ee(this,ti,QF).call(this,t)):(ee(this,ti,e3).call(this,t),e.push(...ee(this,ti,ZS).call(this,t)));return ee(this,ti,JF).call(this,e)}};Jy=new WeakMap,Qy=new WeakMap,e0=new WeakMap,cu=new WeakMap,Ws=new WeakMap,ti=new WeakSet,JF=function(e){let t=[],n=new Set;for(let s of e){let[a,u,c]=s;t.push([a,u,s],[a,c,s])}t.sort((s,a)=>s[1]-a[1]||s[0]-a[0]);for(let s=0,a=t.length;s<a;s+=2){let u=t[s][2],c=t[s+1][2];u.push(c),c.push(u),n.add(u),n.add(c)}let i=[],o;for(;n.size>0;){let s=n.values().next().value,[a,u,c,f,h]=s;n.delete(s);let d=a,g=u;for(o=[a,c],i.push(o);;){let b;if(n.has(f))b=f;else if(n.has(h))b=h;else break;n.delete(b),[a,u,c,f,h]=b,d!==a&&(o.push(d,g,a,g===u?u:c),d=a),g=g===u?c:u}o.push(d,g)}return new JS(i,l(this,Jy),l(this,Qy),l(this,e0))},Xw=function(e){let t=l(this,Ws),n=0,i=t.length-1;for(;n<=i;){let o=n+i>>1,s=t[o][0];if(s===e)return o;s<e?n=o+1:i=o-1}return i+1},QF=function([,e,t]){let n=ee(this,ti,Xw).call(this,e);l(this,Ws).splice(n,0,[e,t])},e3=function([,e,t]){let n=ee(this,ti,Xw).call(this,e);for(let i=n;i<l(this,Ws).length;i++){let[o,s]=l(this,Ws)[i];if(o!==e)break;if(o===e&&s===t){l(this,Ws).splice(i,1);return}}for(let i=n-1;i>=0;i--){let[o,s]=l(this,Ws)[i];if(o!==e)break;if(o===e&&s===t){l(this,Ws).splice(i,1);return}}},ZS=function(e){let[t,n,i]=e,o=[[t,n,i]],s=ee(this,ti,Xw).call(this,i);for(let a=0;a<s;a++){let[u,c]=l(this,Ws)[a];for(let f=0,h=o.length;f<h;f++){let[,d,g]=o[f];if(!(c<=d||g<=u)){if(d>=u){if(g>c)o[f][1]=c;else{if(h===1)return[];o.splice(f,1),f--,h--}continue}o[f][2]=u,g>c&&o.push([t,c,g])}}}return o};JS=class extends lt{constructor(t,n,i,o){super();Y(this,t0);Y(this,tp);k(this,tp,t),k(this,t0,n),this.firstPoint=i,this.lastPoint=o}toSVGPath(){let t=[];for(let n of l(this,tp)){let[i,o]=n;t.push(`M${i} ${o}`);for(let s=2;s<n.length;s+=2){let a=n[s],u=n[s+1];a===i?(t.push(`V${u}`),o=u):u===o&&(t.push(`H${a}`),i=a)}t.push("Z")}return t.join(" ")}serialize([t,n,i,o],s){let a=[],u=i-t,c=o-n;for(let f of l(this,tp)){let h=new Array(f.length);for(let d=0;d<f.length;d+=2)h[d]=t+f[d]*u,h[d+1]=o-f[d+1]*c;a.push(h)}return a}get box(){return l(this,t0)}get classNamesForOutlining(){return["highlightOutline"]}};t0=new WeakMap,tp=new WeakMap;bm=class extends Pv{newFreeDrawOutline(e,t,n,i,o,s){return new QS(e,t,n,i,o,s)}},QS=class extends Bv{newOutliner(e,t,n,i,o,s=0){return new bm(e,t,n,i,o,s)}},qt=class qt extends mr{constructor(t){super({...t,name:"highlightEditor"});Y(this,Tt);Y(this,rp,null);Y(this,r0,0);Y(this,Ha);Y(this,df,null);Y(this,n0,null);Y(this,bi,null);Y(this,i0,null);Y(this,s0,0);Y(this,pf,null);Y(this,zi,null);Y(this,Wi,null);Y(this,Cn,!1);Y(this,np,null);Y(this,ip,null);Y(this,zn,null);Y(this,sp,"");Y(this,ws);Y(this,o0,"");this.color=t.color||qt._defaultColor,k(this,ws,t.thickness||qt._defaultThickness),this.opacity=t.opacity||qt._defaultOpacity,k(this,Ha,t.boxes||null),k(this,o0,t.methodOfCreation||""),k(this,sp,t.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(k(this,Cn,!0),ee(this,Tt,Kw).call(this,t),ee(this,Tt,ac).call(this)):l(this,Ha)&&(k(this,rp,t.anchorNode),k(this,r0,t.anchorOffset),k(this,i0,t.focusNode),k(this,s0,t.focusOffset),ee(this,Tt,eT).call(this),ee(this,Tt,ac).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){let t=qt.prototype;return wt(this,"_keyboardManager",new If([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:l(this,Cn)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:l(this,ws),methodOfCreation:l(this,o0)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,n){mr.initialize(t,n),qt._defaultColor||(qt._defaultColor=n.highlightColors?.values().next().value||"#fff066")}static updateDefaultParams(t,n){switch(t){case Bt.HIGHLIGHT_COLOR:qt._defaultColor=n;break;case Bt.HIGHLIGHT_THICKNESS:qt._defaultThickness=n;break}}translateInPage(t,n){}get toolbarPosition(){return l(this,ip)}get commentButtonPosition(){return l(this,np)}updateParams(t,n){switch(t){case Bt.HIGHLIGHT_COLOR:ee(this,Tt,t3).call(this,n);break;case Bt.HIGHLIGHT_THICKNESS:ee(this,Tt,r3).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Bt.HIGHLIGHT_COLOR,qt._defaultColor],[Bt.HIGHLIGHT_THICKNESS,qt._defaultThickness]]}get propertiesToUpdate(){return[[Bt.HIGHLIGHT_COLOR,this.color||qt._defaultColor],[Bt.HIGHLIGHT_THICKNESS,l(this,ws)||qt._defaultThickness],[Bt.HIGHLIGHT_FREE,l(this,Cn)]]}onUpdatedColor(){this.parent?.drawLayer.updateProperties(l(this,Wi),{root:{fill:this.color,"fill-opacity":this.opacity}}),l(this,n0)?.updateColor(this.color),super.onUpdatedColor()}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",k(this,n0,new dm({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(ee(this,Tt,Jw).call(this))}getBaseTranslation(){return[0,0]}getRect(t,n){return super.getRect(t,n,ee(this,Tt,Jw).call(this))}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){ee(this,Tt,tT).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(ee(this,Tt,ac).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let n=!1;this.parent&&!t?ee(this,Tt,tT).call(this):t&&(ee(this,Tt,ac).call(this,t),n=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),this.show(this._isVisible),n&&this.select()}rotate(t){var o,s,a;let{drawLayer:n}=this.parent,i;l(this,Cn)?(t=(t-this.rotation+360)%360,i=ee(o=qt,As,Ph).call(o,l(this,zi).box,t)):i=ee(s=qt,As,Ph).call(s,[this.x,this.y,this.width,this.height],t),n.updateProperties(l(this,Wi),{bbox:i,root:{"data-main-rotation":t}}),n.updateProperties(l(this,zn),{bbox:ee(a=qt,As,Ph).call(a,l(this,bi).box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;let t=super.render();l(this,sp)&&(t.setAttribute("aria-label",l(this,sp)),t.setAttribute("role","mark")),l(this,Cn)?t.classList.add("free"):this.div.addEventListener("keydown",ee(this,Tt,i3).bind(this),{signal:this._uiManager._signal});let n=k(this,pf,document.createElement("div"));return t.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=l(this,df),this.setDims(),jM(this,l(this,pf),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(l(this,zn),{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(l(this,zn),{rootClass:{hovered:!1}})}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:ee(this,Tt,Zw).call(this,!0);break;case 1:case 3:ee(this,Tt,Zw).call(this,!1);break}}select(){super.select(),l(this,zn)&&this.parent?.drawLayer.updateProperties(l(this,zn),{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),l(this,zn)&&(this.parent?.drawLayer.updateProperties(l(this,zn),{rootClass:{selected:!1}}),l(this,Cn)||ee(this,Tt,Zw).call(this,!1))}get _mustFixPosition(){return!l(this,Cn)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(l(this,Wi),{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(l(this,zn),{rootClass:{hidden:!t}}))}static startHighlighting(t,n,{target:i,x:o,y:s}){let{x:a,y:u,width:c,height:f}=i.getBoundingClientRect(),h=new AbortController,d=t.combinedSignal(h),g=b=>{h.abort(),ee(this,As,l3).call(this,t,b)};window.addEventListener("blur",g,{signal:d}),window.addEventListener("pointerup",g,{signal:d}),window.addEventListener("pointerdown",Cr,{capture:!0,passive:!1,signal:d}),window.addEventListener("contextmenu",Zi,{signal:d}),i.addEventListener("pointermove",ee(this,As,a3).bind(this,t),{signal:d}),this._freeHighlight=new bm({x:o,y:s},[a,u,c,f],t.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(t,n,i){var v,w,y,_;let o=null;if(t instanceof Nv){let{data:{quadPoints:E,rect:S,rotation:A,id:L,color:D,opacity:K,popupRef:re,richText:q,contentsObj:oe,creationDate:U,modificationDate:H},parent:{page:{pageNumber:ue}}}=t;o=t={annotationType:vt.HIGHLIGHT,color:Array.from(D),opacity:K,quadPoints:E,boxes:null,pageIndex:ue-1,rect:S.slice(0),rotation:A,annotationElementId:L,id:L,deleted:!1,popupRef:re,richText:q,comment:oe?.str||null,creationDate:U,modificationDate:H}}else if(t instanceof mm){let{data:{inkLists:E,rect:S,rotation:A,id:L,color:D,borderStyle:{rawWidth:K},popupRef:re,richText:q,contentsObj:oe,creationDate:U,modificationDate:H},parent:{page:{pageNumber:ue}}}=t;o=t={annotationType:vt.HIGHLIGHT,color:Array.from(D),thickness:K,inkLists:E,boxes:null,pageIndex:ue-1,rect:S.slice(0),rotation:A,annotationElementId:L,id:L,deleted:!1,popupRef:re,richText:q,comment:oe?.str||null,creationDate:U,modificationDate:H}}let{color:s,quadPoints:a,inkLists:u,opacity:c}=t,f=await super.deserialize(t,n,i);f.color=st.makeHexColor(...s),f.opacity=c||1,u&&k(f,ws,t.thickness),f._initialData=o,t.comment&&f.setCommentData(t);let[h,d]=f.pageDimensions,[g,b]=f.pageTranslation;if(a){let E=k(f,Ha,[]);for(let S=0;S<a.length;S+=8)E.push({x:(a[S]-g)/h,y:1-(a[S+1]-b)/d,width:(a[S+2]-a[S])/h,height:(a[S+1]-a[S+5])/d});ee(v=f,Tt,eT).call(v),ee(w=f,Tt,ac).call(w),f.rotate(f.rotation)}else if(u){k(f,Cn,!0);let E=u[0],S={x:E[0]-g,y:d-(E[1]-b)},A=new bm(S,[0,0,h,d],1,l(f,ws)/2,!0,.001);for(let K=0,re=E.length;K<re;K+=2)S.x=E[K]-g,S.y=d-(E[K+1]-b),A.add(S);let{id:L,clipPathId:D}=n.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:f.color,"fill-opacity":f._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:A.toSVGPath()}},!0,!0);ee(y=f,Tt,Kw).call(y,{highlightOutlines:A.getOutlines(),highlightId:L,clipPathId:D}),ee(_=f,Tt,ac).call(_),f.rotate(f.parentRotation)}return f}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();let n=mr._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),i=super.serialize(t);return Object.assign(i,{color:n,opacity:this.opacity,thickness:l(this,ws),quadPoints:ee(this,Tt,s3).call(this),outlines:ee(this,Tt,o3).call(this,i.rect)}),this.addComment(i),this.annotationElementId&&!ee(this,Tt,u3).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}};rp=new WeakMap,r0=new WeakMap,Ha=new WeakMap,df=new WeakMap,n0=new WeakMap,bi=new WeakMap,i0=new WeakMap,s0=new WeakMap,pf=new WeakMap,zi=new WeakMap,Wi=new WeakMap,Cn=new WeakMap,np=new WeakMap,ip=new WeakMap,zn=new WeakMap,sp=new WeakMap,ws=new WeakMap,o0=new WeakMap,Tt=new WeakSet,eT=function(){let t=new ym(l(this,Ha),.001);k(this,zi,t.getOutlines()),[this.x,this.y,this.width,this.height]=l(this,zi).box;let n=new ym(l(this,Ha),.0025,.001,this._uiManager.direction==="ltr");k(this,bi,n.getOutlines());let{firstPoint:i}=l(this,zi);k(this,np,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height]);let{lastPoint:o}=l(this,bi);k(this,ip,[(o[0]-this.x)/this.width,(o[1]-this.y)/this.height])},Kw=function({highlightOutlines:t,highlightId:n,clipPathId:i}){var d,g;if(k(this,zi,t),k(this,bi,t.getNewOutline(l(this,ws)/2+1.5,.0025)),n>=0)k(this,Wi,n),k(this,df,i),this.parent.drawLayer.finalizeDraw(n,{bbox:t.box,path:{d:t.toSVGPath()}}),k(this,zn,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:l(this,bi).box,path:{d:l(this,bi).toSVGPath()}},!0));else if(this.parent){let b=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(l(this,Wi),{bbox:ee(d=qt,As,Ph).call(d,l(this,zi).box,(b-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(l(this,zn),{bbox:ee(g=qt,As,Ph).call(g,l(this,bi).box,b),path:{d:l(this,bi).toSVGPath()}})}let[s,a,u,c]=t.box;switch(this.rotation){case 0:this.x=s,this.y=a,this.width=u,this.height=c;break;case 90:{let[b,v]=this.parentDimensions;this.x=a,this.y=1-s,this.width=u*v/b,this.height=c*b/v;break}case 180:this.x=1-s,this.y=1-a,this.width=u,this.height=c;break;case 270:{let[b,v]=this.parentDimensions;this.x=1-a,this.y=s,this.width=u*v/b,this.height=c*b/v;break}}let{firstPoint:f}=t;k(this,np,[(f[0]-s)/u,(f[1]-a)/c]);let{lastPoint:h}=l(this,bi);k(this,ip,[(h[0]-s)/u,(h[1]-a)/c])},t3=function(t){let n=(s,a)=>{this.color=s,this.opacity=a,this.onUpdatedColor()},i=this.color,o=this.opacity;this.addCommands({cmd:n.bind(this,t,qt._defaultOpacity),undo:n.bind(this,i,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Bt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(t)},!0)},r3=function(t){let n=l(this,ws),i=o=>{k(this,ws,o),ee(this,Tt,n3).call(this,o)};this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Bt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},n3=function(t){l(this,Cn)&&(ee(this,Tt,Kw).call(this,{highlightOutlines:l(this,zi).getNewOutline(t/2)}),this.fixAndSetPosition(),this.setDims())},tT=function(){l(this,Wi)===null||!this.parent||(this.parent.drawLayer.remove(l(this,Wi)),k(this,Wi,null),this.parent.drawLayer.remove(l(this,zn)),k(this,zn,null))},ac=function(t=this.parent){l(this,Wi)===null&&({id:tn(this,Wi)._,clipPathId:tn(this,df)._}=t.drawLayer.draw({bbox:l(this,zi).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:l(this,Cn)},path:{d:l(this,zi).toSVGPath()}},!1,!0),k(this,zn,t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:l(this,Cn)},bbox:l(this,bi).box,path:{d:l(this,bi).toSVGPath()}},l(this,Cn))),l(this,pf)&&(l(this,pf).style.clipPath=l(this,df)))},As=new WeakSet,Ph=function([t,n,i,o],s){switch(s){case 90:return[1-n-o,t,o,i];case 180:return[1-t-i,1-n-o,i,o];case 270:return[n,1-t-i,o,i]}return[t,n,i,o]},i3=function(t){qt._keyboardManager.exec(this,t)},Zw=function(t){if(!l(this,rp))return;let n=window.getSelection();t?n.setPosition(l(this,rp),l(this,r0)):n.setPosition(l(this,i0),l(this,s0))},Jw=function(){return l(this,Cn)?this.rotation:0},s3=function(){if(l(this,Cn))return null;let[t,n]=this.pageDimensions,[i,o]=this.pageTranslation,s=l(this,Ha),a=new Float32Array(s.length*8),u=0;for(let{x:c,y:f,width:h,height:d}of s){let g=c*t+i,b=(1-f)*n+o;a[u]=a[u+4]=g,a[u+1]=a[u+3]=b,a[u+2]=a[u+6]=g+h*t,a[u+5]=a[u+7]=b-d*n,u+=8}return a},o3=function(t){return l(this,zi).serialize(t,ee(this,Tt,Jw).call(this))},a3=function(t,n){this._freeHighlight.add(n)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},l3=function(t,n){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},u3=function(t){let{color:n}=this._initialData;return this.hasEditedComment||t.color.some((i,o)=>i!==n[o])},Y(qt,As),Qe(qt,"_defaultColor",null),Qe(qt,"_defaultOpacity",1),Qe(qt,"_defaultThickness",12),Qe(qt,"_type","highlight"),Qe(qt,"_editorType",vt.HIGHLIGHT),Qe(qt,"_freeHighlightId",-1),Qe(qt,"_freeHighlight",null),Qe(qt,"_freeHighlightClipId","");Mv=qt,Fv=class{constructor(){Y(this,gf,Object.create(null))}updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(let[t,n]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,n)}updateSVGProperty(e,t){l(this,gf)[e]=t}toSVGProperties(){let e=l(this,gf);return k(this,gf,Object.create(null)),{root:e}}reset(){k(this,gf,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){dr("Not implemented")}};gf=new WeakMap;Pt=class Pt extends mr{constructor(t){super(t);Y(this,jt);Y(this,qi,null);Y(this,op);Qe(this,"_colorPicker",null);Qe(this,"_drawId",null);k(this,op,t.mustBeCommitted||!1),this._addOutlines(t)}onUpdatedColor(){this._colorPicker?.update(this.color),super.onUpdatedColor()}_addOutlines(t){t.drawOutlines&&(ee(this,jt,rT).call(this,t),ee(this,jt,Zg).call(this))}static _mergeSVGProperties(t,n){let i=new Set(Object.keys(t));for(let[o,s]of Object.entries(n))i.has(o)?Object.assign(t[o],s):t[o]=s;return t}static getDefaultDrawingOptions(t){dr("Not implemented")}static get typesMap(){dr("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,n){let i=this.typesMap.get(t);i&&this._defaultDrawingOptions.updateProperty(i,n),this._currentParent&&(l(Pt,yn).updateProperty(i,n),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,n){let i=this.constructor.typesMap.get(t);i&&this._updateProperty(t,i,n)}static get defaultPropertiesToUpdate(){let t=[],n=this._defaultDrawingOptions;for(let[i,o]of this.typesMap)t.push([i,n[o]]);return t}get propertiesToUpdate(){let t=[],{_drawingOptions:n}=this;for(let[i,o]of this.constructor.typesMap)t.push([i,n[o]]);return t}_updateProperty(t,n,i){let o=this._drawingOptions,s=o[n],a=u=>{o.updateProperty(n,u);let c=l(this,qi).updateProperty(n,u);c&&ee(this,jt,Jg).call(this,c),this.parent?.drawLayer.updateProperties(this._drawId,o.toSVGProperties()),t===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:a.bind(this,i),undo:a.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,Pt._mergeSVGProperties(l(this,qi).getPathResizingSVGProperties(ee(this,jt,Qw).call(this)),{bbox:ee(this,jt,Bh).call(this)}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,Pt._mergeSVGProperties(l(this,qi).getPathResizedSVGProperties(ee(this,jt,Qw).call(this)),{bbox:ee(this,jt,Bh).call(this)}))}_onTranslating(t,n){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:ee(this,jt,Bh).call(this)})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,Pt._mergeSVGProperties(l(this,qi).getPathTranslatedSVGProperties(ee(this,jt,Qw).call(this),this.parentDimensions),{bbox:ee(this,jt,Bh).call(this)}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,l(this,op)&&(k(this,op,!1),this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){ee(this,jt,iT).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(ee(this,jt,Zg).call(this),ee(this,jt,Jg).call(this,l(this,qi).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let n=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),ee(this,jt,iT).call(this)):t&&(this._uiManager.addShouldRescale(this),ee(this,jt,Zg).call(this,t),n=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),n&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Pt._mergeSVGProperties({bbox:ee(this,jt,Bh).call(this)},l(this,qi).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&ee(this,jt,Jg).call(this,l(this,qi).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,n;this._isCopy&&(t=this.x,n=this.y);let i=super.render();i.classList.add("draw");let o=document.createElement("div");return i.append(o),o.setAttribute("aria-hidden","true"),o.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,n),i}static createDrawerInstance(t,n,i,o,s){dr("Not implemented")}static startDrawing(t,n,i,o){let{target:s,offsetX:a,offsetY:u,pointerId:c,pointerType:f}=o;if(Mn.isInitializedAndDifferentPointerType(f))return;let{viewport:{rotation:h}}=t,{width:d,height:g}=s.getBoundingClientRect(),b=k(Pt,mf,new AbortController),v=t.combinedSignal(b);if(Mn.setPointer(f,c),window.addEventListener("pointerup",w=>{Mn.isSamePointerIdOrRemove(w.pointerId)&&this._endDraw(w)},{signal:v}),window.addEventListener("pointercancel",w=>{Mn.isSamePointerIdOrRemove(w.pointerId)&&this._currentParent.endDrawingSession()},{signal:v}),window.addEventListener("pointerdown",w=>{Mn.isSamePointerType(w.pointerType)&&(Mn.initializeAndAddPointerId(w.pointerId),l(Pt,yn).isCancellable()&&(l(Pt,yn).removeLastElement(),l(Pt,yn).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:v}),window.addEventListener("contextmenu",Zi,{signal:v}),s.addEventListener("pointermove",this._drawMove.bind(this),{signal:v}),s.addEventListener("touchmove",w=>{Mn.isSameTimeStamp(w.timeStamp)&&Cr(w)},{signal:v}),t.toggleDrawing(),n._editorUndoBar?.hide(),l(Pt,yn)){t.drawLayer.updateProperties(this._currentDrawId,l(Pt,yn).startNew(a,u,d,g,h));return}n.updateUIForDefaultProperties(this),k(Pt,yn,this.createDrawerInstance(a,u,d,g,h)),k(Pt,yf,this.getDefaultDrawingOptions()),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(l(Pt,yf).toSVGProperties(),l(Pt,yn).defaultSVGProperties),!0,!1)}static _drawMove(t){if(Mn.isSameTimeStamp(t.timeStamp),!l(Pt,yn))return;let{offsetX:n,offsetY:i,pointerId:o}=t;if(Mn.isSamePointerId(o)){if(Mn.isUsingMultiplePointers()){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,l(Pt,yn).add(n,i)),Mn.setTimeStamp(t.timeStamp),Cr(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,k(Pt,yn,null),k(Pt,yf,null),Mn.clearTimeStamp()),l(Pt,mf)&&(l(Pt,mf).abort(),k(Pt,mf,null),Mn.clearPointerIds())}static _endDraw(t){let n=this._currentParent;if(n){if(n.toggleDrawing(!0),this._cleanup(!1),t?.target===n.div&&n.drawLayer.updateProperties(this._currentDrawId,l(Pt,yn).end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){let i=l(Pt,yn),o=this._currentDrawId,s=i.getLastElement();n.addCommands({cmd:()=>{n.drawLayer.updateProperties(o,i.setLastElement(s))},undo:()=>{n.drawLayer.updateProperties(o,i.removeLastElement())},mustExec:!1,type:Bt.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){let n=this._currentParent;if(!n)return null;if(n.toggleDrawing(!0),n.cleanUndoStack(Bt.DRAW_STEP),!l(Pt,yn).isEmpty()){let{pageDimensions:[i,o],scale:s}=n,a=n.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:l(Pt,yn).getOutlines(i*s,o*s,s,this._INNER_MARGIN),drawingOptions:l(Pt,yf),mustBeCommitted:!t});return this._cleanup(!0),a}return n.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,n,i,o,s,a){dr("Not implemented")}static async deserialize(t,n,i){var h,d;let{rawDims:{pageWidth:o,pageHeight:s,pageX:a,pageY:u}}=n.viewport,c=this.deserializeDraw(a,u,o,s,this._INNER_MARGIN,t),f=await super.deserialize(t,n,i);return f.createDrawingOptions(t),ee(h=f,jt,rT).call(h,{drawOutlines:c}),ee(d=f,jt,Zg).call(d),f.onScaleChanging(),f.rotate(),f}serializeDraw(t){let[n,i]=this.pageTranslation,[o,s]=this.pageDimensions;return l(this,qi).serialize([n,i,o,s],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}};qi=new WeakMap,op=new WeakMap,yn=new WeakMap,mf=new WeakMap,yf=new WeakMap,jt=new WeakSet,rT=function({drawOutlines:t,drawId:n,drawingOptions:i}){k(this,qi,t),this._drawingOptions||(this._drawingOptions=i),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),n>=0?(this._drawId=n,this.parent.drawLayer.finalizeDraw(n,t.defaultProperties)):this._drawId=ee(this,jt,nT).call(this,t,this.parent),ee(this,jt,Jg).call(this,t.box)},nT=function(t,n){let{id:i}=n.drawLayer.draw(Pt._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return i},iT=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},Zg=function(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=ee(this,jt,nT).call(this,l(this,qi),t)}},c3=function([t,n,i,o]){let{parentDimensions:[s,a],rotation:u}=this;switch(u){case 90:return[n,1-t,i*(a/s),o*(s/a)];case 180:return[1-t,1-n,i,o];case 270:return[1-n,t,i*(a/s),o*(s/a)];default:return[t,n,i,o]}},Qw=function(){let{x:t,y:n,width:i,height:o,parentDimensions:[s,a],rotation:u}=this;switch(u){case 90:return[1-n,t,i*(s/a),o*(a/s)];case 180:return[1-t,1-n,i,o];case 270:return[n,1-t,i*(s/a),o*(a/s)];default:return[t,n,i,o]}},Jg=function(t){[this.x,this.y,this.width,this.height]=ee(this,jt,c3).call(this,t),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()},Bh=function(){let{x:t,y:n,width:i,height:o,rotation:s,parentRotation:a,parentDimensions:[u,c]}=this;switch((s*4+a)/90){case 1:return[1-n-o,t,o,i];case 2:return[1-t-i,1-n-o,i,o];case 3:return[n,1-t-i,o,i];case 4:return[t,n-i*(u/c),o*(c/u),i*(u/c)];case 5:return[1-n,t,i*(u/c),o*(c/u)];case 6:return[1-t-o*(c/u),1-n,o*(c/u),i*(u/c)];case 7:return[n-i*(u/c),1-t-o*(c/u),i*(u/c),o*(c/u)];case 8:return[t-i,n-o,i,o];case 9:return[1-n,t-i,o,i];case 10:return[1-t,1-n,i,o];case 11:return[n-o,1-t,o,i];case 12:return[t-o*(c/u),n,o*(c/u),i*(u/c)];case 13:return[1-n-i*(u/c),t-o*(c/u),i*(u/c),o*(c/u)];case 14:return[1-t,1-n-i*(u/c),o*(c/u),i*(u/c)];case 15:return[n,1-t,i*(u/c),o*(c/u)];default:return[t,n,i,o]}},Qe(Pt,"_currentDrawId",-1),Qe(Pt,"_currentParent",null),Y(Pt,yn,null),Y(Pt,mf,null),Y(Pt,yf,null),Qe(Pt,"_INNER_MARGIN",3);Uv=Pt,sT=class{constructor(e,t,n,i,o,s){Y(this,lp);Y(this,No,new Float64Array(6));Y(this,bn);Y(this,wn);Y(this,bf);Y(this,ap);Y(this,Kn);Y(this,Rn,"");Y(this,vs,0);Y(this,wf,new kf);Y(this,vf);Y(this,_f);k(this,vf,n),k(this,_f,i),k(this,bf,o),k(this,ap,s),[e,t]=ee(this,lp,ev).call(this,e,t);let a=k(this,bn,[NaN,NaN,NaN,NaN,e,t]);k(this,Kn,[e,t]),k(this,wn,[{line:a,points:l(this,Kn)}]),l(this,No).set(a,0)}updateProperty(e,t){e==="stroke-width"&&k(this,ap,t)}isEmpty(){return!l(this,wn)||l(this,wn).length===0}isCancellable(){return l(this,Kn).length<=10}add(e,t){[e,t]=ee(this,lp,ev).call(this,e,t);let[n,i,o,s]=l(this,No).subarray(2,6),a=e-o,u=t-s;return Math.hypot(l(this,vf)*a,l(this,_f)*u)<=2?null:(l(this,Kn).push(e,t),isNaN(n)?(l(this,No).set([o,s,e,t],2),l(this,bn).push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(l(this,No)[0])&&l(this,bn).splice(6,6),l(this,No).set([n,i,o,s,e,t],0),l(this,bn).push(...lt.createBezierPoints(n,i,o,s,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){let n=this.add(e,t);return n||(l(this,Kn).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,n,i,o){k(this,vf,n),k(this,_f,i),k(this,bf,o),[e,t]=ee(this,lp,ev).call(this,e,t);let s=k(this,bn,[NaN,NaN,NaN,NaN,e,t]);k(this,Kn,[e,t]);let a=l(this,wn).at(-1);return a&&(a.line=new Float32Array(a.line),a.points=new Float32Array(a.points)),l(this,wn).push({line:s,points:l(this,Kn)}),l(this,No).set(s,0),k(this,vs,0),this.toSVGPath(),null}getLastElement(){return l(this,wn).at(-1)}setLastElement(e){return l(this,wn)?(l(this,wn).push(e),k(this,bn,e.line),k(this,Kn,e.points),k(this,vs,0),{path:{d:this.toSVGPath()}}):l(this,wf).setLastElement(e)}removeLastElement(){if(!l(this,wn))return l(this,wf).removeLastElement();l(this,wn).pop(),k(this,Rn,"");for(let e=0,t=l(this,wn).length;e<t;e++){let{line:n,points:i}=l(this,wn)[e];k(this,bn,n),k(this,Kn,i),k(this,vs,0),this.toSVGPath()}return{path:{d:l(this,Rn)}}}toSVGPath(){let e=lt.svgRound(l(this,bn)[4]),t=lt.svgRound(l(this,bn)[5]);if(l(this,Kn).length===2)return k(this,Rn,`${l(this,Rn)} M ${e} ${t} Z`),l(this,Rn);if(l(this,Kn).length<=6){let i=l(this,Rn).lastIndexOf("M");k(this,Rn,`${l(this,Rn).slice(0,i)} M ${e} ${t}`),k(this,vs,6)}if(l(this,Kn).length===4){let i=lt.svgRound(l(this,bn)[10]),o=lt.svgRound(l(this,bn)[11]);return k(this,Rn,`${l(this,Rn)} L ${i} ${o}`),k(this,vs,12),l(this,Rn)}let n=[];l(this,vs)===0&&(n.push(`M ${e} ${t}`),k(this,vs,6));for(let i=l(this,vs),o=l(this,bn).length;i<o;i+=6){let[s,a,u,c,f,h]=l(this,bn).slice(i,i+6).map(lt.svgRound);n.push(`C${s} ${a} ${u} ${c} ${f} ${h}`)}return k(this,Rn,l(this,Rn)+n.join(" ")),k(this,vs,l(this,bn).length),l(this,Rn)}getOutlines(e,t,n,i){let o=l(this,wn).at(-1);return o.line=new Float32Array(o.line),o.points=new Float32Array(o.points),l(this,wf).build(l(this,wn),e,t,n,l(this,bf),l(this,ap),i),k(this,No,null),k(this,bn,null),k(this,wn,null),k(this,Rn,null),l(this,wf)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}};No=new WeakMap,bn=new WeakMap,wn=new WeakMap,bf=new WeakMap,ap=new WeakMap,Kn=new WeakMap,Rn=new WeakMap,vs=new WeakMap,wf=new WeakMap,vf=new WeakMap,_f=new WeakMap,lp=new WeakSet,ev=function(e,t){return lt._normalizePoint(e,t,l(this,vf),l(this,_f),l(this,bf))};kf=class extends lt{constructor(){super(...arguments);Y(this,In);Y(this,Zn);Y(this,a0,0);Y(this,l0);Y(this,Hi);Y(this,ko);Y(this,Lo);Y(this,up);Y(this,cp);Y(this,Ef)}build(t,n,i,o,s,a,u){k(this,ko,n),k(this,Lo,i),k(this,up,o),k(this,cp,s),k(this,Ef,a),k(this,l0,u??0),k(this,Hi,t),ee(this,In,h3).call(this)}get thickness(){return l(this,Ef)}setLastElement(t){return l(this,Hi).push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return l(this,Hi).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){let t=[];for(let{line:n}of l(this,Hi)){if(t.push(`M${lt.svgRound(n[4])} ${lt.svgRound(n[5])}`),n.length===6){t.push("Z");continue}if(n.length===12&&isNaN(n[6])){t.push(`L${lt.svgRound(n[10])} ${lt.svgRound(n[11])}`);continue}for(let i=6,o=n.length;i<o;i+=6){let[s,a,u,c,f,h]=n.subarray(i,i+6).map(lt.svgRound);t.push(`C${s} ${a} ${u} ${c} ${f} ${h}`)}}return t.join("")}serialize([t,n,i,o],s){let a=[],u=[],[c,f,h,d]=ee(this,In,f3).call(this),g,b,v,w,y,_,E,S,A;switch(l(this,cp)){case 0:A=lt._rescale,g=t,b=n+o,v=i,w=-o,y=t+c*i,_=n+(1-f-d)*o,E=t+(c+h)*i,S=n+(1-f)*o;break;case 90:A=lt._rescaleAndSwap,g=t,b=n,v=i,w=o,y=t+f*i,_=n+c*o,E=t+(f+d)*i,S=n+(c+h)*o;break;case 180:A=lt._rescale,g=t+i,b=n,v=-i,w=o,y=t+(1-c-h)*i,_=n+f*o,E=t+(1-c)*i,S=n+(f+d)*o;break;case 270:A=lt._rescaleAndSwap,g=t+i,b=n+o,v=-i,w=-o,y=t+(1-f-d)*i,_=n+(1-c-h)*o,E=t+(1-f)*i,S=n+(1-c)*o;break}for(let{line:L,points:D}of l(this,Hi))a.push(A(L,g,b,v,w,s?new Array(L.length):null)),u.push(A(D,g,b,v,w,s?new Array(D.length):null));return{lines:a,points:u,rect:[y,_,E,S]}}static deserialize(t,n,i,o,s,{paths:{lines:a,points:u},rotation:c,thickness:f}){let h=[],d,g,b,v,w;switch(c){case 0:w=lt._rescale,d=-t/i,g=n/o+1,b=1/i,v=-1/o;break;case 90:w=lt._rescaleAndSwap,d=-n/o,g=-t/i,b=1/o,v=1/i;break;case 180:w=lt._rescale,d=t/i+1,g=-n/o,b=-1/i,v=1/o;break;case 270:w=lt._rescaleAndSwap,d=n/o+1,g=t/i+1,b=-1/o,v=-1/i;break}if(!a){a=[];for(let _ of u){let E=_.length;if(E===2){a.push(new Float32Array([NaN,NaN,NaN,NaN,_[0],_[1]]));continue}if(E===4){a.push(new Float32Array([NaN,NaN,NaN,NaN,_[0],_[1],NaN,NaN,NaN,NaN,_[2],_[3]]));continue}let S=new Float32Array(3*(E-2));a.push(S);let[A,L,D,K]=_.subarray(0,4);S.set([NaN,NaN,NaN,NaN,A,L],0);for(let re=4;re<E;re+=2){let q=_[re],oe=_[re+1];S.set(lt.createBezierPoints(A,L,D,K,q,oe),(re-2)*3),[A,L,D,K]=[D,K,q,oe]}}}for(let _=0,E=a.length;_<E;_++)h.push({line:w(a[_].map(S=>S??NaN),d,g,b,v),points:w(u[_].map(S=>S??NaN),d,g,b,v)});let y=new this.prototype.constructor;return y.build(h,i,o,1,c,f,s),y}get box(){return l(this,Zn)}updateProperty(t,n){return t==="stroke-width"?ee(this,In,d3).call(this,n):null}updateParentDimensions([t,n],i){let[o,s]=ee(this,In,pa).call(this);k(this,ko,t),k(this,Lo,n),k(this,up,i);let[a,u]=ee(this,In,pa).call(this),c=a-o,f=u-s,h=l(this,Zn);return h[0]-=c,h[1]-=f,h[2]+=2*c,h[3]+=2*f,h}updateRotation(t){return k(this,a0,t),{path:{transform:this.rotationTransform}}}get viewBox(){return l(this,Zn).map(lt.svgRound).join(" ")}get defaultProperties(){let[t,n]=l(this,Zn);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${lt.svgRound(t)} ${lt.svgRound(n)}`}}}get rotationTransform(){let[,,t,n]=l(this,Zn),i=0,o=0,s=0,a=0,u=0,c=0;switch(l(this,a0)){case 90:o=n/t,s=-t/n,u=t;break;case 180:i=-1,a=-1,u=t,c=n;break;case 270:o=-n/t,s=t/n,c=n;break;default:return""}return`matrix(${i} ${o} ${s} ${a} ${lt.svgRound(u)} ${lt.svgRound(c)})`}getPathResizingSVGProperties([t,n,i,o]){let[s,a]=ee(this,In,pa).call(this),[u,c,f,h]=l(this,Zn);if(Math.abs(f-s)<=lt.PRECISION||Math.abs(h-a)<=lt.PRECISION){let w=t+i/2-(u+f/2),y=n+o/2-(c+h/2);return{path:{"transform-origin":`${lt.svgRound(t)} ${lt.svgRound(n)}`,transform:`${this.rotationTransform} translate(${w} ${y})`}}}let d=(i-2*s)/(f-2*s),g=(o-2*a)/(h-2*a),b=f/i,v=h/o;return{path:{"transform-origin":`${lt.svgRound(u)} ${lt.svgRound(c)}`,transform:`${this.rotationTransform} scale(${b} ${v}) translate(${lt.svgRound(s)} ${lt.svgRound(a)}) scale(${d} ${g}) translate(${lt.svgRound(-s)} ${lt.svgRound(-a)})`}}}getPathResizedSVGProperties([t,n,i,o]){let[s,a]=ee(this,In,pa).call(this),u=l(this,Zn),[c,f,h,d]=u;if(u[0]=t,u[1]=n,u[2]=i,u[3]=o,Math.abs(h-s)<=lt.PRECISION||Math.abs(d-a)<=lt.PRECISION){let y=t+i/2-(c+h/2),_=n+o/2-(f+d/2);for(let{line:E,points:S}of l(this,Hi))lt._translate(E,y,_,E),lt._translate(S,y,_,S);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${lt.svgRound(t)} ${lt.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}let g=(i-2*s)/(h-2*s),b=(o-2*a)/(d-2*a),v=-g*(c+s)+t+s,w=-b*(f+a)+n+a;if(g!==1||b!==1||v!==0||w!==0)for(let{line:y,points:_}of l(this,Hi))lt._rescale(y,v,w,g,b,y),lt._rescale(_,v,w,g,b,_);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${lt.svgRound(t)} ${lt.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,n],i){let[o,s]=i,a=l(this,Zn),u=t-a[0],c=n-a[1];if(l(this,ko)===o&&l(this,Lo)===s)for(let{line:f,points:h}of l(this,Hi))lt._translate(f,u,c,f),lt._translate(h,u,c,h);else{let f=l(this,ko)/o,h=l(this,Lo)/s;k(this,ko,o),k(this,Lo,s);for(let{line:d,points:g}of l(this,Hi))lt._rescale(d,u,c,f,h,d),lt._rescale(g,u,c,f,h,g);a[2]*=f,a[3]*=h}return a[0]=t,a[1]=n,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${lt.svgRound(t)} ${lt.svgRound(n)}`}}}get defaultSVGProperties(){let t=l(this,Zn);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${lt.svgRound(t[0])} ${lt.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}};Zn=new WeakMap,a0=new WeakMap,l0=new WeakMap,Hi=new WeakMap,ko=new WeakMap,Lo=new WeakMap,up=new WeakMap,cp=new WeakMap,Ef=new WeakMap,In=new WeakSet,pa=function(t=l(this,Ef)){let n=l(this,l0)+t/2*l(this,up);return l(this,cp)%180===0?[n/l(this,ko),n/l(this,Lo)]:[n/l(this,Lo),n/l(this,ko)]},f3=function(){let[t,n,i,o]=l(this,Zn),[s,a]=ee(this,In,pa).call(this,0);return[t+s,n+a,i-2*s,o-2*a]},h3=function(){let t=k(this,Zn,new Float32Array([1/0,1/0,-1/0,-1/0]));for(let{line:o}of l(this,Hi)){if(o.length<=12){for(let u=4,c=o.length;u<c;u+=6)st.pointBoundingBox(o[u],o[u+1],t);continue}let s=o[4],a=o[5];for(let u=6,c=o.length;u<c;u+=6){let[f,h,d,g,b,v]=o.subarray(u,u+6);st.bezierBoundingBox(s,a,f,h,d,g,b,v,t),s=b,a=v}}let[n,i]=ee(this,In,pa).call(this);t[0]=Wn(t[0]-n,0,1),t[1]=Wn(t[1]-i,0,1),t[2]=Wn(t[2]+n,0,1),t[3]=Wn(t[3]+i,0,1),t[2]-=t[0],t[3]-=t[1]},d3=function(t){let[n,i]=ee(this,In,pa).call(this);k(this,Ef,t);let[o,s]=ee(this,In,pa).call(this),[a,u]=[o-n,s-i],c=l(this,Zn);return c[0]-=a,c[1]-=u,c[2]+=2*a,c[3]+=2*u,c};jv=class r extends Fv{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:mr._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??(t=this["stroke-width"]),t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){let e=new r(this._viewParameters);return e.updateAll(this),e}},Wh=class Wh extends Uv{constructor(t){super({...t,name:"inkEditor"});Y(this,o_);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,n){mr.initialize(t,n),this._defaultDrawingOptions=new jv(n.viewParameters)}static getDefaultDrawingOptions(t){let n=this._defaultDrawingOptions.clone();return n.updateProperties(t),n}static get supportMultipleDrawings(){return!0}static get typesMap(){return wt(this,"typesMap",new Map([[Bt.INK_THICKNESS,"stroke-width"],[Bt.INK_COLOR,"stroke"],[Bt.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,n,i,o,s){return new sT(t,n,i,o,s,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,n,i,o,s,a){return kf.deserialize(t,n,i,o,s,a)}static async deserialize(t,n,i){let o=null;if(t instanceof mm){let{data:{inkLists:a,rect:u,rotation:c,id:f,color:h,opacity:d,borderStyle:{rawWidth:g},popupRef:b,richText:v,contentsObj:w,creationDate:y,modificationDate:_},parent:{page:{pageNumber:E}}}=t;o=t={annotationType:vt.INK,color:Array.from(h),thickness:g,opacity:d,paths:{points:a},boxes:null,pageIndex:E-1,rect:u.slice(0),rotation:c,annotationElementId:f,id:f,deleted:!1,popupRef:b,richText:v,comment:w?.str||null,creationDate:y,modificationDate:_}}let s=await super.deserialize(t,n,i);return s._initialData=o,t.comment&&s.setCommentData(t),s}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new Cv(this)),[["colorPicker",this._colorPicker]]}get colorType(){return Bt.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();let{_drawId:t,_drawingOptions:n,parent:i}=this;n.updateSVGProperty("stroke-width"),i.drawLayer.updateProperties(t,n.toSVGProperties())}static onScaleChangingWhenDrawing(){let t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:n,opacity:i}){this._drawingOptions=Wh.getDefaultDrawingOptions({stroke:st.makeHexColor(...t),"stroke-width":n,"stroke-opacity":i})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();let{lines:n,points:i}=this.serializeDraw(t),{_drawingOptions:{stroke:o,"stroke-opacity":s,"stroke-width":a}}=this,u=Object.assign(super.serialize(t),{color:mr._colorManager.convert(o),opacity:s,thickness:a,paths:{lines:n,points:i}});return this.addComment(u),t?(u.isCopy=!0,u):this.annotationElementId&&!ee(this,o_,p3).call(this,u)?null:(u.id=this.annotationElementId,u)}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;let{points:n,rect:i}=this.serializeDraw(!1);return t.updateEdited({rect:i,thickness:this._drawingOptions["stroke-width"],points:n,popup:this.comment}),null}};o_=new WeakSet,p3=function(t){let{color:n,thickness:i,opacity:o,pageIndex:s}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||t.color.some((a,u)=>a!==n[u])||t.thickness!==i||t.opacity!==o||t.pageIndex!==s},Qe(Wh,"_type","ink"),Qe(Wh,"_editorType",vt.INK),Qe(Wh,"_defaultDrawingOptions",null);oT=Wh,wm=class extends kf{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}},Sw=8,Lg=3,Es=class{static extractContoursFromText(e,{fontFamily:t,fontStyle:n,fontWeight:i},o,s,a,u){let c=new OffscreenCanvas(1,1),f=c.getContext("2d",{alpha:!1}),h=200,d=f.font=`${n} ${i} ${h}px ${t}`,{actualBoundingBoxLeft:g,actualBoundingBoxRight:b,actualBoundingBoxAscent:v,actualBoundingBoxDescent:w,fontBoundingBoxAscent:y,fontBoundingBoxDescent:_,width:E}=f.measureText(e),S=1.5,A=Math.ceil(Math.max(Math.abs(g)+Math.abs(b)||0,E)*S),L=Math.ceil(Math.max(Math.abs(v)+Math.abs(w)||h,Math.abs(y)+Math.abs(_)||h)*S);c=new OffscreenCanvas(A,L),f=c.getContext("2d",{alpha:!0,willReadFrequently:!0}),f.font=d,f.filter="grayscale(1)",f.fillStyle="white",f.fillRect(0,0,A,L),f.fillStyle="black",f.fillText(e,A*(S-1)/2,L*(3-S)/2);let D=ee(this,Vt,uT).call(this,f.getImageData(0,0,A,L).data),K=ee(this,Vt,w3).call(this,D),re=ee(this,Vt,cT).call(this,K),q=ee(this,Vt,lT).call(this,D,A,L,re);return this.processDrawnLines({lines:{curves:q,width:A,height:L},pageWidth:o,pageHeight:s,rotation:a,innerMargin:u,mustSmooth:!0,areContours:!0})}static process(e,t,n,i,o){let[s,a,u]=ee(this,Vt,v3).call(this,e),[c,f]=ee(this,Vt,b3).call(this,s,a,u,Math.hypot(a,u)*l(this,Af).sigmaSFactor,l(this,Af).sigmaR,l(this,Af).kernelSize),h=ee(this,Vt,cT).call(this,f),d=ee(this,Vt,lT).call(this,c,a,u,h);return this.processDrawnLines({lines:{curves:d,width:a,height:u},pageWidth:t,pageHeight:n,rotation:i,innerMargin:o,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:n,rotation:i,innerMargin:o,mustSmooth:s,areContours:a}){i%180!==0&&([t,n]=[n,t]);let{curves:u,width:c,height:f}=e,h=e.thickness??0,d=[],g=Math.min(t/c,n/f),b=g/t,v=g/n,w=[];for(let{points:_}of u){let E=s?ee(this,Vt,y3).call(this,_):_;if(!E)continue;w.push(E);let S=E.length,A=new Float32Array(S),L=new Float32Array(3*(S===2?2:S-2));if(d.push({line:L,points:A}),S===2){A[0]=E[0]*b,A[1]=E[1]*v,L.set([NaN,NaN,NaN,NaN,A[0],A[1]],0);continue}let[D,K,re,q]=E;D*=b,K*=v,re*=b,q*=v,A.set([D,K,re,q],0),L.set([NaN,NaN,NaN,NaN,D,K],0);for(let oe=4;oe<S;oe+=2){let U=A[oe]=E[oe]*b,H=A[oe+1]=E[oe+1]*v;L.set(lt.createBezierPoints(D,K,re,q,U,H),(oe-2)*3),[D,K,re,q]=[re,q,U,H]}}if(d.length===0)return null;let y=a?new wm:new kf;return y.build(d,t,n,1,i,a?0:h,o),{outline:y,newCurves:w,areContours:a,thickness:h,width:c,height:f}}static async compressSignature({outlines:e,areContours:t,thickness:n,width:i,height:o}){let s=1/0,a=-1/0,u=0;for(let E of e){u+=E.length;for(let S=2,A=E.length;S<A;S++){let L=E[S]-E[S-2];s=Math.min(s,L),a=Math.max(a,L)}}let c;s>=-128&&a<=127?c=Int8Array:s>=-32768&&a<=32767?c=Int16Array:c=Int32Array;let f=e.length,h=Sw+Lg*f,d=new Uint32Array(h),g=0;d[g++]=h*Uint32Array.BYTES_PER_ELEMENT+(u-2*f)*c.BYTES_PER_ELEMENT,d[g++]=0,d[g++]=i,d[g++]=o,d[g++]=t?0:1,d[g++]=Math.max(0,Math.floor(n??0)),d[g++]=f,d[g++]=c.BYTES_PER_ELEMENT;for(let E of e)d[g++]=E.length-2,d[g++]=E[0],d[g++]=E[1];let b=new CompressionStream("deflate-raw"),v=b.writable.getWriter();await v.ready,v.write(d);let w=c.prototype.constructor;for(let E of e){let S=new w(E.length-2);for(let A=2,L=E.length;A<L;A++)S[A-2]=E[A]-E[A-2];v.write(S)}v.close();let y=await new Response(b.readable).arrayBuffer(),_=new Uint8Array(y);return RM(_)}static async decompressSignature(e){try{let t=eV(e),{readable:n,writable:i}=new DecompressionStream("deflate-raw"),o=i.getWriter();await o.ready,o.write(t).then(async()=>{await o.ready,await o.close()}).catch(()=>{});let s=null,a=0;for await(let E of n)s||(s=new Uint8Array(new Uint32Array(E.buffer,0,4)[0])),s.set(E,a),a+=E.length;let u=new Uint32Array(s.buffer,0,s.length>>2),c=u[1];if(c!==0)throw new Error(`Invalid version: ${c}`);let f=u[2],h=u[3],d=u[4]===0,g=u[5],b=u[6],v=u[7],w=[],y=(Sw+Lg*b)*Uint32Array.BYTES_PER_ELEMENT,_;switch(v){case Int8Array.BYTES_PER_ELEMENT:_=new Int8Array(s.buffer,y);break;case Int16Array.BYTES_PER_ELEMENT:_=new Int16Array(s.buffer,y);break;case Int32Array.BYTES_PER_ELEMENT:_=new Int32Array(s.buffer,y);break}a=0;for(let E=0;E<b;E++){let S=u[Lg*E+Sw],A=new Float32Array(S+2);w.push(A);for(let L=0;L<Lg-1;L++)A[L]=u[Lg*E+Sw+L+1];for(let L=0;L<S;L++)A[L+2]=A[L]+_[a++]}return{areContours:d,thickness:g,outlines:w,width:f,height:h}}catch(t){return _t(`decompressSignature: ${t}`),null}}};Af=new WeakMap,Vt=new WeakSet,aT=function(e,t,n,i){return n-=e,i-=t,n===0?i>0?0:4:n===1?i+6:2-i},qs=new WeakMap,g3=function(e,t,n,i,o,s,a){let u=ee(this,Vt,aT).call(this,n,i,o,s);for(let c=0;c<8;c++){let f=(-c+u-a+16)%8,h=l(this,qs)[2*f],d=l(this,qs)[2*f+1];if(e[(n+h)*t+(i+d)]!==0)return f}return-1},m3=function(e,t,n,i,o,s,a){let u=ee(this,Vt,aT).call(this,n,i,o,s);for(let c=0;c<8;c++){let f=(c+u+a+16)%8,h=l(this,qs)[2*f],d=l(this,qs)[2*f+1];if(e[(n+h)*t+(i+d)]!==0)return f}return-1},lT=function(e,t,n,i){let o=e.length,s=new Int32Array(o);for(let f=0;f<o;f++)s[f]=e[f]<=i?1:0;for(let f=1;f<n-1;f++)s[f*t]=s[f*t+t-1]=0;for(let f=0;f<t;f++)s[f]=s[t*n-1-f]=0;let a=1,u,c=[];for(let f=1;f<n-1;f++){u=1;for(let h=1;h<t-1;h++){let d=f*t+h,g=s[d];if(g===0)continue;let b=f,v=h;if(g===1&&s[d-1]===0)a+=1,v-=1;else if(g>=1&&s[d+1]===0)a+=1,v+=1,g>1&&(u=g);else{g!==1&&(u=Math.abs(g));continue}let w=[h,f],y=v===h+1,_={isHole:y,points:w,id:a,parent:0};c.push(_);let E;for(let oe of c)if(oe.id===u){E=oe;break}E?E.isHole?_.parent=y?E.parent:u:_.parent=y?u:E.parent:_.parent=y?u:0;let S=ee(this,Vt,g3).call(this,s,t,f,h,b,v,0);if(S===-1){s[d]=-a,s[d]!==1&&(u=Math.abs(s[d]));continue}let A=l(this,qs)[2*S],L=l(this,qs)[2*S+1],D=f+A,K=h+L;b=D,v=K;let re=f,q=h;for(;;){let oe=ee(this,Vt,m3).call(this,s,t,re,q,b,v,1);A=l(this,qs)[2*oe],L=l(this,qs)[2*oe+1];let U=re+A,H=q+L;w.push(H,U);let ue=re*t+q;if(s[ue+1]===0?s[ue]=-a:s[ue]===1&&(s[ue]=a),U===f&&H===h&&re===D&&q===K){s[d]!==1&&(u=Math.abs(s[d]));break}else b=re,v=q,re=U,q=H}}}return c},tv=function(e,t,n,i){if(n-t<=4){for(let D=t;D<n-2;D+=2)i.push(e[D],e[D+1]);return}let o=e[t],s=e[t+1],a=e[n-4]-o,u=e[n-3]-s,c=Math.hypot(a,u),f=a/c,h=u/c,d=f*s-h*o,g=u/a,b=1/c,v=Math.atan(g),w=Math.cos(v),y=Math.sin(v),_=b*(Math.abs(w)+Math.abs(y)),E=b*(1-_+_**2),S=Math.max(Math.atan(Math.abs(y+w)*E),Math.atan(Math.abs(y-w)*E)),A=0,L=t;for(let D=t+2;D<n-2;D+=2){let K=Math.abs(d-f*e[D+1]+h*e[D]);K>A&&(L=D,A=K)}A>(c*S)**2?(ee(this,Vt,tv).call(this,e,t,L+2,i),ee(this,Vt,tv).call(this,e,L,n,i)):i.push(o,s)},y3=function(e){let t=[],n=e.length;return ee(this,Vt,tv).call(this,e,0,n,t),t.push(e[n-2],e[n-1]),t.length<=4?null:t},b3=function(e,t,n,i,o,s){let a=new Float32Array(s**2),u=-2*i**2,c=s>>1;for(let v=0;v<s;v++){let w=(v-c)**2;for(let y=0;y<s;y++)a[v*s+y]=Math.exp((w+(y-c)**2)/u)}let f=new Float32Array(256),h=-2*o**2;for(let v=0;v<256;v++)f[v]=Math.exp(v**2/h);let d=e.length,g=new Uint8Array(d),b=new Uint32Array(256);for(let v=0;v<n;v++)for(let w=0;w<t;w++){let y=v*t+w,_=e[y],E=0,S=0;for(let L=0;L<s;L++){let D=v+L-c;if(!(D<0||D>=n))for(let K=0;K<s;K++){let re=w+K-c;if(re<0||re>=t)continue;let q=e[D*t+re],oe=a[L*s+K]*f[Math.abs(q-_)];E+=q*oe,S+=oe}}let A=g[y]=Math.round(E/S);b[A]++}return[g,b]},w3=function(e){let t=new Uint32Array(256);for(let n of e)t[n]++;return t},uT=function(e){let t=e.length,n=new Uint8ClampedArray(t>>2),i=-1/0,o=1/0;for(let a=0,u=n.length;a<u;a++){let c=n[a]=e[a<<2];i=Math.max(i,c),o=Math.min(o,c)}let s=255/(i-o);for(let a=0,u=n.length;a<u;a++)n[a]=(n[a]-o)*s;return n},cT=function(e){let t,n=-1/0,i=-1/0,o=e.findIndex(u=>u!==0),s=o,a=o;for(t=o;t<256;t++){let u=e[t];u>n&&(t-s>i&&(i=t-s,a=t-1),n=u,s=t)}for(t=a-1;t>=0&&!(e[t]>e[t+1]);t--);return t},v3=function(e){let t=e,{width:n,height:i}=e,{maxDim:o}=l(this,Af),s=n,a=i;if(n>o||i>o){let d=n,g=i,b=Math.log2(Math.max(n,i)/o),v=Math.floor(b);b=b===v?v-1:v;for(let y=0;y<b;y++){s=Math.ceil(d/2),a=Math.ceil(g/2);let _=new OffscreenCanvas(s,a);_.getContext("2d").drawImage(e,0,0,d,g,0,0,s,a),d=s,g=a,e!==t&&e.close(),e=_.transferToImageBitmap()}let w=Math.min(o/s,o/a);s=Math.round(s*w),a=Math.round(a*w)}let c=new OffscreenCanvas(s,a).getContext("2d",{willReadFrequently:!0});c.fillStyle="white",c.fillRect(0,0,s,a),c.filter="grayscale(1)",c.drawImage(e,0,0,e.width,e.height,0,0,s,a);let f=c.getImageData(0,0,s,a).data;return[ee(this,Vt,uT).call(this,f),s,a]},Y(Es,Vt),Y(Es,Af,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),Y(Es,qs,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));fT=class r extends Fv{constructor(){super(),super.updateProperties({fill:mr._defaultLineColor,"stroke-width":0})}clone(){let e=new r;return e.updateAll(this),e}},hT=class r extends jv{constructor(e){super(e),super.updateProperties({stroke:mr._defaultLineColor,"stroke-width":1})}clone(){let e=new r(this._viewParameters);return e.updateAll(this),e}},Ci=class Ci extends Uv{constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"});Y(this,fu,!1);Y(this,Po,null);Y(this,hu,null);Y(this,xf,null);this._willKeepAspectRatio=!0,k(this,hu,t.signatureData||null),k(this,Po,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,n){mr.initialize(t,n),this._defaultDrawingOptions=new fT,this._defaultDrawnSignatureOptions=new hT(n.viewParameters)}static getDefaultDrawingOptions(t){let n=this._defaultDrawingOptions.clone();return n.updateProperties(t),n}static get supportMultipleDrawings(){return!1}static get typesMap(){return wt(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!l(this,Po)}}static computeTelemetryFinalData(t){let n=t.get("hasDescription");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,n,{_isCopy:i}=this;if(i&&(this._isCopy=!1,t=this.x,n=this.y),super.render(),this._drawId===null)if(l(this,hu)){let{lines:o,mustSmooth:s,areContours:a,description:u,uuid:c,heightInPage:f}=l(this,hu),{rawDims:{pageWidth:h,pageHeight:d},rotation:g}=this.parent.viewport,b=Es.processDrawnLines({lines:o,pageWidth:h,pageHeight:d,rotation:g,innerMargin:Ci._INNER_MARGIN,mustSmooth:s,areContours:a});this.addSignature(b,f,u,c)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:l(this,Po)||""}));return i&&(this._isCopy=!0,this._moveAfterPaste(t,n)),this.div}setUuid(t){k(this,xf,t),this.addEditToolbar()}getUuid(){return l(this,xf)}get description(){return l(this,Po)}set description(t){k(this,Po,t),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:t})),super.addEditToolbar().then(n=>{n?.updateEditSignatureButton(t)}))}getSignaturePreview(){let{newCurves:t,areContours:n,thickness:i,width:o,height:s}=l(this,hu),a=Math.max(o,s),u=Es.processDrawnLines({lines:{curves:t.map(c=>({points:c})),thickness:i,width:o,height:s},pageWidth:a,pageHeight:a,rotation:0,innerMargin:0,mustSmooth:!1,areContours:n});return{areContours:n,outline:u.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,n,i,o){let{x:s,y:a}=this,{outline:u}=k(this,hu,t);k(this,fu,u instanceof wm),this.description=i;let c;l(this,fu)?c=Ci.getDefaultDrawingOptions():(c=Ci._defaultDrawnSignatureOptions.clone(),c.updateProperties({"stroke-width":u.thickness})),this._addOutlines({drawOutlines:u,drawingOptions:c});let[,f]=this.pageDimensions,h=n/f;h=h>=1?.5:h,this.width*=h/this.height,this.width>=1&&(h*=.9/this.width,this.width=.9),this.height=h,this.setDims(),this.x=s,this.y=a,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(o),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!o,hasDescription:!!i}}),this.div.hidden=!1}getFromImage(t){let{rawDims:{pageWidth:n,pageHeight:i},rotation:o}=this.parent.viewport;return Es.process(t,n,i,o,Ci._INNER_MARGIN)}getFromText(t,n){let{rawDims:{pageWidth:i,pageHeight:o},rotation:s}=this.parent.viewport;return Es.extractContoursFromText(t,n,i,o,s,Ci._INNER_MARGIN)}getDrawnSignature(t){let{rawDims:{pageWidth:n,pageHeight:i},rotation:o}=this.parent.viewport;return Es.processDrawnLines({lines:t,pageWidth:n,pageHeight:i,rotation:o,innerMargin:Ci._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:n}){t?this._drawingOptions=Ci.getDefaultDrawingOptions():(this._drawingOptions=Ci._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":n}))}serialize(t=!1){if(this.isEmpty())return null;let{lines:n,points:i}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":o}}=this,s=Object.assign(super.serialize(t),{isSignature:!0,areContours:l(this,fu),color:[0,0,0],thickness:l(this,fu)?0:o});return this.addComment(s),t?(s.paths={lines:n,points:i},s.uuid=l(this,xf),s.isCopy=!0):s.lines=n,l(this,Po)&&(s.accessibilityData={type:"Figure",alt:l(this,Po)}),s}static deserializeDraw(t,n,i,o,s,a){return a.areContours?wm.deserialize(t,n,i,o,s,a):kf.deserialize(t,n,i,o,s,a)}static async deserialize(t,n,i){let o=await super.deserialize(t,n,i);return k(o,fu,t.areContours),o.description=t.accessibilityData?.alt||"",k(o,xf,t.uuid),o}};fu=new WeakMap,Po=new WeakMap,hu=new WeakMap,xf=new WeakMap,Qe(Ci,"_type","signature"),Qe(Ci,"_editorType",vt.SIGNATURE),Qe(Ci,"_defaultDrawingOptions",null);dT=Ci,Qg=class extends mr{constructor(t){super({...t,name:"stampEditor"});Y(this,$t);Y(this,Ar,null);Y(this,vn,null);Y(this,du,null);Y(this,Ga,null);Y(this,pu,null);Y(this,fp,"");Y(this,Va,null);Y(this,Sf,!1);Y(this,Bo,null);Y(this,Gi,!1);Y(this,hp,!1);k(this,Ga,t.bitmapUrl),k(this,pu,t.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,n){mr.initialize(t,n)}static isHandlingMimeForPasting(t){return uv.includes(t)}static paste(t,n){n.pasteEditor({mode:vt.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(t){let n=t.get("hasAltText");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}async mlGuessAltText(t=null,n=!0){if(this.hasAltTextData())return null;let{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");let{data:o,width:s,height:a}=t||this.copyCanvas(null,null,!0).imageData,u=await i.guess({name:"altText",request:{data:o,width:s,height:a,channels:o.length/(s*a)}});if(!u)throw new Error("No response from the AI service.");if(u.error)throw new Error("Error from the AI service.");if(u.cancel)return null;if(!u.output)throw new Error("No valid response from the AI service.");let c=u.output;return await this.setGuessedAltText(c),n&&!this.hasAltTextData()&&(this.altTextData={alt:c,decorative:!1}),c}remove(){l(this,vn)&&(k(this,Ar,null),this._uiManager.imageManager.deleteId(l(this,vn)),l(this,Va)?.remove(),k(this,Va,null),l(this,Bo)&&(clearTimeout(l(this,Bo)),k(this,Bo,null))),super.remove()}rebuild(){if(!this.parent){l(this,vn)&&ee(this,$t,rv).call(this);return}super.rebuild(),this.div!==null&&(l(this,vn)&&l(this,Va)===null&&ee(this,$t,rv).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(l(this,du)||l(this,Ar)||l(this,Ga)||l(this,pu)||l(this,vn)||l(this,Sf))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,n;return this._isCopy&&(t=this.x,n=this.y),super.render(),this.div.hidden=!0,this.createAltText(),l(this,Sf)||(l(this,Ar)?ee(this,$t,nv).call(this):ee(this,$t,rv).call(this)),this._isCopy&&this._moveAfterPaste(t,n),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,n){let{id:i,bitmap:o}=this._uiManager.imageManager.getFromCanvas(t,n);n.remove(),i&&this._uiManager.imageManager.isValidId(i)&&(k(this,vn,i),o&&k(this,Ar,o),k(this,Sf,!1),ee(this,$t,nv).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;l(this,Bo)!==null&&clearTimeout(l(this,Bo)),k(this,Bo,setTimeout(()=>{k(this,Bo,null),ee(this,$t,pT).call(this)},200))}copyCanvas(t,n,i=!1){t||(t=224);let{width:o,height:s}=l(this,Ar),a=new Mo,u=l(this,Ar),c=o,f=s,h=null;if(n){if(o>n||s>n){let D=Math.min(n/o,n/s);c=Math.floor(o*D),f=Math.floor(s*D)}h=document.createElement("canvas");let g=h.width=Math.ceil(c*a.sx),b=h.height=Math.ceil(f*a.sy);l(this,Gi)||(u=ee(this,$t,iv).call(this,g,b));let v=h.getContext("2d");v.filter=this._uiManager.hcmFilter;let w="white",y="#cfcfd8";this._uiManager.hcmFilter!=="none"?y="black":YA.isDarkMode&&(w="#8f8f9d",y="#42414d");let _=15,E=_*a.sx,S=_*a.sy,A=new OffscreenCanvas(E*2,S*2),L=A.getContext("2d");L.fillStyle=w,L.fillRect(0,0,E*2,S*2),L.fillStyle=y,L.fillRect(0,0,E,S),L.fillRect(E,S,E,S),v.fillStyle=v.createPattern(A,"repeat"),v.fillRect(0,0,g,b),v.drawImage(u,0,0,u.width,u.height,0,0,g,b)}let d=null;if(i){let g,b;if(a.symmetric&&u.width<t&&u.height<t)g=u.width,b=u.height;else if(u=l(this,Ar),o>t||s>t){let y=Math.min(t/o,t/s);g=Math.floor(o*y),b=Math.floor(s*y),l(this,Gi)||(u=ee(this,$t,iv).call(this,g,b))}let w=new OffscreenCanvas(g,b).getContext("2d",{willReadFrequently:!0});w.drawImage(u,0,0,u.width,u.height,0,0,g,b),d={width:g,height:b,data:w.getImageData(0,0,g,b).data}}return{canvas:h,width:c,height:f,imageData:d}}static async deserialize(t,n,i){let o=null,s=!1;if(t instanceof kv){let{data:{rect:w,rotation:y,id:_,structParent:E,popupRef:S,richText:A,contentsObj:L,creationDate:D,modificationDate:K},container:re,parent:{page:{pageNumber:q}},canvas:oe}=t,U,H;oe?(delete t.canvas,{id:U,bitmap:H}=i.imageManager.getFromCanvas(re.id,oe),oe.remove()):(s=!0,t._hasNoCanvas=!0);let ue=(await n._structTree.getAriaAttributes(`${Mh}${_}`))?.get("aria-label")||"";o=t={annotationType:vt.STAMP,bitmapId:U,bitmap:H,pageIndex:q-1,rect:w.slice(0),rotation:y,annotationElementId:_,id:_,deleted:!1,accessibilityData:{decorative:!1,altText:ue},isSvg:!1,structParent:E,popupRef:S,richText:A,comment:L?.str||null,creationDate:D,modificationDate:K}}let a=await super.deserialize(t,n,i),{rect:u,bitmap:c,bitmapUrl:f,bitmapId:h,isSvg:d,accessibilityData:g}=t;s?(i.addMissingCanvas(t.id,a),k(a,Sf,!0)):h&&i.imageManager.isValidId(h)?(k(a,vn,h),c&&k(a,Ar,c)):k(a,Ga,f),k(a,Gi,d);let[b,v]=a.pageDimensions;return a.width=(u[2]-u[0])/b,a.height=(u[3]-u[1])/v,g&&(a.altTextData=g),a._initialData=o,t.comment&&a.setCommentData(t),k(a,hp,!!o),a}serialize(t=!1,n=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();let i=Object.assign(super.serialize(t),{bitmapId:l(this,vn),isSvg:l(this,Gi)});if(this.addComment(i),t)return i.bitmapUrl=ee(this,$t,sv).call(this,!0),i.accessibilityData=this.serializeAltText(!0),i.isCopy=!0,i;let{decorative:o,altText:s}=this.serializeAltText(!1);if(!o&&s&&(i.accessibilityData={type:"Figure",alt:s}),this.annotationElementId){let u=ee(this,$t,_3).call(this,i);return u.isSame?null:(u.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1,i.id=this.annotationElementId,delete i.bitmapId,i)}if(n===null)return i;n.stamps||(n.stamps=new Map);let a=l(this,Gi)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!n.stamps.has(l(this,vn)))n.stamps.set(l(this,vn),{area:a,serialized:i}),i.bitmap=ee(this,$t,sv).call(this,!1);else if(l(this,Gi)){let u=n.stamps.get(l(this,vn));a>u.area&&(u.area=a,u.serialized.bitmap.close(),u.serialized.bitmap=ee(this,$t,sv).call(this,!1))}return i}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}};Ar=new WeakMap,vn=new WeakMap,du=new WeakMap,Ga=new WeakMap,pu=new WeakMap,fp=new WeakMap,Va=new WeakMap,Sf=new WeakMap,Bo=new WeakMap,Gi=new WeakMap,hp=new WeakMap,$t=new WeakSet,em=function(t,n=!1){if(!t){this.remove();return}k(this,Ar,t.bitmap),n||(k(this,vn,t.id),k(this,Gi,t.isSvg)),t.file&&k(this,fp,t.file.name),ee(this,$t,nv).call(this)},tm=function(){if(k(this,du,null),this._uiManager.enableWaiting(!1),!!l(this,Va)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&l(this,Ar)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&l(this,Ar)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},rv=function(){if(l(this,vn)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(l(this,vn)).then(i=>ee(this,$t,em).call(this,i,!0)).finally(()=>ee(this,$t,tm).call(this));return}if(l(this,Ga)){let i=l(this,Ga);k(this,Ga,null),this._uiManager.enableWaiting(!0),k(this,du,this._uiManager.imageManager.getFromUrl(i).then(o=>ee(this,$t,em).call(this,o)).finally(()=>ee(this,$t,tm).call(this)));return}if(l(this,pu)){let i=l(this,pu);k(this,pu,null),this._uiManager.enableWaiting(!0),k(this,du,this._uiManager.imageManager.getFromFile(i).then(o=>ee(this,$t,em).call(this,o)).finally(()=>ee(this,$t,tm).call(this)));return}let t=document.createElement("input");t.type="file",t.accept=uv.join(",");let n=this._uiManager._signal;k(this,du,new Promise(i=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);let o=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),ee(this,$t,em).call(this,o)}i()},{signal:n}),t.addEventListener("cancel",()=>{this.remove(),i()},{signal:n})}).finally(()=>ee(this,$t,tm).call(this))),t.click()},nv=function(){let{div:t}=this,{width:n,height:i}=l(this,Ar),[o,s]=this.pageDimensions,a=.75;if(this.width)n=this.width*o,i=this.height*s;else if(n>a*o||i>a*s){let c=Math.min(a*o/n,a*s/i);n*=c,i*=c}this._uiManager.enableWaiting(!1);let u=k(this,Va,document.createElement("canvas"));u.setAttribute("role","img"),this.addContainer(u),this.width=n/o,this.height=i/s,this.setDims(),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),ee(this,$t,pT).call(this),l(this,hp)||(this.parent.addUndoableEditor(this),k(this,hp,!0)),this._reportTelemetry({action:"inserted_image"}),l(this,fp)&&this.div.setAttribute("aria-description",l(this,fp)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},iv=function(t,n){let{width:i,height:o}=l(this,Ar),s=i,a=o,u=l(this,Ar);for(;s>2*t||a>2*n;){let c=s,f=a;s>2*t&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2)),a>2*n&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));let h=new OffscreenCanvas(s,a);h.getContext("2d").drawImage(u,0,0,c,f,0,0,s,a),u=h.transferToImageBitmap()}return u},pT=function(){let[t,n]=this.parentDimensions,{width:i,height:o}=this,s=new Mo,a=Math.ceil(i*t*s.sx),u=Math.ceil(o*n*s.sy),c=l(this,Va);if(!c||c.width===a&&c.height===u)return;c.width=a,c.height=u;let f=l(this,Gi)?l(this,Ar):ee(this,$t,iv).call(this,a,u),h=c.getContext("2d");h.filter=this._uiManager.hcmFilter,h.drawImage(f,0,0,f.width,f.height,0,0,a,u)},sv=function(t){if(t){if(l(this,Gi)){let o=this._uiManager.imageManager.getSvgUrl(l(this,vn));if(o)return o}let n=document.createElement("canvas");return{width:n.width,height:n.height}=l(this,Ar),n.getContext("2d").drawImage(l(this,Ar),0,0),n.toDataURL()}if(l(this,Gi)){let[n,i]=this.pageDimensions,o=Math.round(this.width*n*tl.PDF_TO_CSS_UNITS),s=Math.round(this.height*i*tl.PDF_TO_CSS_UNITS),a=new OffscreenCanvas(o,s);return a.getContext("2d").drawImage(l(this,Ar),0,0,l(this,Ar).width,l(this,Ar).height,0,0,o,s),a.transferToImageBitmap()}return structuredClone(l(this,Ar))},_3=function(t){let{pageIndex:n,accessibilityData:{altText:i}}=this._initialData,o=t.pageIndex===n,s=(t.accessibilityData?.alt||"")===i;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&o&&s,isSameAltText:s}},Qe(Qg,"_type","stamp"),Qe(Qg,"_editorType",vt.STAMP);Ls=class Ls{constructor({uiManager:e,pageIndex:t,div:n,structTreeLayer:i,accessibilityManager:o,annotationLayer:s,drawLayer:a,textLayer:u,viewport:c,l10n:f}){Y(this,hr);Y(this,Tf);Y(this,dp,!1);Y(this,gu,null);Y(this,mu,null);Y(this,Ya,null);Y(this,wi,new Map);Y(this,yu,!1);Y(this,pp,!1);Y(this,gp,!1);Y(this,Hs,null);Y(this,Xa,null);Y(this,_n,null);Y(this,Ka,null);Y(this,bu,null);Y(this,mp,-1);Y(this,ft);let h=[...l(Ls,wu).values()];if(!Ls._initialized){Ls._initialized=!0;for(let d of h)d.initialize(f,e)}e.registerEditorTypes(h),k(this,ft,e),this.pageIndex=t,this.div=n,k(this,Tf,o),k(this,gu,s),this.viewport=c,k(this,_n,u),this.drawLayer=a,this._structTree=i,l(this,ft).addLayer(this)}get isEmpty(){return l(this,wi).size===0}get isInvisible(){return this.isEmpty&&l(this,ft).getMode()===vt.NONE}updateToolbar(e){l(this,ft).updateToolbar(e)}updateMode(e=l(this,ft).getMode()){switch(ee(this,hr,ov).call(this),e){case vt.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case vt.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case vt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);let{classList:t}=this.div;if(t.toggle("nonEditing",!1),e===vt.POPUP)t.toggle("commentEditing",!0);else{t.toggle("commentEditing",!1);for(let n of l(Ls,wu).values())t.toggle(`${n._type}Editing`,e===n._editorType)}this.div.hidden=!1}hasTextLayer(e){return e===l(this,_n)?.div}setEditingState(e){l(this,ft).setEditingState(e)}addCommands(e){l(this,ft).addCommands(e)}cleanUndoStack(e){l(this,ft).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){l(this,gu)?.togglePointerEvents(e)}async enable(){k(this,gp,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),l(this,bu)?.abort(),k(this,bu,null);let e=new Set;for(let n of l(this,hr,gT))n.enableEditing(),n.show(!0),n.annotationElementId&&(l(this,ft).removeChangedExistingAnnotation(n),e.add(n.annotationElementId));let t=l(this,gu);if(t)for(let n of t.getEditableAnnotations()){if(n.hide(),l(this,ft).isDeletedAnnotationElement(n.data.id)||e.has(n.data.id))continue;let i=await this.deserialize(n);i&&(this.addOrRebuild(i),i.enableEditing())}k(this,gp,!1),l(this,ft)._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){if(k(this,pp,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),l(this,_n)&&!l(this,bu)){k(this,bu,new AbortController);let i=l(this,ft).combinedSignal(l(this,bu));l(this,_n).div.addEventListener("pointerdown",o=>{let{clientX:a,clientY:u,timeStamp:c}=o,f=l(this,mp);if(c-f>500){k(this,mp,c);return}k(this,mp,-1);let{classList:h}=this.div;h.toggle("getElements",!0);let d=document.elementsFromPoint(a,u);if(h.toggle("getElements",!1),!this.div.contains(d[0]))return;let g,b=new RegExp(`^${sm}[0-9]+$`);for(let w of d)if(b.test(w.id)){g=w.id;break}if(!g)return;let v=l(this,wi).get(g);v?.annotationElementId===null&&(o.stopPropagation(),o.preventDefault(),v.dblclick(o))},{signal:i,capture:!0})}let e=l(this,gu),t=[];if(e){let i=new Map,o=new Map;for(let a of l(this,hr,gT)){if(a.disableEditing(),!a.annotationElementId){t.push(a);continue}if(a.serialize()!==null){i.set(a.annotationElementId,a);continue}else o.set(a.annotationElementId,a);this.getEditableAnnotation(a.annotationElementId)?.show(),a.remove()}let s=e.getEditableAnnotations();for(let a of s){let{id:u}=a.data;if(l(this,ft).isDeletedAnnotationElement(u)){a.updateEdited({deleted:!0});continue}let c=o.get(u);if(c){c.resetAnnotationElement(a),c.show(!1),a.show();continue}c=i.get(u),c&&(l(this,ft).addChangedExistingAnnotation(c),c.renderAnnotationElement(a)&&c.show(!1)),a.show()}}ee(this,hr,ov).call(this),this.isEmpty&&(this.div.hidden=!0);let{classList:n}=this.div;for(let i of l(Ls,wu).values())n.remove(`${i._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),e?.updateFakeAnnotations(t),k(this,pp,!1)}getEditableAnnotation(e){return l(this,gu)?.getEditableAnnotation(e)||null}setActiveEditor(e){l(this,ft).getActive()!==e&&l(this,ft).setActiveEditor(e)}enableTextSelection(){if(this.div.tabIndex=-1,l(this,_n)?.div&&!l(this,Ka)){k(this,Ka,new AbortController);let e=l(this,ft).combinedSignal(l(this,Ka));l(this,_n).div.addEventListener("pointerdown",ee(this,hr,E3).bind(this),{signal:e}),l(this,_n).div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,l(this,_n)?.div&&l(this,Ka)&&(l(this,Ka).abort(),k(this,Ka,null),l(this,_n).div.classList.remove("highlighting"))}enableClick(){if(l(this,mu))return;k(this,mu,new AbortController);let e=l(this,ft).combinedSignal(l(this,mu));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});let t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){l(this,mu)?.abort(),k(this,mu,null)}attach(e){l(this,wi).set(e.id,e);let{annotationElementId:t}=e;t&&l(this,ft).isDeletedAnnotationElement(t)&&l(this,ft).removeDeletedAnnotationElement(e)}detach(e){l(this,wi).delete(e.id),l(this,Tf)?.removePointerInTextLayer(e.contentDiv),!l(this,pp)&&e.annotationElementId&&l(this,ft).addDeletedAnnotationElement(e)}remove(e){this.detach(e),l(this,ft).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){e.parent!==this&&(e.parent&&e.annotationElementId&&(l(this,ft).addDeletedAnnotationElement(e),mr.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),e.parent?.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),l(this,ft).addEditor(e),this.attach(e),!e.isAttachedToDOM){let t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!l(this,gp)),l(this,ft).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){if(!e.isAttachedToDOM)return;let{activeElement:t}=document;e.div.contains(t)&&!l(this,Ya)&&(e._focusEventsAllowed=!1,k(this,Ya,setTimeout(()=>{k(this,Ya,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:l(this,ft)._signal}),t.focus())},0))),e._structTreeParentId=l(this,Tf)?.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){let t=()=>e._uiManager.rebuild(e),n=()=>{e.remove()};this.addCommands({cmd:t,undo:n,mustExec:!1})}getEditorByUID(e){for(let t of l(this,wi).values())if(t.uid===e)return t;return null}getNextId(){return l(this,ft).getId()}combinedSignal(e){return l(this,ft).combinedSignal(e)}canCreateNewEmptyEditor(){return l(this,hr,po)?.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await l(this,ft).updateMode(e.mode);let{offsetX:n,offsetY:i}=ee(this,hr,yT).call(this),o=this.getNextId(),s=ee(this,hr,mT).call(this,{parent:this,id:o,x:n,y:i,uiManager:l(this,ft),isCentered:!0,...t});s&&this.add(s)}async deserialize(e){return await l(Ls,wu).get(e.annotationType??e.annotationEditorType)?.deserialize(e,this,l(this,ft))||null}createAndAddNewEditor(e,t,n={}){let i=this.getNextId(),o=ee(this,hr,mT).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:l(this,ft),isCentered:t,...n});return o&&this.add(o),o}get boundingClientRect(){return this.div.getBoundingClientRect()}addNewEditor(e={}){this.createAndAddNewEditor(ee(this,hr,yT).call(this),!0,e)}setSelected(e){l(this,ft).setSelected(e)}toggleSelected(e){l(this,ft).toggleSelected(e)}unselect(e){l(this,ft).unselect(e)}pointerup(e){let{isMac:t}=Ur.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!l(this,yu)||(k(this,yu,!1),l(this,hr,po)?.isDrawer&&l(this,hr,po).supportMultipleDrawings))return;if(!l(this,dp)){k(this,dp,!0);return}let n=l(this,ft).getMode();if(n===vt.STAMP||n===vt.SIGNATURE){l(this,ft).unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){if(l(this,ft).getMode()===vt.HIGHLIGHT&&this.enableTextSelection(),l(this,yu)){k(this,yu,!1);return}let{isMac:t}=Ur.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(k(this,yu,!0),l(this,hr,po)?.isDrawer){this.startDrawingSession(e);return}let n=l(this,ft).getActive();k(this,dp,!n||n.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),l(this,Hs)){l(this,hr,po).startDrawing(this,l(this,ft),!1,e);return}l(this,ft).setCurrentDrawingSession(this),k(this,Hs,new AbortController);let t=l(this,ft).combinedSignal(l(this,Hs));this.div.addEventListener("blur",({relatedTarget:n})=>{n&&!this.div.contains(n)&&(k(this,Xa,null),this.commitOrRemove())},{signal:t}),l(this,hr,po).startDrawing(this,l(this,ft),!1,e)}pause(e){if(e){let{activeElement:t}=document;this.div.contains(t)&&k(this,Xa,t);return}l(this,Xa)&&setTimeout(()=>{l(this,Xa)?.focus(),k(this,Xa,null)},0)}endDrawingSession(e=!1){return l(this,Hs)?(l(this,ft).setCurrentDrawingSession(null),l(this,Hs).abort(),k(this,Hs,null),k(this,Xa,null),l(this,hr,po).endDrawing(e)):null}findNewParent(e,t,n){let i=l(this,ft).findParent(t,n);return i===null||i===this?!1:(i.changeParent(e),!0)}commitOrRemove(){return l(this,Hs)?(this.endDrawingSession(),!0):!1}onScaleChanging(){l(this,Hs)&&l(this,hr,po).onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),l(this,ft).getActive()?.parent===this&&(l(this,ft).commitOrRemove(),l(this,ft).setActiveEditor(null)),l(this,Ya)&&(clearTimeout(l(this,Ya)),k(this,Ya,null));for(let e of l(this,wi).values())l(this,Tf)?.removePointerInTextLayer(e.contentDiv),e.setParent(null),e.isAttachedToDOM=!1,e.div.remove();this.div=null,l(this,wi).clear(),l(this,ft).removeLayer(this)}render({viewport:e}){this.viewport=e,vu(this.div,e);for(let t of l(this,ft).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){l(this,ft).commitOrRemove(),ee(this,hr,ov).call(this);let t=this.viewport.rotation,n=e.rotation;if(this.viewport=e,vu(this.div,{rotation:n}),t!==n)for(let i of l(this,wi).values())i.rotate(n)}get pageDimensions(){let{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return l(this,ft).viewParameters.realScale}};Tf=new WeakMap,dp=new WeakMap,gu=new WeakMap,mu=new WeakMap,Ya=new WeakMap,wi=new WeakMap,yu=new WeakMap,pp=new WeakMap,gp=new WeakMap,Hs=new WeakMap,Xa=new WeakMap,_n=new WeakMap,Ka=new WeakMap,bu=new WeakMap,mp=new WeakMap,ft=new WeakMap,wu=new WeakMap,hr=new WeakSet,gT=function(){return l(this,wi).size!==0?l(this,wi).values():l(this,ft).getEditors(this.pageIndex)},E3=function(e){l(this,ft).unselectAll();let{target:t}=e;if(t===l(this,_n).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&l(this,_n).div.contains(t)){let{isMac:n}=Ur.platform;if(e.button!==0||e.ctrlKey&&n)return;l(this,ft).showAllEditors("highlight",!0,!0),l(this,_n).div.classList.add("free"),this.toggleDrawing(),Mv.startHighlighting(this,l(this,ft).direction==="ltr",{target:l(this,_n).div,x:e.x,y:e.y}),l(this,_n).div.addEventListener("pointerup",()=>{l(this,_n).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:l(this,ft)._signal}),e.preventDefault()}},po=function(){return l(Ls,wu).get(l(this,ft).getMode())},mT=function(e){let t=l(this,hr,po);return t?new t.prototype.constructor(e):null},yT=function(){let{x:e,y:t,width:n,height:i}=this.boundingClientRect,o=Math.max(0,e),s=Math.max(0,t),a=Math.min(window.innerWidth,e+n),u=Math.min(window.innerHeight,t+i),c=(o+a)/2-e,f=(s+u)/2-t,[h,d]=this.viewport.rotation%180===0?[c,f]:[f,c];return{offsetX:h,offsetY:d}},ov=function(){for(let e of l(this,wi).values())e.isEmpty()&&e.remove()},Qe(Ls,"_initialized",!1),Y(Ls,wu,new Map([XS,oT,Qg,Mv,dT].map(e=>[e._editorType,e])));$v=Ls,an=class an{constructor({pageIndex:e}){Y(this,Fo);Y(this,Gs,null);Y(this,Jn,new Map);Y(this,Cf,new Map);this.pageIndex=e}setParent(e){if(!l(this,Gs)){k(this,Gs,e);return}if(l(this,Gs)!==e){if(l(this,Jn).size>0)for(let t of l(this,Jn).values())t.remove(),e.append(t);k(this,Gs,e)}}static get _svgFactory(){return wt(this,"_svgFactory",new Of)}draw(e,t=!1,n=!1){let i=tn(an,u0)._++,o=ee(this,Fo,bT).call(this),s=an._svgFactory.createElement("defs");o.append(s);let a=an._svgFactory.createElement("path");s.append(a);let u=`path_p${this.pageIndex}_${i}`;a.setAttribute("id",u),a.setAttribute("vector-effect","non-scaling-stroke"),t&&l(this,Cf).set(i,a);let c=n?ee(this,Fo,x3).call(this,s,u):null,f=an._svgFactory.createElement("use");return o.append(f),f.setAttribute("href",`#${u}`),this.updateProperties(o,e),l(this,Jn).set(i,o),{id:i,clipPathId:`url(#${c})`}}drawOutline(e,t){let n=tn(an,u0)._++,i=ee(this,Fo,bT).call(this),o=an._svgFactory.createElement("defs");i.append(o);let s=an._svgFactory.createElement("path");o.append(s);let a=`path_p${this.pageIndex}_${n}`;s.setAttribute("id",a),s.setAttribute("vector-effect","non-scaling-stroke");let u;if(t){let h=an._svgFactory.createElement("mask");o.append(h),u=`mask_p${this.pageIndex}_${n}`,h.setAttribute("id",u),h.setAttribute("maskUnits","objectBoundingBox");let d=an._svgFactory.createElement("rect");h.append(d),d.setAttribute("width","1"),d.setAttribute("height","1"),d.setAttribute("fill","white");let g=an._svgFactory.createElement("use");h.append(g),g.setAttribute("href",`#${a}`),g.setAttribute("stroke","none"),g.setAttribute("fill","black"),g.setAttribute("fill-rule","nonzero"),g.classList.add("mask")}let c=an._svgFactory.createElement("use");i.append(c),c.setAttribute("href",`#${a}`),u&&c.setAttribute("mask",`url(#${u})`);let f=c.cloneNode();return i.append(f),c.classList.add("mainOutline"),f.classList.add("secondaryOutline"),this.updateProperties(i,e),l(this,Jn).set(n,i),n}finalizeDraw(e,t){l(this,Cf).delete(e),this.updateProperties(e,t)}updateProperties(e,t){var u;if(!t)return;let{root:n,bbox:i,rootClass:o,path:s}=t,a=typeof e=="number"?l(this,Jn).get(e):e;if(a){if(n&&ee(this,Fo,wT).call(this,a,n),i&&ee(u=an,a_,A3).call(u,a,i),o){let{classList:c}=a;for(let[f,h]of Object.entries(o))c.toggle(f,h)}if(s){let f=a.firstElementChild.firstElementChild;ee(this,Fo,wT).call(this,f,s)}}}updateParent(e,t){if(t===this)return;let n=l(this,Jn).get(e);n&&(l(t,Gs).append(n),l(this,Jn).delete(e),l(t,Jn).set(e,n))}remove(e){l(this,Cf).delete(e),l(this,Gs)!==null&&(l(this,Jn).get(e).remove(),l(this,Jn).delete(e))}destroy(){k(this,Gs,null);for(let e of l(this,Jn).values())e.remove();l(this,Jn).clear(),l(this,Cf).clear()}};Gs=new WeakMap,Jn=new WeakMap,Cf=new WeakMap,u0=new WeakMap,a_=new WeakSet,A3=function(e,[t,n,i,o]){let{style:s}=e;s.top=`${100*n}%`,s.left=`${100*t}%`,s.width=`${100*i}%`,s.height=`${100*o}%`},Fo=new WeakSet,bT=function(){let e=an._svgFactory.create(1,1,!0);return l(this,Gs).append(e),e.setAttribute("aria-hidden",!0),e},x3=function(e,t){let n=an._svgFactory.createElement("clipPath");e.append(n);let i=`clip_${t}`;n.setAttribute("id",i),n.setAttribute("clipPathUnits","objectBoundingBox");let o=an._svgFactory.createElement("use");return n.append(o),o.setAttribute("href",`#${t}`),o.classList.add("clip"),i},wT=function(e,t){for(let[n,i]of Object.entries(t))i===null?e.removeAttribute(n):e.setAttribute(n,i)},Y(an,a_),Y(an,u0,0);zv=an;globalThis._pdfjsTestingUtils={HighlightOutliner:ym};globalThis.pdfjsLib={AbortException:Ys,AnnotationEditorLayer:$v,AnnotationEditorParamsType:Bt,AnnotationEditorType:vt,AnnotationEditorUIManager:_u,AnnotationLayer:Lv,AnnotationMode:Za,AnnotationType:qr,applyOpacity:NM,build:NF,ColorPicker:dm,createValidAbsoluteUrl:vT,CSSConstants:cv,DOMSVGFactory:Of,DrawLayer:zv,FeatureTest:Ur,fetchData:Ep,findContrastColor:kM,getDocument:RF,getFilenameFromUrl:DM,getPdfFilenameFromUrl:IM,getRGB:Ap,getUuid:ET,getXfaPageViewport:OM,GlobalWorkerOptions:_s,ImageKind:rm,InvalidPDFException:bp,isDataScheme:h0,isPdfFile:c_,isValidExplicitDest:dF,MathClamp:Wn,noContextMenu:Zi,normalizeUnicode:CM,OPS:yp,OutputScale:Mo,PasswordResponses:SM,PDFDataRangeTransport:hm,PDFDateString:Rf,PDFWorker:_p,PermissionFlag:xM,PixelsPerInch:tl,RenderingCancelledException:wp,renderRichText:AT,ResponseException:Df,setLayerDimensions:vu,shadow:wt,SignatureExtractor:Es,stopEvent:Cr,SupportedImageMimeTypes:uv,TextLayer:vp,TouchManager:um,updateUrlHash:_T,Util:st,VerbosityLevel:c0,version:OF,XfaLayer:am}});var BV={};Uo(BV,{OfficeParser:()=>Pf,default:()=>LV,parseOffice:()=>kV});Ne();Le();ke();Ne();Le();ke();var L3=ol(wN());Gp();Ne();Le();ke();Ne();Le();ke();Ne();Le();ke();var dk=ol(og()),zt=r=>new dk.DOMParser().parseFromString(r,"text/xml"),De=(r,e)=>Array.from(r.getElementsByTagName(e)),En=(r,e)=>{let t=[];if(!r.childNodes)return t;for(let n=0;n<r.childNodes.length;n++){let i=r.childNodes[n];i.nodeType===1&&i.tagName===e&&t.push(i)}return t},vl=r=>{let e=zt(r),t={},n=De(e,"cp:coreProperties")[0];if(n){let o=De(n,"dc:title")[0];o&&o.textContent&&(t.title=o.textContent);let s=De(n,"dc:creator")[0];s&&s.textContent&&(t.author=s.textContent);let a=De(n,"cp:lastModifiedBy")[0];a&&a.textContent&&(t.lastModifiedBy=a.textContent);let u=De(n,"dcterms:created")[0];u&&u.textContent&&(t.created=new Date(u.textContent));let c=De(n,"dcterms:modified")[0];return c&&c.textContent&&(t.modified=new Date(c.textContent)),t}let i=De(e,"office:meta")[0];if(i){let o=De(i,"dc:title")[0];o&&o.textContent&&(t.title=o.textContent);let s=De(i,"dc:creator")[0];s&&s.textContent&&(t.author=s.textContent);let a=De(i,"dc:description")[0];a&&a.textContent&&(t.description=a.textContent);let u=De(i,"dc:subject")[0];u&&u.textContent&&(t.subject=u.textContent);let c=De(i,"meta:creation-date")[0];c&&c.textContent&&(t.created=new Date(c.textContent));let f=De(i,"dc:date")[0];f&&f.textContent&&(t.modified=new Date(f.textContent))}return t};var na=(r,e)=>{let t=r.localName===e||r.tagName===e?r:r.getElementsByTagName(e)[0];if(!t)return;let n=t.getElementsByTagName("c:rich"),i=t.getElementsByTagName("a:p"),o=n.length>0?Array.from(n):Array.from(i);if(o.length>0){let a="";for(let u of o){let c=u.getElementsByTagName("a:t");for(let f=0;f<c.length;f++)a+=(c[f].textContent||"")+" "}if(a.trim())return a.trim()}let s=t.getElementsByTagName("c:v")[0];if(s&&s.textContent)return s.textContent.trim()||void 0},z9=r=>{let e=r.toString("utf8"),n=zt(e).documentElement,i=na(n,"c:title"),o,s=n.getElementsByTagName("c:plotArea")[0];if(s){let v=["c:barChart","c:lineChart","c:pieChart","c:columnChart","c:areaChart","c:scatterChart","c:bubbleChart","c:doughnutChart","c:radarChart","c:surfaceChart","c:ofPieChart","c:stockChart"];for(let w of v)if(s.getElementsByTagName(w).length>0){o=w.replace("c:","").replace("Chart","").toLowerCase();break}}let a,u,c=n.getElementsByTagName("c:catAx");c.length>0&&(a=na(c[0],"c:title"));let f=n.getElementsByTagName("c:valAx");f.length>0&&(u=na(f[0],"c:title"));let h=n.getElementsByTagName("c:ser"),d=[],g=[];for(let v=0;v<h.length;v++){let w=h[v],y=na(w,"c:tx"),_=[],E=w.getElementsByTagName("c:val")[0]||w.getElementsByTagName("c:yVal")[0];if(E){let D=E.getElementsByTagName("c:v");for(let K=0;K<D.length;K++){let re=D[K].textContent?.trim();re&&_.push(re)}}let S=[],A=w.getElementsByTagName("c:dLbl");for(let D=0;D<A.length;D++){let K=na(A[D],"c:tx");K&&S.push(K)}let L=w.getElementsByTagName("c:cat")[0]||w.getElementsByTagName("c:xVal")[0];if(L){let D=L.getElementsByTagName("c:v"),K=[];for(let re=0;re<D.length;re++){let q=D[re].textContent?.trim();q&&K.push(q)}K.length>0&&g.length===0&&g.push(...K)}d.push({name:y,values:_,pointLabels:S})}let b=[];for(let v of d)v.name&&b.push(v.name),b.push(...g),b.push(...v.values);return{title:i,chartType:o,xAxisTitle:a,yAxisTitle:u,dataSets:d,labels:g,rawTexts:b}},W9=r=>{let e=r.toString("utf8"),t=zt(e),n=De(t,"chart:chart")[0]||t.documentElement,i=De(n,"chart:title")[0],o=i&&De(i,"text:p")[0]?.textContent||void 0,s=De(n,"table:table")[0],a=[],u=[],c=[];if(s){let v=[],w=En(s,"table:table-header-rows")[0];if(w&&v.push(...En(w,"table:table-row")),v.push(...En(s,"table:table-row")),v.length>0){let y=En(v[0],"table:table-cell");for(let _=1;_<y.length;_++){let E=parseInt(y[_].getAttribute("table:number-columns-repeated")||"1"),S=En(y[_],"text:p")[0]?.textContent||void 0;for(let A=0;A<E;A++)a.push({name:S,values:[],pointLabels:[]})}for(let _=1;_<v.length;_++){let E=En(v[_],"table:table-cell");if(E.length>0){let S=En(E[0],"text:p")[0]?.textContent||void 0;S&&u.push(S);let A=0;for(let L=1;L<E.length;L++){let D=parseInt(E[L].getAttribute("table:number-columns-repeated")||"1"),K=E[L].getAttribute("office:value")||En(E[L],"text:p")[0]?.textContent||"";for(let re=0;re<D;re++)a[A]&&a[A].values.push(K),A++}}}}}else{let v=De(n,"chart:series");for(let y of v){let _=y.getAttribute("chart:label-cell-address"),E=y.getAttribute("chart:values-cell-range-address"),S,A=De(y,"text:p");A.length>0&&(S=A[0].textContent||void 0),!S&&_&&(S=`Series ${_.split(".").pop()?.replace(/\$/g,"")||_}`);let L={name:S,values:[],pointLabels:[]};E&&L.values.push(`[${E}]`),a.push(L)}let w=De(n,"chart:categories")[0];if(w){let y=w.getAttribute("table:cell-range-address");y&&u.push(`[${y}]`)}}let f=De(t,"chart:axis"),h,d;for(let v of f){let w=v.getAttribute("chart:dimension"),y=De(v,"chart:title")[0],_=y&&De(y,"text:p")[0]?.textContent||void 0;w==="x"?h=_:w==="y"&&(d=_)}let g,b=n.getAttribute("chart:class");b&&(g=b.replace("chart:","").toLowerCase()),o&&c.push(o);for(let v of a)v.name&&c.push(v.name),c.push(...u),c.push(...v.values);return{title:o,chartType:g,xAxisTitle:h,yAxisTitle:d,dataSets:a,labels:u,rawTexts:c}},q9=r=>{let e=r.toString("utf8"),t=zt(e),n=De(t,"cx:plotArea")[0];if(!n)return{title:void 0,xAxisTitle:void 0,yAxisTitle:void 0,dataSets:[],labels:[],rawTexts:[]};let i=De(n,"cx:plotAreaRegion")[0];if(!i)return{title:void 0,xAxisTitle:void 0,yAxisTitle:void 0,dataSets:[],labels:[],rawTexts:[]};let o=De(i,"cx:series"),s;if(o.length===0)return{title:void 0,chartType:void 0,xAxisTitle:void 0,yAxisTitle:void 0,dataSets:[],labels:[],rawTexts:[]};if(o.length>0){let E=o[0].getAttribute("layoutId");E&&(s={100:"column",101:"bar",102:"line",103:"pie",104:"area",105:"scatter",106:"bubble",107:"doughnut",108:"radar",109:"surface"}[E]||void 0)}let a=De(t,"cx:chartData")[0];if(!a)return{title:void 0,chartType:void 0,xAxisTitle:void 0,yAxisTitle:void 0,dataSets:[],labels:[],rawTexts:[]};let u={},c=De(a,"cx:data");for(let _ of c){let E=_.getAttribute("id")||"0";u[E]=_}let f=[],h=[],d=[];for(let _ of o){let E=De(_,"cx:dataId")[0],S=E&&E.getAttribute("val")||"0",A=u[S];if(!A)continue;let L=[],D=De(A,"cx:strDim")[0];if(D&&D.getAttribute("type")==="cat"){let U=De(D,"cx:lvl");if(U.length>0){let ue=U[0],Se=parseInt(ue.getAttribute("ptCount")||"0",10);for(let Ae=0;Ae<Se;Ae++){let j=[];for(let I of U){let se=De(I,"cx:pt"),z=Array.from(se).find(ie=>parseInt(ie.getAttribute("idx")||"-1",10)===Ae);if(z){let ie=z.textContent||"";j.push(ie)}}if(j.length>0){let I=j[0];L.push(I)}}}}if(L.length===0){let U=Array.from(De(A,"cx:numDim")).find(H=>H.getAttribute("type")==="catVal");if(U){let H=De(U,"cx:lvl")[0];if(H){let ue=De(H,"cx:pt");for(let Se of ue){let Ae=Se.textContent||"";Ae&&L.push(Ae)}}}}let K=[],re=Array.from(De(A,"cx:numDim")).find(U=>U.getAttribute("type")==="size"||U.getAttribute("type")==="val");if(re){let U=De(re,"cx:lvl")[0];if(U){let H=De(U,"cx:pt");for(let ue of H){let Se=ue.textContent||"";Se&&K.push(Se)}}}let q,oe=De(_,"c:tx")[0];oe&&(q=na(oe,"c:tx")),(L.length>0||K.length>0)&&(f.push({name:q,values:K,pointLabels:[]}),L.length>0&&h.length===0&&h.push(...L))}let g=na(t.documentElement,"c:title"),b,v,w=De(t.documentElement,"c:catAx");w.length>0&&(b=na(w[0],"c:title"));let y=De(t.documentElement,"c:valAx");y.length>0&&(v=na(y[0],"c:title")),g&&d.push(g);for(let _ of f)_.name&&d.push(_.name),d.push(...h),d.push(..._.values);return{title:g,chartType:s,xAxisTitle:b,yAxisTitle:v,dataSets:f,labels:h,rawTexts:d}},Xu=r=>{let e=r.toString("utf8",0,500);return e.includes("cx:")||e.includes("cx:plotArea")||e.includes("cx:chartData")?q9(r):e.includes("urn:oasis:names:tc:opendocument:xmlns:chart:1.0")?W9(r):z9(r)};Ne();Le();ke();var mh="[OfficeParser]: ";var H9={EXTENSION_UNSUPPORTED:r=>`Sorry, OfficeParser currently supports docx, pptx, xlsx, odt, odp, ods, pdf, rtf files only. Create a ticket in Issues on github to add support for ${r} files. Stay tuned for further updates.`,FILE_CORRUPTED:r=>`Your file ${r} seems to be corrupted. If you are sure it is fine, please create a ticket in Issues on github with the file to reproduce error.`,FILE_DOES_NOT_EXIST:r=>`File ${r} could not be found! Check if the file exists or verify if the relative path to the file is correct from your terminal's location.`,LOCATION_NOT_FOUND:r=>`Entered location ${r} is not reachable! Please make sure that the entered directory location exists. Check relative paths and reenter.`,IMPROPER_ARGUMENTS:"Improper arguments",IMPROPER_BUFFERS:"Error occured while reading the file buffers",INVALID_INPUT:"Invalid input type: Expected a Buffer or a valid file path",PDF_WORKER_MISSING:'Missing PDF worker configuration. PDF parsing in browser environments requires a worker source. Please provide "pdfWorkerSrc" in your configuration.'},pk=(r,e)=>{let t=H9[r];return typeof t=="function"?t(e):t},ia=(r,e,t)=>{let n=pk(r,t);return e.outputErrorToConsole&&console.error(mh+n),new Error(mh+n)},gk=(r,e,t)=>{let n=r.message||r;return t&&(n.includes("end of central directory record")||n.includes("invalid XML")||n.includes("Failed to open zip file")||n.includes("invalid distance too far back"))&&(n=pk("FILE_CORRUPTED",t)),e.outputErrorToConsole&&console.error(mh+n),new Error(mh+n)},ci=(r,e,t)=>{e.outputErrorToConsole&&(t?console.warn(mh+r,t):console.warn(mh+r))};Ne();Le();ke();var G9=r=>{switch(r.toLowerCase()){case"jpg":case"jpeg":return"image/jpeg";case"png":return"image/png";case"gif":return"image/gif";case"bmp":return"image/bmp";case"tiff":return"image/tiff";case"webp":return"image/webp";default:return"application/octet-stream"}},V9=r=>{if(!(r.length<4)){if(r[0]===137&&r[1]===80&&r[2]===78&&r[3]===71)return"image/png";if(r[0]===255&&r[1]===216&&r[2]===255)return"image/jpeg";if(r[0]===71&&r[1]===73&&r[2]===70&&r[3]===56)return"image/gif";if(r[0]===66&&r[1]===77)return"image/bmp";if(r[0]===73&&r[1]===73&&r[2]===42&&r[3]===0||r[0]===77&&r[1]===77&&r[2]===0&&r[3]===42)return"image/tiff";if(r.length>=12&&r[0]===82&&r[1]===73&&r[2]===70&&r[3]===70&&r[8]===87&&r[9]===69&&r[10]===66&&r[11]===80)return"image/webp"}},Is=(r,e)=>{let t=r.split(".").pop()||"",n=V9(e);return n||(n=G9(t)),{type:"image",mimeType:n,data:e.toString("base64"),name:r,extension:t}};Ne();Le();ke();var sL=ol(iL()),ns=async(r,e="eng")=>{let t=await(0,sL.createWorker)(e,1,{logger:()=>{}}),n=r;typeof window<"u"&&typeof Blob<"u"&&Buffer.isBuffer(r)&&(n=new Blob([r],{type:"image/bmp"}));let i=await t.recognize(n);return await t.terminate(),i.data.text};var rM=ol(og());Ne();Le();ke();var eM=ol(FP()),tM=ol(QB()),Rl=(r,e)=>new Promise((t,n)=>{eM.default.fromBuffer(r,{lazyEntries:!0},(i,o)=>{if(i)return n(i);if(!o)return n(new Error("Failed to open zip file"));let s=[];o.readEntry(),o.on("entry",a=>{e(a.fileName)?o.openReadStream(a,(u,c)=>{if(u)return n(u);if(!c)return n(new Error("Failed to open read stream"));c.pipe((0,tM.default)(f=>{s.push({path:a.fileName,content:f}),o.readEntry()}))}):o.readEntry()}),o.on("end",()=>t(s)),o.on("error",n)})});var nM=async(r,e)=>{let t=/xl\/worksheets\/sheet\d+.xml/g,n=/xl\/drawings\/drawing\d+.xml/g,i=/xl\/charts\/chart\d+.xml/g,o="xl/sharedStrings.xml",s=/xl\/media\/.*/,a=/docProps\/core\.xml/,u=/xl\/worksheets\/_rels\/sheet\d+\.xml\.rels/g,c=/xl\/drawings\/_rels\/drawing\d+\.xml\.rels/g,f=await Rl(r,ve=>!!ve.match(t)||!!ve.match(n)||!!ve.match(i)||ve===o||ve==="xl/styles.xml"||ve==="xl/workbook.xml"||ve==="xl/_rels/workbook.xml.rels"||!!ve.match(a)||!!e.extractAttachments&&(!!ve.match(s)||!!ve.match(u)||!!ve.match(c))),h=f.find(ve=>ve.path===o),d=[];if(h){let ve=zt(h.content.toString()),de=De(ve,"si");for(let M of de){let N=De(M,"r");if(N.length>0){let $=[];for(let ne of N){let ye=De(ne,"t")[0];if(ye){let P=ye.textContent||"",C=De(ne,"rPr")[0],F={};if(C){De(C,"b").length>0&&(F.bold=!0),De(C,"i").length>0&&(F.italic=!0),De(C,"u").length>0&&(F.underline=!0),De(C,"strike").length>0&&(F.strikethrough=!0);let Q=De(C,"sz")[0];Q&&(F.size=Q.getAttribute("val")+"pt");let Ee=De(C,"color")[0];if(Ee){let be=Ee.getAttribute("rgb");be&&(F.color="#"+be.substring(2))}let pe=De(C,"rFont")[0];pe&&(F.font=pe.getAttribute("val")||void 0);let te=De(C,"vertAlign")[0];if(te){let be=te.getAttribute("val");be==="subscript"&&(F.subscript=!0),be==="superscript"&&(F.superscript=!0)}}$.push({type:"text",text:P,formatting:Object.keys(F).length>0?F:void 0})}}d.push($)}else{let $=De(M,"t"),ne="";for(let ye of $)ne+=ye.textContent||"";d.push(ne)}}}let g=f.find(ve=>ve.path==="xl/styles.xml"),b={};if(g){let ve=zt(g.content.toString()),de=De(ve,"fonts")[0],M=[];if(de){let ye=De(de,"font");for(let P of ye){let C={};De(P,"b").length>0&&(C.bold=!0),De(P,"i").length>0&&(C.italic=!0),De(P,"u").length>0&&(C.underline=!0),De(P,"strike").length>0&&(C.strikethrough=!0);let F=De(P,"sz")[0];if(F){let te=F.getAttribute("val");te&&(C.size=te+"pt")}let Q=De(P,"color")[0];if(Q){let te=Q.getAttribute("rgb");te&&(C.color="#"+te.substring(2))}let Ee=De(P,"name")[0];if(Ee){let te=Ee.getAttribute("val");te&&(C.font=te)}let pe=De(P,"vertAlign")[0];if(pe){let te=pe.getAttribute("val");te==="subscript"&&(C.subscript=!0),te==="superscript"&&(C.superscript=!0)}M.push(C)}}let N=De(ve,"fills")[0],$=[];if(N){let ye=De(N,"fill");for(let P of ye){let C={},F=De(P,"patternFill")[0];if(F){let Q=De(F,"fgColor")[0];if(Q){let Ee=Q.getAttribute("rgb"),pe=Q.getAttribute("theme");if(Ee&&Ee!=="00000000")C.backgroundColor="#"+Ee.substring(2);else if(pe){let te=parseInt(pe);te===0?C.backgroundColor="#FFFFFF":te===1?C.backgroundColor="#000000":te===2?C.backgroundColor="#EEECE1":te===3&&(C.backgroundColor="#1F497D")}}}$.push(C)}}let ne=De(ve,"cellXfs")[0];if(ne){let ye=De(ne,"xf");for(let P=0;P<ye.length;P++){let C=ye[P],F={},Q=C.getAttribute("fontId");if(Q){let te=parseInt(Q);M[te]&&Object.assign(F,M[te])}let Ee=C.getAttribute("fillId");if(Ee){let te=parseInt(Ee);$[te]&&$[te].backgroundColor&&(F.backgroundColor=$[te].backgroundColor)}let pe=De(C,"alignment")[0];if(pe){let te=pe.getAttribute("horizontal");(te==="center"||te==="right"||te==="justify"||te==="left")&&(F.alignment=te)}b[P]=F}}}let v=[],w=f.filter(ve=>ve.path.match(/xl\/media\/.*/)),y=f.filter(ve=>ve.path.match(i)),_={};if(e.extractAttachments){let ve=f.filter(M=>M.path.match(c));for(let M of ve){let $=`xl/drawings/${M.path.split("/").pop()?.replace(".rels","")||""}`,ne=zt(M.content.toString()),ye=De(ne,"Relationship");_[$]||(_[$]={});for(let P of ye){let C=P.getAttribute("Id"),F=P.getAttribute("Target");if(C&&F&&F.includes("media/")){let Q="xl/"+F.replace("../","");_[$][C]={path:Q}}}}let de=f.filter(M=>M.path.match(n));for(let M of de){let N=zt(M.content.toString()),$=De(N,"xdr:pic"),ne=_[M.path]||{};for(let ye of $){let P=De(ye,"xdr:blipFill")[0],C=P?De(P,"a:blip")[0]:null,F=C?C.getAttribute("r:embed"):null,Q=De(ye,"xdr:nvPicPr")[0],Ee=Q?De(Q,"xdr:cNvPr")[0]:null,pe=Ee?Ee.getAttribute("descr")||Ee.getAttribute("name"):void 0;F&&ne[F]&&(ne[F].altText=pe||"")}}for(let M of w){let N=Is(M.path.split("/").pop()||"image",M.content),$="";for(let ne in _){for(let ye in _[ne])if(_[ne][ye].path===M.path){$=_[ne][ye].altText||"";break}if($)break}if($&&(N.altText=$),v.push(N),e.ocr&&N.mimeType.startsWith("image/"))try{let ne=await ns(M.content,e.ocrLanguage);ne.trim()&&(N.ocrText=ne.trim())}catch(ne){ci(`OCR failed for ${N.name}:`,e,ne)}}for(let M of y){let N={type:"chart",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",data:M.content.toString("base64"),name:M.path.split("/").pop()||"",extension:"xml"};try{let $=Xu(M.content);N.chartData=$}catch($){ci(`Failed to extract chart data from ${M.path}:`,e,$)}v.push(N)}}let E=new Map(v.map(ve=>[`${ve.type}:${ve.name}`,ve])),S={};if(e.extractAttachments){let ve=f.filter(de=>de.path.match(c));for(let de of ve){let N=`xl/drawings/${de.path.split("/").pop()?.replace(".rels","")||""}`,$=zt(de.content.toString()),ne=De($,"Relationship");S[N]||(S[N]={});for(let ye of ne){let P=ye.getAttribute("Id"),C=ye.getAttribute("Target"),F=ye.getAttribute("Type");if(P&&C&&F&&F.includes("chart")){let Q=C.split("/").pop()||"";S[N][P]=Q}}}}let A={},L=f.find(ve=>ve.path==="xl/workbook.xml"),D=f.find(ve=>ve.path==="xl/_rels/workbook.xml.rels");if(L&&D){let ve=zt(D.content.toString()),de=De(ve,"Relationship"),M={};for(let ne of de){let ye=ne.getAttribute("Id"),P=ne.getAttribute("Target");if(ye&&P){let C=P.split("/").pop()||"";M[ye]=C}}let N=zt(L.content.toString()),$=De(N,"sheet");for(let ne of $){let ye=ne.getAttribute("name"),P=ne.getAttribute("r:id");ye&&P&&M[P]&&(A[M[P]]=ye)}}let K=[],re=[],q=new Map;for(let ve of f)if(!ve.path.match(s)&&ve.path!==o&&ve.path!=="xl/styles.xml"&&!ve.path.match(n)&&!ve.path.match(i)&&!ve.path.match(u)&&!ve.path.match(c)&&ve.path.match(t)){let de=ve.content.toString();e.includeRawContent&&re.push(de);let M=[],N=zt(de),$=De(N,"row"),ne=F=>{let Q=0;for(let Ee=0;Ee<F.length;Ee++)Q=Q*26+(F.charCodeAt(Ee)-64);return Q-1},ye=e.includeRawContent?new rM.XMLSerializer:null;for(let F of $){let Q=F.getAttribute("r"),Ee=Q?parseInt(Q,10)-1:0,pe=De(F,"c"),te=[];for(let be of pe){let Ie=be.getAttribute("t")||"n",Pe=De(be,"v")[0],Ce=De(be,"is")[0],qe="",We=[];if(Ie==="s"&&Pe?.textContent){let O=parseInt(Pe.textContent,10),J=d[O];Array.isArray(J)?(We=JSON.parse(JSON.stringify(J)),qe=We.map(T=>T.text).join("")):qe=J||""}else if(Ie==="inlineStr"&&Ce){let O=De(Ce,"t");for(let J of O)qe+=J.textContent||""}else Pe?.textContent&&(qe=Pe.textContent);let Ge=be.getAttribute("r"),x=Ge?Ge.match(/^([A-Z]+)(\d+)$/):null,p=x?x[1]:"",m=p?ne(p):0;if(qe||We.length>0){let O=be.getAttribute("s"),J=O!==null?parseInt(O,10):void 0,T=J!==void 0&&b[J]?b[J]:{};if(We.length>0)for(let fe of We)fe.formatting||(fe.formatting={}),T.backgroundColor&&(fe.formatting.backgroundColor=T.backgroundColor),T.alignment&&(fe.formatting.alignment=T.alignment),!fe.formatting.font&&T.font&&(fe.formatting.font=T.font),!fe.formatting.size&&T.size&&(fe.formatting.size=T.size);else We.push({type:"text",text:qe,formatting:T});let ae={type:"cell",text:qe,children:We,metadata:{row:Ee,col:m}};ye&&e.includeRawContent&&(ae.rawContent=ye.serializeToString(be)),te.push(ae)}}if(te.length>0){let be={type:"row",children:te,metadata:void 0};ye&&e.includeRawContent&&(be.rawContent=ye.serializeToString(F)),M.push(be)}}if(e.extractAttachments){let Q=`xl/worksheets/_rels/${ve.path.split("/").pop()||""}.rels`,Ee=f.find(be=>be.path===Q),pe={};if(Ee){let be=zt(Ee.content.toString()),Ie=De(be,"Relationship");for(let Pe of Ie){let Ce=Pe.getAttribute("Id"),qe=Pe.getAttribute("Target"),We=Pe.getAttribute("Type");Ce&&qe&&We&&We.includes("drawing")&&(pe[Ce]="xl/drawings/"+qe.replace("../drawings/",""))}}let te=de.match(/<drawing r:id="(.*?)"/g);if(te)for(let be of te){let Ie=be.match(/r:id="(.*?)"/),Pe=Ie?Ie[1]:null;if(Pe&&pe[Pe]){let Ce=pe[Pe],qe=_[Ce];if(qe)for(let Ge in qe){let x=qe[Ge],p=x.path.split("/").pop(),m=p?E.get(`image:${p}`):void 0;if(m){let O={type:"image",text:"",children:[],metadata:{attachmentName:m.name||"unknown",altText:x.altText||void 0}};M.push(O)}}let We=S[Ce];if(We)for(let Ge in We){let x=We[Ge];if(E.get(`chart:${x}`)){let m={type:"chart",text:"",children:[],metadata:{attachmentName:x}};M.push(m)}}}}}let P=ve.path.split("/").pop()||"Sheet",C=A[P]||P;K.push({type:"sheet",children:M,metadata:{sheetName:C},rawContent:e.includeRawContent?ve.content.toString():void 0})}let oe=f.find(ve=>ve.path.match(a)),U=oe?vl(oe.content.toString()):{},H=ve=>{for(let de of ve){if("attachmentName"in(de.metadata||{})){let M=de.metadata,N=E.get(`${de.type}:${M.attachmentName}`);N&&(de.type==="image"&&(N.ocrText&&(de.text=N.ocrText),M.altText&&(N.altText=M.altText)),de.type==="chart"&&N.chartData&&(de.text=N.chartData.rawTexts.join(e.newlineDelimiter||`
`)))}de.children&&H(de.children)}};H(K);let ue=ve=>{let de=De(ve,"xdr:from")[0],M=De(ve,"xdr:to")[0],N=De(ve,"xdr:ext")[0];if(de&&M&&N){let ne=De(de,"xdr:col")[0]?.textContent||"0",ye=De(de,"xdr:row")[0]?.textContent||"0",P=De(de,"xdr:colOff")[0]?.textContent||"0",C=De(de,"xdr:rowOff")[0]?.textContent||"0",F=N?parseInt(N.getAttribute("cx")||"0",10):0,Q=N?parseInt(N.getAttribute("cy")||"0",10):0,Ee=parseInt(P,10),pe=parseInt(C,10);if(F>0&&Q>0)return{x:Ee,y:pe,width:F,height:Q}}if(de&&N&&!M){let ne=De(de,"xdr:colOff")[0]?.textContent||"0",ye=De(de,"xdr:rowOff")[0]?.textContent||"0",P=N?parseInt(N.getAttribute("cx")||"0",10):0,C=N?parseInt(N.getAttribute("cy")||"0",10):0,F=parseInt(ne,10),Q=parseInt(ye,10);if(P>0&&C>0)return{x:F,y:Q,width:P,height:C}}let $=De(ve,"xdr:pos")[0];if($&&N){let ne=parseInt($.getAttribute("x")||"0",10),ye=parseInt($.getAttribute("y")||"0",10),P=parseInt(N.getAttribute("cx")||"0",10),C=parseInt(N.getAttribute("cy")||"0",10);if(P>0&&C>0)return{x:ne,y:ye,width:P,height:C}}},Se=new Map,Ae=new Map,j=ve=>{for(let de of ve){if(de.type==="chart"){let M=de.metadata;M?.attachmentName&&Se.set(M.attachmentName,de)}else if(de.type==="image"){let M=de.metadata;M?.attachmentName&&Ae.set(M.attachmentName,de)}de.children&&j(de.children)}};if(j(K),e.extractAttachments){let ve=f.filter(de=>de.path.match(n));for(let de of ve){let M=zt(de.content.toString()),N=De(M,"xdr:twoCellAnchor"),$=De(M,"xdr:oneCellAnchor"),ne=De(M,"xdr:absoluteAnchor"),ye=[...N,...$,...ne];for(let P of ye){let C=De(P,"xdr:graphicFrame")[0],F=De(P,"xdr:pic")[0];if(C){let Ee=De(C,"c:chart")[0]?.getAttribute("r:id");if(Ee){let pe=de.path,te=S[pe];if(te&&te[Ee]){let be=te[Ee],Ie=Se.get(be);Ie&&q.set(Ie,P)}}}if(F){let Q=De(F,"xdr:blipFill")[0],Ee=Q?De(Q,"a:blip")[0]:null,pe=Ee?Ee.getAttribute("r:embed"):null;if(pe){let te=de.path,be=_[te];if(be&&be[pe]){let Pe=be[pe].path.split("/").pop(),Ce=Ae.get(Pe??"");Ce&&q.set(Ce,P)}}}}}}let I=(ve,de)=>{let M=[];if(ve.children){for(let N of ve.children)if(N.type==="row"&&N.children){let $=N.children.filter(ne=>ne.type==="cell").map(ne=>({value:ne.text||""}));$.length>0&&M.push({cols:$})}}return{type:"table",rows:M,...de?{position:de}:{}}},se=(ve,de,M)=>{if(ve.type!=="chart")return null;let N=ve.metadata;if(N?.attachmentName){let $=de.get(`chart:${N.attachmentName}`);if($?.chartData)return{type:"chart",chartData:$.chartData,chartType:$.chartData.chartType,...M?{position:M}:{}}}return null},z=(ve,de,M)=>{let N=[],$=ne=>{let ye=M.get(ne),P=ye?ue(ye):void 0;if(ne.type==="chart"){let C=se(ne,de,P);C&&N.push(C);return}else if(ne.type==="image"){let F=ne.metadata?.attachmentName;if(F){let Q=de.get(`image:${F}`);if(Q){let Ee=Buffer.from(Q.data,"base64");N.push({type:"image",buffer:Ee,mimeType:Q.mimeType,filename:Q.name,...P?{position:P}:{}})}}return}else if(ne.type==="sheet"){let C=[],F=[];if(ne.children)for(let Ee of ne.children)Ee.type==="row"&&(!Ee.children||Ee.children.every(te=>te.type==="cell"))?C.push(Ee):F.push(Ee);let Q=[];for(let Ee of C){let pe=[];if(Ee.children){for(let te of Ee.children)if(te.type==="cell"){let be=te.text||"";if(pe.push({value:be}),be.trim()){let Ie=M.get(te),Pe=Ie?ue(Ie):void 0;N.push({type:"text",content:be.trim(),...Pe?{position:Pe}:{}})}}}pe.length>0&&Q.push({cols:pe})}Q.length>0&&N.push({type:"table",rows:Q,...P?{position:P}:{}});for(let Ee of F)$(Ee);return}else ne.type==="cell"&&ne.text&&ne.text.trim()&&N.push({type:"text",content:ne.text.trim(),...P?{position:P}:{}});if(ne.children)for(let C of ne.children)$(C)};for(let ne of ve)$(ne);return N},ie=ve=>ve.filter(de=>de.type==="image").map(de=>({buffer:Buffer.from(de.data,"base64"),mimeType:de.mimeType,filename:de.name})),V=K.map(ve=>{let de=M=>{let N="";return M.children?N+=M.children.map(de).filter($=>$!="").join(M.children[0]?.children?e.newlineDelimiter??`
`:""):N+=M.text||"",N};return de(ve)}).filter(ve=>ve!="").join(e.newlineDelimiter??`
`),X=z(K,E,q),we=ie(v);return{type:"xlsx",metadata:U,content:K,attachments:v,fullText:V,blocks:X,images:we,toText:()=>V}};Ne();Le();ke();var iM=async(r,e)=>{let t=/content\.xml/,n=/Object \d+\/content\.xml/,i=/(Pictures|media)\/.*/,o=/meta\.xml/,s=/styles\.xml/,a=/mimetype/,u=await Rl(r,V=>!!V.match(t)||!!V.match(n)||!!V.match(o)||!!V.match(s)||!!V.match(a)||!!e.extractAttachments&&!!V.match(i)),c=u.find(V=>V.path==="mimetype"),f="odt";if(c){let V=c.content.toString().trim();V.includes("spreadsheet")?f="ods":V.includes("presentation")?f="odp":V.includes("text")&&(f="odt")}let h=u.find(V=>V.path==="content.xml")||u.find(V=>V.path.match(t)),d=u.find(V=>V.path==="styles.xml"),g=[],b=[],v={},w={},y={};d&&(V=>{let X=zt(V),we=De(X,"style:style");for(let ve of we){let de=ve.getAttribute("style:name");if(!de)continue;let M={},N=De(ve,"style:paragraph-properties")[0];if(N){let P=N.getAttribute("fo:text-align");if(P){let F={start:"left",left:"left",center:"center",end:"right",right:"right",justify:"justify"};F[P]&&(M.alignment=F[P])}De(N,"style:drop-cap")[0]&&(M.dropCap=!0)}Object.keys(M).length>0&&(w[de]=M);let $=De(ve,"style:text-properties")[0],ne=De(ve,"style:table-cell-properties")[0],ye={};if(ne){let P=ne.getAttribute("fo:background-color");P&&P!=="transparent"&&(ye.backgroundColor=P)}if($){($.getAttribute("fo:font-weight")==="bold"||$.getAttribute("style:font-weight-asian")==="bold")&&(ye.bold=!0),($.getAttribute("fo:font-style")==="italic"||$.getAttribute("style:font-style-asian")==="italic")&&(ye.italic=!0),$.getAttribute("style:text-underline-style")==="solid"&&(ye.underline=!0),$.getAttribute("style:text-line-through-style")==="solid"&&(ye.strikethrough=!0);let P=$.getAttribute("fo:font-size")||$.getAttribute("style:font-size-asian");P&&(ye.size=P);let C=$.getAttribute("fo:color");C&&(ye.color=C);let F=$.getAttribute("fo:background-color");F&&F!=="transparent"&&(ye.backgroundColor=F);let Q=$.getAttribute("style:font-name")||$.getAttribute("fo:font-family");Q&&(ye.font=Q);let Ee=$.getAttribute("style:text-position");Ee&&(Ee.startsWith("sub")&&(ye.subscript=!0),Ee.startsWith("super")&&(ye.superscript=!0)),Object.keys(ye).length>0&&(v[de]=ye)}}})(d.content.toString());let E=(V,X,we,ve,de,M={},N)=>{let $=[],ne="";if(!V.childNodes)return{text:"",children:[]};for(let ye=0;ye<V.childNodes.length;ye++){let P=V.childNodes[ye];if(P.nodeType===3){let C=P.textContent||"";C&&(ne+=C,$.push({type:"text",text:C,formatting:M,metadata:N?{...N}:void 0}))}else if(P.nodeType===1){let C=P,F=C.tagName;if(F==="text:s"){let Q=parseInt(C.getAttribute("text:c")||"1"),Ee=" ".repeat(Q);ne+=Ee,$.push({type:"text",text:Ee,formatting:M,metadata:N?{...N}:void 0})}else if(F==="text:tab")ne+="	",$.push({type:"text",text:"	",formatting:M,metadata:N?{...N}:void 0});else if(F==="text:line-break")ne+=`
`,$.push({type:"text",text:`
`,formatting:M,metadata:N?{...N}:void 0});else if(F==="text:span"){let Q=C.getAttribute("text:style-name"),Ee=Q?{...M,...X[Q]}:M,pe=E(C,X,we,ve,de,Ee,N);ne+=pe.text,$.push(...pe.children)}else if(F==="text:a"){let Q=C.getAttribute("xlink:href")||"",Ee=Q.startsWith("#")?"internal":"external",te=E(C,X,we,ve,de,M,{link:Q,linkType:Ee});ne+=te.text,$.push(...te.children)}else if(F==="text:note"&&!we.ignoreNotes){let Q=C.getAttribute("text:note-class")||"footnote",Ee=C.getAttribute("text:id")||C.getAttribute("xml:id")||void 0,pe=De(C,"text:note-body")[0];if(pe){let te=De(pe,"text:p"),be=[],Ie="";for(let Ce of te){let qe=S(Ce,de,X,we);Ie+=(Ie?" ":"")+qe.text;let We={type:"paragraph",text:qe.text,children:qe.children,metadata:qe.alignment?{alignment:qe.alignment}:void 0};be.push(We)}let Pe={type:"note",text:Ie,children:be,metadata:{noteType:Q,noteId:Ee}};we.putNotesAtLast?ve.push(Pe):$.push(Pe)}}else if(F==="draw:frame"){let Q=C,Ee="",pe=De(Q,"svg:title")[0],te=De(Q,"svg:desc")[0];pe&&pe.textContent?Ee=pe.textContent:te&&te.textContent&&(Ee=te.textContent);let be="",Ie=De(Q,"draw:image");if(Ie.length>0&&(be=Ie[0].getAttribute("xlink:href")||"",be)){let Ce=be.split("/");be=Ce[Ce.length-1]}let Pe={type:"image",text:"",children:[],metadata:{attachmentName:be,...Ee?{altText:Ee}:{}}};we.includeRawContent&&(Pe.rawContent=Q.toString()),$.push(Pe)}}}return{text:ne,children:$}},S=(V,X,we,ve)=>{let de=V.getAttribute("text:style-name"),M=de?X[de]:void 0,N=M?.alignment,$=M?.dropCap,ne=E(V,we,ve,b,X);if(de&&ne.children.forEach(ye=>{if(ye.type==="text"){ye.metadata||(ye.metadata={});let P=ye.metadata;P.style||(P.style=de)}}),ne.children.length===0&&V.textContent){let ye=V.textContent;ye.trim()&&(ne.text=ye,ne.children.push({type:"text",text:ye}))}if($&&ne.children.length>0){let ye=ne.children[0];if(ye.type==="text"&&ye.text)if(ye.text.length===1)ye.formatting={...ye.formatting,size:"58.5pt"};else{let P=ye.text[0],C=ye.text.substring(1),F={type:"text",text:P,formatting:{...ye.formatting,size:"58.5pt"},metadata:ye.metadata};ye.text=C,ne.children.unshift(F)}}return{text:ne.text,children:ne.children,alignment:N,style:de||void 0}},A=(V,X,we,ve)=>{let de=[],M=En(V,"table:table-row"),N=0;for(let $ of M){let ne=[],ye=En($,"table:table-cell"),P=parseInt($.getAttribute("table:number-rows-repeated")||"1"),C=0;for(let F of ye){let Q=[],Ee={value:""},pe=parseInt(F.getAttribute("table:number-columns-repeated")||"1"),te=parseInt(F.getAttribute("table:number-columns-spanned")||"1"),be=parseInt(F.getAttribute("table:number-rows-spanned")||"1"),Ie=Ce=>{if(Ce.childNodes)for(let qe=0;qe<Ce.childNodes.length;qe++){let We=Ce.childNodes[qe];if(We.nodeType===1){let Ge=We;if(Ge.tagName==="text:p"||Ge.tagName==="text:h"){let x=S(Ge,X,we,ve),p={type:Ge.tagName==="text:h"?"heading":"paragraph",text:x.text,children:x.children,metadata:{...x.alignment?{alignment:x.alignment}:{},...x.style?{style:x.style}:{}}};Object.keys(p.metadata||{}).length===0&&delete p.metadata,Ge.tagName==="text:h"&&(p.metadata||(p.metadata={}),p.metadata.level=parseInt(Ge.getAttribute("text:outline-level")||"1")),ve.includeRawContent&&(p.rawContent=Ge.toString()),Q.push(p),Ee.value+=x.text,Ee.value&&!Ee.value.endsWith(`
`)&&(Ee.value+=`
`)}else if(Ge.tagName==="table:table"){let x=A(Ge,X,we,ve);Q.push(x)}else(Ge.tagName==="draw:frame"||Ge.tagName==="draw:text-box")&&Ie(Ge)}}};Ie(F);let Pe=Ee.value;Pe.endsWith(`
`)&&(Pe=Pe.slice(0,-1));for(let Ce=0;Ce<pe;Ce++){let qe={type:"cell",text:Pe,children:Q.length>0?Ce===0?Q:JSON.parse(JSON.stringify(Q)):[],metadata:{row:N,col:C}},We=qe.metadata;te>1&&(We.colSpan=te),be>1&&(We.rowSpan=be),ve.includeRawContent&&(qe.rawContent=F.toString()),ne.push(qe),C++}}for(let F=0;F<P;F++){let Q={type:"row",children:F===0?ne:JSON.parse(JSON.stringify(ne))};F>0&&Q.children?.forEach(Ee=>{Ee.metadata&&"row"in Ee.metadata&&(Ee.metadata.row=N)}),ve.includeRawContent&&(Q.rawContent=$.toString()),de.push(Q),N++}}return{type:"table",children:de}};h&&(V=>{let X=zt(V),we=De(X,"office:body")[0],ve=De(X,"office:automatic-styles")[0];if(ve){let M=De(ve,"style:style");for(let N of M){let $=N.getAttribute("style:name");if(!$)continue;let ne=De(N,"style:paragraph-properties")[0],ye={};if(ne){let C=ne.getAttribute("fo:text-align");if(C){let Q={start:"left",left:"left",center:"center",end:"right",right:"right",justify:"justify"};Q[C]&&(ye.alignment=Q[C])}De(ne,"style:drop-cap")[0]&&(ye.dropCap=!0)}Object.keys(ye).length>0&&(w[$]=ye);let P=De(N,"style:text-properties")[0];if(P){let C={};(P.getAttribute("fo:font-weight")==="bold"||P.getAttribute("style:font-weight-asian")==="bold")&&(C.bold=!0),(P.getAttribute("fo:font-style")==="italic"||P.getAttribute("style:font-style-asian")==="italic")&&(C.italic=!0),P.getAttribute("style:text-underline-style")==="solid"&&(C.underline=!0),P.getAttribute("style:text-line-through-style")==="solid"&&(C.strikethrough=!0);let F=P.getAttribute("fo:font-size")||P.getAttribute("style:font-size-asian");F&&(C.size=F);let Q=P.getAttribute("fo:color");Q&&(C.color=Q);let Ee=P.getAttribute("fo:background-color");Ee&&Ee!=="transparent"&&(C.backgroundColor=Ee);let pe=P.getAttribute("style:font-name")||P.getAttribute("fo:font-family");pe&&(C.font=pe);let te=P.getAttribute("style:text-position");te&&(te.startsWith("sub")&&(C.subscript=!0),te.startsWith("super")&&(C.superscript=!0)),Object.keys(C).length>0&&(v[$]=C)}}}let de=(M,N,$=!1)=>{if(M.tagName==="text:p"){let ne=S(M,w,v,e),ye=$||(M.getAttribute("text:style-name")||"").toLowerCase().includes("title")?"heading":"paragraph",P={type:ye,text:ne.text,children:ne.children,metadata:{...ne.alignment?{alignment:ne.alignment}:{},...ne.style?{style:ne.style}:{}}};ye==="heading"&&P.metadata&&(P.metadata.level=P.metadata.level||1),Object.keys(P.metadata||{}).length===0&&delete P.metadata,e.includeRawContent&&(P.rawContent=M.toString()),N.push(P)}else if(M.tagName==="text:h"){let ne=parseInt(M.getAttribute("text:outline-level")||"1"),ye=S(M,w,v,e),P={type:"heading",text:ye.text,children:ye.children,metadata:{level:ne,...ye.alignment?{alignment:ye.alignment}:{},...ye.style?{style:ye.style}:{}}};e.includeRawContent&&(P.rawContent=M.toString()),N.push(P)}else if(M.tagName==="table:table"){let ne=A(M,w,v,e);e.includeRawContent&&(ne.rawContent=M.toString()),N.push(ne)}else if(M.tagName==="text:list"){let ne=En(M,"text:list-item"),ye=M.getAttribute("text:style-name")||M.getAttribute("xml:id"),P=ye||`list-${N.length}`,C="unordered",F=!1,Q=ye;if(!Q){let be=M.parentNode;for(;be&&!Q&&!(be.nodeName==="text:list"&&(Q=be.getAttribute("text:style-name"),Q));)be=be.parentNode}if(Q){let be=De(zt(h?.content.toString()||""),"office:automatic-styles")[0];if(be){let Ie=De(be,"text:list-style");for(let Pe of Ie)if(Pe.getAttribute("style:name")===Q){let Ce=De(Pe,"text:list-level-style-bullet"),qe=De(Pe,"text:list-level-style-number"),We=De(Pe,"text:list-level-style-image");qe.length>0?(C="ordered",F=qe.some(Ge=>!!Ge.getAttribute("style:num-format"))):Ce.length>0&&(C="unordered",F=Ce.some(Ge=>!!Ge.getAttribute("text:bullet-char"))),We.length>0&&(F=!0);break}}if(d&&!F){let Ie=zt(d.content.toString()),Pe=De(Ie,"text:list-style");for(let Ce of Pe)if(Ce.getAttribute("style:name")===Q){let qe=De(Ce,"text:list-level-style-bullet"),We=De(Ce,"text:list-level-style-number"),Ge=De(Ce,"text:list-level-style-image");We.length>0?(C="ordered",F=We.some(x=>!!x.getAttribute("style:num-format"))):qe.length>0&&(C="unordered",F=qe.some(x=>!!x.getAttribute("text:bullet-char"))),Ge.length>0&&(F=!0);break}}}if(!F){for(let be=0;be<ne.length;be++){let Ie=ne[be];if(Ie.childNodes)for(let Pe=0;Pe<Ie.childNodes.length;Pe++){let Ce=Ie.childNodes[Pe];Ce.nodeType===1&&de(Ce,N,$)}}return}let Ee=0,pe=M.parentNode;for(;pe;)pe.nodeName==="text:list"&&Ee++,pe=pe.parentNode;y[P]||(y[P]={});let te=Ee.toString();y[P][te]===void 0&&(y[P][te]=-1);for(let be=0;be<ne.length;be++){let Ie=ne[be];y[P][te]++;let Pe=y[P][te];for(let Ce=Ee+1;Ce<10;Ce++)y[P][Ce.toString()]!==void 0&&(y[P][Ce.toString()]=-1);if(Ie.childNodes)for(let Ce=0;Ce<Ie.childNodes.length;Ce++){let qe=Ie.childNodes[Ce];if(qe.nodeType===1){let We=qe;if(We.tagName==="text:p"){let Ge=S(We,w,v,e),x={type:"list",text:Ge.text,children:Ge.children,metadata:{listType:C,indentation:Ee,itemIndex:Pe,listId:P,alignment:Ge.alignment||"left",style:Ge.style}};e.includeRawContent&&(x.rawContent=We.toString()),N.push(x)}else if(We.tagName==="text:h"){let Ge=parseInt(We.getAttribute("text:outline-level")||"1"),x=S(We,w,v,e),p={type:"list",text:x.text,children:x.children,metadata:{listType:C,indentation:Ee,itemIndex:Pe,listId:P,...x.alignment?{alignment:x.alignment}:{},style:x.style}};e.includeRawContent&&(p.rawContent=We.toString()),N.push(p)}else We.tagName==="text:list"&&de(We,N,$)}}}}else if(M.tagName==="draw:frame"){let ne=M.getAttribute("presentation:class"),ye=ne==="title"||ne==="sub-title",P=De(M,"draw:text-box")[0],C=De(M,"draw:image")[0],F=De(M,"table:table")[0],Q=De(M,"draw:object")[0];if(P)de(P,N,ye||$);else if(F){let Ee=A(F,w,v,e);e.includeRawContent&&(Ee.rawContent=F.toString()),N.push(Ee)}else if(C){let Ee="",pe=De(M,"svg:title")[0],te=De(M,"svg:desc")[0];pe&&pe.textContent?Ee=pe.textContent:te&&te.textContent&&(Ee=te.textContent);let be=C.getAttribute("xlink:href")||"";if(be){let Pe=be.split("/");be=Pe[Pe.length-1]}let Ie={type:"image",text:"",children:[],metadata:{attachmentName:be,...Ee?{altText:Ee}:{}}};e.includeRawContent&&(Ie.rawContent=M.toString()),N.push(Ie)}else if(Q){let Ee=Q.getAttribute("xlink:href");if(Ee){let pe=Ee.split("/")[0],te=`${pe}/content.xml`,be=u.find(Ie=>Ie.path===te||Ie.path.endsWith(te));if(be){let Ie=Xu(be.content),Pe={type:"chart",text:Ie.rawTexts.join(" "),metadata:{attachmentName:pe,chartData:Ie}};e.includeRawContent&&(Pe.rawContent=M.toString()),N.push(Pe)}else{let Ie={type:"chart",text:"",metadata:{attachmentName:pe}};e.includeRawContent&&(Ie.rawContent=M.toString()),N.push(Ie)}}}}else if(M.childNodes)for(let ne=0;ne<M.childNodes.length;ne++){let ye=M.childNodes[ne];ye.nodeType===1&&de(ye,N,$)}};if(f==="ods"){let M=De(we,"office:spreadsheet")[0];if(M){let N=De(M,"table:table");for(let $=0;$<N.length;$++){let ne=N[$],ye=ne.getAttribute("table:name")||`Sheet${$+1}`,P=[],C=De(ne,"table:table-row"),F=0;for(let Ee=0;Ee<C.length;Ee++){let pe=C[Ee],te=[],be=De(pe,"table:table-cell"),Ie=0,Pe=parseInt(pe.getAttribute("table:number-rows-repeated")||"1");for(let Ce=0;Ce<be.length;Ce++){let qe=be[Ce],We=parseInt(qe.getAttribute("table:number-columns-repeated")||"1"),Ge="",x=[],p=De(qe,"text:p");for(let O=0;O<p.length;O++){let J=p[O],T=De(J,"text:span");if(T.length>0)for(let ae of T){let fe=ae.getAttribute("text:style-name"),Te=fe?v[fe]:{},G=ae.textContent||"";Ge+=G;let me={type:"text",text:G,formatting:Te};x.push(me)}else{let ae=J.textContent||"";if(Ge+=ae,ae.trim()){let fe={type:"text",text:ae,formatting:{}};x.push(fe)}}O<p.length-1&&(Ge+=`
`)}let m=De(qe,"draw:frame");for(let O of m){let J="",T=De(O,"svg:title")[0],ae=De(O,"svg:desc")[0];T&&T.textContent?J=T.textContent:ae&&ae.textContent&&(J=ae.textContent);let fe="",Te=De(O,"draw:image");if(Te.length>0){let B=Te[0].getAttribute("xlink:href");if(B){let Re=B.split("/");fe=Re[Re.length-1]}}let G="",me=De(O,"draw:object");if(me.length>0){let B=me[0].getAttribute("xlink:href");B&&(G=B.split("/")[0])}if(Te.length>0){let B={type:"image",text:"",children:[],metadata:{attachmentName:fe,...J?{altText:J}:{}}};e.includeRawContent&&(B.rawContent=O.toString()),x.push(B)}else if(G){let B={type:"chart",text:"",children:[],metadata:{attachmentName:G}};x.push(B)}}for(let O=0;O<We;O++){if(Ge||x.length>0||f!=="ods"){let J={type:"cell",text:Ge,children:x,metadata:{row:F,col:Ie}};e.includeRawContent&&(J.rawContent=qe.toString()),te.push(J)}Ie++}}if(te.length>0)for(let Ce=0;Ce<Pe;Ce++){let qe={type:"row",children:JSON.parse(JSON.stringify(te)),metadata:void 0};Ce>0&&qe.children?.forEach(We=>{We.metadata&&"row"in We.metadata&&(We.metadata.row=F)}),e.includeRawContent&&(qe.rawContent=pe.toString()),P.push(qe),F++}else F+=Pe}let Q={type:"sheet",children:P,metadata:{sheetName:ye}};e.includeRawContent&&(Q.rawContent=ne.toString()),g.push(Q)}}}else if(f==="odp"){let M=De(we,"office:presentation")[0];if(M){let N=En(M,"draw:page"),$=[];for(let ne=0;ne<N.length;ne++){let ye=N[ne],P={type:"slide",children:[],metadata:{slideNumber:ne+1}},C,F=ye.childNodes;if(F)for(let Q=0;Q<F.length;Q++){let Ee=F[Q];if(Ee.nodeType===1){let pe=Ee;if(pe.tagName==="presentation:notes"){e.ignoreNotes||(C={type:"note",children:[],metadata:{slideNumber:ne+1,noteId:`slide-note-${ne+1}`}},de(pe,C.children));continue}de(pe,P.children)}}e.includeRawContent&&(P.rawContent=ye.toString()),g.push(P),C&&C.children&&C.children.length>0&&(e.putNotesAtLast?$.push(C):g.push(C))}$.length>0&&g.push(...$)}}else{let M=De(we,"office:text")[0];M&&de(M,g)}})(h.content.toString());let D=[],K=u.filter(V=>V.path.match(/(Pictures|media)\/.*/));if(e.extractAttachments){let V=u.filter(X=>X.path.match(/Object \d+\/content\.xml/));for(let X of V){let we=zt(X.content.toString());if(De(we,"chart:chart").length>0){let de=X.path.split("/")[0],M={type:"chart",mimeType:"application/vnd.oasis.opendocument.chart",data:X.content.toString("base64"),name:de,extension:"xml"},N=Xu(X.content);N.rawTexts.length>0&&(M.chartData=N),D.push(M)}}}if(e.extractAttachments)for(let V of K){let X=Is(V.path.split("/").pop()||"image",V.content);if(D.push(X),e.ocr&&X.mimeType.startsWith("image/"))try{X.ocrText=(await ns(V.content,e.ocrLanguage)).trim()}catch(we){ci(`OCR failed for ${X.name}:`,e,we)}}let re=u.find(V=>V.path.match(o)),q=re?vl(re.content.toString()):{},oe=(V,X)=>{let we=new Map;for(let M of X)if(M.type==="sheet"){let N=M.metadata?.sheetName;N&&we.set(N,M)}let ve=M=>{let N=M.replace(/^\[|\]$/g,""),[$,ne]=N.split(":"),ye=$.lastIndexOf(".");if(ye===-1)return[M];let P=$.substring(0,ye).replace(/^'|'$/g,""),C=$.substring(ye+1).replace(/\$/g,""),F=C;if(ne)if(ne.startsWith("."))F=ne.substring(1).replace(/\$/g,"");else{let Ie=ne.lastIndexOf(".");F=ne.substring(Ie+1).replace(/\$/g,"")}let Q=Ie=>{let Pe=Ie.match(/[A-Z]+/),Ce=Ie.match(/\d+/);if(!Pe||!Ce)return null;let qe=Pe[0],We=0;for(let x=0;x<qe.length;x++)We=We*26+(qe.charCodeAt(x)-65+1);return We-=1,{r:parseInt(Ce[0])-1,c:We}},Ee=Q(C),pe=Q(F);if(!Ee||!pe)return[M];let te=we.get(P);if(!te||!te.children)return[M];let be=[];for(let Ie of te.children)if(Ie.children)for(let Pe of Ie.children){let Ce=Pe.metadata;Ce&&Ce.row>=Ee.r&&Ce.row<=pe.r&&Ce.col>=Ee.c&&Ce.col<=pe.c&&be.push(Pe.text||"")}return be.length>0?be:[]};for(let M of V.dataSets){let N=[];for(let $ of M.values)$.startsWith("[")?N.push(...ve($)):N.push($);M.values=N}let de=[];for(let M of V.labels)M.startsWith("[")?de.push(...ve(M)):de.push(M);V.labels=de,V.rawTexts=[],V.title&&V.rawTexts.push(V.title);for(let M of V.dataSets)M.name&&V.rawTexts.push(M.name),V.rawTexts.push(...V.labels),V.rawTexts.push(...M.values)};for(let V of D)V.type==="chart"&&V.chartData&&oe(V.chartData,g);let U=new Map;for(let V of D)V.name&&U.set(V.name,V);(V=>{let X=new Set,we=N=>{for(let $ of N){if($.metadata&&"attachmentName"in $.metadata){let ne=$.metadata.attachmentName;ne&&X.add(ne)}$.children&&we($.children)}};we(V);let ve=D.filter(N=>N.type==="image"&&N.name&&!X.has(N.name)),de=0,M=N=>{if((N.type==="image"||N.type==="chart")&&N.metadata&&"attachmentName"in N.metadata){let $=N.metadata.attachmentName;if(!$&&N.type==="image"&&de<ve.length&&($=ve[de++].name,N.metadata.attachmentName=$),$){let ne=U.get($);ne&&(ne.ocrText&&(N.text=ne.ocrText),ne.chartData&&N.type==="chart"&&(N.text=ne.chartData.rawTexts.join(e.newlineDelimiter??`
`)))}}N.children&&N.children.forEach(M)};V.forEach(M)})(g);let ue={};for(let V in v)ue[V]={formatting:v[V],alignment:w[V]?.alignment};for(let V in w)ue[V]||(ue[V]={formatting:{},alignment:w[V]?.alignment});e.putNotesAtLast&&b.length>0&&g.push(...b);let Se=V=>{let X=[];if(V.children){for(let we of V.children)if(we.type==="row"&&we.children){let ve=[];for(let de of we.children)if(de.type==="cell"){let M=$=>{let ne=$.text||"";if($.children&&$.children.length>0){let ye=$.children.map(M).filter(P=>P!=="");ye.length>0&&(ne+=(ne?" ":"")+ye.join(" "))}return ne},N=M(de);ve.push({value:N})}ve.length>0&&X.push({cols:ve})}}return{type:"table",rows:X}},Ae=(V,X)=>{if(V.type!=="chart")return null;let we=V.metadata,ve=we;if(ve?.chartData)return{type:"chart",chartData:ve.chartData,chartType:ve.chartData.chartType};if(we?.attachmentName){let de=X.get(we.attachmentName);if(de?.type==="chart"&&de?.chartData)return{type:"chart",chartData:de.chartData,chartType:de.chartData.chartType}}return null},j=(V,X)=>{let we=[],ve=e.newlineDelimiter??`
`,de=$=>{if($.type==="table")we.push(Se($));else if($.type==="chart"){let ne=Ae($,X);ne&&we.push(ne)}else if($.type==="image"){let ye=$.metadata?.attachmentName;if(ye){let P=X.get(ye);if(P?.type==="image"){let C=Buffer.from(P.data,"base64");we.push({type:"image",buffer:C,mimeType:P.mimeType,filename:P.name})}}}else $.text&&$.text.trim()&&(!$.children||$.children.length===0)&&we.push({type:"text",content:$.text});if($.children&&$.children.length>0){let ye=$.children.some(C=>C.children&&C.children.length>0)?ve:"";return $.children.map(de).filter(C=>C!="").join(ye)}return $.text||""},M=[];for(let $ of V)M.push(de($));let N=M.filter($=>$!="").join(ve);return{blocks:we,fullText:N}},I=V=>V.filter(X=>X.type==="image").map(X=>({buffer:Buffer.from(X.data,"base64"),mimeType:X.mimeType,filename:X.name})),{blocks:se,fullText:z}=j(g,U),ie=I(D);return{type:f,metadata:{...q,styleMap:ue},content:g,attachments:D,fullText:z,blocks:se,images:ie,toText:()=>z}};Ne();Le();ke();function C3(r){if(r)try{let e=r.startsWith("D:")?r.slice(2):r,t=parseInt(e.slice(0,4),10),n=parseInt(e.slice(4,6),10)-1,i=parseInt(e.slice(6,8),10)||1,o=parseInt(e.slice(8,10),10)||0,s=parseInt(e.slice(10,12),10)||0,a=parseInt(e.slice(12,14),10)||0,u=e.slice(14).match(/([+-Z])(\d{2})'?(\d{2})?'?/);if(u){let c=u[1]==="-"?-1:1,f=parseInt(u[2],10)||0,h=parseInt(u[3],10)||0,d=c*(f*60+h),g=Date.UTC(t,n,i,o,s,a);return new Date(g-d*6e4)}return new Date(t,n,i,o,s,a)}catch{try{return new Date(r)}catch{return}}}function AV(r){let e=[];for(let i of r)for(let o of i)o.type==="text"&&o.height>0&&e.push(o.height);if(e.length===0)return{median:12,max:12};e.sort((i,o)=>i-o);let t=e[Math.floor(e.length/2)],n=e[e.length-1];return{median:t,max:n}}function xV(r,e){if(r<=e.median*1.2)return 0;let t=r/e.median;return t>=2?1:t>=1.7?2:t>=1.5?3:t>=1.35?4:t>=1.2?5:0}function SV(r,e){let t=r.x+r.width/2,n=r.y+r.height/2;for(let i of e){let[o,s,a,u]=i.rect,c=Math.min(o,a),f=Math.max(o,a),h=Math.min(s,u),d=Math.max(s,u);if(t>=c&&t<=f&&n>=h&&n<=d)return i}}function TV(r,e,t){let n=Math.floor((24*r+31)/32)*4,i=n-r*3,o=54,s=n*e,a=o+s,u=Buffer.alloc(a);u.write("BM",0),u.writeUInt32LE(a,2),u.writeUInt32LE(0,6),u.writeUInt32LE(o,10),u.writeUInt32LE(40,14),u.writeInt32LE(r,18),u.writeInt32LE(-e,22),u.writeUInt16LE(1,26),u.writeUInt16LE(24,28),u.writeUInt32LE(0,30),u.writeUInt32LE(s,34),u.writeInt32LE(2835,38),u.writeInt32LE(2835,42),u.writeUInt32LE(0,46),u.writeUInt32LE(0,50);let c=o;for(let f=0;f<e;f++){for(let h=0;h<r;h++){let d=(f*r+h)*4,g=t[d+0],b=t[d+1],v=t[d+2],y=t[d+3]/255,_=Math.round(g*y+255*(1-y)),E=Math.round(b*y+255*(1-y)),S=Math.round(v*y+255*(1-y));u[c+0]=S,u[c+1]=E,u[c+2]=_,c+=3}for(let h=0;h<i;h++)u[c]=0,c++}return u}function CV(r,e,t,n){let i;if(n===1){i=new Uint8ClampedArray(e*t*4);for(let o=0;o<e*t;o++){let s=r[o];i[o*4]=s,i[o*4+1]=s,i[o*4+2]=s,i[o*4+3]=255}}else if(n===2||r.length===e*t*3){i=new Uint8ClampedArray(e*t*4);for(let o=0;o<e*t;o++)i[o*4]=r[o*3],i[o*4+1]=r[o*3+1],i[o*4+2]=r[o*3+2],i[o*4+3]=255}else i=r instanceof Uint8ClampedArray?r:new Uint8ClampedArray(r);return Buffer.from(i.buffer,i.byteOffset,i.byteLength)}var R3=async(r,e)=>{let t;if(typeof window>"u"){let S=new Function("specifier","return import(specifier)");try{t=await S("pdfjs-dist/legacy/build/pdf.mjs")}catch{t=await S("pdfjs-dist")}}else t=await Promise.resolve().then(()=>(T3(),S3));if(e.pdfWorkerSrc)t.GlobalWorkerOptions.workerSrc=e.pdfWorkerSrc;else if(typeof window<"u")t.GlobalWorkerOptions.workerSrc="https://unpkg.com/pdfjs-dist@5.4.530/build/pdf.worker.min.mjs";else try{let S=Su.resolve("pdfjs-dist/legacy/build/pdf.worker.mjs");t.GlobalWorkerOptions.workerSrc=S}catch(S){e.outputErrorToConsole&&console.warn("[PdfParser] Could not auto-resolve local worker path:",S)}let n=new Uint8Array(r),i=t.getDocument({data:n,verbosity:0}),o;try{o=await i.promise}catch(S){throw S.message?.includes("workerSrc")||S.message?.includes('No "GlobalWorkerOptions.workerSrc" specified')?ia("PDF_WORKER_MISSING",e):S}let s=[],a=[],u=o.numPages,c=[],h=(await o.getMetadata().catch(()=>({info:{}}))).info,d={pages:u,title:h?.Title||void 0,author:h?.Author||void 0,subject:h?.Subject||void 0,description:h?.Keywords||void 0,created:C3(h?.CreationDate),modified:C3(h?.ModDate)};try{let S=await o.getAttachments();if(S&&e.extractAttachments)for(let A in S){let L=S[A],D=Buffer.from(L.content),K=Is(L.filename,D);a.push(K)}}catch(S){e.outputErrorToConsole&&console.error("Error extracting embedded attachments:",S)}for(let S=1;S<=u;S++){let A,L,D=[];try{A=await o.getPage(S),L=await A.getTextContent()}catch(re){e.outputErrorToConsole&&console.warn(`[PdfParser] Error loading page ${S}:`,re),c.push(D);continue}let K=A.commonObjs;for(let re of L.items){let q=re.transform,oe=q[4],U=q[5],H=re.width||0,ue=re.height||Math.abs(q[3])||12,Se={},Ae;if(re.fontName&&K)try{if(K.has(re.fontName)){let j=await new Promise(I=>{K.get(re.fontName,se=>I(se))});if(j?.name){Ae=j.name.replace(/^[A-Z]{6}\+/,""),Se.font=Ae;let I=j.name.toLowerCase();I.includes("bold")&&(Se.bold=!0),(I.includes("italic")||I.includes("oblique"))&&(Se.italic=!0)}}}catch{}ue>0&&(Se.size=Math.round(ue).toString()),D.push({type:"text",x:oe,y:U,width:H,height:ue,text:re.str,fontName:Ae,formatting:Se})}if(e.extractAttachments||e.ocr)try{let re=await A.getOperatorList(),q=re.fnArray,oe=re.argsArray;for(let U=0;U<q.length;U++){let H=q[U];if(H===t.OPS.dependency){let ue=oe[U];for(let Se of ue)try{if(A.objs.has(Se))continue;await new Promise(Ae=>{let j=setTimeout(()=>{Ae()},500);A.objs.get(Se,I=>{clearTimeout(j),Ae()})})}catch(Ae){e.outputErrorToConsole&&console.error(`[PdfParser] Failed to load dependency ${Se}:`,Ae)}}if(H===t.OPS.paintImageXObject||H===t.OPS.paintXObject){let ue=oe[U][0];try{let Se=A.objs.has(ue),Ae=A.objs;if(!Se&&A.commonObjs.has(ue)&&(Se=!0,Ae=A.commonObjs),Se){let I=await new Promise(se=>{Ae.get(ue,z=>se(z))});if(typeof window<"u"&&!I.data&&I.bitmap)try{let se=document.createElement("canvas");se.width=I.width,se.height=I.height;let z=se.getContext("2d");z&&(z.drawImage(I.bitmap,0,0),I.data=z.getImageData(0,0,I.width,I.height).data,I.kind=3)}catch(se){e.outputErrorToConsole&&console.error("[PdfParser] Failed to extract from ImageBitmap:",se)}if(I?.data&&I.width>0&&I.height>0){let se=0,z=0;for(let ie=U-1;ie>=0;ie--)if(q[ie]===t.OPS.transform){se=oe[ie][4],z=oe[ie][5];break}D.push({type:"image",x:se,y:z,name:ue,data:I.data,width:I.width,height:I.height,kind:I.kind})}}}catch{}}}}catch(re){e.outputErrorToConsole&&console.error(`Error extracting images from page ${S}:`,re)}c.push(D)}let g=AV(c);for(let S=0;S<c.length;S++){let A=S+1,L;try{L=await o.getPage(A)}catch(ue){e.outputErrorToConsole&&console.warn(`[PdfParser] Error loading page ${A} in second pass:`,ue);continue}let D=c[S],K=[],re=[];try{let ue=await L.getAnnotations();for(let Se of ue)Se.subtype==="Link"&&Se.rect&&re.push({rect:Se.rect,url:Se.url,dest:Se.dest})}catch(ue){e.outputErrorToConsole&&console.error(`Error extracting annotations from page ${A}:`,ue)}D.sort((ue,Se)=>Math.abs(Se.y-ue.y)>5?Se.y-ue.y:ue.x-Se.x);let q=null,oe=0,U=-1,H=0;for(let ue of D)if(ue.type==="text"){let Se=ue.text;if(!Se)continue;if(U!==-1&&Math.abs(ue.y-U)>5&&q&&((q.text||"").trim().length>0&&K.push(q),q=null),!q&&Se.trim().length===0){U=ue.y;continue}let j=xV(ue.height,g);if(q||(j>0?q={type:"heading",text:"",children:[],metadata:{level:j}}:q={type:"paragraph",text:"",children:[]},oe=ue.height),Se.trim().length===0){if(q.children&&q.children.length>0){let ie=q.children[q.children.length-1];ie.type==="text"&&ie.text&&(ie.text+=Se,q.text+=Se)}U=ue.y;continue}if(q.text&&q.text.length>0&&!q.text.endsWith(" ")&&(q.text+=" ",q.children&&q.children.length>0)){let ie=q.children[q.children.length-1];ie.type==="text"&&ie.text&&(ie.text+=" ")}q.text+=Se;let I=SV(ue,re),se;I&&(I.url?se={link:I.url,linkType:I.url.startsWith("#")?"internal":"external"}:I.dest&&(se={link:typeof I.dest=="string"?`#${I.dest}`:"#internal",linkType:"internal"}));let z=!1;if(q.children&&q.children.length>0&&!se){let ie=q.children[q.children.length-1];ie.type==="text"&&RV(ie.formatting,ue.formatting)&&!ie.metadata&&(ie.text=(ie.text||"")+Se,z=!0)}if(!z){let ie={type:"text",text:Se,formatting:Object.keys(ue.formatting).length>0?ue.formatting:void 0};se&&(ie.metadata=se),q.children?.push(ie)}U=ue.y}else if(ue.type==="image"){q&&((q.text||"").trim().length>0&&K.push(q),q=null),H++;let Se=`pdf_image_p${A}_${H}.bmp`;if(e.extractAttachments)try{let Ae=CV(ue.data,ue.width,ue.height,ue.kind),j=TV(ue.width,ue.height,new Uint8Array(Ae)),I=Is(Se,j);if(I.mimeType="image/bmp",e.ocr)try{ue.width>=10&&ue.height>=10&&(I.ocrText=(await ns(j,e.ocrLanguage)).trim())}catch(z){e.outputErrorToConsole&&console.error(`OCR failed for ${Se}:`,z)}a.push(I);let se={attachmentName:Se};K.push({type:"image",text:I.ocrText||"",metadata:{...se}})}catch(Ae){ci(`Failed to process image ${Se}:`,e,Ae)}}q&&(q.text||"").trim().length>0&&K.push(q),s.push({type:"page",children:K,text:K.map(ue=>ue.text).join(e.newlineDelimiter??`

`),metadata:{pageNumber:A}})}let b=(S,A)=>{if(S.type!=="chart")return null;let L=S.metadata;if(L?.attachmentName){let D=A.find(K=>K.name===L.attachmentName&&K.type==="chart");if(D?.chartData)return{type:"chart",chartData:D.chartData,chartType:D.chartData.chartType}}return null},v=(S,A)=>{let L=[],D=K=>{if(K.type==="chart"){let re=b(K,A);re&&L.push(re);return}else if(K.type==="image"){let q=K.metadata?.attachmentName;if(q){let oe=A.find(U=>U.name===q&&U.type==="image");if(oe){let U=Buffer.from(oe.data,"base64");L.push({type:"image",buffer:U,mimeType:oe.mimeType,filename:oe.name})}}return}else K.text&&K.text.trim()&&(K.type==="text"||K.type==="paragraph"||K.type==="heading")&&L.push({type:"text",content:K.text.trim()});if(K.children)for(let re of K.children)D(re)};for(let K of S)D(K);return L},w=S=>S.filter(A=>A.type==="image").map(A=>({buffer:Buffer.from(A.data,"base64"),mimeType:A.mimeType,filename:A.name})),y=s.map(S=>S.text).join(e.newlineDelimiter??`

`),_=v(s,a),E=w(a);return{type:"pdf",metadata:d,content:s,attachments:a,fullText:y,blocks:_,images:E,toText:()=>y}};function RV(r,e){if(!r&&!e)return!0;if(!r||!e)return!1;let t=Object.keys(r).sort(),n=Object.keys(e).sort();if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++){let o=t[i];if(t[i]!==n[i]||r[o]!==e[o])return!1}return!0}Ne();Le();ke();var D3=ol(og());var I3=async(r,e)=>{let t=/ppt\/(notesSlides|slides)\/(notesSlide|slide)\d+.xml/g,n=/ppt\/slides\/slide\d+.xml/g,i=/ppt\/slides\/_rels\/slide\d+\.xml\.rels/,o=/lide(\d+)\.xml/,s=/ppt\/media\/.*/,a=/ppt\/charts\/chart\d+\.xml/,u=/docProps\/core\.xml/,c=new D3.XMLSerializer,f=await Rl(r,de=>!!de.match(e.ignoreNotes?n:t)||!!de.match(u)||!!de.match(i)||!!de.match(a)||!!e.extractAttachments&&!!de.match(s)),h=f.find(de=>de.path.match(u)),d=h?vl(h.content.toString()):{};f.sort((de,M)=>{let N=de.path.match(o),$=M.path.match(o),ne=N?parseInt(N[1]):0,ye=$?parseInt($[1]):0;return ne-ye});let g=[],b=[],v={},w=new Map,y=0,_=0,E=!1,S=null,A=0,L={},D=de=>{let M=De(de,"p:xfrm")[0];if(M||(M=De(de,"a:xfrm")[0]),!M)return;let N=De(M,"a:off")[0],$=N?parseInt(N.getAttribute("x")||"0",10):0,ne=N?parseInt(N.getAttribute("y")||"0",10):0,ye=De(M,"a:ext")[0],P=ye?parseInt(ye.getAttribute("cx")||"0",10):0,C=ye?parseInt(ye.getAttribute("cy")||"0",10):0,F=M.getAttribute("rot"),Q=F?parseInt(F,10)/6e4:void 0;if(P>0&&C>0)return{x:$,y:ne,width:P,height:C,...Q!==void 0?{rotation:Q}:{}}},K=de=>{let M=[],N=De(de,"a:tr");for(let $=0;$<N.length;$++){let ne=N[$],ye=[],P=De(ne,"a:tc");for(let F=0;F<P.length;F++){let Q=P[F],Ee=[],pe="",te=De(Q,"a:txBody")[0];if(te){let Ie=De(te,"a:p");for(let Pe of Ie){let Ce={type:"paragraph",text:"",children:[],metadata:{}};e.includeRawContent&&(Ce.rawContent=Pe.toString());let qe=De(Pe,"a:r");for(let We of qe){let Ge=De(We,"a:t")[0];if(Ge&&Ge.childNodes[0]){let x=Ge.childNodes[0].nodeValue||"";Ce.text+=x;let p=De(We,"a:rPr")[0],m={};if(p){p.getAttribute("b")==="1"&&(m.bold=!0),p.getAttribute("i")==="1"&&(m.italic=!0),p.getAttribute("u")==="sng"&&(m.underline=!0),p.getAttribute("strike")==="sngStrike"&&(m.strikethrough=!0);let O=p.getAttribute("sz");O&&(m.size=(parseInt(O)/100).toString()+"pt");let J=De(p,"a:solidFill")[0];if(J){let ae=De(J,"a:srgbClr")[0];if(ae){let fe=ae.getAttribute("val");fe&&(m.color="#"+fe)}}let T=De(p,"a:latin")[0];if(T){let ae=T.getAttribute("typeface");ae&&(m.font=ae)}}Ce.children?.push({type:"text",text:x,formatting:m})}}Ee.push(Ce),pe+=Ce.text}}let be={type:"cell",text:pe,children:Ee,metadata:{row:$,col:F}};ye.push(be)}let C={type:"row",children:ye};M.push(C)}return{type:"table",children:M}},re=(de,M)=>{let N=De(de,"a:blip")[0];if(!N)return null;let $=N.getAttribute("r:embed");if(!$)return null;let ne=v[M]?.[$];if(!ne||ne.type!=="image")return null;let ye=ne.target,P=De(de,"p:nvPicPr")[0],F=(P?De(P,"p:cNvPr")[0]:null)?.getAttribute("descr")||void 0,Q={type:"image",text:"",metadata:{attachmentName:ye,altText:F}};return w.set(Q,de),Q},q=(de,M)=>{let N=De(de,"a:graphicData")[0];if(!N||!(N.getAttribute("uri")==="http://schemas.openxmlformats.org/drawingml/2006/chart"))return null;let ye=De(N,"c:chart")[0];if(!ye)return null;let P=ye.getAttribute("r:id");if(!P)return null;let C=v[M]?.[P];if(!C||C.type!=="chart")return null;let Q={type:"chart",text:"",metadata:{attachmentName:C.target}};return e.includeRawContent&&(Q.rawContent=c.serializeToString(de)),w.set(Q,de),Q},oe=(de,M)=>{let $=De(de,"a:graphicData")[0]??de,ne=De($,"a:tbl")[0];if(ne){let P=K(ne);if(w.set(P,de),e.includeRawContent&&(P.rawContent=c.serializeToString(de)),P.children&&P.children.length>0)return P}if(De($,"c:chart")[0]){let P=q(de,M);if(P)return P}return null},U=(de,M)=>{let N=[],$=De(de,"p:nvSpPr")[0],ne=$?De($,"p:nvPr")[0]:null,ye=ne?De(ne,"p:ph")[0]:null,P=ye?ye.getAttribute("type"):"body",C=P==="title"||P==="ctrTitle",F=De(de,"p:txBody")[0];if(F){let Q=De(F,"a:p");for(let Ee=0;Ee<Q.length;Ee++){let pe=Q[Ee],te={type:C?"heading":"paragraph",text:"",children:[],metadata:C?{level:1}:{}};w.set(te,de);let be=De(pe,"a:pPr")[0],Ie=!1,Pe="unordered",Ce=0;if(be){let We=be.getAttribute("lvl");We&&(Ce=parseInt(We));let Ge=De(be,"a:buAutoNum")[0],x=De(be,"a:buChar")[0],p=De(be,"a:buBlip")[0],m=De(be,"a:bu")[0];Ge?(Ie=!0,Pe="ordered"):(x||p||m)&&(Ie=!0,Pe="unordered");let O=be.getAttribute("algn");if(O){let J={l:"left",ctr:"center",r:"right",just:"justify"};J[O]&&(te.metadata.alignment=J[O])}}if(Ie){te.type="list";let We=Ce;if(!E||Pe!==S){y++;for(let x in L)delete L[x];_=0,L[We]=0}else if(We>A)_=0,L[We]=0;else if(We<A){for(let p in L){let m=parseInt(p);m>We&&delete L[m]}_=(L[We]||0)+1,L[We]=_}else _=(L[We]||0)+1,L[We]=_;E=!0,S=Pe,A=We,te.metadata={...te.metadata,listType:Pe,indentation:We,listId:y.toString(),itemIndex:_,alignment:te.metadata?.alignment||"left"}}else E=!1,S=null,A=0;C&&(te.metadata={...te.metadata,level:1}),e.includeRawContent&&(te.rawContent=pe.toString());let qe=De(pe,"a:r");for(let We=0;We<qe.length;We++){let Ge=qe[We],x=De(Ge,"a:t")[0];if(x&&x.childNodes[0]){let p=x.childNodes[0].nodeValue||"";te.text+=p;let m=De(Ge,"a:rPr")[0],O={};if(m){m.getAttribute("b")==="1"&&(O.bold=!0),m.getAttribute("i")==="1"&&(O.italic=!0),m.getAttribute("u")==="sng"&&(O.underline=!0),m.getAttribute("strike")==="sngStrike"&&(O.strikethrough=!0);let ae=m.getAttribute("sz");ae&&(O.size=(parseInt(ae)/100).toString()+"pt");let fe=De(m,"a:solidFill")[0];if(fe){let B=De(fe,"a:srgbClr")[0];if(B){let Re=B.getAttribute("val");Re&&(O.color="#"+Re)}}let Te=De(m,"a:highlight")[0];if(Te){let B=De(Te,"a:srgbClr")[0];if(B){let Re=B.getAttribute("val");Re&&(O.backgroundColor="#"+Re)}}let G=De(m,"a:latin")[0];if(G){let B=G.getAttribute("typeface");B&&(O.font=B)}let me=m.getAttribute("baseline");if(me){let B=parseInt(me);B<0&&(O.subscript=!0),B>0&&(O.superscript=!0)}}let J={type:"text",text:p,formatting:O},T=De(Ge,"a:hlinkClick")[0];if(T){let ae=T.getAttribute("r:id"),fe=T.getAttribute("action"),Te,G;ae&&v[M]&&v[M][ae]&&v[M][ae].type==="hyperlink"?(Te=v[M][ae].target,G="external"):ae&&v[M]&&v[M][ae]&&v[M][ae].type==="slide"?(Te=v[M][ae].target,G="internal"):fe&&(Te=fe,G="internal"),Te&&(J.metadata={link:Te,linkType:G})}te.children?.push(J)}}te.text&&N.push(te)}}return N};function H(de,M){let N=[];for(let $ of Array.from(de?.childNodes||[])){if($.nodeType!==1)continue;let ne=$,ye=ne.tagName;if(ye==="p:sp")N.push(...U(ne,M));else if(ye==="p:pic"){let P=re(ne,M);P&&N.push(P)}else if(ye==="p:graphicFrame"){let P=oe(ne,M);P&&N.push(P)}else if(ye==="p:grpSp"){let P=ne.getElementsByTagName("p:spTree")[0];N.push(...H(P,M))}}return N}for(let de of f)if(de.path.match(i)){let M=de.path.match(/slide(\d+)\.xml\.rels/);if(M){let N=parseInt(M[1]);v[N]={};let $=zt(de.content.toString()),ne=De($,"Relationship");for(let ye=0;ye<ne.length;ye++){let P=ne[ye].getAttribute("Id"),C=ne[ye].getAttribute("Type"),F=ne[ye].getAttribute("Target");if(P&&C&&F){let Q="other";C.includes("relationships/image")?Q="image":C.includes("relationships/hyperlink")?Q="hyperlink":C.includes("relationships/chart")?Q="chart":C.includes("relationships/slide")?Q="slide":C.includes("relationships/notesSlide")&&(Q="notes");let Ee=F;F.startsWith("http://")||F.startsWith("https://")||(Ee=Ee.split("/").pop()||""),v[N][P]={type:Q,target:Ee}}}}}for(let de of f){if(de.path.match(s)||de.path.match(a)||de.path.match(i)||de.path.match(u))continue;let M=de.content.toString(),N=zt(M);e.includeRawContent&&b.push(M);let $=de.path.match(o),ne=$?parseInt($[1]):0,ye=de.path.includes("notesSlide"),P={type:ye?"note":"slide",children:[],metadata:{slideNumber:ne,...ye?{noteId:`slide-note-${ne}`}:{}}};e.includeRawContent&&(P.rawContent=de.content.toString());let C=De(N,"p:spTree")[0];C&&P.children?.push(...H(C,ne)),P.children&&P.children.length>0&&g.push(P)}let ue=[],Se=new Map,Ae=f.filter(de=>de.path.match(/ppt\/media\/.*/)),j=f.filter(de=>de.path.match(/ppt\/charts\/chart\d+\.xml/)),I=new Map;for(let de of j){let M=de.path.split("/").pop()||"";try{let N=Xu(de.content);I.set(M,N)}catch(N){ci(`Failed to extract text from chart ${de.path}:`,e,N)}}if(e.extractAttachments){for(let M of Ae){let N=Is(M.path.split("/").pop()||"image",M.content);if(ue.push(N),e.ocr&&N.mimeType.startsWith("image/"))try{N.ocrText=(await ns(M.content,e.ocrLanguage)).trim()}catch($){ci(`OCR failed for ${N.name}:`,e,$)}}for(let M of j){let N=M.path.split("/").pop()||"",$=I.get(N),ne={type:"chart",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",data:M.content.toString("base64"),name:N,extension:"xml",chartData:$};ue.push(ne)}Se=new Map(ue.map(M=>[`${M.type}:${M.name}`,M]));let de=M=>{for(let N of M){if("attachmentName"in(N.metadata||{})){let $=N.metadata,ne=Se.get(`${N.type}:${$.attachmentName}`);ne&&(N.type==="image"&&(ne.altText=$.altText,ne.ocrText&&(N.text=ne.ocrText)),N.type==="chart"&&(N.text=ne.chartData?.rawTexts.join(e.newlineDelimiter||`
`)))}N.children&&de(N.children)}};de(g)}!e.ignoreNotes&&e.putNotesAtLast&&g.sort((de,M)=>{let N=de.type==="note"?1:0,$=M.type==="note"?1:0;return N-$});let se=(de,M)=>{let N=[];if(de.children){for(let $ of de.children)if($.type==="row"&&$.children){let ne=[];for(let ye of $.children)if(ye.type==="cell"){let P=F=>{let Q=F.text||"";if(F.children&&F.children.length>0){let Ee=F.children.map(P).filter(pe=>pe!=="");Ee.length>0&&(Q+=(Q?" ":"")+Ee.join(" "))}return Q},C=P(ye);ne.push({value:C})}ne.length>0&&N.push({cols:ne})}}return{type:"table",rows:N,...M?{position:M}:{}}},z=(de,M,N)=>{if(de.type!=="chart")return null;let $=de.metadata,ne=$;if(ne?.chartData)return{type:"chart",chartData:ne.chartData,chartType:ne.chartData.chartType,...N?{position:N}:{}};if($?.attachmentName){let ye=M.get(`chart:${$.attachmentName}`);if(ye?.chartData)return{type:"chart",chartData:ye.chartData,chartType:ye.chartData.chartType,...N?{position:N}:{}};let P=I.get($.attachmentName);if(P)return{type:"chart",chartData:P,chartType:P.chartType,...N?{position:N}:{}}}return null},ie=(de,M,N)=>{let $=[],ne=ye=>{let P=N.get(ye),C=P?D(P):void 0;if(ye.type==="table"){$.push(se(ye,C));return}else if(ye.type==="chart"){let F=z(ye,M,C);F&&$.push(F);return}else if(ye.type==="image"){let Q=ye.metadata?.attachmentName;if(Q){let Ee=M.get(`image:${Q}`);if(Ee){let pe=Buffer.from(Ee.data,"base64");$.push({type:"image",buffer:pe,mimeType:Ee.mimeType,filename:Ee.name,...C?{position:C}:{}})}}return}if(ye.text&&ye.text.trim()&&(ye.type==="text"||ye.type==="paragraph"||ye.type==="heading"||ye.type==="list")&&$.push({type:"text",content:ye.text.trim(),...C?{position:C}:{}}),ye.children)for(let F of ye.children)ne(F)};for(let ye of de)ne(ye);return $},V=de=>de.filter(M=>M.type==="image").map(M=>({buffer:Buffer.from(M.data,"base64"),mimeType:M.mimeType,filename:M.name})),X=g.map(de=>{let M=N=>{let $="";return N.children?$+=N.children.map(M).filter(ne=>ne!="").join(N.children[0]?.children?e.newlineDelimiter??`
`:""):$+=N.text||"",$};return M(de)}).filter(de=>de!="").join(e.newlineDelimiter??`
`),we=ie(g,Se,w),ve=V(ue);return{type:"pptx",metadata:d,content:g,attachments:ue,fullText:X,blocks:we,images:ve,toText:()=>X}};Ne();Le();ke();var DV={pngblip:"png",jpegblip:"jpeg",gifblip:"gif",tiffblip:"tiff",dibitmap:"bmp",wbitmap:"bmp"},IV={png:"image/png",jpeg:"image/jpeg",gif:"image/gif",tiff:"image/tiff",bmp:"image/bmp"},OT=class{constructor(e){this.index=0;this.buffer=e,this.length=e.length}parse(){let e={type:"group",content:[]},t=[e];for(;this.index<this.length;){let n=this.buffer[this.index],i=t[t.length-1];if(n===123){this.index++;let o={type:"group",content:[]};i.content.push(o),t.push(o)}else n===125?(this.index++,t.length>1&&t.pop()):n===92?(this.index++,this.parseControl(i)):n===13||n===10?this.index++:this.parseText(i)}return e}parseControl(e){if(this.index>=this.length)return;let t=this.buffer[this.index];if(t===123||t===125||t===92){e.content.push({type:"text",value:String.fromCharCode(t)}),this.index++;return}if(t===39){if(this.index++,this.index+1<this.length){let a=this.buffer.toString("utf8",this.index,this.index+2),u=parseInt(a,16);if(!isNaN(u)){let f={128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376}[u]||u;e.content.push({type:"text",value:String.fromCharCode(f)})}this.index+=2}return}if(t===42){e.content.push({type:"control",value:"*"}),this.index++;return}let n="";for(;this.index<this.length;){let a=this.buffer[this.index];if(a>=97&&a<=122||a>=65&&a<=90)n+=String.fromCharCode(a),this.index++;else break}let i,o=!1,s="";for(this.index<this.length&&this.buffer[this.index]===45&&(s+="-",this.index++);this.index<this.length;){let a=this.buffer[this.index];if(a>=48&&a<=57)s+=String.fromCharCode(a),this.index++,o=!0;else break}if(o&&(i=parseInt(s,10)),this.index<this.length&&this.buffer[this.index]===32&&this.index++,n==="bin"&&i!==void 0&&i>0){this.index+=i;return}e.content.push({type:"control",value:n,param:i}),(e.content.length===1&&e.type==="group"||e.content.length===2&&e.content[0].type==="control"&&e.content[0].value==="*")&&(e.destination=n)}parseText(e){let t="";for(;this.index<this.length;){let n=this.buffer[this.index];if(n===123||n===125||n===92||n===13||n===10)break;t+=String.fromCharCode(n),this.index++}t.length>0&&e.content.push({type:"text",value:t})}},O3=async(r,e)=>{try{let n=new OT(r).parse(),i=OV(n),o=NV(n),s=[],a=[],u=[],c="",f=[],h="",d="",g={},b=s,v=0,w="left",y=!1,_,E,S,A,L,D=[],K=0,re=0,q=()=>D.length>0?D[D.length-1]:void 0,oe=()=>{D.length===0&&D.push({rows:[],currentCells:[],currentCellContent:[],rowIndex:0})},U=!1,H=!1,ue=0,Se=[],Ae={isMergedContinuation:!1},j=0,I=0,se={},z=!1,ie=!1,V,X,we={},ve=!1,de,M,N={},$={},ne,ye=(G,me)=>G.bold!==me.bold||G.italic!==me.italic||G.underline!==me.underline||G.strikethrough!==me.strikethrough||G.size!==me.size||G.font!==me.font||G.color!==me.color||G.backgroundColor!==me.backgroundColor||G.subscript!==me.subscript||G.superscript!==me.superscript,P=()=>{if(d){let G={type:"text",text:d,formatting:{...g}};ne&&(G.metadata={link:ne,linkType:be(ne)}),f.push(G),c+=d,d=""}},C=!1,F=()=>{P();let G=c||f.length>0;if(U&&!H&&!C&&G){let me=c,B=[...f],Re=h;c="",f=[],h="",pe(),c=me,f=B,h=Re}if(G){let me="paragraph",B;if(E!==void 0&&E>0)me="heading",B={level:E},A=void 0,L=void 0;else if(y){me="list";let je=S||A,R=_||L||"unordered",Fe=0;je&&($[je]||($[je]={}),$[je][v]===void 0?$[je][v]=0:$[je][v]++,Fe=$[je][v]),B={listType:R,indentation:v,listId:je||"",itemIndex:Fe,alignment:w},je&&(A=je),R&&(L=R)}let Re={type:me,text:c,children:f,formatting:void 0,metadata:B};e.includeRawContent&&h&&(Re.rawContent=h),U&&H?(oe(),q().currentCellContent.push(Re)):b.push(Re),c="",f=[],h="",v=0,y=!1,_=void 0,E=void 0,S=void 0}},Q=G=>{F();let me=G||q();if(!me)return;let B={type:"cell",text:me.currentCellContent.map(Re=>Re.text).join(`
`),children:[...me.currentCellContent],metadata:{row:me.rowIndex,col:me.currentCells.length}};return me.currentCellContent=[],B},Ee=G=>{let me=G||q();if(!me)return;let B=Q(me);if(B&&(B.children&&B.children.length>0||B.text)&&me.currentCells.push(B),me.currentCells.length>0){let Re={type:"row",text:me.currentCells.map(je=>je.text).filter(je=>je!=="").join(e.newlineDelimiter??`
`),children:[...me.currentCells]};me.rows.push(Re),me.currentCells=[],me.rowIndex++}},pe=()=>{if(C)return;C=!0;let G=q();if(!G){C=!1;return}if(Ee(G),G.rows.length>0){ue++;let me={type:"table",text:G.rows.map(B=>B.text).join(`
`),children:[...G.rows]};D.length>1?D[D.length-2].currentCellContent.push(me):b.push(me)}D.pop(),D.length===0&&(U=!1,H=!1),C=!1},te=G=>{let me,B=Re=>{if(Re.type==="text"){let je=Re.value,R=je.match(/HYPERLINK\s+"([^"]+)"/i);if(R)return R[1];let Fe=je.match(/"(https?:\/\/[^"]+|mailto:[^"]+|#[^"]+)"/);if(Fe)return Fe[1]}else if(Re.type==="group"){let je=!1,R;for(let Fe of Re.content)if(Fe.type==="text"){Fe.value.toUpperCase().includes("HYPERLINK")&&(je=!0);let he=Fe.value.match(/"([^"]+)"/);he&&je&&(R=he[1])}else if(Fe.type==="group"){let Ue=B(Fe);Ue&&(R=Ue)}if(R)return R}};for(let Re of G.content)if(Re.type==="group"){let je=B(Re);if(je)return je}return me},be=G=>{let me=G.trim();return me.startsWith("#")||!/^[a-zA-Z][a-zA-Z0-9+.-]*:/.test(me)?"internal":"external"},Ie=G=>{let me="",B=Re=>{if(Re.type==="text")me+=Re.value;else if(Re.type==="group")for(let je of Re.content)B(je)};for(let Re of G.content)B(Re);return me},Pe=G=>{let me,B="";for(let je of G.content)if(je.type==="control"){let R=DV[je.value];R&&(me=R)}else je.type==="text"?B+=je.value.replace(/[^0-9a-fA-F]/g,""):je.type;if(!me||B.length===0)return;let Re=IV[me];if(Re)try{let je=Buffer.from(B,"hex"),R=me,Fe=`image_${u.length+1}.${R}`;return{type:"image",mimeType:Re,data:je.toString("base64"),name:Fe,extension:R}}catch{return}},Ce=G=>{if(!/^[a-zA-Z]/.test(G.value))return`\\${G.value}`;let me=`\\${G.value}`;return G.param!==void 0&&(me+=G.param),me+=" ",me},qe=G=>G.value.replace(/([\\{}])/g,"\\$1"),We=(G,me,B=0)=>{if(G.type==="group"){let Re=["fonttbl","colortbl","stylesheet","info","macpict","pmmetafile","wmetafile","dibitmap","bitmap","object","nextGenerator","header","footer","nonshppict","xml","private","upnp","ud","filetbl","operator","author","creatim","revtim","printim","comment","fldinst","listtext","pntext"],je=!1,R=!1,Fe=!1,Ue=!1;if(G.destination){if(G.destination==="footnote")R=!0;else if(G.destination==="field"){let Me=te(G);Me&&(P(),Fe=!0,ne=Me)}else if(G.destination==="listtable")z=!0;else if(z&&G.destination==="list")ie=!0,V=void 0,X=void 0;else if(G.destination==="listoverridetable")ve=!0;else if(ve&&G.destination==="listoverride")de=void 0,M=void 0;else if(G.destination==="pict")e.extractAttachments?Ue=!0:je=!0;else if(Re.includes(G.destination))je=!0;else if(G.content.length>0&&G.content[0].type==="control"&&G.content[0].value==="*"){let Me=["fldinst","nesttableprops"];e.extractAttachments&&Me.push("shppict","listpicture"),Me.includes(G.destination||"")||(je=!0)}}if(G.destination==="listtext"||G.destination==="pntext"){y||(v=0),y=!0;let Me=Ie(G);if(Me){let tt=Me.trim();["\xB7","\u2022","o","\xA7","\u25A0","\u25A1","\u25CF","\u25CB","\u25C6","\u25C7","\u25BA","\u25B8","\xB7","\u2022","\u25CF","\u25CB"].some(He=>tt.includes(He))||tt.length===1&&!/[0-9a-zA-Z]/.test(tt)?_="unordered":(/^[0-9ivxlcdm]+[\.\)]/i.test(tt)||/^[a-z][\.\)]/i.test(tt))&&(_="ordered")}je=!0}if(je)return;if(h+="{",Ue){let Me=Pe(G);Me&&(u.push(Me),!z&&!ie&&(F(),b.push({type:"image",text:"",metadata:{attachmentName:Me.name||`image_${u.length}`}})));for(let tt of G.content)if(tt.type==="control")h+=Ce(tt);else if(tt.type==="text")h+=qe(tt);else if(tt.type==="group"){let ce=_e=>{for(let He of _e.content)He.type==="control"?h+=Ce(He):He.type==="text"?h+=qe(He):He.type==="group"&&(h+="{",ce(He),h+="}")};ce(G)}h+="}";return}let he=b;if(R){if(e.ignoreNotes)return;F(),K++;let Me="footnote";re===1?Me="endnote":re===2&&(Me=G.content.some(_e=>_e.type==="control"&&_e.value==="ftnalt")?"endnote":"footnote");let tt={type:"note",children:[],metadata:{noteId:K.toString(),noteType:Me}};a.push(tt),b=tt.children}let Oe={...me};for(let Me of G.content){if(Me.type==="group"&&Me.destination==="fldinst"){h+="{";let tt=ce=>{for(let _e of ce.content)_e.type==="control"?h+=Ce(_e):_e.type==="text"?h+=qe(_e):_e.type==="group"&&(h+="{",tt(_e),h+="}")};tt(Me),h+="}";continue}We(Me,Oe,B+1)}G.destination==="listtable"?z=!1:G.destination==="list"?(ie=!1,V!==void 0&&X!==void 0&&(we[V]=X)):G.destination==="listoverridetable"?ve=!1:ve&&G.destination==="listoverride"&&M!==void 0&&de!==void 0&&(N[M]=de),R&&(F(),b=he),Fe&&(P(),ne=void 0),h+="}"}else if(G.type==="text"){if(z||ve){h+=qe(G);return}ye(g,me)&&(P(),g={...me}),d+=G.value,h+=qe(G)}else if(G.type==="control"){if(h+=Ce(G),z){if(G.value==="listid")V=G.param;else if(G.value==="levelnfc"||G.value==="levelnfcn"){let Re=G.param!==void 0&&(G.param===0||G.param>=0&&G.param<=4);(!X||X==="unordered"&&Re)&&(X=Re?"ordered":"unordered")}return}if(ve){G.value==="listid"?de=G.param:G.value==="ls"&&(M=G.param);return}if(G.value==="par")F(),g={...me};else if(G.value==="trowd"){let Re=q();U&&Re&&Re.currentCellContent.length>0?(oe(),D.push({rows:[],currentCells:[],currentCellContent:[],rowIndex:0})):U||(U=!0,oe()),H=!0,Se=[],Ae={isMergedContinuation:!1},j=0}else if(G.value==="clvmrg")Ae.isMergedContinuation=!0;else if(G.value==="clmgf")Ae.isMergedContinuation=!1;else if(G.value==="cellx")Se.push({...Ae}),Ae={isMergedContinuation:!1};else if(G.value==="cell"){H=!0;let Re=!1;j<Se.length&&(Re=Se[j].isMergedContinuation),j++;let je=Q();if(je&&!Re){let R=q();R&&R.currentCells.push(je)}g={...me}}else if(G.value==="nestcell"){if(D.length>1){let je=q();je&&(je.rows.length>0||je.currentCells.length>0)&&pe()}H=!0;let Re=Q();if(Re){let je=q();je&&je.currentCells.push(Re)}g={...me}}else if(G.value==="row")Ee(),g={...me},j=0,H=!1;else if(G.value==="nestrow")D.length>1&&pe(),Ee(),g={...me},j=0;else if(G.value==="intbl")U=!0,H=!0,oe();else if(G.value==="pard")H=!1,v=0,w="left",y=!1,_=void 0,E=void 0,S=void 0,me.backgroundColor=void 0;else if(G.value==="tab")ye(g,me)&&(P(),g={...me}),d+="	";else if(G.value==="line")ye(g,me)&&(P(),g={...me}),d+=`
`;else if(G.value==="lquote")ye(g,me)&&(P(),g={...me}),d+="\u2018";else if(G.value==="rquote")ye(g,me)&&(P(),g={...me}),d+="\u2019";else if(G.value==="ldblquote")ye(g,me)&&(P(),g={...me}),d+="\u201C";else if(G.value==="rdblquote")ye(g,me)&&(P(),g={...me}),d+="\u201D";else if(G.value==="u"){if(G.param!==void 0){let Re=G.param;Re<0&&(Re+=65536),ye(g,me)&&(P(),g={...me}),d+=String.fromCharCode(Re)}}else if(G.value==="b")me.bold=G.param!==0;else if(G.value==="i")me.italic=G.param!==0;else if(G.value==="ul")me.underline=G.param!==0;else if(G.value==="ulnone")me.underline=!1;else if(G.value==="strike")me.strikethrough=G.param!==0;else if(G.value==="plain")me.bold=!1,me.italic=!1,me.underline=!1,me.strikethrough=!1,me.subscript=!1,me.superscript=!1,me.size=void 0,me.font=void 0,me.color=void 0,me.backgroundColor=void 0;else if(G.value==="fs")G.param!==void 0&&(me.size=(G.param/2).toString()+"pt");else if(G.value==="f")G.param!==void 0&&i[G.param]&&(me.font=i[G.param]);else if(G.value==="cf")G.param!==void 0&&o[G.param]&&(me.color=o[G.param]);else if(G.value==="fet")G.param!==void 0&&(re=G.param);else if(G.value==="cb"||G.value==="highlight"||G.value==="chcbpat"||G.value==="cbpat")G.param!==void 0&&o[G.param]&&(me.backgroundColor=o[G.param]);else if(G.value==="sub")me.subscript=!0,me.superscript=!1;else if(G.value==="super")me.superscript=!0,me.subscript=!1;else if(G.value==="nosupersub")me.subscript=!1,me.superscript=!1;else if(G.value==="li")G.param!==void 0&&(v=Math.floor(G.param/360));else if(G.value==="ls"){if(G.param!==void 0){y||(v=0),y=!0,se[G.param]||(I++,se[G.param]=`rtf-list-${I}`),S=se[G.param];let Re=N[G.param]!==void 0?N[G.param]:G.param;we[Re]&&(_=we[Re])}}else G.value==="ilvl"?G.param!==void 0&&(y=!0,v=G.param):G.value==="pnlvl"?(y=!0,G.param!==void 0&&(v=G.param)):G.value==="levelnfc"||G.value==="pnf"?G.param!==void 0&&(y=!0,G.param===23?_="unordered":_="ordered"):G.value==="pndec"||G.value==="pnord"||G.value==="pnlcltr"||G.value==="pnucltr"?(y||(v=0),y=!0,_="ordered"):G.value==="pnbullet"||G.value==="pncard"?(y||(v=0),y=!0,_="unordered"):G.value==="s"?G.param!==void 0&&G.param>=1&&G.param<=9&&(E=G.param):G.value==="ql"?w="left":G.value==="qc"?w="center":G.value==="qr"?w="right":G.value==="qj"&&(w="justify")}};We(n,{});let Ge=q();if((U||Ge&&(Ge.rows.length>0||Ge.currentCells.length>0))&&pe(),F(),!e.putNotesAtLast&&a.length>0&&(s.push(...a),a.length=0),e.ocr&&e.extractAttachments){for(let me of u)if(me.mimeType.startsWith("image/"))try{let B=Buffer.from(me.data,"base64");me.ocrText=(await ns(B,e.ocrLanguage)).trim()}catch(B){ci(`OCR failed for ${me.name}:`,e,B)}let G=me=>{for(let B of me){if(B.type==="image"&&B.metadata&&"attachmentName"in B.metadata){let Re=B.metadata,je=u.find(R=>R.name===Re.attachmentName);je&&(je.ocrText&&(B.text=je.ocrText),je.altText&&(Re.altText=je.altText))}B.children&&G(B.children)}};G(s)}let x=G=>{for(let me of G){if(me.type==="note"&&me.children){let B=Re=>Re.children&&Re.children.length>0?Re.children.map(B).join(""):Re.text||"";me.text=me.children.map(B).join("").trim()}me.children&&x(me.children)}};x(s),x(a);let p=G=>{let me=[];if(G.children){for(let B of G.children)if(B.type==="row"&&B.children){let Re=[];for(let je of B.children)if(je.type==="cell"){let R=Ue=>{let he=Ue.text||"";if(Ue.children&&Ue.children.length>0){let Oe=Ue.children.map(R).filter(Me=>Me!=="");Oe.length>0&&(he+=(he?" ":"")+Oe.join(" "))}return he},Fe=R(je);Re.push({value:Fe})}Re.length>0&&me.push({cols:Re})}}return{type:"table",rows:me}},m=(G,me)=>{if(G.type!=="chart")return null;let B=G.metadata;if(B?.attachmentName){let Re=me.find(je=>je.name===B.attachmentName&&je.type==="chart");if(Re?.chartData)return{type:"chart",chartData:Re.chartData,chartType:Re.chartData.chartType}}return null},O=(G,me)=>{let B=[],Re=je=>{if(je.type==="table"){B.push(p(je));return}else if(je.type==="chart"){let R=m(je,me);R&&B.push(R);return}else if(je.type==="image"){let Fe=je.metadata?.attachmentName;if(Fe){let Ue=me.find(he=>he.name===Fe&&he.type==="image");if(Ue){let he=Buffer.from(Ue.data,"base64");B.push({type:"image",buffer:he,mimeType:Ue.mimeType,filename:Ue.name})}}return}else je.text&&je.text.trim()&&(je.type==="text"||je.type==="paragraph"||je.type==="heading")&&B.push({type:"text",content:je.text.trim()});if(je.children)for(let R of je.children)Re(R)};for(let je of G)Re(je);return B},J=G=>G.filter(me=>me.type==="image").map(me=>({buffer:Buffer.from(me.data,"base64"),mimeType:me.mimeType,filename:me.name})),T=(()=>{let G=s.map(me=>me.text).join(e.newlineDelimiter??`
`);return e.putNotesAtLast&&a.length>0&&(G+=(e.newlineDelimiter??`
`)+a.map(me=>me.text).join(e.newlineDelimiter??`
`)),G})(),ae=O(s,u),fe=J(u),Te={type:"rtf",metadata:{},content:s,attachments:u,fullText:T,blocks:ae,images:fe,toText:()=>T};return e.putNotesAtLast&&a.length>0&&s.push(...a),Te}catch(t){throw t}};function OV(r){let e={},t=n=>{for(let i of n.content)if(i.type==="group"){if(i.destination==="fonttbl"){for(let o of i.content)if(o.type==="group"){let s,a="";for(let u of o.content)u.type==="control"&&u.value==="f"?s=u.param:u.type==="text"&&(a+=u.value);s!==void 0&&a&&(a=a.replace(/;$/,"").trim(),e[s]=a)}return!0}if(t(i))return!0}return!1};return t(r),e}function NV(r){let e={},t=n=>{for(let i of n.content)if(i.type==="group"){if(i.destination==="colortbl"){let o=0,s=0,a=0,u=0;for(let c of i.content)if(c.type==="control")c.value==="red"&&c.param!==void 0?s=c.param:c.value==="green"&&c.param!==void 0?a=c.param:c.value==="blue"&&c.param!==void 0&&(u=c.param);else if(c.type==="text"&&c.value===";"){let f=`#${s.toString(16).padStart(2,"0")}${a.toString(16).padStart(2,"0")}${u.toString(16).padStart(2,"0")}`;e[o]=f,o++,s=0,a=0,u=0}return!0}if(t(i))return!0}return!1};return t(r),e}Ne();Le();ke();var N3=ol(og());var k3=async(r,e)=>{let t=/word\/document[\d+]?.xml/,n=/word\/footnotes[\d+]?.xml/,i=/word\/endnotes[\d+]?.xml/,o=/word\/numbering[\d+]?.xml/,s=/(word\/)?media\/.*/,a=/docProps\/core[\d+]?.xml/,u=/word\/_rels\/document[\d+]?.xml\.rels/,c=/word\/styles[\d+]?.xml/,f=new N3.XMLSerializer,h=/<w:b(?:\s+w:val="([^"]+)")?\s*\/?>/,d=/<w:i(?:\s+w:val="([^"]+)")?\s*\/?>/,g=/<w:strike(?:\s+w:val="([^"]+)")?\s*\/?>/,b=/<w:dstrike(?:\s+w:val="([^"]+)")?\s*\/?>/,v=(F,Q)=>{let Ee=F.match(Q);if(Ee){let pe=Ee[1];return pe===void 0?!0:pe==="1"||pe==="true"||pe==="on"}return null},w=F=>{let Q={},Ee=f.serializeToString(F),pe=v(Ee,h);pe!==null&&(Q.bold=pe);let te=v(Ee,d);te!==null&&(Q.italic=te);let be=Ee.match(/<w:u(?: w:val="([^"]+)")?\/?>/);if(be){let m=be[1];(!m||m!=="none")&&(Q.underline=!0)}let Ie=v(Ee,g),Pe=v(Ee,b);Ie!==null?Q.strikethrough=Ie:Pe!==null&&(Q.strikethrough=Pe);let Ce=Ee.match(/<w:sz w:val="(\d+)"/);Ce&&(Q.size=(parseInt(Ce[1])/2).toString()+"pt");let qe=Ee.match(/<w:color w:val="([^"]+)"/);qe&&qe[1]!=="auto"&&(Q.color="#"+qe[1]);let We=Ee.match(/<w:shd[^>]*w:fill="([^"]+)"/);We&&We[1]!=="auto"&&(Q.backgroundColor="#"+We[1]);let Ge=Ee.match(/<w:highlight w:val="([^"]+)"/);if(Ge&&Ge[1]!=="none"){let m={yellow:"#FFFF00",green:"#00FF00",cyan:"#00FFFF",magenta:"#FF00FF",blue:"#0000FF",red:"#FF0000",darkBlue:"#00008B",darkCyan:"#008B8B",darkGreen:"#006400",darkMagenta:"#8B008B",darkRed:"#8B0000",darkYellow:"#808000",darkGray:"#A9A9A9",lightGray:"#D3D3D3",black:"#000000"};Q.backgroundColor=m[Ge[1]]||Ge[1]}let x=Ee.match(/<w:rFonts[^>]*w:ascii="([^"]+)"/);if(x)Q.font=x[1];else{let m=Ee.match(/<w:rFonts[^>]*w:hAnsi="([^"]+)"/);m&&(Q.font=m[1])}let p=Ee.match(/<w:vertAlign w:val="([^"]+)"/);return p&&(p[1]==="subscript"&&(Q.subscript=!0),p[1]==="superscript"&&(Q.superscript=!0)),Q},y=await Rl(r,F=>!!F.match(t)||!!F.match(n)||!!F.match(i)||!!F.match(o)||!!F.match(a)||!!F.match(u)||!!F.match(c)||!!e.extractAttachments&&!!F.match(s)),_,E,S,A,L,D;for(let F of y)F.path.match(a)?_=F:F.path.match(u)?E=F:F.path.match(o)?S=F:F.path.match(c)?A=F:F.path.match(n)?L=F:F.path.match(i)&&(D=F);let K=_?vl(_.content.toString()):{},re=new Map,q=new Map,oe=[],U=[],H=new Map,ue=y.filter(F=>F.path.match(s)),Se={};if(E){let F=zt(E.content.toString()),Q=De(F,"Relationship");for(let Ee=0;Ee<Q.length;Ee++){let pe=Q[Ee].getAttribute("Id"),te=Q[Ee].getAttribute("Target");pe&&te&&(Se[pe]=te)}}let Ae={};if(S){let F=zt(S.content.toString()),Q=De(F,"w:num"),Ee=De(F,"w:abstractNum"),pe={};for(let te=0;te<Ee.length;te++){let be=Ee[te].getAttribute("w:abstractNumId");be&&(pe[be]=Ee[te])}for(let te=0;te<Q.length;te++){let be=Q[te].getAttribute("w:numId"),Pe=De(Q[te],"w:abstractNumId")[0]?.getAttribute("w:val");if(be&&Pe&&pe[Pe]){Ae[be]={};let Ce=De(pe[Pe],"w:lvl");for(let qe=0;qe<Ce.length;qe++){let We=Ce[qe].getAttribute("w:ilvl"),Ge=De(Ce[qe],"w:numFmt")[0],x=De(Ce[qe],"w:lvlText")[0];We&&(Ae[be][We]={numFmt:Ge?.getAttribute("w:val")||"decimal",lvlText:x?.getAttribute("w:val")||""})}}}}let j={},I={},se;if(A){let F=zt(A.content.toString()),Q=De(F,"w:style");for(let pe=0;pe<Q.length;pe++){let te=Q[pe].getAttribute("w:styleId");if(te){let be=De(Q[pe],"w:rPr")[0],Ie=De(Q[pe],"w:pPr")[0],Pe=be?w(be):{},Ce,qe;if(Ie){let x=De(Ie,"w:jc")[0];if(x){let m=x.getAttribute("w:val");(m==="left"||m==="center"||m==="right"||m==="justify")&&(Ce=m)}let p=De(Ie,"w:shd")[0];if(p){let m=p.getAttribute("w:fill");m&&m!=="auto"&&(qe="#"+m)}}j[te]={formatting:Pe,alignment:Ce,backgroundColor:qe};let We=Q[pe].getAttribute("w:type"),Ge=Q[pe].getAttribute("w:default");We==="paragraph"&&Ge==="1"&&!se&&(se=te)}}let Ee=De(F,"w:docDefaults")[0];if(Ee){let pe=De(Ee,"w:rPrDefault")[0];if(pe){let te=De(pe,"w:rPr")[0];te&&(I=w(te))}}!se&&j.Normal&&(se="Normal")}let z=[],ie=[],V={},X={},we=F=>{let Q=f.serializeToString(F),Ee=De(F,"w:numPr")[0],pe=!!Ee,te=De(F,"w:pPr")[0],be=te?De(te,"w:pStyle")[0]:null,Ie=be?be.getAttribute("w:val"):null,Pe=Ie?Ie.startsWith("Heading")||Ie==="Title":!1,Ce=Ie&&j[Ie]?j[Ie]:{formatting:{}},qe=Ce.alignment;if(te){let J=De(te,"w:jc")[0];if(J){let T=J.getAttribute("w:val");(T==="left"||T==="center"||T==="right"||T==="justify")&&(qe=T)}}let We=Ce.backgroundColor;if(te){let J=De(te,"w:shd")[0];if(J){let T=J.getAttribute("w:fill");T&&T!=="auto"&&(We="#"+T)}}let Ge={...Ce.formatting};if(te){let J=De(te,"w:rPr")[0];if(J){let T=w(J);for(let ae in T){let fe=T[ae];fe===!1?delete Ge[ae]:fe!==void 0&&(Ge[ae]=fe)}}}let x="",p=[],m=J=>{if(J.nodeName==="w:r"){let T=J,ae=De(T,"w:rPr")[0],fe={};for(let B in Ge)fe[B]=Ge[B];let Te=ae?De(ae,"w:rStyle")[0]:null,G=Te?Te.getAttribute("w:val"):Ie;if(G&&j[G])for(let B in j[G].formatting)fe[B]=j[G].formatting[B];if(ae){let B=w(ae);for(let Re in B){let je=B[Re];je===!1?delete fe[Re]:je!==void 0&&(fe[Re]=je)}}!fe.backgroundColor&&We&&(fe.backgroundColor=We);let me=De(T,"w:t");for(let B of me){let Re=B.textContent||"";x+=Re;let je={type:"text",text:Re,formatting:fe};e.includeRawContent&&(je.rawContent=f.serializeToString(B));let R=G||Ie||se;R&&(je.metadata={style:R}),p.push(je)}if(e.extractAttachments){let B=De(T,"w:drawing"),Re=De(T,"w:pict"),je=[...B,...Re];for(let R of je){let Fe=f.serializeToString(R),Ue="",he=De(R,"wp:docPr")[0];he&&(Ue=he.getAttribute("descr")||he.getAttribute("title")||"");let Oe="",Me=De(R,"a:blip")[0];if(Me)Oe=Me.getAttribute("r:embed")||"";else{let tt=De(R,"v:imagedata")[0];tt&&(Oe=tt.getAttribute("r:id")||"")}if(Oe&&Se[Oe]){let ce=Se[Oe].split("/").pop();if(ce){let _e={type:"image",text:"",metadata:{attachmentName:ce,altText:Ue}};e.includeRawContent&&(_e.rawContent=Fe),p.push(_e)}}else{let tt={type:"image",text:""};e.includeRawContent&&(tt.rawContent=Fe),p.push(tt)}}}if(!e.ignoreNotes){let B=De(T,"w:footnoteReference")[0];if(B){let je=B.getAttribute("w:id");if(je&&re.has(je)){let R=re.get(je),Fe={type:"note",text:R.map(Ue=>Ue.text).join(" "),children:R,metadata:{noteType:"footnote",noteId:je}};e.putNotesAtLast?oe.push(Fe):p.push(Fe)}}let Re=De(T,"w:endnoteReference")[0];if(Re){let je=Re.getAttribute("w:id");if(je&&q.has(je)){let R=q.get(je),Fe={type:"note",text:R.map(Ue=>Ue.text).join(" "),children:R,metadata:{noteType:"endnote",noteId:je}};e.putNotesAtLast?oe.push(Fe):p.push(Fe)}}}}else if(J.nodeName==="w:hyperlink"){let T=J,ae=T.getAttribute("r:id"),fe=T.getAttribute("w:anchor"),Te;fe?Te={link:"#"+fe,linkType:"internal"}:ae&&Se[ae]&&(Te={link:Se[ae],linkType:"external"});let G=Array.from(T.childNodes);for(let me of G){let B=p.length;if(m(me),Te)for(let Re=B;Re<p.length;Re++)p[Re].type==="text"&&(p[Re].metadata={...p[Re].metadata??{},...Te})}}},O=Array.from(F.childNodes);for(let J of O)m(J);if(pe){let J=De(Ee,"w:numId")[0],T=De(Ee,"w:ilvl")[0],ae=J&&J.getAttribute("w:val")||"0",fe=T?parseInt(T.getAttribute("w:val")||"0"):0,Te="ordered",G=0;if(ae&&Ae[ae]){let B=fe.toString();V[ae]||(V[ae]={}),V[ae][B]||(V[ae][B]=0),V[ae][B]++;for(let je=fe+1;je<10;je++)V[ae][je.toString()]&&(V[ae][je.toString()]=0);Te=(Ae[ae][B]?.numFmt||"decimal")==="bullet"?"unordered":"ordered",X[ae]||(X[ae]={}),X[ae][B]===void 0?X[ae][B]=0:X[ae][B]++,G=X[ae][B]}let me={type:"list",text:x,children:p,metadata:{listType:Te,indentation:fe,alignment:qe||"left",listId:ae,itemIndex:G,style:Ie}};return e.includeRawContent&&(me.rawContent=Q),me}else if(Pe){let J=Ie&&parseInt(Ie.replace("Heading",""))||1,T={type:"heading",text:x,children:p,metadata:{level:J,alignment:qe,style:Ie??void 0}};return e.includeRawContent&&(T.rawContent=Q),T}else{let J={type:"paragraph",text:x,children:p,metadata:{alignment:qe,style:Ie??void 0}};return e.includeRawContent&&(J.rawContent=Q),J}},ve=F=>{let Q=[],Ee=En(F,"w:tr");for(let pe=0;pe<Ee.length;pe++){let te=Ee[pe],be=[],Ie=En(te,"w:tc");for(let Ce=0;Ce<Ie.length;Ce++){let qe=Ie[Ce],We=[],Ge="",x=Array.from(qe.childNodes);for(let O of x)if(O.nodeName==="w:p"){let J=we(O);We.push(J),Ge+=J.text}else if(O.nodeName==="w:tbl"){let J=ve(O);We.push(J)}let p=O=>{let J=O.text||"";if(O.children&&O.children.length>0){let T=O.children.map(p).filter(ae=>ae!=="");T.length>0&&(J+=(J?" ":"")+T.join(" "))}return J},m={type:"cell",text:Ge,children:We,metadata:{row:pe,col:Ce}};m.text=p(m),be.push(m)}let Pe={type:"row",children:be};Q.push(Pe)}return{type:"table",children:Q}};if(!e.ignoreNotes){if(L){let F=zt(L.content.toString()),Q=De(F,"w:footnote");for(let Ee of Q){let pe=Ee.getAttribute("w:id");if(!pe||pe==="-1"||pe==="0")continue;let te=De(Ee,"w:p");re.set(pe,te.map(be=>we(be)))}}if(D){let F=zt(D.content.toString()),Q=De(F,"w:endnote");for(let Ee of Q){let pe=Ee.getAttribute("w:id");if(!pe||pe==="-1"||pe==="0")continue;let te=De(Ee,"w:p");q.set(pe,te.map(be=>we(be)))}}}for(let F of y){if(F.path.match(s)||F.path.match(o)||F.path.match(u)||F.path.match(c)||F.path.match(n)||F.path.match(i))continue;let Q=F.content.toString();e.includeRawContent&&ie.push(Q);let Ee=zt(Q),pe=De(Ee,"w:body")[0];if(pe){let te=Array.from(pe.childNodes);for(let be of te)be.nodeName==="w:p"?z.push(we(be)):be.nodeName==="w:tbl"&&z.push(ve(be))}}if(e.extractAttachments){for(let F of ue){let Q=Is(F.path.split("/").pop()||"image",F.content);if(U.push(Q),e.ocr&&Q.mimeType.startsWith("image/"))try{Q.ocrText=(await ns(F.content,e.ocrLanguage)).trim()}catch(Ee){ci(`OCR failed for ${Q.name}:`,e,Ee)}}for(let F of U)H.set(`${F.type}:${F.name}`,F);if(e.ocr){let F=Q=>{for(let Ee of Q){if(Ee.type==="image"&&"attachmentName"in(Ee.metadata||{})){let pe=Ee.metadata,te=H.get(`image:${pe.attachmentName}`);te&&te.ocrText&&(Ee.text=te.ocrText,te.altText=pe.altText)}Ee.children&&F(Ee.children)}};F(z)}}e.putNotesAtLast&&oe.length>0&&z.push(...oe);let de=F=>{let Q=[];if(F.children){for(let Ee of F.children)if(Ee.type==="row"&&Ee.children){let pe=[];for(let te of Ee.children)te.type==="cell"&&pe.push({value:te.text||""});pe.length>0&&Q.push({cols:pe})}}return{type:"table",rows:Q}},M=(F,Q)=>{if(F.type!=="chart")return null;let Ee=F.metadata;if(Ee?.attachmentName){let pe=Q.get(`chart:${Ee.attachmentName}`);if(pe?.chartData)return{type:"chart",chartData:pe.chartData,chartType:pe.chartData.chartType}}return null},N=e.newlineDelimiter??`
`,$=[],ne=F=>{if(F.type==="table"){let Q=de(F);return $.push(Q),Q.rows.map(pe=>pe.cols.map(te=>te.value).join("	")).join(N)}if(F.type==="chart"){let Q=M(F,H);return Q&&$.push(Q),""}if(F.type==="image"){let Ee=F.metadata?.attachmentName;if(Ee){let pe=H.get(`image:${Ee}`);pe&&$.push({type:"image",buffer:Buffer.from(pe.data,"base64"),mimeType:pe.mimeType,filename:pe.name})}return""}if(F.text&&F.text.trim()&&(F.type==="text"||F.type==="paragraph"||F.type==="heading"))return $.push({type:"text",content:F.text.trim()}),F.text.trim();if(F.children){let Q=F.children.map(ne).filter(pe=>pe!==""),Ee=F.children[0]?.children?N:"";return Q.join(Ee)}return""},ye=z.map(ne).filter(F=>F!=="").join(N),C=(F=>F.filter(Q=>Q.type==="image").map(Q=>({buffer:Buffer.from(Q.data,"base64"),mimeType:Q.mimeType,filename:Q.name})))(U);return{type:"docx",metadata:{...K,formatting:I,styleMap:j},content:z,attachments:U,fullText:ye,blocks:$,images:C,toText:()=>ye}};var Pf=class{static async parseOffice(e,t,n){let i,o={};typeof t=="function"?(i=t,o=n||{}):o=t||{};let s={ignoreNotes:!1,newlineDelimiter:`
`,putNotesAtLast:!1,outputErrorToConsole:!1,extractAttachments:!1,ocr:!1,ocrLanguage:"eng",includeRawContent:!1,pdfWorkerSrc:"",...o},a=Buffer.alloc(0),u="",c;try{if(!e)throw ia("IMPROPER_ARGUMENTS",s);if(e instanceof ArrayBuffer)a=Buffer.from(e);else if(Buffer.isBuffer(e))a=e;else if(typeof e=="string"){if(c=e,!ob(e))throw ia("FILE_DOES_NOT_EXIST",s,e);if(x2(e).isDirectory())throw ia("LOCATION_NOT_FOUND",s,e);a=S2(e),u=e.split(".").pop()?.toLowerCase()||""}else throw ia("INVALID_INPUT",s);if(!u){let h=await L3.fromBuffer(a);if(h)u=h.ext.toLowerCase();else throw ia("IMPROPER_BUFFERS",s)}let f;switch(u){case"docx":f=await k3(a,s);break;case"pptx":f=await I3(a,s);break;case"xlsx":f=await nM(a,s);break;case"odt":case"odp":case"ods":f=await iM(a,s);break;case"pdf":f=await R3(a,s);break;case"rtf":f=await O3(a,s);break;default:throw ia("EXTENSION_UNSUPPORTED",s,u)}return i&&i(f),f}catch(f){let h=gk(f,s,c);throw i&&i(void 0,h),h}}};var kV=Pf.parseOffice;var LV=Pf;if(typeof Su<"u"&&typeof module<"u"&&Su.main===module){let i=function(o){return o.startsWith("--")&&o.includes("=")};PV=i;let r=process.argv.slice(2),e,t=!1,n=[];if(r.forEach(o=>{i(o)?n.push(o):e||(e=o)}),e){let o={};n.forEach(s=>{let[a,u]=s.split("="),c=a.replace("--","");c==="toText"?u.toLowerCase()==="true"?t=!0:u.toLowerCase()==="false"?t=!1:console.log(`Invalid value for toText: ${u}`):u.toLowerCase()==="true"?o[c]=!0:u.toLowerCase()==="false"?o[c]=!1:o[c]=u}),Pf.parseOffice(e,o).then(s=>{console.log(t?s.toText():JSON.stringify(s,null,2))}).catch(console.error)}else console.log("Usage: node officeparser [file] [--option=value]")}var PV;return Ir(BV);})();
/*! Bundled license information:

@jspm/core/nodelibs/browser/chunk-DtuTasat.js:
@jspm/core/nodelibs/browser/chunk-B738Er4n.js:
ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

@jspm/core/nodelibs/browser/chunk-CjPlbOtt.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
   * @license  MIT
   *)

@jspm/core/nodelibs/browser/chunk-CcCWfKp1.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/
//# sourceMappingURL=officeparser.browser.js.map
